const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/MapView-DMINGQ-3.js","assets/ColorBackground-BzAAhJtv.js","assets/CollectionFlattener-COw367kg.js","assets/basemapUtils-SfV6Ch_Z.js","assets/utils-sqJe3zMg.js","assets/TablesMixin-CmFQDxpI.js","assets/Layer-CneDw8eF.js","assets/TimeExtent-DGiXUfis.js","assets/timeUtils-X0MXjtQ8.js","assets/workers-CeelWDzo.js","assets/projection-BOBOhWzm.js","assets/projectBuffer-CZ7yaGuo.js","assets/TileInfo-C4AYiz3R.js","assets/TileKey-DZd6gJy7.js","assets/UpdatingHandles-DOPUoIlu.js","assets/screenUtils-CLE_gLy7.js","assets/signal-CRiDvIIF.js","assets/GraphicsCollection-BlUFPpxh.js","assets/HeightModelInfo-kVs8dE0B.js","assets/Query-LPs1Zyw4.js","assets/FullTextSearch-Cza0yp3f.js","assets/IViewEvents-Bci6PjlS.js","assets/mat2df64-B7VPBnkO.js","assets/a11yUtils-Tsw26pQ5.js","assets/heightModelInfoUtils-BhzRw8-2.js","assets/arcgisLayerUrl-BkZy4Mr3.js","assets/ViewingMode-HRfKv6NR.js","assets/vec2f64-CCfZVA9N.js","assets/vec2-D9okOEat.js","assets/mat2df32-BR-p9z6z.js","assets/normalizeUtils-Bg1OALXh.js","assets/normalizeUtilsCommon-UUlRRPVA.js","assets/utils-DGPHbhMN.js","assets/utils-ByvCMLXh.js","assets/mat3-Dg2BrR6m.js","assets/vec2f32-BbH2jxlN.js","assets/unitBezier-BX6NeAEr.js","assets/Scheduler-DS_v5N7L.js","assets/debugFlags-CfZYxH5Q.js","assets/Tile-9ZT_yo0a.js","assets/TileKey-C3cOKqPf.js","assets/QueueProcessor-8zZK2k9z.js","assets/quickselect-QQC62dOK.js","assets/vec32-CmwgPQMd.js","assets/definitions-C0Jy3zs7.js","assets/HighlightDefaults-D7TbvM-a.js","assets/enums-Dk3osxpS.js","assets/Texture-CLoEFKJJ.js","assets/imageUtils-DpI9AOR9.js","assets/capabilities-A2uoe7dc.js","assets/themeUtils-C3zvZbsE.js","assets/accessibleHandler-CubitGf2.js","assets/GoTo-H_qEVlhS.js","assets/ZoomViewModel-BtZMM985.js","assets/utils-CS8i_70G.js","assets/Version-DD-eRUXC.js","assets/WebMap-C_83LFXt.js","assets/MultiOriginJSONSupport-Qqzd52Lf.js","assets/portalItemUtils-Cy9KvMYK.js","assets/interfaces-CL2NbQte.js","assets/TimeInfo-CY1-cj-U.js","assets/jsonContext-DJAfzMqt.js","assets/project-BFnjSY2q.js","assets/FeatureLayer-DGRhhm0K.js","assets/UniqueValueRenderer-CAZbf8NT.js","assets/RendererLegendOptions-CULirduz.js","assets/diffUtils-DMLidw0V.js","assets/colorRamps-D4VCsfmX.js","assets/sizeVariableUtils-Cmcuvw-4.js","assets/visualVariableUtils-dx28E4EQ.js","assets/lengthUtils-CFwdZ3dz.js","assets/jsonUtils-BWWcP_yB.js","assets/defaults-Dbnhuv3C.js","assets/defaultsJSON-GKolV7NZ.js","assets/styleUtils-CEgUrR2a.js","assets/jsonUtils-CWFaUb2E.js","assets/LRUCache-DbPTy7LA.js","assets/FieldsIndex-BrdRr9E_.js","assets/UnknownTimeZone-DhxWDwo9.js","assets/OverrideHelper-D-UVQ00R.js","assets/colorUtils-BWiljOUv.js","assets/vec42-BHDxGccW.js","assets/vec4f64-o2zAXfmz.js","assets/utils-D7agaEG-.js","assets/enums-CmIX1y88.js","assets/quantizationUtils-DbJV_fl5.js","assets/heatmapUtils-D0BPLm9w.js","assets/commonProperties-Drl05DKJ.js","assets/ElevationInfo-D7CBP7sd.js","assets/FeatureLayerBase-BNIuOgAL.js","assets/featureLayerUtils-Dy99w2fj.js","assets/LayerFloorInfo-DzoJncEV.js","assets/Relationship-CBhq9gYu.js","assets/serviceCapabilitiesUtils-B23--4px.js","assets/editsZScale-8GE3gysf.js","assets/queryZScale-D-ZT69l7.js","assets/FeatureSet-CeKoTEEO.js","assets/APIKeyMixin-BrvyKlIW.js","assets/ArcGISService-C1oUW8BT.js","assets/BlendLayer-CG9LFMxd.js","assets/jsonUtils-n3e_wlfQ.js","assets/parser-C4Qiz3JH.js","assets/CustomParametersMixin-BhjpsNjD.js","assets/EditBusLayer-DCXZWvgn.js","assets/FeatureEffectLayer-gWJrS8gr.js","assets/FeatureEffect-B5YAe6Lk.js","assets/FeatureReductionLayer-DuxcLofN.js","assets/FeatureReductionSelection-tRCh97wj.js","assets/labelingInfo-BV0df7F6.js","assets/labelUtils-C_ZaLudT.js","assets/MD5-C9MwAd2G.js","assets/OperationalLayer-nNeN4Mrb.js","assets/OrderedLayer-B8Gw_A9P.js","assets/OrderByInfo-k2G4k_zV.js","assets/PortalLayer-Bqf_dhsv.js","assets/RefreshableLayer-CwxQNwd3.js","assets/ScaleRangeLayer-66YiyNPI.js","assets/TemporalLayer-CR5q7V2k.js","assets/FeatureTemplate-DJBXu3Te.js","assets/FeatureType-JHO2oVJp.js","assets/fieldProperties-CoDAhoou.js","assets/versionUtils-DBm9Te4x.js","assets/styleUtils-CFywnZa6.js","assets/popupUtils-BA1X4qoc.js","assets/AlphaCutoff-UcccL64p.js","assets/NetworkElement-DcX2nInJ.js","assets/BasemapToggleViewModel-D3dUKNJn.js","assets/Editor-BZKF0HZM.js","assets/projectVectorToVector-Dtcb6Asj.js","assets/projectPointToVector-ByIVLKML.js","assets/Spinner-CEWOvPN4.js","assets/AttachmentInfo-Cg9fIPGU.js","assets/legacyIcon-CEIp6Pa9.js","assets/arcade-DfpF5wFh.js","assets/TimeOnly-vNYE6bX9.js","assets/ImmutableArray-BPVd6ESQ.js","assets/symbolUtils-BmmDXP-E.js","assets/utils-C2gvZghy.js","assets/webStyleSymbolUtils-kO7zmqzd.js","assets/GraphicsLayer-7fnK8PA0.js","assets/elevationInfoUtils-DQT3uSQq.js","assets/plane-CM4t6fNH.js","assets/mat3f64-q3fE-ZOt.js","assets/mat4f64-Dk4dwAN8.js","assets/quatf64-aQ5IuZRd.js","assets/sphere-DuEd_sPX.js","assets/drapedUtils-BnpEPkkO.js","assets/infoFor3D-C0hFfS1m.js","assets/utils-BQBvadb7.js","assets/widget-3rB5q3_K.js","assets/uploadAssetErrors-Cy9k5t87.js","assets/Expand-CJNSF9vB.js","assets/Legend-Dm-5dECe.js","assets/featureReductionUtils-Caulfaw_.js","assets/EffectView-Di3KCO94.js","assets/ExportImageParameters-BqqZG4Ti.js","assets/scaleUtils-D2VbidBA.js","assets/floorFilterUtils-DZ5C6FQv.js","assets/sublayerUtils-C2scBnIk.js","assets/pixelRangeUtils-DR2RxTkt.js","assets/rendererConversion-DHDLdqpP.js","assets/utils--V_Ce2mw.js","assets/Search-DNVL7uU4.js","assets/geometryUtils-DQTG6v0B.js","assets/basemapUtils-AWiIS5hD.js","assets/IdentityManager-BAqlZKRC.js","assets/calcite-radio-button-SzL8DcRw.js","assets/array-D9rxjK_-.js","assets/calcite-radio-button-group-DokW4NJz.js","assets/Validation-GlGaxVIF.js","assets/input-message-DUj9fRxn.js","assets/WhereClause-dg9O4EEg.js","assets/arcadeUtils-B3Ydz9LH.js","assets/languageUtils-DfhLIq1n.js","assets/shared-Czb1Shm3.js","assets/number-ByPuf2wa.js","assets/featureConversionUtils-C-Uqf9Q4.js","assets/OptimizedFeature-swgcyHeh.js","assets/OptimizedGeometry-C9mSZhHi.js","assets/OptimizedFeatureSet-Blu9Ckm7.js","assets/calcite-action-Bu7tqzqE.js","assets/action-DoqCRstk.js","assets/calcite-dropdown-D1HUwiNG.js","assets/floating-ui-R-4Kk1Xn.js","assets/debounce-DUf35w49.js","assets/openCloseComponent-BuFuLtHA.js","assets/calcite-dropdown-item-DySVdsgQ.js","assets/resources3-B7WygnFI.js","assets/calcite-dropdown-group-BZ3GBpuF.js","assets/calcite-input-C30oMPBL.js","assets/input2-C_Sx2o43.js","assets/input-De-TCHNF.js","assets/progress-BuA_2UWg.js","assets/calcite-select-DI9ngo5E.js","assets/calcite-input-date-picker-6-XYFwB7.js","assets/Heading-l4oDCerj.js","assets/focusTrapComponent-ftxFIElQ.js","assets/input-text-CPWGU601.js","assets/calcite-input-time-picker-B8wBVmEV.js","assets/math-CkFPD3oi.js","assets/popover-DdH8HGky.js","assets/FloatingArrow-BWnzcOPl.js","assets/calcite-action-bar-1uw53S87.js","assets/conditionalSlot-DyGemPLG.js","assets/action-group-B6LEEqB9.js","assets/action-menu-BleOBRYN.js","assets/ElevationLayer-Dk15mDfu.js","assets/ArcGISCachedService-Bpdcdkr7.js","assets/TileInfoTilemapCache-BKEkkmOG.js","assets/TilemapCache-C4A9NFHl.js","assets/WorkerHandle-C-9ArUR4.js","assets/layersCreator-CNJ7O2pS.js","assets/portalLayers-Tq0Hm7T7.js","assets/associatedFeatureServiceUtils-BHFYEf6o.js","assets/fetchService-DODjWwEX.js","assets/calcite-alert-Y68_PL9b.js","assets/resources2-CPksjOim.js","assets/chip-C9cjUhni.js","assets/calcite-chip-BgJ8diYv.js","assets/calcite-list-DEz7lVXs.js","assets/resources4-BWCcs03d.js","assets/utils3-BtBiup1s.js","assets/filter-Ig933xs6.js","assets/calcite-list-item-BLSA8Adn.js","assets/handle-C1swX_HU.js","assets/calcite-panel-CUTLTBOl.js","assets/panel-BfKqYCK-.js","assets/calcite-popover-BfZsosHM.js","assets/calcite-progress-KBux8w-D.js","assets/calcite-tooltip-CQlqWX4W.js"])))=>i.map(i=>d[i]);
var FT=Object.defineProperty;var UT=(t,e,i)=>e in t?FT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var oi=(t,e,i)=>UT(t,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))o(h);new MutationObserver(h=>{for(const p of h)if(p.type==="childList")for(const m of p.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(h){const p={};return h.integrity&&(p.integrity=h.integrity),h.referrerPolicy&&(p.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?p.credentials="include":h.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function o(h){if(h.ep)return;h.ep=!0;const p=i(h);fetch(h.href,p)}})();const BT="modulepreload",VT=function(t){return"/"+t},X2={},vt=function(e,i,o){let h=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const m=document.querySelector("meta[property=csp-nonce]"),v=(m==null?void 0:m.nonce)||(m==null?void 0:m.getAttribute("nonce"));h=Promise.allSettled(i.map(w=>{if(w=VT(w),w in X2)return;X2[w]=!0;const A=w.endsWith(".css"),$=A?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${w}"]${$}`))return;const M=document.createElement("link");if(M.rel=A?"stylesheet":BT,A||(M.as="script"),M.crossOrigin="",M.href=w,v&&M.setAttribute("nonce",v),document.head.appendChild(M),A)return new Promise((P,R)=>{M.addEventListener("load",P),M.addEventListener("error",()=>R(new Error(`Unable to preload CSS for ${w}`)))})}))}function p(m){const v=new Event("vite:preloadError",{cancelable:!0});if(v.payload=m,window.dispatchEvent(v),!v.defaultPrevented)throw m}return h.then(m=>{for(const v of m||[])v.status==="rejected"&&p(v.reason);return e().catch(p)})};var or={allRenderFn:!1,cmpDidLoad:!0,cmpDidUnload:!1,cmpDidUpdate:!0,cmpDidRender:!0,cmpWillLoad:!0,cmpWillUpdate:!0,cmpWillRender:!0,connectedCallback:!0,disconnectedCallback:!0,element:!0,event:!0,hasRenderFn:!0,lifecycle:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,watchCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,cmpShouldUpdate:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!1,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},GT=Object.defineProperty,qT=(t,e)=>{for(var i in e)GT(t,i,{get:e[i],enumerable:!0})},I5=new WeakMap,ia=t=>I5.get(t),HT=(t,e)=>{const i={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};return I5.set(t,i)},Q2=(t,e)=>e in t,nu=(t,e)=>(0,console.error)(t,e),l0=new Map,WT=[],JT="slot-fb{display:contents}slot-fb[hidden]{display:none}",t3="http://www.w3.org/1999/xlink",su=typeof window<"u"?window:{},Mr=su.document||{head:{}},Dr=su.HTMLElement||class{},ri={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,i,o)=>t.addEventListener(e,i,o),rel:(t,e,i,o)=>t.removeEventListener(e,i,o),ce:(t,e)=>new CustomEvent(t,e)},ZT=(()=>{let t=!1;try{Mr.addEventListener("e",null,Object.defineProperty({},"passive",{get(){t=!0}}))}catch{}return t})(),YT=t=>Promise.resolve(t),KT=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),Y1=!1,K1=[],k5=[],M5=(t,e)=>i=>{t.push(i),Y1||(Y1=!0,e&&ri.$flags$&4?XT(X1):ri.raf(X1))},e3=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(i){nu(i)}t.length=0},X1=()=>{e3(K1),e3(k5),(Y1=K1.length>0)&&ri.raf(X1)},XT=t=>YT().then(t),nX=M5(K1,!1),QT=M5(k5,!0),bb=t=>{const e=new URL(t,ri.$resourcesUrl$);return e.origin!==su.location.origin?e.href:e.pathname},O5=t=>ri.$resourcesUrl$=t,i3={},tE="http://www.w3.org/2000/svg",eE="http://www.w3.org/1999/xhtml",iE=t=>t!=null,vb=t=>(t=typeof t,t==="object"||t==="function");function rE(t){var e,i,o;return(o=(i=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:i.getAttribute("content"))!=null?o:void 0}var nE={};qT(nE,{err:()=>P5,map:()=>sE,ok:()=>Q1,unwrap:()=>oE,unwrapErr:()=>aE});var Q1=t=>({isOk:!0,isErr:!1,value:t}),P5=t=>({isOk:!1,isErr:!0,value:t});function sE(t,e){if(t.isOk){const i=e(t.value);return i instanceof Promise?i.then(o=>Q1(o)):Q1(i)}if(t.isErr){const i=t.value;return P5(i)}throw"should never get here"}var oE=t=>{if(t.isOk)return t.value;throw t.value},aE=t=>{if(t.isErr)return t.value;throw t.value},Do=(t,e="")=>()=>{},Dt=(t,e,...i)=>{let o=null,h=null,p=null,m=!1,v=!1;const w=[],A=M=>{for(let P=0;P<M.length;P++)o=M[P],Array.isArray(o)?A(o):o!=null&&typeof o!="boolean"&&((m=typeof t!="function"&&!vb(o))&&(o=String(o)),m&&v?w[w.length-1].$text$+=o:w.push(m?h0(null,o):o),v=m)};if(A(i),e){e.key&&(h=e.key),e.name&&(p=e.name);{const M=e.className||e.class;M&&(e.class=typeof M!="object"?M:Object.keys(M).filter(P=>M[P]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,w,hE);const $=h0(t,null);return $.$attrs$=e,w.length>0&&($.$children$=w),$.$key$=h,$.$name$=p,$},h0=(t,e)=>{const i={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return i.$attrs$=null,i.$key$=null,i.$name$=null,i},wb={},lE=t=>t&&t.$tag$===wb,hE={forEach:(t,e)=>t.map(r3).forEach(e),map:(t,e)=>t.map(r3).map(e).map(cE)},r3=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),cE=t=>{if(typeof t.vtag=="function"){const i={...t.vattrs};return t.vkey&&(i.key=t.vkey),t.vname&&(i.name=t.vname),Dt(t.vtag,i,...t.vchildren||[])}const e=h0(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},uE=t=>WT.map(e=>e(t)).find(e=>!!e),dE=(t,e)=>t!=null&&!vb(t)?e&4?t==="false"?!1:t===""||!!t:e&2?parseFloat(t):e&1?String(t):t:t,fE=t=>t,Bt=(t,e,i)=>{const o=fE(t);return{emit:h=>pE(o,e,{bubbles:!!(i&4),composed:!!(i&2),cancelable:!!(i&1),detail:h})}},pE=(t,e,i)=>{const o=ri.ce(e,i);return t.dispatchEvent(o),o},n3=new WeakMap,mE=(t,e,i)=>{let o=l0.get(t);KT&&i?(o=o||new CSSStyleSheet,typeof o=="string"?o=e:o.replaceSync(e)):o=e,l0.set(t,o)},gE=(t,e,i)=>{var o;const h=N5(e,i),p=l0.get(h);if(t=t.nodeType===11?t:Mr,p)if(typeof p=="string"){t=t.head||t;let m=n3.get(t),v;if(m||n3.set(t,m=new Set),!m.has(h)){{v=Mr.createElement("style"),v.innerHTML=p;const w=(o=ri.$nonce$)!=null?o:rE(Mr);w!=null&&v.setAttribute("nonce",w),(!(e.$flags$&1)||e.$flags$&1&&t.nodeName!=="HEAD")&&t.insertBefore(v,t.querySelector("link"))}e.$flags$&4&&(v.innerHTML+=JT),m&&m.add(h)}}else t.adoptedStyleSheets.includes(p)||(t.adoptedStyleSheets=[...t.adoptedStyleSheets,p]);return h},yE=t=>{const e=t.$cmpMeta$,i=t.$hostElement$,o=e.$flags$,h=Do("attachStyles",e.$tagName$),p=gE(i.shadowRoot?i.shadowRoot:i.getRootNode(),e,t.$modeName$);o&10&&o&2&&(i["s-sc"]=p,i.classList.add(p+"-h"),o&2&&i.classList.add(p+"-s")),h()},N5=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),s3=(t,e,i,o,h,p)=>{if(i!==o){let m=Q2(t,e),v=e.toLowerCase();if(e==="class"){const w=t.classList,A=o3(i),$=o3(o);w.remove(...A.filter(M=>M&&!$.includes(M))),w.add(...$.filter(M=>M&&!A.includes(M)))}else if(e==="style"){for(const w in i)(!o||o[w]==null)&&(w.includes("-")?t.style.removeProperty(w):t.style[w]="");for(const w in o)(!i||o[w]!==i[w])&&(w.includes("-")?t.style.setProperty(w,o[w]):t.style[w]=o[w])}else if(e!=="key")if(e==="ref")o&&o(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):Q2(su,v)?e=v.slice(2):e=v[2]+e.slice(3),i||o){const w=e.endsWith(R5);e=e.replace(vE,""),i&&ri.rel(t,e,i,w),o&&ri.ael(t,e,o,w)}}else{const w=vb(o);if((m||w&&o!==null)&&!h)try{if(t.tagName.includes("-"))t[e]=o;else{const $=o??"";e==="list"?m=!1:(i==null||t[e]!=$)&&(t[e]=$)}}catch{}let A=!1;v!==(v=v.replace(/^xlink\:?/,""))&&(e=v,A=!0),o==null||o===!1?(o!==!1||t.getAttribute(e)==="")&&(A?t.removeAttributeNS(t3,e):t.removeAttribute(e)):(!m||p&4||h)&&!w&&(o=o===!0?"":o,A?t.setAttributeNS(t3,e,o):t.setAttribute(e,o))}}},bE=/\s/,o3=t=>t?t.split(bE):[],R5="Capture",vE=new RegExp(R5+"$"),L5=(t,e,i)=>{const o=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,h=t&&t.$attrs$||i3,p=e.$attrs$||i3;for(const m of a3(Object.keys(h)))m in p||s3(o,m,h[m],void 0,i,e.$flags$);for(const m of a3(Object.keys(p)))s3(o,m,h[m],p[m],i,e.$flags$)};function a3(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var _a,tm,fl,c0=!1,u0=!1,_b=!1,Ui=!1,d0=(t,e,i,o)=>{var h;const p=e.$children$[i];let m=0,v,w,A;if(c0||(_b=!0,p.$tag$==="slot"&&(_a&&o.classList.add(_a+"-s"),p.$flags$|=p.$children$?2:1)),p.$text$!==null)v=p.$elm$=Mr.createTextNode(p.$text$);else if(p.$flags$&1)v=p.$elm$=Mr.createTextNode("");else{if(Ui||(Ui=p.$tag$==="svg"),v=p.$elm$=Mr.createElementNS(Ui?tE:eE,!c0&&or.slotRelocation&&p.$flags$&2?"slot-fb":p.$tag$),Ui&&p.$tag$==="foreignObject"&&(Ui=!1),L5(null,p,Ui),!!v.getRootNode().querySelector("body")&&or.scoped&&iE(_a)&&v["s-si"]!==_a&&v.classList.add(v["s-si"]=_a),Sb(v,o),p.$children$)for(m=0;m<p.$children$.length;++m)w=d0(t,p,m,v),w&&v.appendChild(w);p.$tag$==="svg"?Ui=!1:v.tagName==="foreignObject"&&(Ui=!0)}return v["s-hn"]=fl,p.$flags$&3&&(v["s-sr"]=!0,v["s-cr"]=tm,v["s-sn"]=p.$name$||"",v["s-rf"]=(h=p.$attrs$)==null?void 0:h.ref,A=t&&t.$children$&&t.$children$[i],A&&A.$tag$===p.$tag$&&t.$elm$&&bc(t.$elm$,!1)),v},bc=(t,e)=>{ri.$flags$|=1;const i=Array.from(t.childNodes);if(t["s-sr"]&&or.experimentalSlotFixes){let o=t;for(;o=o.nextSibling;)o&&o["s-sn"]===t["s-sn"]&&o["s-sh"]===fl&&i.push(o)}for(let o=i.length-1;o>=0;o--){const h=i[o];h["s-hn"]!==fl&&h["s-ol"]&&(Is(j5(h),h,xb(h)),h["s-ol"].remove(),h["s-ol"]=void 0,h["s-sh"]=void 0,_b=!0),e&&bc(h,e)}ri.$flags$&=-2},D5=(t,e,i,o,h,p)=>{let m=t["s-cr"]&&t["s-cr"].parentNode||t,v;for(m.shadowRoot&&m.tagName===fl&&(m=m.shadowRoot);h<=p;++h)o[h]&&(v=d0(null,i,h,t),v&&(o[h].$elm$=v,Is(m,v,xb(e))))},z5=(t,e,i)=>{for(let o=e;o<=i;++o){const h=t[o];if(h){const p=h.$elm$;B5(h),p&&(u0=!0,p["s-ol"]?p["s-ol"].remove():bc(p,!0),p.remove())}}},wE=(t,e,i,o,h=!1)=>{let p=0,m=0,v=0,w=0,A=e.length-1,$=e[0],M=e[A],P=o.length-1,R=o[0],B=o[P],G,H;for(;p<=A&&m<=P;)if($==null)$=e[++p];else if(M==null)M=e[--A];else if(R==null)R=o[++m];else if(B==null)B=o[--P];else if(zu($,R,h))xa($,R,h),$=e[++p],R=o[++m];else if(zu(M,B,h))xa(M,B,h),M=e[--A],B=o[--P];else if(zu($,B,h))($.$tag$==="slot"||B.$tag$==="slot")&&bc($.$elm$.parentNode,!1),xa($,B,h),Is(t,$.$elm$,M.$elm$.nextSibling),$=e[++p],B=o[--P];else if(zu(M,R,h))($.$tag$==="slot"||B.$tag$==="slot")&&bc(M.$elm$.parentNode,!1),xa(M,R,h),Is(t,M.$elm$,$.$elm$),M=e[--A],R=o[++m];else{for(v=-1,w=p;w<=A;++w)if(e[w]&&e[w].$key$!==null&&e[w].$key$===R.$key$){v=w;break}v>=0?(H=e[v],H.$tag$!==R.$tag$?G=d0(e&&e[m],i,v,t):(xa(H,R,h),e[v]=void 0,G=H.$elm$),R=o[++m]):(G=d0(e&&e[m],i,m,t),R=o[++m]),G&&Is(j5($.$elm$),G,xb($.$elm$))}p>A?D5(t,o[P+1]==null?null:o[P+1].$elm$,i,o,m,P):m>P&&z5(e,p,A)},zu=(t,e,i=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?"$nodeId$"in t&&i&&t.$elm$.nodeType!==8?!1:t.$name$===e.$name$:i?!0:t.$key$===e.$key$:!1,xb=t=>t&&t["s-ol"]||t,j5=t=>(t["s-ol"]?t["s-ol"]:t).parentNode,xa=(t,e,i=!1)=>{const o=e.$elm$=t.$elm$,h=t.$children$,p=e.$children$,m=e.$tag$,v=e.$text$;let w;v===null?(Ui=m==="svg"?!0:m==="foreignObject"?!1:Ui,m==="slot"&&!c0||L5(t,e,Ui),h!==null&&p!==null?wE(o,h,e,p,i):p!==null?(t.$text$!==null&&(o.textContent=""),D5(o,null,e,p,0,p.length-1)):!i&&or.updatable&&h!==null&&z5(h,0,h.length-1),Ui&&m==="svg"&&(Ui=!1)):(w=o["s-cr"])?w.parentNode.textContent=v:t.$text$!==v&&(o.data=v)},F5=t=>{const e=t.childNodes;for(const i of e)if(i.nodeType===1){if(i["s-sr"]){const o=i["s-sn"];i.hidden=!1;for(const h of e)if(h!==i){if(h["s-hn"]!==i["s-hn"]||o!==""){if(h.nodeType===1&&(o===h.getAttribute("slot")||o===h["s-sn"])||h.nodeType===3&&o===h["s-sn"]){i.hidden=!0;break}}else if(h.nodeType===1||h.nodeType===3&&h.textContent.trim()!==""){i.hidden=!0;break}}}F5(i)}},An=[],U5=t=>{let e,i,o;for(const h of t.childNodes){if(h["s-sr"]&&(e=h["s-cr"])&&e.parentNode){i=e.parentNode.childNodes;const p=h["s-sn"];for(o=i.length-1;o>=0;o--)if(e=i[o],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==h["s-hn"]&&!or.experimentalSlotFixes)if(l3(e,p)){let m=An.find(v=>v.$nodeToRelocate$===e);u0=!0,e["s-sn"]=e["s-sn"]||p,m?(m.$nodeToRelocate$["s-sh"]=h["s-hn"],m.$slotRefNode$=h):(e["s-sh"]=h["s-hn"],An.push({$slotRefNode$:h,$nodeToRelocate$:e})),e["s-sr"]&&An.map(v=>{l3(v.$nodeToRelocate$,e["s-sn"])&&(m=An.find(w=>w.$nodeToRelocate$===e),m&&!v.$slotRefNode$&&(v.$slotRefNode$=m.$slotRefNode$))})}else An.some(m=>m.$nodeToRelocate$===e)||An.push({$nodeToRelocate$:e})}h.nodeType===1&&U5(h)}},l3=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",B5=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(B5)},Is=(t,e,i)=>{const o=t==null?void 0:t.insertBefore(e,i);return Sb(e,t),o},V5=t=>{const e=[];return t&&e.push(...t["s-scs"]||[],t["s-si"],t["s-sc"],...V5(t.parentElement)),e},Sb=(t,e,i=!1)=>{var o;if(t&&e&&t.nodeType===1){const h=new Set(V5(e).filter(Boolean));if(h.size&&((o=t.classList)==null||o.add(...t["s-scs"]=[...h]),t["s-ol"]||i))for(const p of Array.from(t.childNodes))Sb(p,t,!0)}},_E=(t,e,i=!1)=>{var o,h,p,m,v;const w=t.$hostElement$,A=t.$cmpMeta$,$=t.$vnode$||h0(null,null),M=lE(e)?e:Dt(null,null,e);if(fl=w.tagName,A.$attrsToReflect$&&(M.$attrs$=M.$attrs$||{},A.$attrsToReflect$.map(([P,R])=>M.$attrs$[R]=w[P])),i&&M.$attrs$)for(const P of Object.keys(M.$attrs$))w.hasAttribute(P)&&!["key","ref","style","class"].includes(P)&&(M.$attrs$[P]=w[P]);M.$tag$=null,M.$flags$|=4,t.$vnode$=M,M.$elm$=$.$elm$=w.shadowRoot||w,_a=w["s-sc"],c0=(A.$flags$&1)!==0,tm=w["s-cr"],u0=!1,xa($,M,i);{if(ri.$flags$|=1,_b){U5(M.$elm$);for(const P of An){const R=P.$nodeToRelocate$;if(!R["s-ol"]){const B=Mr.createTextNode("");B["s-nr"]=R,Is(R.parentNode,R["s-ol"]=B,R)}}for(const P of An){const R=P.$nodeToRelocate$,B=P.$slotRefNode$;if(B){const G=B.parentNode;let H=B.nextSibling;{let Z=(o=R["s-ol"])==null?void 0:o.previousSibling;for(;Z;){let X=(h=Z["s-nr"])!=null?h:null;if(X&&X["s-sn"]===R["s-sn"]&&G===X.parentNode){for(X=X.nextSibling;X===R||X!=null&&X["s-sr"];)X=X==null?void 0:X.nextSibling;if(!X||!X["s-nr"]){H=X;break}}Z=Z.previousSibling}}(!H&&G!==R.parentNode||R.nextSibling!==H)&&R!==H&&(!R["s-hn"]&&R["s-ol"]&&(R["s-hn"]=R["s-ol"].parentNode.nodeName),Is(G,R,H),R.nodeType===1&&(R.hidden=(p=R["s-ih"])!=null?p:!1)),R&&typeof B["s-rf"]=="function"&&B["s-rf"](R)}else R.nodeType===1&&(i&&(R["s-ih"]=(m=R.hidden)!=null?m:!1),R.hidden=!0)}}u0&&F5(M.$elm$),ri.$flags$&=-2,An.length=0}if(or.experimentalScopedSlotChanges&&A.$flags$&2)for(const P of M.$elm$.childNodes)P["s-hn"]!==fl&&!P["s-sh"]&&(i&&P["s-ih"]==null&&(P["s-ih"]=(v=P.hidden)!=null?v:!1),P.hidden=!0);tm=void 0},xE=(t,e)=>{},Cb=(t,e)=>(t.$flags$|=16,xE(t,t.$ancestorComponent$),QT(()=>SE(t,e))),SE=(t,e)=>{const i=t.$hostElement$,o=Do("scheduleUpdate",t.$cmpMeta$.$tagName$),h=i;if(!h)throw new Error(`Can't render component <${i.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let p;return e?p=Qa(h,"componentWillLoad"):p=Qa(h,"componentWillUpdate"),p=h3(p,()=>Qa(h,"componentWillRender")),o(),h3(p,()=>AE(t,h,e))},h3=(t,e)=>CE(t)?t.then(e).catch(i=>{console.error(i),e()}):e(),CE=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",AE=async(t,e,i)=>{const o=t.$hostElement$,h=Do("update",t.$cmpMeta$.$tagName$);o["s-rc"],i&&yE(t);const p=Do("render",t.$cmpMeta$.$tagName$);TE(t,e,o,i),p(),h(),EE(t)},c3=null,TE=(t,e,i,o)=>{try{c3=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(or.hasRenderFn||or.reflect)&&(or.vdomRender||or.reflect)&&(or.hydrateServerSide||_E(t,e,o))}catch(w){nu(w,t.$hostElement$)}return c3=null,null},EE=t=>{const e=t.$cmpMeta$.$tagName$,i=t.$hostElement$,o=Do("postUpdate",e),h=i;t.$ancestorComponent$,Qa(h,"componentDidRender"),t.$flags$&64?(Qa(h,"componentDidUpdate"),o()):(t.$flags$|=64,Qa(h,"componentDidLoad"),o())},Dn=t=>{{const e=ia(t),i=e.$hostElement$.isConnected;return i&&(e.$flags$&18)===2&&Cb(e,!1),i}},Qa=(t,e,i)=>{if(t&&t[e])try{return t[e](i)}catch(o){nu(o)}},$E=(t,e)=>ia(t).$instanceValues$.get(e),IE=(t,e,i,o)=>{const h=ia(t),p=t,m=h.$instanceValues$.get(e),v=h.$flags$,w=p;i=dE(i,o.$members$[e][0]);const A=Number.isNaN(m)&&Number.isNaN(i);if(i!==m&&!A){h.$instanceValues$.set(e,i);{if(o.$watchers$&&v&128){const M=o.$watchers$[e];M&&M.map(P=>{try{w[P](i,m,e)}catch(R){nu(R,p)}})}if((v&18)===2){if(w.componentShouldUpdate&&w.componentShouldUpdate(i,m,e)===!1)return;Cb(h,!1)}}}},kE=(t,e,i)=>{var o,h;const p=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const m=Object.entries((o=e.$members$)!=null?o:{});m.map(([v,[w]])=>{(w&31||w&32)&&Object.defineProperty(p,v,{get(){return $E(this,v)},set(A){IE(this,v,A,e)},configurable:!0,enumerable:!0})});{const v=new Map;p.attributeChangedCallback=function(w,A,$){ri.jmp(()=>{var M;const P=v.get(w);if(this.hasOwnProperty(P))$=this[P],delete this[P];else{if(p.hasOwnProperty(P)&&typeof this[P]=="number"&&this[P]==$)return;if(P==null){const R=ia(this),B=R==null?void 0:R.$flags$;if(B&&!(B&8)&&B&128&&$!==A){const H=this,Z=(M=e.$watchers$)==null?void 0:M[w];Z==null||Z.forEach(X=>{H[X]!=null&&H[X].call(H,$,A,w)})}return}}this[P]=$===null&&typeof this[P]=="boolean"?!1:$})},t.observedAttributes=Array.from(new Set([...Object.keys((h=e.$watchers$)!=null?h:{}),...m.filter(([w,A])=>A[0]&15).map(([w,A])=>{var $;const M=A[1]||w;return v.set(M,w),A[0]&512&&(($=e.$attrsToReflect$)==null||$.push([w,M])),M})]))}}return t},ME=async(t,e,i,o)=>{let h;if(!(e.$flags$&32)){e.$flags$|=32,i.$lazyBundleId$;{h=t.constructor;const m=t.localName;customElements.whenDefined(m).then(()=>e.$flags$|=128)}if(h&&h.style){let m;typeof h.style=="string"?m=h.style:typeof h.style!="string"&&(e.$modeName$=uE(t),e.$modeName$&&(m=h.style[e.$modeName$]));const v=N5(i,e.$modeName$);if(!l0.has(v)){const w=Do("registerStyles",i.$tagName$);mE(v,m,!!(i.$flags$&1)),w()}}}e.$ancestorComponent$,Cb(e,!0)},u3=t=>{},OE=t=>{if(!(ri.$flags$&1)){const e=ia(t),i=e.$cmpMeta$,o=Do("connectedCallback",i.$tagName$);e.$flags$&1?(G5(t,e,i.$listeners$),e!=null&&e.$lazyInstance$?u3(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>u3(e.$lazyInstance$))):(e.$flags$|=1,i.$flags$&12&&PE(t),i.$members$&&Object.entries(i.$members$).map(([h,[p]])=>{if(p&31&&t.hasOwnProperty(h)){const m=t[h];delete t[h],t[h]=m}}),ME(t,e,i)),o()}},PE=t=>{const e=t["s-cr"]=Mr.createComment("");e["s-cn"]=!0,Is(t,e,t.firstChild)},NE=async t=>{if(!(ri.$flags$&1)){const e=ia(t);e.$rmListeners$&&(e.$rmListeners$.map(i=>i()),e.$rmListeners$=void 0)}},zr=(t,e)=>{const i={$flags$:e[0],$tagName$:e[1]};i.$members$=e[2],i.$listeners$=e[3],i.$watchers$=t.$watchers$,i.$attrsToReflect$=[];const o=t.prototype.connectedCallback,h=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__registerHost(){HT(this,i)},connectedCallback(){const p=ia(this);G5(this,p,i.$listeners$),OE(this),o&&o.call(this)},disconnectedCallback(){NE(this),h&&h.call(this)},__attachShadow(){if(!this.shadowRoot)this.attachShadow({mode:"open",delegatesFocus:!!(i.$flags$&16)});else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${i.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),t.is=i.$tagName$,kE(t,i)},sX=(t,e)=>e,G5=(t,e,i,o)=>{i&&i.map(([h,p,m])=>{const v=LE(t,h),w=RE(e,m),A=DE(h);ri.ael(v,p,w,A),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>ri.rel(v,p,w,A))})},RE=(t,e)=>i=>{var o;try{or.lazyLoad||t.$hostElement$[e](i)}catch(h){nu(h)}},LE=(t,e)=>e&4?Mr:e&8?su:e&16?Mr.body:t,DE=t=>ZT?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0,ur=typeof window<"u"&&"$arcgis"in window&&typeof window.$arcgis=="object"&&"import"in window.$arcgis&&!("forceESM"in window.$arcgis);function dr(t){return t.default!==void 0}async function zE(){if(ur)return await window.$arcgis.import("esri/core/Accessor");const t=await vt(()=>Promise.resolve().then(()=>vL),void 0);return dr(t)?t.default:t}async function jE(){if(ur)return await window.$arcgis.import("esri/views/MapView");const t=await vt(()=>import("./MapView-DMINGQ-3.js").then(e=>e.H),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55]));return dr(t)?t.default:t}async function FE(t){const e=await jE();return new e(t)}async function UE(){if(ur)return await window.$arcgis.import("esri/WebMap");const t=await vt(()=>import("./WebMap-C_83LFXt.js").then(e=>e.W),__vite__mapDeps([56,1,2,3,4,5,6,7,8,57,58,10,11,59,60,61,62,32,33,54,55,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,18,25,90,19,20,91,92,93,9,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125]));return dr(t)?t.default:t}async function BE(t){const e=await UE();return new e(t)}async function VE(){if(ur)return await window.$arcgis.import("esri/widgets/BasemapToggle/BasemapToggleViewModel");const t=await vt(()=>import("./BasemapToggleViewModel-D3dUKNJn.js"),__vite__mapDeps([126,10,11,3,4]));return dr(t)?t.default:t}async function GE(t){const e=await VE();return new e(t)}async function qE(){if(ur)return await window.$arcgis.import("esri/widgets/Editor");const t=await vt(()=>import("./Editor-BZKF0HZM.js").then(e=>e.ay),__vite__mapDeps([127,28,27,43,128,11,129,10,130,131,132,14,89,87,88,70,18,25,90,19,20,7,8,75,64,65,66,67,68,69,71,72,73,74,76,55,77,78,79,80,81,82,83,84,85,86,91,92,93,133,134,135,63,57,6,9,94,95,96,97,98,99,100,101,4,102,103,104,105,106,107,108,109,110,111,112,113,114,58,115,116,117,60,118,119,120,121,122,123,124,59,136,137,29,138,139,17,140,15,16,54,141,142,143,144,145,34,146,147,26,148,149,150]));return dr(t)?t.default:t}async function HE(t){const e=await qE();return new e(t)}async function WE(){if(ur)return await window.$arcgis.import("esri/widgets/Expand");const t=await vt(()=>import("./Expand-CJNSF9vB.js"),__vite__mapDeps([151,149]));return dr(t)?t.default:t}async function JE(t){const e=await WE();return new e(t)}async function ZE(){if(ur)return await window.$arcgis.import("esri/widgets/Legend");const t=await vt(()=>import("./Legend-Dm-5dECe.js"),__vite__mapDeps([152,153,154,101,4,100,155,156,157,158,159,75,64,65,66,67,68,69,70,71,72,73,74,76,55,77,78,79,80,81,82,83,84,85,86,160,137,136,29,138,161,8,50,51]));return dr(t)?t.default:t}async function YE(t){const e=await ZE();return new e(t)}async function KE(){if(ur)return await window.$arcgis.import("esri/widgets/Search");const t=await vt(()=>import("./Search-DNVL7uU4.js").then(e=>e.S),__vite__mapDeps([162,163,156,20,32,62,33,52,51,132]));return dr(t)?t.default:t}async function XE(t){const e=await KE();return new e(t)}async function QE(){if(ur)return await window.$arcgis.import("esri/widgets/Zoom/ZoomViewModel");const t=await vt(()=>import("./ZoomViewModel-BtZMM985.js"),[]);return dr(t)?t.default:t}async function t$(t){const e=await QE();return new e(t)}async function e$(){if(ur)return await window.$arcgis.import("esri/core/accessorSupport/decorators");const t=await vt(()=>import("./decorators-D3lYJX4G.js"),[]);return dr(t)?t.default:t}async function q5(){if(ur)return await window.$arcgis.import("esri/core/reactiveUtils");const t=await vt(()=>Promise.resolve().then(()=>qD),void 0);return dr(t)?t.default:t}async function i$(){if(ur)return await window.$arcgis.import("esri/applications/Components/basemapUtils");const t=await vt(()=>import("./basemapUtils-AWiIS5hD.js"),__vite__mapDeps([164,3,4]));return dr(t)?t.default:t}function dd(...t){const e=[];for(let o=0;o<t.length;o++){const h=t[o];if(typeof h=="string")e.push(h);else if(Array.isArray(h))e.push.apply(e,h);else if(typeof h=="object")for(const p in h)h[p]&&e.push(p)}const i=e.join(" ");return e.length=0,i}var em=class{resolve(t){}reject(t){}constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}};function r$(t,e){let i=t;for(;i;){if(i===e)return!0;if(!i.parentNode)return!1;i.parentNode instanceof ShadowRoot?i=i.parentNode.host:i=i.parentNode}return!1}function n$(t,e,i){const{subscribe:o}=s$(e);return o(h=>{h.some(m=>r$(t,m.target))&&i()})}var Np={};function s$(t){const e=t.join(","),i=Np[e];if(i!==void 0)return i;const o=new Set,h=new MutationObserver(m=>o.forEach(v=>v(m)));globalThis.document&&h.observe(document.documentElement,{attributes:!0,attributeFilter:t,subtree:!0});const p={subscribe(m){return o.add(m),{remove:()=>{o.delete(m),o.size===0&&(h.disconnect(),Np[e]=void 0)}}}};return Np[e]=p,p}function o$(t,e){var o,h;let i=t;for(;i;){const p=(o=i.closest)==null?void 0:o.call(i,e);if(p)return p;const m=(h=i.getRootNode)==null?void 0:h.call(i);if(m===globalThis.document)return null;i=m.host}return null}function a$(t,e,i){const o=o$(t,`[${e}]`);return(o==null?void 0:o.getAttribute(e))??i}function Ee(t,e,...i){try{return t==null?void 0:t.call(e,...i)}catch(o){console.error(o,t)}}async function f0(t,e,...i){try{const o=t==null?void 0:t.call(e,...i);return o instanceof Promise?await o:o}catch(o){console.error(o,t)}}var l$=["ar","bg","bs","ca","cs","da","de","el","en","es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","nl","nb","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],h$=new Set(l$),p0="en",c$={pt:"pt-PT",no:"nb",zh:"zh-CN"};async function u$(t,e,i=""){const o=`${e}/${i}`,h=`${o}${t}.json`;return Rp[h]??(Rp[h]=H5(t,o)),await Rp[h]}var Rp={};async function H5(t,e){const i=`${e}${t}.json`;try{const o=await fetch(i);if(o.ok)return await o.json()}catch(o){return console.error(o),{}}return t===p0?{}:await H5(p0,e)}function W5(t){var i;const e=a$(t,"lang",((i=globalThis.navigator)==null?void 0:i.language)||p0);return{lang:e,t9nLocale:J5(e)}}function J5(t){const[e,i]=t.split("-"),o=e.toLowerCase();let h=o;return i&&(h=`${o}-${i.toUpperCase()}`),h=c$[h]??h,h$.has(h)?h:i?J5(o):p0}function d$(t,e,i,o){let h;const p=()=>void f$(t,e,o).then(m=>{((h==null?void 0:h.lang)!==m.lang||h.t9nLocale!==m.t9nLocale||h.t9nStrings!==m.t9nStrings)&&i(m),h=m}).catch(console.error);return p(),n$(t,["lang"],p)}async function f$(t,e,i=t.tagName.toLowerCase().split("-").slice(1).join("-")){const{lang:o,t9nLocale:h}=W5(t),p=`${e}/${i}/t9n`,m=`${i}.t9n.`,v=i===null?{}:await u$(h,p,m);return{lang:o,t9nLocale:h,t9nStrings:v}}var p$=t=>t.replace(m$,(e,i)=>`${i===0?"":"-"}${e.toLowerCase()}`),m$=/[A-Z]+(?![a-z])|[A-Z]/gu;function g$(t,e){const i=e/y$;let o=0;const h=setInterval(()=>{o+=i,o>=e&&(clearInterval(h),t())},i);return h}var y$=4;function Z5(t){return t!==void 0}/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */function b$(t,e){var i;if(e){const o=t.constructor.elementProperties;t.manager.internals.members=Object.fromEntries(Array.from(o,([h,p])=>p.noAccessor?void 0:[h,[(p.readOnly?2048:0)|(p.state?32:16)]]).filter(Z5))}else{const o=t.constructor,h=((i=o.__registerControllers)==null?void 0:i.call(o,t))??void 0;if(o.__registerControllers=void 0,typeof h!="object")throw new Error("Failed to retrieve component meta");t.manager.internals.members=Object.fromEntries(Object.entries(h).filter(([p,[m]])=>(m&63)!==0))}}function v$(t,e=8){return t==null||typeof t=="object"||typeof t=="function"?t:e&4?t==="false"?!1:t===""||!!t:e&2?Number.parseFloat(t):e&1?String(t):t}var Y5=(t,e)=>{var i,o;return(o=(i=t.manager.internals.members)==null?void 0:i[e])==null?void 0:o[0]},Ab=Symbol.for("controller"),w$=t=>typeof t=="object"&&t!==null&&(Ab in t||"hostConnected"in t||"hostDisconnected"in t||"hostUpdate"in t||"hostUpdated"in t),gh;function Ua(t){gh!==t&&(gh=t,queueMicrotask(()=>{gh===t&&(gh=void 0)}))}function _f(t){return gh}var Qs=[];function Tb(t){if(t===void 0){Qs=[];return}const e=Qs.indexOf(t);Qs=e===-1?[...Qs,t]:Qs.slice(0,e+1),queueMicrotask(()=>{Qs=[]})}function _$(){return Qs}var Ba;function x$(t){Ba!==t&&(Ba=t,queueMicrotask(()=>{Ba===t&&(Ba=void 0)}))}function S$(){const t=Ba;return Ba=void 0,t}var C$=async(t,e)=>{const i=Eb(t);if(i===void 0)return t;if(await i.ready,typeof e=="function"){const o=i.watchExports(h=>e(h,o))}return i.exports},A$=async t=>{const e=Eb(t);return await e.ready,e},Eb=t=>{const e=S$();if(e!==void 0)return e;const o=_f().manager.internals.resolveExports(t);if(o!==void 0)return o;if(w$(t))return t},$n={setter:!1,getter:!1,readOnly:!1},m0=new WeakMap,K5;K5=Ab;var $b=class{constructor(t){this._callbacks={hostConnected:[],hostDisconnected:[],hostLoad:[],hostLoaded:[],hostUpdate:[],hostUpdated:[],hostDestroy:[],hostLifecycle:[]},this._ready=new em,this._lifecycleCleanups=[],this.connectedCalled=!1,this._loadCalled=!1,this.loadedCalled=!1,this[K5]=!0,this.ready=this._ready.promise,this._exports=f3(this),this._exportWatchers=new Set;const e=t??_f();this.component=e,this.component.addController(this),Tb(this),this.component.manager===void 0||queueMicrotask(()=>this.catchUpLifecycle())}catchUpLifecycle(){const{manager:t}=this.component;t.connectedCalled&&!this.connectedCalled&&this.triggerConnected(),t._loadCalled&&this.triggerLoad().then(()=>{t.loadedCalled&&this.triggerLoaded()}).catch(console.error)}get exports(){return this._exports}set exports(t){const e=this._exports;e!==t&&(this._exports=t,this._exportWatchers.forEach(Ee),this.connectedCalled&&this.assignedProperty!==!1&&this.component.requestUpdate(this.assignedProperty,e)),this._ready.resolve(t)}setProvisionalExports(t){this._exports=f3(t),this._exportWatchers.forEach(Ee)}watchExports(t){const e=()=>t(this._exports);return this._exportWatchers.add(e),()=>void this._exportWatchers.delete(e)}get use(){return Ua(this.component),C$}get useRef(){return Ua(this.component),A$}get useRefSync(){return Ua(this.component),Eb}controllerRemoved(){this.component.el.isConnected&&this.triggerDisconnected(),this.triggerDestroy()}onConnected(t){this._callbacks.hostConnected.push(t)}onDisconnected(t){this._callbacks.hostDisconnected.push(t)}onLoad(t){this._callbacks.hostLoad.push(t)}onLoaded(t){this._callbacks.hostLoaded.push(t)}onUpdate(t){this._callbacks.hostUpdate.push(t)}onUpdated(t){this._callbacks.hostUpdated.push(t)}onDestroy(t){this._callbacks.hostDestroy.push(t)}onLifecycle(t){this._callbacks.hostLifecycle.push(t),this.connectedCalled&&this.component.el.isConnected&&this._callLifecycle(t)}triggerConnected(){const t=this;t.hostConnected&&Ee(t.hostConnected,t),this._callbacks.hostConnected.forEach(Ee),this.triggerLifecycle(),this.connectedCalled=!0}triggerDisconnected(){const t=this;t.hostDisconnected&&Ee(t.hostDisconnected,t),this._callbacks.hostDisconnected.forEach(Ee),this._lifecycleCleanups.forEach(Ee),this._lifecycleCleanups=[]}async triggerLoad(){if(this._loadCalled)return;this._loadCalled=!0;const t=this;t.hostLoad&&await f0(t.hostLoad,t),this._callbacks.hostLoad.length>0&&await Promise.allSettled(this._callbacks.hostLoad.map(f0)),this._ready.resolve(this._exports)}triggerLoaded(){if(this.loadedCalled)return;const t=this;t.hostLoaded&&Ee(t.hostLoaded,t),this._callbacks.hostLoaded.forEach(Ee),this.loadedCalled=!0}triggerUpdate(t){const e=this;e.hostUpdate&&Ee(e.hostUpdate,e,t),this._callbacks.hostUpdate.forEach(d3,t)}triggerUpdated(t){const e=this;e.hostUpdated&&Ee(e.hostUpdated,e,t),this._callbacks.hostUpdated.forEach(d3,t)}triggerDestroy(){const t=this;t.hostDestroy&&Ee(t.hostDestroy,t),this._callbacks.hostDestroy.forEach(Ee)}triggerLifecycle(){const t=this;t.hostLifecycle&&this._callLifecycle(()=>t.hostLifecycle()),this._callbacks.hostLifecycle.forEach(this._callLifecycle,this)}_callLifecycle(t){Ua(this.component);const e=Ee(t);(Array.isArray(e)?e:[e]).forEach(o=>{typeof o=="function"?this._lifecycleCleanups.push(o):typeof o=="object"&&typeof o.remove=="function"&&this._lifecycleCleanups.push(o.remove)})}};function d3(t){Ee(t,void 0,this)}var X5=$b;function f3(t){if(typeof t!="object"&&typeof t!="function"||t===null)return t;const e=new Proxy(t,{get(i,o,h){if(!(T$.has(o)&&o in i&&i[o]===e)&&(o in i||o in Promise.prototype||typeof o=="symbol"))return typeof i=="function"?i[o]:Reflect.get(i,o,h)},set:(i,o,h,p)=>Reflect.set(i,o,h,p)});return e}var T$=new Set(["exports","_exports"]);function E$(t,e,i){const o=Object.keys(t),h=o.length;En===void 0&&queueMicrotask(Q5),En??(En=new Map);let p=En.get(t);return p===void 0&&(p={callbacks:[],keyCount:h},En.set(t,p)),p.keyCount!==h&&(p.callbacks.forEach(m=>m(o)),p.callbacks=[],p.keyCount=h),p.callbacks.push(m=>{const v=A=>Ee(e,null,A),w=m[h];w===void 0?v(void 0):t[w]===i?v(w):v(void 0)}),i}var En=void 0;function Q5(){Array.from((En==null?void 0:En.entries())??[]).forEach(([t,{callbacks:e}])=>{const i=Object.keys(t);e.forEach(o=>o(i))}),En=void 0}function In(t,e,i){var o;const h=e,p=t.manager.internals;(o=p.allWatchers)[h]??(o[h]=[]);const m=p.allWatchers[h],v=i,w=(A,$,M)=>Ee(v,null,A,$,M);return m.push(w),()=>{const A=m.indexOf(w);A!==-1&&m.splice(A,1)}}var $$=class{constructor(t){this.enabledWatchers={},this.allWatchers={},this.enableReadonly=()=>{if(this.enableReadonly=void 0,!this.component.manager.isLit)return;const e=this.component.manager.internals;Object.entries(e.members).forEach(([i,[o]])=>{var h;o&2048&&((h=e.setters)[i]??(h[i]=[]),e.setters[i].push(e.readonlySetter))})},this.trackedValue=im,this.keyTrackers=[],this.getters={},this.setters={},this.accessorGetter={},this.accessorSetter={},this.reactiveUtilsIntegrations=new Set,this._exports=new WeakMap,this.readonlySetter=(e,i,o)=>{if($n.readOnly)return e;throw new Error(`Cannot assign to read-only property "${o}" of ${this.component.el.tagName.toLowerCase()}. Trying to assign "${String(e)}"`)},this.component=t}firePropTrackers(t,e){const i=this.keyTrackers;this.trackedValue=im,this.keyTrackers=[],i.forEach(o=>o(t,e))}getSetProxy(t){const e=this.component,i=e.constructor.prototype;if(this._getSetProxy(i,t,"class"),e.manager.isLit)return;const o=e.el.constructor.prototype;i!==o&&this._getSetProxy(o,t,"html")}_getSetProxy(t,e,i){const o=this.component,h=Y5(o,e);let p;do p=Object.getOwnPropertyDescriptor(t,e);while(!p&&(t=Object.getPrototypeOf(t)));if(!p)return;const m=p.get,v=p.set,w=ju in m,A=ju in v;if(w&&A)return;const $=!w,M=!A,P=$?function(){let G=m.call(this);const H=m0.get(this);if($n.getter||H===void 0)return G;const Z=H.manager.internals;G=Z.accessorGetter[e](G,e);const X=Z.getters[e]??Lp;for(let Q=0;Q<X.length;Q++)G=X[Q](G,e);return G}:m,R=M?function(G){var rt;const H=m.call(this),Z=m0.get(this);if(Z===void 0){v.call(this,G);return}let X=Z.manager.isLit?G??void 0:v$(G,h);const Q=Z.manager.internals;if(X===H)v.call(this,X);else{const et=$n.setter?Lp:Q.setters[e]??Lp;for(let nt=0;nt<et.length&&(X=et[nt](X,H,e),X!==H);nt++);X=Q.accessorSetter[e](X,H,e),v.call(this,X),X!==H&&((rt=Q.enabledWatchers[e])==null||rt.forEach(nt=>nt(X,H,e)))}Q.keyTrackers.length>0&&(Q==null||Q.firePropTrackers(e,G))}:v;$&&(P[ju]=!0),M&&(R[ju]=!0),Object.defineProperty(t,e,{...p,get:P,set:R})}markExports(t,e){(typeof e=="object"&&e!==null||typeof e=="function")&&this._exports.set(e,t)}resolveExports(t){if(typeof t=="object"&&t!==null||typeof t=="function")return this._exports.get(t)}},Lp=[],ju=Symbol(),im=Symbol(),ra=(t,e)=>new I$(t,e),I$=class extends X5{constructor(t,e){const i="addController"in t,o=new Set;function h(w){var A;o.add(w),!(Ab in w)&&t.renderRoot&&t.el.isConnected&&((A=w.hostConnected)==null||A.call(w))}function p(w){var A;o.delete(w),(A=w.controllerRemoved)==null||A.call(w)}const m=t;if(m.addController=h,m.removeController=p,!i){const w=e??t.constructor.__forceUpdate;m.requestUpdate=()=>w(t)}super(t),this.internals=new $$(this.component),this.destroyed=!1,this._updatePromise=new em,this._originalLifecycles={},this.isLit=i,this.component.manager=this,b$(t,i),this._controllers=o,this.exports=void 0,this.hasDestroy=Dp in this.component&&typeof this.component.destroy=="function",this._bindLifecycleMethods();const v=this.internals;Object.keys(v.members).forEach(w=>{v.accessorGetter[w]=Xh,v.accessorSetter[w]=Xh,v.getSetProxy(w)}),i?this.internals.enabledWatchers=this.internals.allWatchers:Object.defineProperty(t,"updateComplete",{get:async()=>await this._updatePromise.promise}),queueMicrotask(v.enableReadonly),Tb(void 0),Ua(t),m0.set(t.el,t),m0.set(t,t)}_bindLifecycleMethods(){const t=this.component,e=this.isLit,i=t.el===t;this._originalLifecycles={_connectedCallback:e||i?void 0:t.connectedCallback,_disconnectedCallback:e||i?void 0:t.disconnectedCallback,_load:e?t.load:t.componentWillLoad,_loaded:e?t.loaded:t.componentDidLoad,_willUpdate:e?void 0:t.componentWillUpdate,_updated:e?void 0:t.componentDidUpdate,_destroy:t.destroy};const o=this._connectedCallback.bind(this),h=this._disconnectedCallback.bind(this),p=this._update.bind(this),m=this._updated.bind(this);e?t.constructor.prototype.addController.call(t,{hostConnected:o,hostDisconnected:h,hostUpdate:p,hostUpdated:m}):(t.connectedCallback=o,t.disconnectedCallback=h,t.componentWillLoad=this._load.bind(this),t.componentDidLoad=this._loaded.bind(this),t.componentWillUpdate=p,t.componentDidUpdate=m),this.hasDestroy&&(t.destroy=this.destroy.bind(this))}_connectedCallback(){var e,i;if(this.destroyed){const o=this.component.el.tagName.toLowerCase();throw this.component.el.remove(),new Error(`The ${o} component has already been destroyed. It cannot be used again. If you meant to disconnect and reconnect a component without automatic destroy, set the ${Dp} prop.`)}this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout);const t=this.internals;t.enabledWatchers=t.allWatchers,Q5(),(e=t.enableReadonly)==null||e.call(t),this._controllers.forEach(M$),(i=this._originalLifecycles._connectedCallback)==null||i.call(this.component)}_disconnectedCallback(){var t;this.destroyed||(this._controllers.forEach(O$),(t=this._originalLifecycles._disconnectedCallback)==null||t.call(this.component),this.hasDestroy&&this._setAutoDestroyTimeout())}async _load(){var e;const t=this.internals.reactiveUtilsIntegrations;if(t.size>0)for(const i of t)"triggerLoad"in i?await i.triggerLoad():await f0(i.hostLoad,i);await Promise.allSettled(Array.from(this._controllers,P$,t)),await((e=this._originalLifecycles._load)==null?void 0:e.call(this.component)),this.hasDestroy&&In(this.component,Dp,()=>this._setAutoDestroyTimeout())}_loaded(){var t;this._controllers.forEach(N$),(t=this._originalLifecycles._loaded)==null||t.call(this.component)}_update(){var e;const t=this.component;this._controllers.forEach(R$,t.$changes),(e=this._originalLifecycles._willUpdate)==null||e.call(this.component)}_updated(){var e;const t=this.component;if(this._controllers.forEach(L$,t.$changes),(e=this._originalLifecycles._updated)==null||e.call(this.component),this.isLit)t.$changes=new Map;else{const i=this._updatePromise;this._updatePromise=new em,i.resolve(!0)}}async destroy(){var t;if(!this.destroyed){if(this.component.el.isConnected){this.hasDestroy=!1;try{this.component.el.remove()}finally{this.hasDestroy=!0}}this._autoDestroyTimeout=void 0,this.destroyed=!0,this._controllers.forEach(D$),this._controllers.clear(),await((t=this._originalLifecycles._destroy)==null?void 0:t.call(this.component))}}_setAutoDestroyTimeout(){if(this._autoDestroyTimeout!==void 0&&clearTimeout(this._autoDestroyTimeout),!this.component.el.isConnected&&!this.component.autoDestroyDisabled){const t=()=>void this.destroy().catch(console.error);this._autoDestroyTimeout=g$(t,k$)}}},Dp="autoDestroyDisabled",k$=1e3,Xh=t=>t;function M$(t){"triggerConnected"in t?t.triggerConnected():Ee(t.hostConnected,t)}function O$(t){"triggerDisconnected"in t?t.triggerDisconnected():Ee(t.hostDisconnected,t)}async function P$(t){this.has(t)||("triggerLoad"in t?await t.triggerLoad():await f0(t.hostLoad,t))}function N$(t){"triggerLoaded"in t?t.triggerLoaded():Ee(t.hostLoaded,t)}function R$(t){"triggerUpdate"in t?t.triggerUpdate(this):Ee(t.hostUpdate,t,this)}function L$(t){"triggerUpdated"in t?t.triggerUpdated(this):Ee(t.hostUpdated,t,this)}function D$(t){"triggerDestroy"in t?t.triggerDestroy():Ee(t.hostDestroy,t)}function xf(t,e,i){const o=t.manager.internals;return o.trackedValue!==im&&o.trackedValue!==i&&o.firePropTrackers(void 0,void 0),o.keyTrackers.length===0&&queueMicrotask(()=>o.firePropTrackers(void 0,void 0)),o.trackedValue=i,o.keyTrackers.push((h,p)=>Ee(e,void 0,i===p?h:void 0)),i}function t4(t,e,i){const o=Array.isArray(t)?t:[t];let h=o.length+1;const p=v=>{h-=1,v!==void 0&&(h=Math.min(h,0)),h===0&&e(v)};o.forEach(v=>E$(v,w=>p(w===void 0?void 0:{key:w,host:v,isReactive:!1}),i));const m=o.find(v=>"manager"in v&&typeof v.manager=="object"&&v.manager.component===v);return m&&xf(m,v=>p(v===void 0?void 0:{key:v,host:m,isReactive:Y5(m,v)!==void 0}),i),i}function Ki(t,e){const i=_f();return xf(i,o=>{const h=o,p=i.manager,m=i,v=m[h];if(v!=null&&v!==t&&typeof e.set=="function"&&!!1){const A=e.set(v,t,h);if(A!==v)if(p.isLit)m[h]=A;else{let $=!0;p.onConnected(()=>{$&&($=!0,e4(()=>{m[h]=A}))})}}z$(i,h,e)},t)}function e4(t){$n.setter=!0;try{return t()}finally{$n.setter=!1}}function i4(t){$n.getter=!0;try{return t()}finally{$n.getter=!1}}function z$(t,e,i){var o,h;const p=i,m=t.manager.internals,v=typeof p.get=="function"?p.get:void 0;v&&((o=m.getters)[e]??(o[e]=[]),m.getters[e].unshift(v));const w=p.set==="ignore"?j$:p.set;w&&((h=m.setters)[e]??(h[e]=[]),m.setters[e].unshift(w))}var j$=(t,e)=>e;function zp(t){const e=_f();return Ki(t,{set:e.manager.internals.readonlySetter})}function F$(t){$n.readOnly=!0;try{return t()}finally{$n.readOnly=!1}}var Sf=t=>(...e)=>{const i=_$(),o=new t(...e),h=o.exports;Tb(i.at(-1));const p=o.component.manager.internals;p.markExports(o,h),o.watchExports(v=>p.markExports(o,v)),x$(o);const m=[o.component,...i].reverse();return t4(m,v=>v===void 0?void 0:U$(o,v,h),h)};function U$(t,{host:e,key:i,isReactive:o},h){const p=e,m=p[i]!==t.exports,v=p[i]!==h,w=h!==t.exports;if(m&&!v&&w&&(p[i]=t.exports),e===t.component){if(o){const $=t.component.manager.internals;v&&$.markExports(t,p[i]),In(t.component,i,M=>{M!==t.exports&&$.markExports(t,M)})}t.assignedProperty=o?void 0:i}t.watchExports(()=>{var P;if(p[i]===t.exports)return;const $=t.component.manager;((P=$.internals.setters[i])==null?void 0:P.includes($.internals.readonlySetter))?F$(()=>{p[i]=t.exports}):p[i]=t.exports})}var jp;async function B$(){return jp??(jp=q5()),await jp}var V$=Promise.all([zE(),e$()]),p3=class extends $b{async hostLoad(){const[t,{subclass:e,property:i}]=await V$;class o extends t{}const h=(M,P)=>$[P];function p(M,P,R){return $!==void 0&&($[R]=M),M}const m=this.component,v=m.manager.internals,w=[];if(i4(()=>Object.keys(v.members).forEach(M=>{v.accessorSetter[M]===Xh&&(w.push(M),v.accessorGetter[M]=h,v.accessorSetter[M]=p,i({value:m[M]})(o.prototype,M))})),this._enabledMembers=w,w.length===0)return;const A=e(m.el.tagName)(o),$=new A;this._instance=$}controllerRemoved(){var e,i;super.controllerRemoved();const t=this.component.manager.internals;(e=this._instance)==null||e.destroy(),(i=this._enabledMembers)==null||i.forEach(o=>{t.accessorGetter[o]=Xh,t.accessorSetter[o]=Xh})}},r4=(t,e)=>(i,o)=>G$(i,t,o),Ib=class extends X5{constructor(t,e,i){super(t),this._loadAccessor=e,this._options=i,this._watchedProperties=new Map,this._isBinding={value:!0},this.setProvisionalExports(Ir.makeGetterProxy(t,this._watchedProperties,this._isBinding,this.constructor.allowedPropNameMismatches));const o=t.manager.internals.reactiveUtilsIntegrations;o.add(this);const h=Array.from(o).find(p=>p instanceof p3);h&&o.delete(h),o.add(h??new p3(this.component)),xf(t,p=>{p&&(this._instancePropName=p)},this.exports)}hostConnected(){this._isBinding.value=!1}async hostLoad(){var v,w;this.reactiveUtils=await B$();const t=this.component,e=this._gatherParameters(),i=((w=(v=this._options)==null?void 0:v.editConstructorProperties)==null?void 0:w.call(t,e))??e,o=i instanceof Promise?await i:i,h=t,p=typeof this._instancePropName=="string"?h[this._instancePropName]:void 0;p!=null&&p!==this.exports?(this._instance=p,p.set(o)):this._instance=await this._createInstance(o),!t.manager.destroyed&&(Ir.watchComponentUpdates(this,this._instance,this._watchedProperties),Ir.watchAccessorUpdates(this,this._instance,this._watchedProperties),this.exports=this._instance)}_gatherParameters(){return Object.fromEntries(Array.from(this._watchedProperties,([i,o])=>[o,this.component[i]]).filter(([,i])=>i!==void 0))}async _createInstance(t){return this._isAccessorConstructor(this._loadAccessor)?new this._loadAccessor(t):await this._loadAccessor(t)}_isAccessorConstructor(t){return"prototype"in t&&"declaredClass"in t.prototype}hostDestroy(){this._instance&&this._instance.destroy()}async reCreate(){this.hostDestroy(),await this.hostLoad()}},G$=Sf(Ib),Ir={makeGetterProxy:(t,e,i,o)=>new Proxy({},{has:(h,p)=>typeof p=="string"||p in h,get:(h,p)=>{const m=Reflect.get(h,p);if(typeof p=="symbol"||p in Promise.prototype)return m;const v=p in h,w=(i==null?void 0:i.value)??!0;return v||!w?m:t4(t,A=>{A!==void 0&&e.set(A.key,p)},m)}}),watchComponentUpdates(t,e,i){function o(v,w){const A=i.get(w),$=e[A];return typeof $=="boolean"&&A!==w&&w.toLowerCase().includes("disable")?!$:$}const h=(v,w,A)=>{const $=i.get(A),M=e[$],P=typeof M=="boolean"&&$!==A&&A.toLowerCase().includes("disable");if((P?!M:p.manager.isLit?M??void 0:M)===v)return v;e[$]=P?!v:v;const B=e[$];return P?!B:B},p=t.component,m=p.manager.internals;i.forEach((v,w)=>{m.accessorGetter[w]=o,m.accessorSetter[w]=h})},watchAccessorUpdates(t,e,i){const{component:o}=t,h=o,p=e,m=q$(e);i4(()=>i.forEach((v,w)=>{if(m.has(v))return;const A=h[w];let $=p[v];o.manager.isLit&&($??($=void 0));const P=typeof A=="boolean"&&v!==w&&w.toLowerCase().includes("disable")?!A:A;P!=null&&$!==P&&(p[v]=P)})),t.onLifecycle(()=>{if(!e.destroyed)return Array.from(i,([v,w])=>t.reactiveUtils.watch(()=>p[w],()=>{const A=p[w],M=typeof A=="boolean"&&w!==v&&v.toLowerCase().includes("disable")?!A:A;e4(()=>{h[v]=M})},{initial:!0}))})},reEmitAccessorEvents(t,e,i,o){if(!("on"in e&&typeof e.on=="function"))return;const p=Object.entries(t.component).map(([w,A])=>{const $=A;if(!w.startsWith(o)||w===o||typeof $!="object"||$===null||!("emit"in $)||typeof $.emit!="function")return;const M=$.emit,P=w.slice(o.length);return[p$(P).toLowerCase(),M]}).filter(Z5);if(p.length===0)return;const m=e,v=()=>m;t.onLifecycle(()=>{if(!e.destroyed)return p.map(([w,A])=>i.on(v,w,A))})},async reCreate(t,e){const i=e.manager.useRefSync(t);i!==void 0&&await i.reCreate()}};function q$(t){var o;const i=Object.entries(((o=t.__accessor__)==null?void 0:o.metadata)??{});return new Set(i.filter(([h,p])=>(p==null?void 0:p.readOnly)===!0).map(([h])=>h))}/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */var kb=t=>W$(void 0,t),H$=class extends $b{constructor(t,e){super(t);const i=this.exports;try{Ua(this.component);const o=e(this.component,this),h=this.exports!==i;if(o instanceof Promise){h||this.setProvisionalExports(o);const p=o.then(m=>{this.exports=m,super.catchUpLifecycle()}).catch(m=>{this._ready.reject(m),console.error(m)});this.onLoad(async()=>await p)}else(!h||o!==void 0)&&(this.exports=o),queueMicrotask(()=>super.catchUpLifecycle())}catch(o){this._ready.reject(o),console.error(o)}}catchUpLifecycle(){}},W$=Sf(H$),n4=kb,J$=t=>(e={})=>kb((i,o)=>{const h=i;o.onLifecycle(()=>d$(i.el,t("./assets"),({t9nLocale:w,t9nStrings:A,lang:$})=>{const M={...A,_lang:$,_t9nLocale:w,_loading:!1};o.exports=M;const P=A.componentLabel??A.widgetLabel;typeof P=="string"&&"label"in i&&i.label==null&&(i.label??(i.label=P)),p(h.messageOverrides)},e.name));function p(w){const A=o.exports,$=A._original??A,M=s4($,w);w&&(M._original=$),o.exports=M}if("messageOverrides"in h&&o.onLifecycle(()=>In(h,"messageOverrides",p)),e.blocking)return o.ready;const m=W5(i.el);return{_lang:m.lang,_t9nLocale:m.t9nLocale,_loading:!0}});function s4(t,e){if(!e)return t;const i={...t};return Object.entries(e).forEach(([o,h])=>{typeof h=="object"?i[o]=s4(t[o],h):i[o]=h??t[o]}),i}var ou=t=>Z$,m3="arcgisPropertyChange",Z$=(...t)=>kb((e,i)=>{let h=e[m3];return e.manager.isLit&&(h=e.constructor.$createEvent(m3,void 0,e)),i.onLoad(()=>i.onLifecycle(()=>t.map(p=>In(e,p,()=>h.emit({name:p}))))),h});/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */function _s(t){t.el.childElem&&(t.el.childElem.ownedBy=t.el);const e=Y$(t);if(!e){const i=iI(t.referenceElement);if(!i){a4(t);return}return y3(i,t,!0),i}return K$(e,t.el.parent)||(t.el.parent=e,e.tagName.toLowerCase()==="arcgis-expand"?X$(e,t):e.tagName.toLowerCase()==="arcgis-placement"?Q$(e,t):y3(e,t,!1)),e}function Y$({el:t}){for(let e=t.parentElement;e;e=(e==null?void 0:e.parentElement)??null){if(g3.has(e.tagName.toLowerCase()))return e;if("ownedBy"in e&&e.ownedBy instanceof HTMLElement&&g3.has(e.ownedBy.tagName.toLowerCase()))return e.ownedBy}}const g3=new Set(["arcgis-map","arcgis-scene","arcgis-expand","arcgis-placement"]);function K$(t,e){if(t!==e)return!1;const i=t.tagName.toLowerCase();return i==="arcgis-expand"||i==="arcgis-placement"}function Cf(t,e,i="arcgisReady"){var h;const o=t;typeof((h=o.view)==null?void 0:h.ready)=="boolean"?e(o.view):t.addEventListener(i,p=>p.target===t?Cf(t,e,i):void 0,{once:!0})}const X$=(t,e)=>Cf(t,i=>{var o,h;e.el.childElem&&typeof t.content=="object"&&((o=t.content)==null||o.append(e.el.childElem)),t.expandIcon=e.icon||((h=e.widget)==null?void 0:h.icon)||t.expandIcon,e.position=t.position,e.el.view=i}),Q$=(t,e)=>Cf(t,i=>{e.el.childElem&&e.el.append(e.el.childElem),e.position=t.position,e.el.view=i}),y3=(t,e,i)=>Cf(t,o=>{i?a4(e):e.el.childElem&&tI(t,e),e.el.view=o},"arcgisViewReadyChange");function tI(t,e){var m;const i=e.el.childElem??e.el,o=[...t.children],h={};for(const v of o){const w=v.getAttribute("position")??"manual";h[w]??(h[w]=[]),h[w].push({child:v,position:w,index:o.indexOf(v)})}const p=(m=h[e.position??"manual"])==null?void 0:m.findIndex(({child:v})=>v===e.el);t.view.ui.remove(i),t.view.ui.add(i,{position:e.position,index:p})}function eI(t,e){return e===void 0||(t==null?void 0:t.targetGeometry)!==(e==null?void 0:e.targetGeometry)||(t==null?void 0:t.rotation)!==(e==null?void 0:e.rotation)||(t==null?void 0:t.scale)!==(e==null?void 0:e.scale)}function b3(t,e){return o4(e==null?void 0:e.center,t)}function o4(t,e){if(typeof e=="string")return o4(t,e.split(",").map(Number));if(!t)return e;if(Array.isArray(e)){const i=e[0],o=e[1],h=e.length>2?e[2]:void 0;if(i!==t.longitude||o!==t.latitude||h!==t.z)return e}else if(e&&!(t!=null&&t.equals(e)))return e}function a4(t){t.el.childElem&&(t.el.shadowRoot??t.el).append(t.el.childElem)}function iI(t){return typeof t!="string"?t??void 0:(t.includes("#")||t.includes(".")||t.includes("[")?void 0:document.querySelector(`#${t}`))??document.querySelector(t)??void 0}/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const rI=".arcgis-map{padding:0;margin:0;height:100%;width:100%}",nI=rI,sI=r4(BE),oI=r4(FE),v3=[0,"arcgis-map",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],view:[1040],map:[1040],allLayerViews:[1040],background:[1040],basemapView:[1040],basemap:[1025],center:[1025],constraints:[1040],extent:[1040],fatalError:[1040],floors:[1040],gamepad:[1040],graphics:[1040],ground:[1025],highlightOptions:[1040],interacting:[1028],ipsInfo:[1040],itemId:[1537,"item-id"],layerViews:[1040],magnifier:[1040],navigating:[1028],navigation:[1040],padding:[1040],popup:[1040],popupDisabled:[1028,"popup-disabled"],ready:[1028],resizeAlign:[1025,"resize-align"],resolution:[1026],rotation:[1026],scale:[1026],spatialReference:[1040],stationary:[1028],suspended:[1540],theme:[1040],timeExtent:[1040],timeZone:[1025,"time-zone"],toMap:[1040],toScreen:[1040],updating:[1540],viewpoint:[1040],zoom:[1026],addLayer:[64],addLayers:[64],closePopup:[64],destroy:[64],goTo:[64],hitTest:[64],openPopup:[64],takeScreenshot:[64],tryFatalErrorRecovery:[64],whenLayerView:[64]}],aI=zr(class extends Dr{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>v3[2]??{},this.arcgisViewReadyChange=Bt(this,"arcgisViewReadyChange",7),this.arcgisViewChange=Bt(this,"arcgisViewChange",7),this.arcgisViewClick=Bt(this,"arcgisViewClick",7),this.arcgisViewDoubleClick=Bt(this,"arcgisViewDoubleClick",7),this.arcgisViewDrag=Bt(this,"arcgisViewDrag",7),this.arcgisViewHold=Bt(this,"arcgisViewHold",7),this.arcgisViewImmediateClick=Bt(this,"arcgisViewImmediateClick",7),this.arcgisViewImmediateDoubleClick=Bt(this,"arcgisViewImmediateDoubleClick",7),this.arcgisViewKeyDown=Bt(this,"arcgisViewKeyDown",7),this.arcgisViewKeyUp=Bt(this,"arcgisViewKeyUp",7),this.arcgisViewLayerviewCreate=Bt(this,"arcgisViewLayerviewCreate",7),this.arcgisViewLayerviewCreateError=Bt(this,"arcgisViewLayerviewCreateError",7),this.arcgisViewLayerviewDestroy=Bt(this,"arcgisViewLayerviewDestroy",7),this.arcgisViewMouseWheel=Bt(this,"arcgisViewMouseWheel",7),this.arcgisViewPointerDown=Bt(this,"arcgisViewPointerDown",7),this.arcgisViewPointerEnter=Bt(this,"arcgisViewPointerEnter",7),this.arcgisViewPointerLeave=Bt(this,"arcgisViewPointerLeave",7),this.arcgisViewPointerMove=Bt(this,"arcgisViewPointerMove",7),this.arcgisViewPointerUp=Bt(this,"arcgisViewPointerUp",7),this.manager=ra(this,Dn),this.reactiveUtils=n4(q5),this._map=sI(this,{editConstructorProperties:this._editMapProperties}),this._setChildElement=e=>{this.el.childElem=e},this.autoDestroyDisabled=!1,this.view=zp(oI(this,{editConstructorProperties:this._editViewProperties})),this.map=this.view.map,this.allLayerViews=this.view.allLayerViews,this.background=this.view.background,this.basemapView=this.view.basemapView,this.basemap=this._map.basemap,this.center=Ki(void 0,{get:e=>this.view.center??e,set:e=>{const i=b3(e,this.ready?this.view:void 0);return this.ready?(this.view.center=i,this.view.center):i}}),this.constraints=this.view.constraints,this.extent=Ki(void 0,{get:e=>this.view.extent??e,set:(e,i)=>this.view.ready?(e&&!(i!=null&&i.equals(e))&&(this.view.extent=e),this.view.extent):e}),this.fatalError=this.view.fatalError,this.floors=this.view.floors,this.gamepad=Ki(void 0,{get:()=>this.ready?this.view.input.gamepad:void 0,set:"ignore"}),this.graphics=this.view.graphics,this.ground=this._map.ground,this.highlightOptions=this.view.highlightOptions,this.interacting=Ki(!1,{get:()=>this.view.interacting,set:"ignore"}),this.ipsInfo=this._map.ipsInfo,this.itemId=Ki(void 0,{get:e=>{var i;return((i=this._map.portalItem)==null?void 0:i.id)??e},set:e=>(this.ready&&Ir.reCreate(this._map,this).then(()=>{this.view.map=this._map}).catch(console.error),e)}),this.layerViews=this.view.layerViews,this.magnifier=this.view.magnifier,this.navigating=Ki(!1,{get:()=>this.view.navigating,set:"ignore"}),this.navigation=this.view.navigation,this.padding=this.view.padding,this.popup=this.view.popup,this.popupDisabled=this.view.popupEnabled,this.ready=this.view.ready,this.resizeAlign=this.view.resizeAlign,this.resolution=this.view.resolution,this.rotation=this.view.rotation,this.scale=Ki(void 0,{get:e=>this.view.scale??e,set:e=>(this.ready&&(this.view.scale=e),e)}),this.spatialReference=Ki(this.view.spatialReference,{set:(e,i)=>i!=null&&i.equals(e)?i:e}),this.stationary=Ki(!0,{get:()=>this.view.stationary,set:"ignore"}),this.suspended=this.view.suspended,this.theme=this.view.theme,this.timeExtent=this.view.timeExtent,this.timeZone=this.view.timeZone,this.toMap=zp((...e)=>this.view.toMap(...e)),this.toScreen=zp((...e)=>this.view.toScreen(...e)),this.updating=this.view.updating,this.viewpoint=Ki(void 0,{get:()=>this.view.viewpoint,set:(e,i)=>eI(i,e)?e:i}),this.zoom=Ki(void 0,{get:e=>this.view.zoom??e,set:e=>(this.ready&&(this.view.zoom=e),e)})}async addLayer(e,i){var o;(o=this.map)==null||o.add(e,i)}async addLayers(e,i){var o;(o=this.map)==null||o.addMany(e,i)}async closePopup(){var e;(e=this.view)==null||e.closePopup()}async destroy(){await this.manager.destroy()}async goTo(e,i){var o;return await((o=this.view)==null?void 0:o.goTo(e,i))}async hitTest(e,i){var o;return await((o=this.view)==null?void 0:o.hitTest(e,i))}async openPopup(e){var i;await((i=this.view)==null?void 0:i.openPopup(e))}async takeScreenshot(e){var i;return await((i=this.view)==null?void 0:i.takeScreenshot(e))}async tryFatalErrorRecovery(){var e;(e=this.view)==null||e.tryFatalErrorRecovery()}async whenLayerView(e){var i;return await((i=this.view)==null?void 0:i.whenLayerView(e))}componentDidLoad(){var i;(i=this.view).container??(i.container=this.el.childElem);const{watch:e}=this.reactiveUtils;this.manager.onLifecycle(()=>[e(()=>this.view.stationary,()=>{this.arcgisViewChange.emit()},{initial:!0}),e(()=>this.view.ready,()=>this.arcgisViewReadyChange.emit(),{initial:this.view.ready})]),Ir.reEmitAccessorEvents(this.manager,this.view,this.reactiveUtils,"arcgisView")}render(){return Dt("div",{key:"77569d288f8260b1aeddb513498de4b38a9dd9ae",class:"arcgis-map",ref:this._setChildElement})}_editMapProperties(e){this.map&&(this._map=this.map),this.itemId?e.portalItem={id:this.itemId}:this.basemap?this.basemap==="none"&&(e.basemap=void 0):e.basemap="topo-vector";const{basemap:i,...o}=e;i||(e=o);const{ground:h,...p}=e;return h||(e=p),e}_editViewProperties(e){this.view.ui||(e.ui={components:["attribution"]}),e.map??(e.map=this._map);const i=b3(this.center,void 0);return i&&(e.center=i),this.viewpoint&&(e.viewpoint=this.viewpoint),this.scale!==void 0&&(e.scale=this.scale),this.extent&&(e.extent=this.extent),this.zoom!==void 0&&(e.zoom=this.zoom),e}get el(){return this}static get style(){return nI}},v3);function lI(){if(typeof customElements>"u")return;["arcgis-map"].forEach(e=>{switch(e){case"arcgis-map":customElements.get(e)||customElements.define(e,aI);break}})}lI();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const Af=(t,e)=>(i,o)=>cI(i,t,o);class hI extends Ib{constructor(e,i,o){super(e,i,o),this._watchedViewModelProperties=new Map,this._watchedVisibleElementsProperties={},this._isBindingViewModel={value:!0},Object.defineProperty(this.exports,"viewModel",{value:Ir.makeGetterProxy(e,this._watchedViewModelProperties,this._isBindingViewModel)}),Object.defineProperty(this.exports,"visibleElements",{value:this._makeVisibleElementsBinder()})}hostConnected(){super.hostConnected(),this._isBindingViewModel.value=!1,this.component.manager.loadedCalled&&_s(this.component)}async hostLoad(){if(this._watchedProperties.delete("viewModel"),await super.hostLoad(),this.component.manager.destroyed)return;this._watchMetaProperties(),Ir.reEmitAccessorEvents(this,this._instance,this.reactiveUtils,"widget"),this.onLifecycle(()=>this.reactiveUtils.watch(()=>this._instance.viewModel,o=>{this.component.viewModel=o},{initial:!0}));const e=this._instance.viewModel;typeof e=="object"&&(Ir.reEmitAccessorEvents(this,e,this.reactiveUtils,"viewModel"),Ir.watchComponentUpdates(this,e,this._watchedViewModelProperties),Ir.watchAccessorUpdates(this,e,this._watchedViewModelProperties));const i=Object.entries(this._watchedVisibleElementsProperties);i.length>0&&this.onLifecycle(()=>i.map(([o,h])=>{let p=this._instance.visibleElements??{},m;for(const $ of h.slice(0,-1))if(typeof p[$]=="object"&&p[$]!==null)p=p[$];else{m=!!p[$];break}m===void 0&&(m=!!(p[h.slice(-1)[0]]??!0)),o.startsWith("hide");const w=o.startsWith("hide")||o.startsWith("show")?o.startsWith("hide"):m,A=this.component;return typeof A[o]=="boolean"?this._updateWidgetVisibleElement(h,A[o],w):A[o]=!1,In(this.component,o,$=>this._updateWidgetVisibleElement(h,$,w))}))}_updateWidgetVisibleElement(e,i,o){let h=this._instance.visibleElements??{};for(const m of e.slice(0,-1))(typeof h[m]!="object"||h[m]===null)&&(h[m]={}),h=h[m];const p=!!(o?!i:i);h[e.at(-1)]=p}hostLoaded(){const{el:e}=this.component;e.childElem??(e.childElem=document.createElement("div")),this._instance.container=e.childElem;let i=!1;const o=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>{var h;return this._instance.view??((h=this._instance.viewModel)==null?void 0:h.view)},set:h=>{!("view"in this._instance)&&typeof this._instance.viewModel=="object"?this._instance.viewModel.view=h:this._instance.view=h,!("map"in this._instance)&&typeof this._instance.viewModel=="object"?this._instance.viewModel.map=h.map:this._instance.map=h.map,this._watchViewDestroy(),h&&!i&&(i=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),o&&(this._instance.view=o),this.component.el.isConnected&&(_s(this.component),this._watchViewDestroy())}hostDisconnected(){var e,i;typeof this.component.el.childElem=="object"&&((i=(e=this.component.el.view)==null?void 0:e.ui)==null||i.remove(this.component.el.childElem))}hostDestroy(){var e;super.hostDestroy(),(e=this._watchViewDestroyHandle)==null||e.remove()}_watchMetaProperties(){In(this.component,"position",e=>{this.component.el.childElem!=null&&typeof e=="string"&&_s(this.component)}),In(this.component,"referenceElement",()=>_s(this.component))}_makeVisibleElementsBinder(){return new Proxy({},{has:(e,i)=>typeof i=="string"||Reflect.has(e,i),get:(e,i)=>{if(typeof i=="symbol"||i in Promise.prototype)return Reflect.get(e,i);const o=[i],h=this._makeRecursiveProxy(o);return xf(this.component,p=>{const m=p;this.component[m]=!1,this._watchedVisibleElementsProperties[m]=o},h)}})}_makeRecursiveProxy(e){const i=new Proxy({},{get:(o,h)=>{const p=Reflect.get(o,h);return typeof h=="symbol"||h in Promise.prototype?p:(e.push(h),i)}});return i}_watchViewDestroy(){var e;(e=this._watchViewDestroyHandle)==null||e.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>{var i;return((i=this.component.el.view)==null?void 0:i.destroyed)===!0},()=>void this.component.destroy().catch(console.error),{sync:!0})}}const cI=Sf(hI);/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const uI="",dI=uI,fI=Af(YE),w3=[0,"arcgis-legend",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],headingLevel:[1026,"heading-level"],referenceElement:[1025,"reference-element"],activeLayerInfos:[1040],basemapLegendVisible:[1028,"basemap-legend-visible"],hideLayersNotInCurrentView:[1028,"hide-layers-not-in-current-view"],icon:[1025],label:[1025],respectLayerVisibilityDisabled:[1028,"respect-layer-visibility-disabled"],legendStyle:[1025,"legend-style"],layerInfos:[1040],position:[1025],respectLayerDefinitionExpression:[1028,"respect-layer-definition-expression"],state:[1537],destroy:[64]}],pI=zr(class extends Dr{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>w3[2]??{},this.arcgisReady=Bt(this,"arcgisReady",7),this.arcgisPropertyChange=Bt(this,"arcgisPropertyChange",7),this.manager=ra(this,Dn),this.widget=fI(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=ou()("state"),this.autoDestroyDisabled=!1,this.headingLevel=this.widget.headingLevel,this.referenceElement=void 0,this.activeLayerInfos=this.widget.activeLayerInfos,this.basemapLegendVisible=this.widget.basemapLegendVisible,this.hideLayersNotInCurrentView=this.widget.hideLayersNotInCurrentView,this.icon=this.widget.icon,this.label=this.widget.label,this.respectLayerVisibilityDisabled=this.widget.respectLayerVisibility,this.legendStyle=this.widget.style,this.layerInfos=this.widget.layerInfos,this.position="bottom-left",this.respectLayerDefinitionExpression=this.widget.respectLayerDefinitionExpression,this.state=this.viewModel.state}async destroy(){await this.manager.destroy()}get el(){return this}static get style(){return dI}},w3);function mI(){if(typeof customElements>"u")return;["arcgis-legend"].forEach(e=>{switch(e){case"arcgis-legend":customElements.get(e)||customElements.define(e,pI);break}})}mI();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const gI="",yI=gI,bI=Af(XE),_3=[0,"arcgis-search",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],activeMenu:[1025,"active-menu"],activeSource:[1040],activeSourceIndex:[1026,"active-source-index"],allPlaceholder:[1025,"all-placeholder"],allSources:[1040],autoSelectDisabled:[1028,"auto-select-disabled"],defaultSources:[1040],disabled:[1540],icon:[1025],label:[1025],includeDefaultSourcesDisabled:[1028,"include-default-sources-disabled"],locationDisabled:[1028,"location-disabled"],maxResults:[1026,"max-results"],maxSuggestions:[1026,"max-suggestions"],minSuggestCharacters:[1026,"min-suggest-characters"],popupDisabled:[1028,"popup-disabled"],popupTemplate:[1040],portal:[1040],resultGraphic:[1040],resultGraphicDisabled:[1028,"result-graphic-disabled"],results:[1040],searchAllDisabled:[1028,"search-all-disabled"],searchTerm:[1025,"search-term"],selectedResult:[1040],sources:[1040],suggestions:[1040],suggestionsDisabled:[1028,"suggestions-disabled"],position:[1025],state:[1537],blurSearch:[64],clearSearch:[64],focusSearch:[64],destroy:[64],search:[64],suggest:[64]}],vI=zr(class extends Dr{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>_3[2]??{},this.arcgisReady=Bt(this,"arcgisReady",7),this.arcgisPropertyChange=Bt(this,"arcgisPropertyChange",7),this.widgetSearchBlur=Bt(this,"arcgisBlur",7),this.widgetSearchClear=Bt(this,"arcgisClear",7),this.widgetSearchComplete=Bt(this,"arcgisComplete",7),this.widgetSearchFocus=Bt(this,"arcgisFocus",7),this.widgetSearchStart=Bt(this,"arcgisStart",7),this.widgetSelectResult=Bt(this,"arcgisSelectResult",7),this.widgetSuggestComplete=Bt(this,"arcgisSuggestComplete",7),this.widgetSuggestStart=Bt(this,"arcgisSuggestStart",7),this.manager=ra(this,Dn),this.widget=bI(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=ou()("state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.activeMenu=this.widget.activeMenu,this.activeSource=this.widget.activeSource,this.activeSourceIndex=this.widget.activeSourceIndex,this.allPlaceholder=this.widget.allPlaceholder,this.allSources=this.widget.allSources,this.autoSelectDisabled=this.widget.autoSelect,this.defaultSources=this.widget.defaultSources,this.disabled=this.widget.disabled,this.icon=this.widget.icon,this.label=this.widget.label,this.includeDefaultSourcesDisabled=this.widget.includeDefaultSources,this.locationDisabled=this.widget.locationEnabled,this.maxResults=this.widget.maxResults,this.maxSuggestions=this.widget.maxSuggestions,this.minSuggestCharacters=this.widget.minSuggestCharacters,this.popupDisabled=this.widget.popupEnabled,this.popupTemplate=this.widget.popupTemplate,this.portal=this.widget.portal,this.resultGraphic=this.widget.resultGraphic,this.resultGraphicDisabled=this.widget.resultGraphicEnabled,this.results=this.widget.results,this.searchAllDisabled=this.widget.searchAllEnabled,this.searchTerm=this.widget.searchTerm,this.selectedResult=this.widget.selectedResult,this.sources=this.widget.sources,this.suggestions=this.widget.suggestions,this.suggestionsDisabled=this.widget.suggestionsEnabled,this.position="top-right",this.state=this.viewModel.state}async blurSearch(){var e;(e=this.widget)==null||e.blur()}async clearSearch(){var e;(e=this.widget)==null||e.clear()}async focusSearch(){var e;(e=this.widget)==null||e.focus()}async destroy(){await this.manager.destroy()}async search(e){var i;return await((i=this.widget)==null?void 0:i.search(e))}async suggest(e){var i;return await((i=this.widget)==null?void 0:i.suggest(e))}get el(){return this}static get style(){return yI}},_3);function wI(){if(typeof customElements>"u")return;["arcgis-search"].forEach(e=>{switch(e){case"arcgis-search":customElements.get(e)||customElements.define(e,vI);break}})}wI();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const _I="",xI=_I,SI=Af(HE),x3=[0,"arcgis-editor",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],referenceElement:[1025,"reference-element"],activeWorkflow:[1040],allowedWorkflows:[1025,"allowed-workflows"],icon:[1025],label:[1025],labelOptions:[1040],layerInfos:[1040],snappingOptions:[1040],supportingWidgetDefaults:[1040],tooltipOptions:[1040],headingLevel:[1026,"heading-level"],hideCreateFeaturesSection:[1028,"hide-create-features-section"],hideEditFeaturesSection:[1028,"hide-edit-features-section"],hideLabelsToggle:[1028,"hide-labels-toggle"],hideTooltipsToggle:[1028,"hide-tooltips-toggle"],showSnappingControlsElementsHeader:[1028,"show-snapping-controls-elements-header"],hideSnappingControlsElementsEnabledToggle:[1028,"hide-snapping-controls-elements-enabled-toggle"],hideSnappingControlsElementsSelfEnabledToggle:[1028,"hide-snapping-controls-elements-self-enabled-toggle"],hideSnappingControlsElementsFeatureEnabledToggle:[1028,"hide-snapping-controls-elements-feature-enabled-toggle"],hideSnappingControlsElementsLayerList:[1028,"hide-snapping-controls-elements-layer-list"],position:[1025],state:[1537],cancelWorkflow:[64],destroy:[64],deleteFeatureFromWorkflow:[64],startCreateFeaturesWorkflowAtFeatureCreation:[64],startCreateFeaturesWorkflowAtFeatureTypeSelection:[64],startUpdateWorkflowAtFeatureEdit:[64],startUpdateWorkflowAtFeatureSelection:[64],startUpdateWorkflowAtMultipleFeatureSelection:[64]}],CI=zr(class extends Dr{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>x3[2]??{},this.arcgisReady=Bt(this,"arcgisReady",7),this.arcgisPropertyChange=Bt(this,"arcgisPropertyChange",7),this.manager=ra(this,Dn),this.widget=SI(this),this.viewModel=this.widget.viewModel,this.arcgisPropertyChange=ou()("activeWorkflow","state"),this.autoDestroyDisabled=!1,this.referenceElement=void 0,this.activeWorkflow=this.widget.activeWorkflow,this.allowedWorkflows=this.widget.allowedWorkflows,this.icon=this.widget.icon,this.label=this.widget.label,this.labelOptions=this.widget.labelOptions,this.layerInfos=this.widget.layerInfos,this.snappingOptions=this.widget.snappingOptions,this.supportingWidgetDefaults=this.widget.supportingWidgetDefaults,this.tooltipOptions=this.widget.tooltipOptions,this.headingLevel=this.widget.headingLevel,this.hideCreateFeaturesSection=this.widget.visibleElements.createFeaturesSection,this.hideEditFeaturesSection=this.widget.visibleElements.editFeaturesSection,this.hideLabelsToggle=this.widget.visibleElements.labelsToggle,this.hideTooltipsToggle=this.widget.visibleElements.tooltipsToggle,this.showSnappingControlsElementsHeader=this.widget.visibleElements.snappingControlsElements.header,this.hideSnappingControlsElementsEnabledToggle=this.widget.visibleElements.snappingControlsElements.enabledToggle,this.hideSnappingControlsElementsSelfEnabledToggle=this.widget.visibleElements.snappingControlsElements.selfEnabledToggle,this.hideSnappingControlsElementsFeatureEnabledToggle=this.widget.visibleElements.snappingControlsElements.featureEnabledToggle,this.hideSnappingControlsElementsLayerList=this.widget.visibleElements.snappingControlsElements.layerList,this.position="bottom-left",this.state=this.viewModel.state}async cancelWorkflow(){var e;await((e=this.widget)==null?void 0:e.cancelWorkflow())}async destroy(){await this.manager.destroy()}async deleteFeatureFromWorkflow(){var e;await((e=this.widget)==null?void 0:e.deleteFeatureFromWorkflow())}async startCreateFeaturesWorkflowAtFeatureCreation(e){var i;await((i=this.widget)==null?void 0:i.startCreateFeaturesWorkflowAtFeatureCreation(e))}async startCreateFeaturesWorkflowAtFeatureTypeSelection(){var e;await((e=this.widget)==null?void 0:e.startCreateFeaturesWorkflowAtFeatureTypeSelection())}async startUpdateWorkflowAtFeatureEdit(e){var i;await((i=this.widget)==null?void 0:i.startUpdateWorkflowAtFeatureEdit(e))}async startUpdateWorkflowAtFeatureSelection(){var e;await((e=this.widget)==null?void 0:e.startUpdateWorkflowAtFeatureSelection())}async startUpdateWorkflowAtMultipleFeatureSelection(e){var i;await((i=this.widget)==null?void 0:i.startUpdateWorkflowAtMultipleFeatureSelection(e))}get el(){return this}static get style(){return xI}},x3);function AI(){if(typeof customElements>"u")return;["arcgis-editor"].forEach(e=>{switch(e){case"arcgis-editor":customElements.get(e)||customElements.define(e,CI);break}})}AI();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const TI="arcgis-expand{pointer-events:auto}arcgis-expand>.esri-expand__content--expanded{background-color:var(--calcite-color-background)}",EI=TI,$I=Af(JE),S3=[0,"arcgis-expand",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],icon:[1025],content:[1025],label:[1025],autoCollapse:[1028,"auto-collapse"],closeOnEsc:[1028,"close-on-esc"],collapseIcon:[1025,"collapse-icon"],collapseTooltip:[1025,"collapse-tooltip"],expanded:[1540],expandIcon:[1025,"expand-icon"],expandTooltip:[1025,"expand-tooltip"],group:[1025],iconNumber:[1026,"icon-number"],mode:[1025],placement:[1025],position:[1025],referenceElement:[1025,"reference-element"],destroy:[64],collapse:[64],expand:[64],toggle:[64]}],II=zr(class extends Dr{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>S3[2]??{},this.arcgisReady=Bt(this,"arcgisReady",7),this.manager=ra(this,Dn),this.widget=$I(this),this.viewModel=this.widget.viewModel,this.autoDestroyDisabled=!1,this.icon=this.widget.icon,this.content=this.widget.content,this.label=this.widget.label,this.autoCollapse=this.widget.autoCollapse,this.closeOnEsc=this.widget.closeOnEsc,this.collapseIcon=this.widget.collapseIcon,this.collapseTooltip=this.widget.collapseTooltip,this.expanded=this.widget.expanded,this.expandIcon=this.widget.expandIcon,this.expandTooltip=this.widget.expandTooltip,this.group=this.widget.group,this.iconNumber=this.widget.iconNumber,this.mode=this.widget.mode,this.placement=this.widget.placement,this.position="top-right",this.referenceElement=void 0,this.content??(this.content=document.createElement("div"))}async destroy(){await this.manager.destroy()}async collapse(){var e;(e=this.widget)==null||e.collapse()}async expand(){var e;(e=this.widget)==null||e.expand()}async toggle(){this.expanded?await this.collapse():await this.expand()}get el(){return this}static get style(){return EI}},S3);function kI(){if(typeof customElements>"u")return;["arcgis-expand"].forEach(e=>{switch(e){case"arcgis-expand":customElements.get(e)||customElements.define(e,II);break}})}kI();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */let MI="https://js.arcgis.com/map-components/next/";const OI=t=>{const e=new URL(t,MI);return e.origin!==window.location.origin?e.href:e.pathname};/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const l4=J$(OI),h4=(t,e)=>(i,o)=>NI(i,t,o);class PI extends Ib{hostConnected(){this.component.manager.loadedCalled&&_s(this.component)}async hostLoad(){await super.hostLoad(),!this.component.manager.destroyed&&(this._watchMetaProperties(),Ir.reEmitAccessorEvents(this,this._instance,this.reactiveUtils,"viewModel"))}hostLoaded(){var p;const{el:e}=this.component,i=((p=e.shadowRoot)==null?void 0:p.firstElementChild)??e.firstElementChild??void 0;e.childElem=i??e.childElem;let o=!1;const h=this.component.el.view;Object.defineProperty(this.component.el,"view",{get:()=>this._instance.view,set:m=>{const v=this.component.el.view,w=m;this._instance.view=w,this._instance.map=w==null?void 0:w.map,this._watchViewDestroy(),this.component.requestUpdate("view",v),m&&!o&&(o=!0,this.component.arcgisReady.emit())},configurable:!0,enumerable:!0}),h&&(this._instance.view=h),this.component.el.isConnected&&(_s(this.component),this._watchViewDestroy())}hostDisconnected(){var e,i;typeof this.component.el.childElem=="object"&&((i=(e=this.component.el.view)==null?void 0:e.ui)==null||i.remove(this.component.el.childElem))}hostDestroy(){var e;super.hostDestroy(),(e=this._watchViewDestroyHandle)==null||e.remove()}_watchMetaProperties(){In(this.component,"position",e=>{this.component.el.childElem!=null&&typeof e=="string"&&_s(this.component)}),In(this.component,"referenceElement",()=>_s(this.component))}_watchViewDestroy(){var e;(e=this._watchViewDestroyHandle)==null||e.remove(),this._watchViewDestroyHandle=this.reactiveUtils.when(()=>{var i;return((i=this.component.el.view)==null?void 0:i.destroyed)===!0},()=>void this.component.destroy().catch(console.error),{sync:!0})}}const NI=Sf(PI);/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const Qh={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",disabledElement:"esri-disabled-element",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",noBookmarksIcon:"esri-widget__no-bookmark-icon",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",ui:"esri-component",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */function RI(t){return t.map(e=>{let i="";for(let o=0;o<e;o++)i+=((1+Math.random())*65536|0).toString(16).substring(1);return i}).join("-")}const c4=()=>RI([2,1,1,1,3]);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const u4="calcite-mode-auto",d4="calcite-mode-dark",LI="calcite-mode-light",C3={autoMode:u4,darkMode:d4,lightMode:LI,rtl:"calcite--rtl",calciteAnimate:"calcite-animate",calciteAnimateIn:"calcite-animate__in",calciteAnimateInUp:"calcite-animate__in-up",calciteAnimateInDown:"calcite-animate__in-down",calciteAnimateInRight:"calcite-animate__in-right",calciteAnimateInLeft:"calcite-animate__in-left",calciteAnimateInScale:"calcite-animate__in-scale"},uX={filter:250,nextTick:0,resize:150,reposition:100};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 *//*!
* tabbable 6.2.0
* @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
*/var f4=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],g0=f4.join(","),p4=typeof Element>"u",zo=p4?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,y0=!p4&&Element.prototype.getRootNode?function(t){var e;return t==null||(e=t.getRootNode)===null||e===void 0?void 0:e.call(t)}:function(t){return t==null?void 0:t.ownerDocument},b0=function t(e,i){var o;i===void 0&&(i=!0);var h=e==null||(o=e.getAttribute)===null||o===void 0?void 0:o.call(e,"inert"),p=h===""||h==="true",m=p||i&&e&&t(e.parentNode);return m},DI=function(e){var i,o=e==null||(i=e.getAttribute)===null||i===void 0?void 0:i.call(e,"contenteditable");return o===""||o==="true"},m4=function(e,i,o){if(b0(e))return[];var h=Array.prototype.slice.apply(e.querySelectorAll(g0));return i&&zo.call(e,g0)&&h.unshift(e),h=h.filter(o),h},g4=function t(e,i,o){for(var h=[],p=Array.from(e);p.length;){var m=p.shift();if(!b0(m,!1))if(m.tagName==="SLOT"){var v=m.assignedElements(),w=v.length?v:m.children,A=t(w,!0,o);o.flatten?h.push.apply(h,A):h.push({scopeParent:m,candidates:A})}else{var $=zo.call(m,g0);$&&o.filter(m)&&(i||!e.includes(m))&&h.push(m);var M=m.shadowRoot||typeof o.getShadowRoot=="function"&&o.getShadowRoot(m),P=!b0(M,!1)&&(!o.shadowRootFilter||o.shadowRootFilter(m));if(M&&P){var R=t(M===!0?m.children:M.children,!0,o);o.flatten?h.push.apply(h,R):h.push({scopeParent:m,candidates:R})}else p.unshift.apply(p,m.children)}}return h},y4=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},b4=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||DI(e))&&!y4(e)?0:e.tabIndex},zI=function(e,i){var o=b4(e);return o<0&&i&&!y4(e)?0:o},jI=function(e,i){return e.tabIndex===i.tabIndex?e.documentOrder-i.documentOrder:e.tabIndex-i.tabIndex},v4=function(e){return e.tagName==="INPUT"},FI=function(e){return v4(e)&&e.type==="hidden"},UI=function(e){var i=e.tagName==="DETAILS"&&Array.prototype.slice.apply(e.children).some(function(o){return o.tagName==="SUMMARY"});return i},BI=function(e,i){for(var o=0;o<e.length;o++)if(e[o].checked&&e[o].form===i)return e[o]},VI=function(e){if(!e.name)return!0;var i=e.form||y0(e),o=function(v){return i.querySelectorAll('input[type="radio"][name="'+v+'"]')},h;if(typeof window<"u"&&typeof window.CSS<"u"&&typeof window.CSS.escape=="function")h=o(window.CSS.escape(e.name));else try{h=o(e.name)}catch(m){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",m.message),!1}var p=BI(h,e.form);return!p||p===e},GI=function(e){return v4(e)&&e.type==="radio"},qI=function(e){return GI(e)&&!VI(e)},HI=function(e){var i,o=e&&y0(e),h=(i=o)===null||i===void 0?void 0:i.host,p=!1;if(o&&o!==e){var m,v,w;for(p=!!((m=h)!==null&&m!==void 0&&(v=m.ownerDocument)!==null&&v!==void 0&&v.contains(h)||e!=null&&(w=e.ownerDocument)!==null&&w!==void 0&&w.contains(e));!p&&h;){var A,$,M;o=y0(h),h=(A=o)===null||A===void 0?void 0:A.host,p=!!(($=h)!==null&&$!==void 0&&(M=$.ownerDocument)!==null&&M!==void 0&&M.contains(h))}}return p},A3=function(e){var i=e.getBoundingClientRect(),o=i.width,h=i.height;return o===0&&h===0},WI=function(e,i){var o=i.displayCheck,h=i.getShadowRoot;if(getComputedStyle(e).visibility==="hidden")return!0;var p=zo.call(e,"details>summary:first-of-type"),m=p?e.parentElement:e;if(zo.call(m,"details:not([open]) *"))return!0;if(!o||o==="full"||o==="legacy-full"){if(typeof h=="function"){for(var v=e;e;){var w=e.parentElement,A=y0(e);if(w&&!w.shadowRoot&&h(w)===!0)return A3(e);e.assignedSlot?e=e.assignedSlot:!w&&A!==e.ownerDocument?e=A.host:e=w}e=v}if(HI(e))return!e.getClientRects().length;if(o!=="legacy-full")return!0}else if(o==="non-zero-area")return A3(e);return!1},JI=function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var i=e.parentElement;i;){if(i.tagName==="FIELDSET"&&i.disabled){for(var o=0;o<i.children.length;o++){var h=i.children.item(o);if(h.tagName==="LEGEND")return zo.call(i,"fieldset[disabled] *")?!0:!h.contains(e)}return!0}i=i.parentElement}return!1},v0=function(e,i){return!(i.disabled||b0(i)||FI(i)||WI(i,e)||UI(i)||JI(i))},rm=function(e,i){return!(qI(i)||b4(i)<0||!v0(e,i))},ZI=function(e){var i=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(i)||i>=0)},YI=function t(e){var i=[],o=[];return e.forEach(function(h,p){var m=!!h.scopeParent,v=m?h.scopeParent:h,w=zI(v,m),A=m?t(h.candidates):v;w===0?m?i.push.apply(i,A):i.push(v):o.push({documentOrder:p,tabIndex:w,item:h,isScope:m,content:A})}),o.sort(jI).reduce(function(h,p){return p.isScope?h.push.apply(h,p.content):h.push(p.content),h},[]).concat(i)},KI=function(e,i){i=i||{};var o;return i.getShadowRoot?o=g4([e],i.includeContainer,{filter:rm.bind(null,i),flatten:!1,getShadowRoot:i.getShadowRoot,shadowRootFilter:ZI}):o=m4(e,i.includeContainer,rm.bind(null,i)),YI(o)},dX=function(e,i){i=i||{};var o;return i.getShadowRoot?o=g4([e],i.includeContainer,{filter:v0.bind(null,i),flatten:!0,getShadowRoot:i.getShadowRoot}):o=m4(e,i.includeContainer,v0.bind(null,i)),o},fX=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return zo.call(e,g0)===!1?!1:rm(i,e)},XI=f4.concat("iframe").join(","),pX=function(e,i){if(i=i||{},!e)throw new Error("No node provided");return zo.call(e,XI)===!1?!1:v0(i,e)};const QI={getShadowRoot:!0};function mX(t){return t?t.id=t.id||`${t.tagName.toLowerCase()}-${c4()}`:""}function gX(t){return Array.isArray(t)?t:Array.from(t)}function yX(t){const e=zn(t,`.${C3.darkMode}, .${C3.lightMode}`);return e!=null&&e.classList.contains("calcite-mode-dark")?"dark":"light"}function tk(t){const e="dir",i=`[${e}]`,o=zn(t,i);return o?o.getAttribute(e):"ltr"}function bX(t){return t?parseFloat(getComputedStyle(t).inlineSize):0}function Mb(t){return t.getRootNode()}function vX(t){const e=Mb(t);return"host"in e?e:null}function wX(t,e){if(!t)return 0;const o=document.createElement("canvas").getContext("2d");return o.font=e,o.measureText(t).width}function w4(t){return t.host||null}function Ob(t,{selector:e,id:i}){if(!t)return null;t.assignedSlot&&(t=t.assignedSlot);const o=Mb(t);return(i?"getElementById"in o?o.getElementById(i):null:e?o.querySelector(e):null)||Ob(w4(o),{selector:e,id:i})}function zn(t,e){return t?t.closest(e)||zn(w4(Mb(t)),e):null}function ek(t,e){return _4(t,e)}function _4(t,e){if(!t)return;const i=e(t);if(i!==void 0)return i;const{parentNode:o}=t;return _4(o instanceof ShadowRoot?o.host:o,e)}function ik(t,e){return!!ek(e,i=>i===t?!0:void 0)}function rk(t){return typeof(t==null?void 0:t.setFocus)=="function"}async function nk(t){if(t)return rk(t)?t.setFocus():t.focus()}function sk(t){if(t)return KI(t,QI)[0]??t}function _X(t){var e;(e=sk(t))==null||e.focus()}const vc=":not([slot])";function xX(t,e,i){e&&!Array.isArray(e)&&typeof e!="string"&&(i=e,e=null);const o=e?Array.isArray(e)?e.map(h=>`[slot="${h}"]`).join(","):`[slot="${e}"]`:vc;return i!=null&&i.all?ok(t,o,i):ak(t,o,i)}function x4(t,e){return t?Array.from(t.children||[]).filter(i=>i==null?void 0:i.matches(e)):[]}function ok(t,e,i){let o=e===vc?x4(t,vc):Array.from(t.querySelectorAll(e));o=i&&i.direct===!1?o:o.filter(p=>p.parentElement===t),o=i!=null&&i.matches?o.filter(p=>p==null?void 0:p.matches(i.matches)):o;const h=i==null?void 0:i.selector;return h?o.map(p=>Array.from(p.querySelectorAll(h))).reduce((p,m)=>[...p,...m],[]).filter(p=>!!p):o}function ak(t,e,i){let o=e===vc?x4(t,vc)[0]||null:t.querySelector(e);o=i&&i.direct===!1||(o==null?void 0:o.parentElement)===t?o:null,o=i!=null&&i.matches?o!=null&&o.matches(i.matches)?o:null:o;const h=i==null?void 0:i.selector;return h?o==null?void 0:o.querySelector(h):o}function SX(t,e){return Array.from(t.children).filter(i=>i.matches(e))}function lk(t,e){return t.filter(i=>i.matches(e))}function CX(t,e,i){if(typeof e=="string"&&e!=="")return e;if(e==="")return t[i]}function S4(t){return(!!t).toString()}function hk(t){return fk(t)||uk(t)}function ck(t){return dk(t).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent).join("").trim()}function uk(t){return!!ck(t)}function dk(t){return t.currentTarget.assignedNodes({flatten:!0})}function fk(t){return!!pk(t).length}function pk(t,e){return mk(t.target,e)}function mk(t,e){const i=t.assignedElements({flatten:!0});return e?lk(i,e):i}function AX(t){return!!(t.isPrimary&&t.button===0)}function TX(t){return t.detail===0}const EX=(t,e,i,o=!0)=>{const h=t.indexOf(e),p=h===0,m=h===t.length-1;o&&(i=i==="previous"&&p?"last":i==="next"&&m?"first":i);let v;return i==="previous"?v=t[h-1]||t[o?t.length-1:h]:i==="next"?v=t[h+1]||t[o?0:h]:i==="last"?v=t[t.length-1]:v=t[0],nk(v),v};function gk(t,e){if(t.parentNode!==e.parentNode)return!1;const i=Array.from(t.parentNode.children);return i.indexOf(t)<i.indexOf(e)}async function $X(t,e,i,o){return yk(t,e,"transition",i,o)}async function yk(t,e,i,o,h){const p=window.getComputedStyle(t),m=p.transitionDuration,v=p.transitionProperty,w=m.split(","),$=v.split(",").map(H=>H.trim()).indexOf(e),M=w[$]??w[0];function P(){requestAnimationFrame(()=>{o==null||o(),requestAnimationFrame(()=>h==null?void 0:h())})}if(M==="0s"){P();return}const R="transitionstart",B="transitionend",G="transitioncancel";return new Promise(H=>{const Z=window.setTimeout(()=>{t.removeEventListener(R,X),t.removeEventListener(B,Q),t.removeEventListener(G,Q),P(),H()},parseFloat(M)*1e3);t.addEventListener(R,X),t.addEventListener(B,Q),t.addEventListener(G,Q);function X(rt){rt.target===t&&T3(rt)===e&&(window.clearTimeout(Z),t.removeEventListener(R,X),o==null||o())}function Q(rt){rt.target===t&&T3(rt)===e&&(t.removeEventListener(B,Q),t.removeEventListener(G,Q),h==null||h(),H())}})}function bk(t){return"propertyName"in t}function T3(t){return bk(t)?t.propertyName:t.animationName}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const vk=["calcite-input","calcite-input-number","calcite-input-text","calcite-text-area"];function wk(t){return`${t.split("-").map((o,h)=>h===0?o:`${o[0].toUpperCase()}${o.slice(1)}`).join("")}${vk.includes(t)?"Input":"Change"}`}const nm="hidden-form-input";function Pb(t){return"checked"in t}const sm=new WeakMap,Nb=new WeakSet;function _k(t,e){if(zn(e.parentElement,"[form]"))return!0;const o="calciteInternalFormComponentRegister";let h=!1;return t.addEventListener(o,p=>{h=p.composedPath().some(m=>Nb.has(m)),p.stopPropagation()},{once:!0}),e.dispatchEvent(new CustomEvent(o,{bubbles:!0,composed:!0})),h}function xk(t,{status:e,message:i,icon:o}){"status"in t&&(t.status=e),"validationIcon"in t&&typeof t.validationIcon!="string"&&(t.validationIcon=o),"validationMessage"in t&&!t.validationMessage&&(t.validationMessage=i)}function C4(t){return t.nodeName==="CALCITE-RADIO-BUTTON"?zn(t,"calcite-radio-button-group"):t}const Sk=new CustomEvent("calciteInvalid",{bubbles:!0,composed:!0});function E3(t){var v;const e=t==null?void 0:t.target,i=e==null?void 0:e.validationMessage,o=C4(e==null?void 0:e.parentElement);if(!o)return;const h=(v=o==null?void 0:o.nodeName)==null?void 0:v.toLowerCase(),p=h==null?void 0:h.split("-");if(p.length<2||p[0]!=="calcite")return;t==null||t.preventDefault(),"validity"in o&&(o.validity=e==null?void 0:e.validity),o.dispatchEvent(Sk),xk(o,{message:i,icon:!0,status:"invalid"});const m=wk(h);o.addEventListener(m,()=>{"status"in o&&(o.status="idle"),"validationIcon"in o&&!o.validationIcon&&(o.validationIcon=!1),"validationMessage"in o&&o.validationMessage===i&&(o.validationMessage=""),"validity"in o&&(o.validity=e==null?void 0:e.validity)},{once:!0})}function Ck(t){const{formEl:e}=t;return e?(e.addEventListener("invalid",E3,!0),e.requestSubmit(),e.removeEventListener("invalid",E3,!0),requestAnimationFrame(()=>{const i=e.querySelectorAll("[status=invalid]");for(const o of i)if(o!=null&&o.validationMessage){o==null||o.setFocus();break}}),!0):!1}function Ak(t){var e;(e=t.formEl)==null||e.reset()}function IX(t){const{el:e,value:i}=t,o=A4(t);if(!o||_k(o,e))return;t.formEl=o,t.defaultValue=i,Pb(t)&&(t.defaultChecked=t.checked);const h=(t.onFormReset||Tk).bind(t);o.addEventListener("reset",h),sm.set(t.el,h),Nb.add(e)}function A4(t){const{el:e,form:i}=t;return i?Ob(e,{id:i}):zn(e,"form")}function Tk(){if("status"in this&&(this.status="idle"),"validationIcon"in this&&(this.validationIcon=!1),"validationMessage"in this&&(this.validationMessage=""),Pb(this)){this.checked=this.defaultChecked;return}this.value=this.defaultValue}function kX(t){const{el:e,formEl:i}=t;if(!i)return;const o=sm.get(e);i.removeEventListener("reset",o),sm.delete(e),t.formEl=null,Nb.delete(e)}function MX(t,e){t.defaultValue=e}const Ek="calciteInternalHiddenInputInput",T4=t=>{t.target.dispatchEvent(new CustomEvent(Ek,{bubbles:!0}))},$3=t=>t.removeEventListener("input",T4);function $k(t){const{el:e,formEl:i,name:o,value:h}=t,{ownerDocument:p}=e,m=e.querySelectorAll(`input[slot="${nm}"]`);if(!i||!o){m.forEach(M=>{$3(M),M.remove()});return}const v=Array.isArray(h)?h:[h],w=[],A=new Set;m.forEach(M=>{const P=v.find(R=>R==M.value);P!=null?(A.add(P),I3(t,M,P)):w.push(M)});let $;v.forEach(M=>{if(A.has(M))return;let P=w.pop();P||(P=p.createElement("input"),P.slot=nm),$||($=p.createDocumentFragment()),$.append(P),P.addEventListener("input",T4),I3(t,P,M)}),$&&e.append($),w.forEach(M=>{$3(M),M.remove()})}function I3(t,e,i){var A;const{defaultValue:o,disabled:h,form:p,name:m,required:v}=t;e.defaultValue=o,e.disabled=h,e.name=m,e.required=v,e.tabIndex=-1,p?e.setAttribute("form",p):e.removeAttribute("form"),Pb(t)?(e.checked=t.checked,e.defaultChecked=t.defaultChecked,e.value=t.checked?i||"on":""):e.value=i||"",(A=t.syncHiddenFormInput)==null||A.call(t,e);const w=C4(t.el);if(w&&"validity"in w)for(const $ in{...e==null?void 0:e.validity})w.validity[$]=e.validity[$]}const OX=({component:t})=>($k(t),Dt("slot",{name:nm}));/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */function Ik(){const{disabled:t}=this;t||HTMLElement.prototype.click.call(this)}function E4(t){t.target.disabled&&t.preventDefault()}const $4=["mousedown","mouseup","click"];function I4(t){t.target.disabled&&(t.stopImmediatePropagation(),t.preventDefault())}const w0={capture:!0};function kk(t){if(t.disabled){t.el.setAttribute("aria-disabled","true"),t.el.contains(document.activeElement)&&document.activeElement.blur(),Mk(t);return}Pk(t),t.el.removeAttribute("aria-disabled")}function Mk(t){t.el.click=Ik,Ok(t.el)}function Ok(t){t.addEventListener("pointerdown",E4,w0),$4.forEach(e=>t.addEventListener(e,I4,w0))}function Pk(t){delete t.el.click,Nk(t.el)}function Nk(t){t.removeEventListener("pointerdown",E4,w0),$4.forEach(e=>t.removeEventListener(e,I4,w0))}const Rk={container:"interaction-container"},Lk=({disabled:t},e)=>Dt("div",{class:Rk.container,inert:t},...e);/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */function k3(t){return t==="l"?"m":"s"}async function Dk(t){await(zk(t)?t.componentOnReady():new Promise(e=>requestAnimationFrame(()=>e())))}function zk(t){return typeof t.componentOnReady=="function"}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const k4="calciteInternalLabelClick",Rb="calciteInternalLabelConnected",om="calciteInternalLabelDisconnected",M3="calcite-label",pl=new WeakMap,tc=new WeakMap,wc=new WeakMap,_0=new WeakMap,Io=new Set,jk=t=>{const{id:e}=t,i=e&&Ob(t,{selector:`${M3}[for="${e}"]`});if(i)return i;const o=zn(t,M3);return!o||Fk(o,t)?null:o};function Fk(t,e){let i;const o="custom-element-ancestor-check",h=m=>{m.stopImmediatePropagation();const v=m.composedPath();i=v.slice(v.indexOf(e),v.indexOf(t))};return t.addEventListener(o,h,{once:!0}),e.dispatchEvent(new CustomEvent(o,{composed:!0,bubbles:!0})),t.removeEventListener(o,h),i.filter(m=>m!==e&&m!==t).filter(m=>{var v;return(v=m.tagName)==null?void 0:v.includes("-")}).length>0}function Lb(t){if(!t)return;const e=jk(t.el);if(tc.has(e)&&e===t.labelEl||!e&&Io.has(t))return;const i=Gk.bind(t);if(e){t.labelEl=e;const o=pl.get(e)||[];o.push(t),pl.set(e,o.sort(M4)),tc.has(t.labelEl)||(tc.set(t.labelEl,O3),t.labelEl.addEventListener(k4,O3)),Io.delete(t),document.removeEventListener(Rb,wc.get(t)),_0.set(t,i),document.addEventListener(om,i)}else Io.has(t)||(i(),document.removeEventListener(om,_0.get(t)))}function Uk(t){if(!t||(Io.delete(t),document.removeEventListener(Rb,wc.get(t)),document.removeEventListener(om,_0.get(t)),wc.delete(t),_0.delete(t),!t.labelEl))return;const e=pl.get(t.labelEl);e.length===1&&(t.labelEl.removeEventListener(k4,tc.get(t.labelEl)),tc.delete(t.labelEl)),pl.set(t.labelEl,e.filter(i=>i!==t).sort(M4)),t.labelEl=null}function M4(t,e){return gk(t.el,e.el)?-1:1}function Bk(t){var e,i;return t.label||((i=(e=t.labelEl)==null?void 0:e.textContent)==null?void 0:i.trim())||""}function O3(t){const e=t.detail.sourceEvent.target,i=pl.get(this),o=i.find(m=>m.el===e);if(i.includes(o))return;const p=i[0];p.disabled||p.onLabelClick(t)}function Vk(){Io.has(this)&&Lb(this)}function Gk(){Io.add(this);const t=wc.get(this)||Vk.bind(this);wc.set(this,t),document.addEventListener(Rb,t)}async function PX(t){var o;if(await Dk(t),pl.has(t))return;const i=(o=t.ownerDocument)==null?void 0:o.getElementById(t.for);i&&requestAnimationFrame(()=>{for(const h of Io)if(h.el===i){Lb(h);break}})}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const Nl=()=>typeof navigator<"u"&&typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const O4=new WeakMap,P4=new WeakMap;function qk(t){P4.set(t,new Promise(e=>O4.set(t,e)))}function Hk(t){O4.get(t)()}function Wk(t){return P4.get(t)}async function Jk(t){if(await Wk(t),!!Nl())return Dn(t),new Promise(e=>requestAnimationFrame(()=>e()))}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */function NX(t){return t==="Enter"||t===" "}const N4=["0","1","2","3","4","5","6","7","8","9"];/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */function _c(t,e,i){if(!Nl())return;const o=Zk(t);return new o(e,i)}function Zk(t){class e extends window.MutationObserver{constructor(o){super(o),this.observedEntry=[],this.callback=o}observe(o,h){return this.observedEntry.push({target:o,options:h}),super.observe(o,h)}unobserve(o){const h=this.observedEntry.filter(p=>p.target!==o);this.observedEntry=[],this.callback(super.takeRecords(),this),this.disconnect(),h.forEach(p=>this.observe(p.target,p.options))}}return function(){return t==="intersection"?window.IntersectionObserver:t==="mutation"?e:window.ResizeObserver}()}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const Yk=new RegExp("\\.(0+)?$"),Kk=new RegExp("0+$");class le{constructor(e){if(e instanceof le)return e;const[i,o]=rM(e).split(".").concat("");this.value=BigInt(i+o.padEnd(le.DECIMALS,"0").slice(0,le.DECIMALS))+BigInt(le.ROUNDED&&o[le.DECIMALS]>="5"),this.isNegative=e.charAt(0)==="-"}getIntegersAndDecimals(){const e=this.value.toString().replace("-","").padStart(le.DECIMALS+1,"0"),i=e.slice(0,-le.DECIMALS),o=e.slice(-le.DECIMALS).replace(Kk,"");return{integers:i,decimals:o}}toString(){const{integers:e,decimals:i}=this.getIntegersAndDecimals();return`${this.isNegative?"-":""}${e}${i.length?"."+i:""}`}formatToParts(e){const{integers:i,decimals:o}=this.getIntegersAndDecimals(),h=e.numberFormatter.formatToParts(BigInt(i));return this.isNegative&&h.unshift({type:"minusSign",value:e.minusSign}),o.length&&(h.push({type:"decimal",value:e.decimal}),o.split("").forEach(p=>h.push({type:"fraction",value:p}))),h}format(e){const{integers:i,decimals:o}=this.getIntegersAndDecimals(),h=`${this.isNegative?e.minusSign:""}${e.numberFormatter.format(BigInt(i))}`,p=o.length?`${e.decimal}${o.split("").map(m=>e.numberFormatter.format(Number(m))).join("")}`:"";return`${h}${p}`}add(e){return le.fromBigInt(this.value+new le(e).value)}subtract(e){return le.fromBigInt(this.value-new le(e).value)}multiply(e){return le._divRound(this.value*new le(e).value,le.SHIFT)}divide(e){return le._divRound(this.value*le.SHIFT,new le(e).value)}}le.DECIMALS=100;le.ROUNDED=!0;le.SHIFT=BigInt("1"+"0".repeat(le.DECIMALS));le._divRound=(t,e)=>le.fromBigInt(t/e+(le.ROUNDED?t*BigInt(2)/e%BigInt(2):BigInt(0)));le.fromBigInt=t=>Object.assign(Object.create(le.prototype),{value:t,isNegative:t<BigInt(0)});function Db(t){return!(!t||isNaN(Number(t)))}function RX(t){return!t||!nM(t)?"":x0(t,e=>{let i=!1;const o=e.split("").filter((h,p)=>h.match(/\./g)&&!i?(i=!0,!0):h.match(/-/g)&&p===0?!0:N4.includes(h)).join("");return Db(o)?new le(o).toString():""})}const R4=/^([-0])0+(?=\d)/,Xk=/(?!^\.)\.$/,Qk=/(?!^-)-/g,tM=/^-\b0\b\.?0*$/,eM=/0*$/,LX=t=>x0(t,e=>{const i=e.replace(Qk,"").replace(Xk,"").replace(R4,"$1");return Db(i)?tM.test(i)?i:iM(i):e});function iM(t){const e=t.split(".")[1],i=new le(t).toString(),[o,h]=i.split(".");return e&&h!==e?`${o}.${e}`:i}function x0(t,e){if(!t)return t;const i=t.toLowerCase().indexOf("e")+1;return i?t.replace(/[eE]*$/g,"").substring(0,i).concat(t.slice(i).replace(/[eE]/g,"")).split(/[eE]/).map((o,h)=>e(h===1?o.replace(/\./g,""):o)).join("e").replace(/^e/,"1e"):e(t)}function rM(t){const e=t.split(/[eE]/);if(e.length===1)return t;const i=+t;if(Number.isSafeInteger(i))return`${i}`;const o=t.charAt(0)==="-",h=+e[1],p=e[0].split("."),m=(o?p[0].substring(1):p[0])||"",v=p[1]||"",w=(M,P)=>{const R=Math.abs(P)-M.length,B=R>0?`${"0".repeat(R)}${M}`:M;return`${B.slice(0,P)}.${B.slice(P)}`},A=(M,P)=>{const R=P>M.length?`${M}${"0".repeat(P-M.length)}`:M;return`${R.slice(0,P)}.${R.slice(P)}`},$=h>0?`${m}${A(v,h)}`:`${w(m,h)}${v}`;return`${o?"-":""}${$.charAt(0)==="."?"0":""}${$.replace(Yk,"").replace(R4,"")}`}function nM(t){return N4.some(e=>t.includes(e))}function DX(t,e,i){const o=e.split(".")[1];if(o){const h=o.match(eM)[0];if(h&&i.delocalize(t).length!==e.length&&o.indexOf("e")===-1){const p=i.decimal;return t=t.includes(p)?t:`${t}${p}`,t.padEnd(t.length+h.length,i.localize("0"))}}return t}const Ls="en",sM=["ar","bg","bs","ca","cs","da","de","el",Ls,"es","et","fi","fr","he","hr","hu","id","it","ja","ko","lt","lv","no","nl","pl","pt-BR","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],oM=["ar","bg","bs","ca","cs","da","de","de-AT","de-CH","el",Ls,"en-AU","en-CA","en-GB","es","es-MX","et","fi","fr","fr-CH","he","hi","hr","hu","id","it","it-CH","ja","ko","lt","lv","mk","no","nl","pl","pt","pt-PT","ro","ru","sk","sl","sr","sv","th","tr","uk","vi","zh-CN","zh-HK","zh-TW"],aM=["arab","arabext","latn"],L4=t=>aM.includes(t),Fp=new Intl.NumberFormat().resolvedOptions().numberingSystem,D4=Fp==="arab"||!L4(Fp)?"latn":Fp,lM=t=>L4(t)?t:D4;function zb(t,e="cldr"){const i=e==="cldr"?oM:sM;return t?i.includes(t)?t:(t=t.toLowerCase(),t==="nb"?"no":e==="t9n"&&t==="pt"?"pt-BR":(t.includes("-")&&(t=t.replace(/(\w+)-(\w+)/,(o,h,p)=>`${h}-${p.toUpperCase()}`),i.includes(t)||(t=t.split("-")[0])),t==="zh"?"zh-CN":i.includes(t)?t:(console.warn(`Translations for the "${t}" locale are not available and will fall back to the default, English (en).`),Ls))):Ls}function zX(t){switch(t){case"it-CH":return"de-CH";case"bs":return"bs-Cyrl";default:return t}}const xc=new Set;function jb(t){hM(t),xc.size===0&&(fd==null||fd.observe(document.documentElement,{attributes:!0,attributeFilter:["lang"],subtree:!0})),xc.add(t)}function hM(t){t.effectiveLocale=cM(t)}function Fb(t){xc.delete(t),xc.size===0&&fd.disconnect()}const fd=_c("mutation",t=>{t.forEach(e=>{const i=e.target;xc.forEach(o=>{if(!ik(i,o.el))return;const p=zn(o.el,"[lang]");if(!p){o.effectiveLocale=Ls;return}const m=p.lang;o.effectiveLocale=p.hasAttribute("lang")&&m===""?Ls:m})})});function cM(t){var e;return t.el.lang||((e=zn(t.el,"[lang]"))==null?void 0:e.lang)||document.documentElement.lang||Ls}class uM{constructor(){this.delocalize=e=>this._numberFormatOptions?x0(e,i=>i.replace(new RegExp(`[${this._minusSign}]`,"g"),"-").replace(new RegExp(`[${this._group}]`,"g"),"").replace(new RegExp(`[${this._decimal}]`,"g"),".").replace(new RegExp(`[${this._digits.join("")}]`,"g"),this._getDigitIndex)):e,this.localize=e=>this._numberFormatOptions?x0(e,i=>Db(i.trim())?new le(i.trim()).format(this).replace(new RegExp(`[${this._actualGroup}]`,"g"),this._group):i):e}get group(){return this._group}get decimal(){return this._decimal}get minusSign(){return this._minusSign}get digits(){return this._digits}get numberFormatter(){return this._numberFormatter}get numberFormatOptions(){return this._numberFormatOptions}set numberFormatOptions(e){if(e.locale=zb(e==null?void 0:e.locale),e.numberingSystem=lM(e==null?void 0:e.numberingSystem),!this._numberFormatOptions&&e.locale===Ls&&e.numberingSystem===D4&&Object.keys(e).length===2||JSON.stringify(this._numberFormatOptions)===JSON.stringify(e))return;this._numberFormatOptions=e,this._numberFormatter=new Intl.NumberFormat(this._numberFormatOptions.locale,this._numberFormatOptions),this._digits=[...new Intl.NumberFormat(this._numberFormatOptions.locale,{useGrouping:!1,numberingSystem:this._numberFormatOptions.numberingSystem}).format(9876543210)].reverse();const i=new Map(this._digits.map((h,p)=>[h,p])),o=new Intl.NumberFormat(this._numberFormatOptions.locale,{numberingSystem:this._numberFormatOptions.numberingSystem}).formatToParts(-123456789e-1);this._actualGroup=o.find(h=>h.type==="group").value,this._group=this._actualGroup.trim().length===0||this._actualGroup==" "?" ":this._actualGroup,this._decimal=o.find(h=>h.type==="decimal").value,this._minusSign=o.find(h=>h.type==="minusSign").value,this._getDigitIndex=h=>i.get(h)}}const jX=new uM;let Kl,P3;function dM(t={}){return Object.entries(t).sort(([e],[i])=>e.localeCompare(i)).map(e=>`${e[0]}-${e[1]}`).flat().join(":")}function FX(t,e){t=zb(t),Kl||(Kl=new Map),P3!==t&&(Kl.clear(),P3=t);const i=dM(e),o=Kl.get(i);if(o)return o;const h=new Intl.DateTimeFormat(t,e);return Kl.set(i,h),h}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const Fu={};async function fM(t,e){const i=`${e}_${t}`;return Fu[i]||(Fu[i]=fetch(bb(`./assets/${e}/t9n/messages_${t}.json`)).then(o=>(o.ok||N3(),o.json())).catch(()=>N3())),Fu[i]}function N3(){throw new Error("could not fetch component message bundle")}function Ub(t){t.messages={...t.defaultMessages,...t.messageOverrides}}function pM(){}async function z4(t){t.defaultMessages=await j4(t,t.effectiveLocale),Ub(t)}async function j4(t,e){if(!Nl())return{};const{el:i}=t,h=i.tagName.toLowerCase().replace("calcite-","");return fM(zb(e,"t9n"),h)}async function F4(t,e){t.defaultMessages=await j4(t,e),Ub(t)}function U4(t){t.onMessagesChange=mM}function B4(t){t.onMessagesChange=pM}function mM(){Ub(this)}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const gM={icon:"icon",flipRtl:"flip-rtl"},V4={},Up={},G4={s:16,m:24,l:32};function q4({icon:t,scale:e}){const i=G4[e],o=vM(t),h=o.charAt(o.length-1)==="F";return`${h?o.substring(0,o.length-1):o}${i}${h?"F":""}`}async function yM(t){const e=q4(t),i=H4(e);if(i)return i;Up[e]||(Up[e]=fetch(bb(`./assets/icon/${e}.json`)).then(h=>h.json()).catch(()=>(console.error(`"${e}" is not a valid calcite-ui-icon name`),"")));const o=await Up[e];return V4[e]=o,o}function bM(t){return H4(q4(t))}function H4(t){return V4[t]}function vM(t){const e=!isNaN(Number(t.charAt(0))),i=t.split("-");if(i.length>0){const h=/[a-z]/i;t=i.map((p,m)=>p.replace(h,function(w,A){return m===0&&A===0?w:w.toUpperCase()})).join("")}return e?`i${t}`:t}const wM=":host{display:inline-flex;color:var(--calcite-icon-color, var(--calcite-ui-icon-color, currentColor))}:host([scale=s]){inline-size:16px;block-size:16px;min-inline-size:16px;min-block-size:16px}:host([scale=m]){inline-size:24px;block-size:24px;min-inline-size:24px;min-block-size:24px}:host([scale=l]){inline-size:32px;block-size:32px;min-inline-size:32px;min-block-size:32px}.flip-rtl{transform:scaleX(-1)}.svg{display:block}:host([hidden]){display:none}[hidden]{display:none}",_M=wM,xM=zr(class extends Dr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.icon=null,this.flipRtl=!1,this.scale="m",this.textLabel=void 0,this.pathData=void 0,this.visible=!1}connectedCallback(){this.visible||this.waitUntilVisible(()=>{this.visible=!0,this.loadIconPathData()})}disconnectedCallback(){var e;(e=this.intersectionObserver)==null||e.disconnect(),this.intersectionObserver=null}render(){const{el:e,flipRtl:i,pathData:o,scale:h,textLabel:p}=this,m=tk(e),v=G4[h],w=!!p,A=[].concat(o||"");return Dt(wb,{key:"724265acdc6fb528bf7b25d7ec445c73a63f4c8e","aria-hidden":S4(!w),"aria-label":w?p:null,role:w?"img":null},Dt("svg",{key:"864ee2d80bebd282543ba5d94c57f84b48a6204d","aria-hidden":"true",class:{[gM.flipRtl]:m==="rtl"&&i,svg:!0},fill:"currentColor",height:"100%",viewBox:`0 0 ${v} ${v}`,width:"100%",xmlns:"http://www.w3.org/2000/svg"},A.map($=>typeof $=="string"?Dt("path",{d:$}):Dt("path",{d:$.d,opacity:"opacity"in $?$.opacity:1}))))}async loadIconPathData(){const{icon:e,scale:i,visible:o}=this;if(!Nl()||!e||!o)return;const h={icon:e,scale:i},p=bM(h)||await yM(h);e===this.icon&&(this.pathData=p)}waitUntilVisible(e){if(this.intersectionObserver=_c("intersection",i=>{i.forEach(o=>{o.isIntersecting&&(this.intersectionObserver.disconnect(),this.intersectionObserver=null,e())})},{rootMargin:"50px"}),!this.intersectionObserver){e();return}this.intersectionObserver.observe(this.el)}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{icon:["loadIconPathData"],scale:["loadIconPathData"]}}static get style(){return _M}},[1,"calcite-icon",{icon:[513],flipRtl:[516,"flip-rtl"],scale:[513],textLabel:[1,"text-label"],pathData:[32],visible:[32]},void 0,{icon:["loadIconPathData"],scale:["loadIconPathData"]}]);function W4(){if(typeof customElements>"u")return;["calcite-icon"].forEach(e=>{switch(e){case"calcite-icon":customElements.get(e)||customElements.define(e,xM);break}})}W4();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const Sa={loader:"loader",loaderParts:"loader__svgs",loaderPart:"loader__svg",loaderPartId:t=>`${Sa.loaderPart}--${t}`,loaderText:"loader__text",loaderPercentage:"loader__percentage"},SM='@charset "UTF-8";@media (prefers-reduced-motion: reduce){:root{--calcite-internal-duration-factor:0}}:host{position:relative;margin-inline:auto;display:none;align-items:center;justify-content:center;opacity:1;min-block-size:var(--calcite-loader-size);font-size:var(--calcite-loader-font-size);stroke:var(--calcite-color-brand);stroke-width:3;fill:none;transform:scale(1, 1);animation:loader-color-shift calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 2 / var(--calcite-internal-duration-factor)) alternate-reverse infinite linear;padding-block:var(--calcite-loader-padding, 4rem);will-change:contents}:host([scale=s]){--calcite-loader-font-size:var(--calcite-font-size--3);--calcite-loader-size:2rem;--calcite-loader-size-inline:0.75rem;--calcite-internal-loader-value-line-height:0.625rem}:host([scale=m]){--calcite-loader-font-size:var(--calcite-font-size-0);--calcite-loader-size:4rem;--calcite-loader-size-inline:1rem;--calcite-internal-loader-value-line-height:1.375rem}:host([scale=l]){--calcite-loader-font-size:var(--calcite-font-size-2);--calcite-loader-size:6rem;--calcite-loader-size-inline:1.5rem;--calcite-internal-loader-value-line-height:1.71875rem}:host([no-padding]){padding-block:0px}:host{display:flex}.loader__text{display:block;text-align:center;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);margin-block-start:calc(var(--calcite-loader-size) + 1.5rem)}.loader__percentage{display:block;text-align:center;color:var(--calcite-color-text-1);font-size:var(--calcite-loader-font-size);inline-size:var(--calcite-loader-size);line-height:var(--calcite-internal-loader-value-line-height);align-self:center}.loader__svgs{position:absolute;overflow:visible;opacity:1;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);inset-inline-start:50%;margin-inline-start:calc(var(--calcite-loader-size) / 2 * -1);animation-iteration-count:infinite;animation-timing-function:linear;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.66 / var(--calcite-internal-duration-factor));animation-name:loader-clockwise;display:flex}.loader__svg{position:absolute;inset-block-start:0px;transform-origin:center;overflow:visible;inset-inline-start:0;inline-size:var(--calcite-loader-size);block-size:var(--calcite-loader-size);animation-iteration-count:infinite;animation-timing-function:linear}.loader__svg--1{animation-name:loader-offset-1}.loader__svg--2{animation-name:loader-offset-2}.loader__svg--3{animation-name:loader-offset-3}:host([type=determinate]),:host([type=determinate-value]){animation:none;stroke:var(--calcite-color-border-3)}:host([type=determinate]) .loader__svgs,:host([type=determinate-value]) .loader__svgs{animation:none}:host([type=determinate]) .loader__svg--3,:host([type=determinate-value]) .loader__svg--3{animation:none;stroke:var(--calcite-color-brand);stroke-dasharray:150.79632;transform:rotate(-90deg);transition:all var(--calcite-internal-animation-timing-fast) linear}:host([inline]){position:relative;margin:0px;animation:none;stroke:currentColor;stroke-width:2;padding-block:0px;block-size:var(--calcite-loader-size-inline);min-block-size:var(--calcite-loader-size-inline);inline-size:var(--calcite-loader-size-inline);margin-inline-end:calc(var(--calcite-loader-size-inline) * 0.5);vertical-align:calc(var(--calcite-loader-size-inline) * -1 * 0.2)}:host([inline]) .loader__svgs{inset-block-start:0px;margin:0px;inset-inline-start:0;inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([inline]) .loader__svg{inline-size:var(--calcite-loader-size-inline);block-size:var(--calcite-loader-size-inline)}:host([complete]){opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity var(--calcite-internal-animation-timing-medium) linear 1000ms, transform var(--calcite-internal-animation-timing-medium) linear 1000ms}:host([complete]) .loader__svgs{opacity:0;transform:scale(0.75, 0.75);transform-origin:center;transition:opacity calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms, transform calc(180ms * var(--calcite-internal-duration-factor)) linear 800ms}:host([complete]) .loader__percentage{color:var(--calcite-color-brand);transform:scale(1.05, 1.05);transform-origin:center;transition:color var(--calcite-internal-animation-timing-medium) linear, transform var(--calcite-internal-animation-timing-medium) linear}.loader__svg--1{stroke-dasharray:27.9252444444 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 4.8 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-1{0%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-83.7757333333}100%{stroke-dasharray:27.9252444444 251.3272;stroke-dashoffset:-279.2524444444}}.loader__svg--2{stroke-dasharray:55.8504888889 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 6.4 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-2{0%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-97.7383555556}100%{stroke-dasharray:55.8504888889 223.4019555556;stroke-dashoffset:-279.2524444444}}.loader__svg--3{stroke-dasharray:13.9626222222 139.6262222222;animation-duration:calc(var(--calcite-internal-animation-timing-slow) / var(--calcite-internal-duration-factor) * 7.734 / var(--calcite-internal-duration-factor))}@keyframes loader-offset-3{0%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:0}50%{stroke-dasharray:139.6262222222 139.6262222222;stroke-dashoffset:-76.7944222222}100%{stroke-dasharray:13.9626222222 265.2898222222;stroke-dashoffset:-279.2524444444}}@keyframes loader-color-shift{0%{stroke:var(--calcite-color-brand)}33%{stroke:var(--calcite-color-brand-press)}66%{stroke:var(--calcite-color-brand-hover)}100%{stroke:var(--calcite-color-brand)}}@keyframes loader-clockwise{100%{transform:rotate(360deg)}}:host([hidden]){display:none}[hidden]{display:none}',CM=SM,AM=zr(class extends Dr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.formatValue=()=>this.type!=="determinate-value"?`${this.value}`:this.formatter.format(this.value/100),this.complete=!1,this.inline=!1,this.label=void 0,this.scale="m",this.type="indeterminate",this.value=0,this.text="",this.effectiveLocale=""}valueChangeHandler(){this.complete=this.type.startsWith("determinate")&&this.value===100}connectedCallback(){jb(this),this.updateFormatter()}disconnectedCallback(){Fb(this)}componentWillLoad(){requestAnimationFrame(()=>this.valueChangeHandler())}render(){const{el:e,inline:i,label:o,scale:h,text:p,type:m,value:v}=this,w=e.id||c4(),A=.45,$=i?this.getInlineSize(h):this.getSize(h),M=$*A,P=`0 0 ${$} ${$}`,R=m.startsWith("determinate"),B=2*M*Math.PI,G=v/100*B,H=B-G,Z=Math.floor(v),X={"stroke-dasharray":`${G} ${H}`};return Dt(wb,{key:"8272bdfae9fff51b19ed8fa66197eb93b53feb4c","aria-label":o,"aria-valuemax":R?"100":void 0,"aria-valuemin":R?"0":void 0,"aria-valuenow":R?Z.toString():void 0,id:w,role:"progressbar"},Dt("div",{key:"3d410c178af39bb57cc478bdd06c0392f6ba71a3",class:Sa.loaderParts},[1,2,3].map(Q=>Dt("svg",{"aria-hidden":"true",class:{[Sa.loaderPart]:!0,[Sa.loaderPartId(Q)]:!0},key:Q,style:R&&Q===3?X:void 0,viewBox:P},Dt("circle",{cx:$/2,cy:$/2,r:M}))),R&&Dt("div",{key:"4ccc633930dee031bf769908d712df39e0677bbb",class:Sa.loaderPercentage},this.formatValue())),p&&Dt("div",{key:"6d0d51988bdfafee2a19faed9e14d3bda06d79b5",class:Sa.loaderText},p))}formatterPropsChange(){this.updateFormatter()}getSize(e){return{s:32,m:56,l:80}[e]}getInlineSize(e){return{s:12,m:16,l:20}[e]}updateFormatter(){var e;this.type!=="determinate-value"||((e=this.formatter)==null?void 0:e.resolvedOptions().locale)===this.effectiveLocale||(this.formatter=new Intl.NumberFormat(this.effectiveLocale,{style:"percent"}))}get el(){return this}static get watchers(){return{value:["valueChangeHandler"],effectiveLocale:["formatterPropsChange"],type:["formatterPropsChange"]}}static get style(){return CM}},[1,"calcite-loader",{complete:[1540],inline:[516],label:[1],scale:[513],type:[513],value:[2],text:[1],effectiveLocale:[32]},void 0,{value:["valueChangeHandler"],effectiveLocale:["formatterPropsChange"],type:["formatterPropsChange"]}]);function Bb(){if(typeof customElements>"u")return;["calcite-loader"].forEach(e=>{switch(e){case"calcite-loader":customElements.get(e)||customElements.define(e,AM);break}})}Bb();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const Ni={buttonLoader:"calcite-button--loader",content:"content",contentSlotted:"content--slotted",icon:"icon",iconStart:"icon--start",iconEnd:"icon--end",loadingIn:"loading-in",loadingOut:"loading-out",iconStartEmpty:"icon-start-empty",iconEndEmpty:"icon-end-empty",buttonPadding:"button-padding",buttonPaddingShrunk:"button-padding--shrunk"},TM=`:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:inline-block;inline-size:auto;vertical-align:middle}:host([round]){border-radius:50px}:host([round]) a,:host([round]) button{border-radius:50px}:host button,:host a{outline-color:transparent}:host button:focus,:host a:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(
            2px *
            calc(
              1 -
              2 * clamp(
                0,
                var(--calcite-offset-invert-focus),
                1
              )
            )
          )}:host button,:host a{--calcite-button-content-margin-internal:0.5rem;--calcite-button-padding-x-internal:7px;--calcite-button-padding-y-internal:3px;padding-block:var(--calcite-button-padding-y-internal);padding-inline:var(--calcite-button-padding-x-internal);position:relative;box-sizing:border-box;display:flex;block-size:100%;inline-size:100%;cursor:pointer;-webkit-user-select:none;user-select:none;appearance:none;align-items:center;justify-content:center;border-radius:0px;border-style:none;text-align:center;font-family:inherit;font-weight:var(--calcite-font-weight-normal);text-decoration-line:none;transition:color var(--calcite-animation-timing) ease-in-out, background-color var(--calcite-animation-timing) ease-in-out, box-shadow var(--calcite-animation-timing) ease-in-out, outline-color var(--calcite-internal-animation-timing-fast) ease-in-out}:host button:hover,:host a:hover{text-decoration-line:none}:host button span,:host a span{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.content{margin-inline:var(--calcite-button-content-margin-internal)}.icon-start-empty .content{margin-inline-start:unset}.icon-end-empty .content{margin-inline-end:unset}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-content-margin-internal:0.75rem}:host([scale=l]) button,:host([scale=l]) a{--calcite-button-content-margin-internal:1rem}:host([width=auto]){inline-size:auto}:host([width=half]){inline-size:50%}:host([width=full]){inline-size:100%}:host([alignment=center]:not([width=auto])) a,:host([alignment=center]:not([width=auto])) button{justify-content:center}:host([alignment=start]:not([width=auto])) a,:host([alignment=start]:not([width=auto])) button{justify-content:flex-start}:host([alignment=end]:not([width=auto])) a,:host([alignment=end]:not([width=auto])) button{justify-content:flex-end}:host([alignment*=space-between]:not([width=auto])) a,:host([alignment*=space-between]:not([width=auto])) button{justify-content:space-between}:host([alignment=icon-start-space-between]:not([width=auto])) .icon--start{margin-inline-end:auto}:host([alignment=icon-start-space-between]:not([width=auto])) a,:host([alignment=icon-start-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=icon-end-space-between]:not([width=auto])) .icon--end{margin-inline-start:auto}:host([alignment=icon-end-space-between]:not([width=auto])) a,:host([alignment=icon-end-space-between]:not([width=auto])) button{text-align:unset}:host([alignment=center]) a:not(.content--slotted) .icon--start+.icon--end,:host([alignment=center]) button:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:var(--calcite-button-content-margin-internal)}.icon{position:relative;margin:0px;display:inline-flex;font-weight:var(--calcite-font-weight-normal);line-height:inherit}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}@keyframes loader-in{0%{inline-size:0;opacity:0;transform:scale(0.5)}100%{inline-size:1em;opacity:1;transform:scale(1)}}@keyframes loader-out{0%{inline-size:1em;opacity:1;transform:scale(1)}100%{inline-size:0;opacity:0;transform:scale(0.5)}}.calcite-button--loader{display:flex}.calcite-button--loader calcite-loader{margin:0px}:host([loading]) button.content--slotted .calcite-button--loader calcite-loader,:host([loading]) a.content--slotted .calcite-button--loader calcite-loader{margin-inline-end:var(--calcite-button-content-margin-internal)}:host([loading]) button:not(.content--slotted) .icon--start,:host([loading]) button:not(.content--slotted) .icon--end,:host([loading]) a:not(.content--slotted) .icon--start,:host([loading]) a:not(.content--slotted) .icon--end{display:none}:host([appearance]) button,:host([appearance]) a{border-width:1px;border-style:solid;border-color:transparent}:host([kind=brand]) button,:host([kind=brand]) a{background-color:var(--calcite-color-brand);color:var(--calcite-color-text-inverse)}:host([kind=brand]) button:hover,:host([kind=brand]) button:focus,:host([kind=brand]) a:hover,:host([kind=brand]) a:focus{background-color:var(--calcite-color-brand-hover)}:host([kind=brand]) button:active,:host([kind=brand]) a:active{background-color:var(--calcite-color-brand-press)}:host([kind=brand]) button calcite-loader,:host([kind=brand]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([kind=danger]) button,:host([kind=danger]) a{background-color:var(--calcite-color-status-danger);color:var(--calcite-color-text-inverse)}:host([kind=danger]) button:hover,:host([kind=danger]) button:focus,:host([kind=danger]) a:hover,:host([kind=danger]) a:focus{background-color:var(--calcite-color-status-danger-hover)}:host([kind=danger]) button:active,:host([kind=danger]) a:active{background-color:var(--calcite-color-status-danger-press)}:host([kind=danger]) button calcite-loader,:host([kind=danger]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([kind=neutral]) button,:host([kind=neutral]) a{background-color:var(--calcite-color-foreground-3);color:var(--calcite-color-text-1)}:host([kind=neutral]) button:hover,:host([kind=neutral]) button:focus,:host([kind=neutral]) a:hover,:host([kind=neutral]) a:focus{background-color:var(--calcite-color-foreground-2)}:host([kind=neutral]) button:active,:host([kind=neutral]) a:active{background-color:var(--calcite-color-foreground-1)}:host([kind=neutral]) button calcite-loader,:host([kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([kind=inverse]) button,:host([kind=inverse]) a{color:var(--calcite-color-text-inverse);background-color:var(--calcite-color-inverse)}:host([kind=inverse]) button:hover,:host([kind=inverse]) button:focus,:host([kind=inverse]) a:hover,:host([kind=inverse]) a:focus{background-color:var(--calcite-color-inverse-hover)}:host([kind=inverse]) button:active,:host([kind=inverse]) a:active{background-color:var(--calcite-color-inverse-press)}:host([kind=inverse]) button calcite-loader,:host([kind=inverse]) a calcite-loader{color:var(--calcite-color-text-inverse)}:host([appearance=outline-fill]) button,:host([appearance=outline-fill]) a{border-width:1px;border-style:solid;background-color:var(--calcite-color-foreground-1);box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline-fill][kind=brand]) button,:host([appearance=outline-fill][kind=brand]) a{border-color:var(--calcite-color-brand);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:hover,:host([appearance=outline-fill][kind=brand]) a:hover{border-color:var(--calcite-color-brand-hover);color:var(--calcite-color-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-brand-hover)}:host([appearance=outline-fill][kind=brand]) button:focus,:host([appearance=outline-fill][kind=brand]) a:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-brand);box-shadow:inset 0 0 0 2px var(--calcite-color-brand)}:host([appearance=outline-fill][kind=brand]) button:active,:host([appearance=outline-fill][kind=brand]) a:active{border-color:var(--calcite-color-brand-press);color:var(--calcite-color-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-color-brand-press)}:host([appearance=outline-fill][kind=brand]) button calcite-loader,:host([appearance=outline-fill][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=outline-fill][kind=danger]) button,:host([appearance=outline-fill][kind=danger]) a{border-color:var(--calcite-color-status-danger);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:hover,:host([appearance=outline-fill][kind=danger]) a:hover{border-color:var(--calcite-color-status-danger-hover);color:var(--calcite-color-status-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-status-danger-hover)}:host([appearance=outline-fill][kind=danger]) button:focus,:host([appearance=outline-fill][kind=danger]) a:focus{border-color:var(--calcite-color-status-danger);color:var(--calcite-color-status-danger);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=danger]) button:active,:host([appearance=outline-fill][kind=danger]) a:active{border-color:var(--calcite-color-status-danger-press);color:var(--calcite-color-status-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger-press)}:host([appearance=outline-fill][kind=danger]) button calcite-loader,:host([appearance=outline-fill][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=outline-fill][kind=neutral]) button,:host([appearance=outline-fill][kind=neutral]) a{background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-border-1)}:host([appearance=outline-fill][kind=neutral]) button:hover,:host([appearance=outline-fill][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:focus,:host([appearance=outline-fill][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button:active,:host([appearance=outline-fill][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline-fill][kind=neutral]) button calcite-loader,:host([appearance=outline-fill][kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline-fill][kind=inverse]) button,:host([appearance=outline-fill][kind=inverse]) a{background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);border-color:var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:hover,:host([appearance=outline-fill][kind=inverse]) a:hover{border-color:var(--calcite-color-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-inverse-hover)}:host([appearance=outline-fill][kind=inverse]) button:focus,:host([appearance=outline-fill][kind=inverse]) a:focus{border-color:var(--calcite-color-inverse);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse)}:host([appearance=outline-fill][kind=inverse]) button:active,:host([appearance=outline-fill][kind=inverse]) a:active{border-color:var(--calcite-color-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse-press)}:host([appearance=outline-fill][kind=inverse]) button calcite-loader,:host([appearance=outline-fill][kind=inverse]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline]) button,:host([appearance=outline]) a{border-width:1px;border-style:solid;background-color:transparent;box-shadow:inset 0 0 0 1px transparent}:host([appearance=outline][kind=brand]) button,:host([appearance=outline][kind=brand]) a{border-color:var(--calcite-color-brand);background-color:transparent;color:var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:hover,:host([appearance=outline][kind=brand]) a:hover{border-color:var(--calcite-color-brand-hover);color:var(--calcite-color-brand-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-brand-hover)}:host([appearance=outline][kind=brand]) button:focus,:host([appearance=outline][kind=brand]) a:focus{border-color:var(--calcite-color-brand);color:var(--calcite-color-brand);box-shadow:inset 0 0 0 2px var(--calcite-color-brand)}:host([appearance=outline][kind=brand]) button:active,:host([appearance=outline][kind=brand]) a:active{border-color:var(--calcite-color-brand-press);color:var(--calcite-color-brand-press);box-shadow:inset 0 0 0 2px var(--calcite-color-brand-press)}:host([appearance=outline][kind=brand]) button calcite-loader,:host([appearance=outline][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=outline][kind=danger]) button,:host([appearance=outline][kind=danger]) a{border-color:var(--calcite-color-status-danger);background-color:transparent;color:var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:hover,:host([appearance=outline][kind=danger]) a:hover{border-color:var(--calcite-color-status-danger-hover);color:var(--calcite-color-status-danger-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-status-danger-hover)}:host([appearance=outline][kind=danger]) button:focus,:host([appearance=outline][kind=danger]) a:focus{border-color:var(--calcite-color-status-danger);color:var(--calcite-color-status-danger);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger)}:host([appearance=outline][kind=danger]) button:active,:host([appearance=outline][kind=danger]) a:active{border-color:var(--calcite-color-status-danger-press);color:var(--calcite-color-status-danger-press);box-shadow:inset 0 0 0 2px var(--calcite-color-status-danger-press)}:host([appearance=outline][kind=danger]) button calcite-loader,:host([appearance=outline][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=outline][kind=neutral]) button,:host([appearance=outline][kind=neutral]) a{background-color:transparent;color:var(--calcite-color-text-1);border-color:var(--calcite-color-border-1)}:host([appearance=outline][kind=neutral]) button:hover,:host([appearance=outline][kind=neutral]) a:hover{box-shadow:inset 0 0 0 1px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:focus,:host([appearance=outline][kind=neutral]) a:focus{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button:active,:host([appearance=outline][kind=neutral]) a:active{box-shadow:inset 0 0 0 2px var(--calcite-color-foreground-3)}:host([appearance=outline][kind=neutral]) button calcite-loader,:host([appearance=outline][kind=neutral]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline][kind=inverse]) button,:host([appearance=outline][kind=inverse]) a{background-color:transparent;color:var(--calcite-color-text-1);border-color:var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:hover,:host([appearance=outline][kind=inverse]) a:hover{border-color:var(--calcite-color-inverse-hover);box-shadow:inset 0 0 0 1px var(--calcite-color-inverse-hover)}:host([appearance=outline][kind=inverse]) button:focus,:host([appearance=outline][kind=inverse]) a:focus{border-color:var(--calcite-color-inverse);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse)}:host([appearance=outline][kind=inverse]) button:active,:host([appearance=outline][kind=inverse]) a:active{border-color:var(--calcite-color-inverse-press);box-shadow:inset 0 0 0 2px var(--calcite-color-inverse-press)}:host([appearance=outline][kind=inverse]) button calcite-loader,:host([appearance=outline][kind=inverse]) a calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=outline-fill][split-child=primary]) button,:host([appearance=outline][split-child=primary]) button{border-inline-end-width:0;border-inline-start-width:1px}:host([appearance=outline-fill][split-child=secondary]) button,:host([appearance=outline][split-child=secondary]) button{border-inline-start-width:0;border-inline-end-width:1px}:host([appearance=transparent]:not(.enable-editing-button)) button,:host([appearance=transparent]:not(.enable-editing-button)) a{background-color:transparent}:host([appearance=transparent]:not(.enable-editing-button)) button:hover,:host([appearance=transparent]:not(.enable-editing-button)) button:focus,:host([appearance=transparent]:not(.enable-editing-button)) a:hover,:host([appearance=transparent]:not(.enable-editing-button)) a:focus{background-color:var(--calcite-color-transparent-hover)}:host([appearance=transparent]:not(.enable-editing-button)) button:active,:host([appearance=transparent]:not(.enable-editing-button)) a:active{background-color:var(--calcite-color-transparent-press)}:host([appearance=transparent][kind=brand]) button,:host([appearance=transparent][kind=brand]) a{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:hover,:host([appearance=transparent][kind=brand]) a:hover{color:var(--calcite-color-brand-hover)}:host([appearance=transparent][kind=brand]) button:focus,:host([appearance=transparent][kind=brand]) a:focus{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=brand]) button:active,:host([appearance=transparent][kind=brand]) a:active{color:var(--calcite-color-brand-press)}:host([appearance=transparent][kind=brand]) button calcite-loader,:host([appearance=transparent][kind=brand]) a calcite-loader{color:var(--calcite-color-brand)}:host([appearance=transparent][kind=danger]) button,:host([appearance=transparent][kind=danger]) a{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:hover,:host([appearance=transparent][kind=danger]) a:hover{color:var(--calcite-color-status-danger-hover)}:host([appearance=transparent][kind=danger]) button:focus,:host([appearance=transparent][kind=danger]) a:focus{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=danger]) button:active,:host([appearance=transparent][kind=danger]) a:active{color:var(--calcite-color-status-danger-press)}:host([appearance=transparent][kind=danger]) button calcite-loader,:host([appearance=transparent][kind=danger]) a calcite-loader{color:var(--calcite-color-status-danger)}:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) button,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) a,:host([appearance=transparent][kind=neutral]:not(.cancel-editing-button)) calcite-loader{color:var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].cancel-editing-button) button{border-block-start-width:1px;border-block-end-width:1px;color:var(--calcite-color-text-3);border-block-start-color:var(--calcite-color-border-input);border-block-end-color:var(--calcite-color-border-input);border-block-style:solid}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:not(.content--slotted){--calcite-button-padding-y-internal:0}:host([appearance=transparent][kind=neutral].cancel-editing-button) button:hover{color:var(--calcite-color-text-1)}:host([appearance=transparent][kind=neutral].enable-editing-button) button{background-color:transparent}:host(.confirm-changes-button) button:focus,:host(.cancel-editing-button) button:focus,:host(.enable-editing-button) button:focus{outline-offset:-2px}:host([appearance=transparent][kind=inverse]) button,:host([appearance=transparent][kind=inverse]) a,:host([appearance=transparent][kind=inverse]) calcite-loader{color:var(--calcite-color-text-inverse)}:host([scale=s]) button.content--slotted,:host([scale=s]) a.content--slotted{font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s][appearance=transparent]) button.content--slotted,:host([scale=s][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.5rem}:host([scale=s]) button,:host([scale=s]) a{--calcite-button-padding-y-internal:3px}:host([scale=m]) button.content--slotted,:host([scale=m]) a.content--slotted{--calcite-button-padding-x-internal:11px;font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) button,:host([scale=m]) a{--calcite-button-padding-y-internal:7px}:host([scale=m][appearance=transparent]) button.content--slotted,:host([scale=m][appearance=transparent]) a.content--slotted{--calcite-button-padding-x-internal:0.75rem}:host([scale=l]) button.content--slotted,:host([scale=l]) a.content--slotted{--calcite-button-padding-x-internal:15px;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .button-padding{--calcite-button-padding-x-internal:1rem;--calcite-button-padding-y-internal:11px}:host([scale=l]) .button-padding--shrunk{--calcite-button-padding-y-internal:9px}:host([scale=s]) button:not(.content--slotted),:host([scale=s]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:3px;inline-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:1.5rem}:host([scale=m]) button:not(.content--slotted),:host([scale=m]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:7px;inline-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2rem}:host([scale=l]) button:not(.content--slotted),:host([scale=l]) a:not(.content--slotted){--calcite-button-padding-x-internal:0.125rem;--calcite-button-padding-y-internal:9px;inline-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem;min-block-size:2.75rem}:host(:is([scale=s],[scale=m],[scale=l])[width=full]) a:not(.content--slotted),:host(:is([scale=s],[scale=m],[scale=l])[width=full]) button:not(.content--slotted){inline-size:var(--calcite-container-size-content-fluid)}:host([scale=l][appearance=transparent]) button:not(.content--slotted),:host([scale=l][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-y-internal:0.625rem}:host([scale=s][icon-start][icon-end]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:23px;block-size:1.5rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=s][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=s][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:1.5rem}:host([scale=m][icon-start][icon-end]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:2rem;block-size:2rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=m][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=m][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:33px}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end]) a:not(.content--slotted){--calcite-button-padding-x-internal:43px;block-size:2.75rem;font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l][icon-start][icon-end]) button:not(.content--slotted) .icon--start+.icon--end,:host([scale=l][icon-start][icon-end]) a:not(.content--slotted) .icon--start+.icon--end{margin-inline-start:1rem}:host([scale=l][icon-start][icon-end][appearance=transparent]) button:not(.content--slotted),:host([scale=l][icon-start][icon-end][appearance=transparent]) a:not(.content--slotted){--calcite-button-padding-x-internal:2.75rem}:host([hidden]){display:none}[hidden]{display:none}`,EM=TM,$M=zr(class extends Dr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.mutationObserver=_c("mutation",()=>this.updateHasContent()),this.resizeObserver=_c("resize",()=>this.setTooltipText()),this.handleClick=()=>{const{type:e}=this;this.href||(e==="submit"?Ck(this):e==="reset"&&Ak(this))},this.setTooltipText=()=>{const{contentEl:e}=this;e&&(this.tooltipText=e.offsetWidth<e.scrollWidth&&this.el.innerText||null)},this.setChildEl=e=>{var i;this.childEl=e,e&&((i=this.resizeObserver)==null||i.observe(e))},this.alignment="center",this.appearance="solid",this.label=void 0,this.kind="brand",this.disabled=!1,this.form=void 0,this.download=!1,this.href=void 0,this.iconEnd=void 0,this.iconFlipRtl=void 0,this.iconStart=void 0,this.loading=!1,this.name=void 0,this.rel=void 0,this.round=!1,this.scale="m",this.splitChild=!1,this.target=void 0,this.type="button",this.width="auto",this.messages=void 0,this.messageOverrides=void 0,this.hasContent=!1,this.effectiveLocale="",this.defaultMessages=void 0,this.tooltipText=void 0}handleGlobalAttributesChanged(){Dn(this)}onMessagesChange(){}async connectedCallback(){jb(this),U4(this),this.setupTextContentObserver(),Lb(this),this.formEl=A4(this)}disconnectedCallback(){var e,i;(e=this.mutationObserver)==null||e.disconnect(),Uk(this),Fb(this),B4(this),(i=this.resizeObserver)==null||i.disconnect(),this.formEl=null}async componentWillLoad(){qk(this),Nl()&&(this.updateHasContent(),await z4(this))}componentDidLoad(){Hk(this),this.setTooltipText()}componentDidRender(){kk(this)}render(){const e=this.href?"a":"button",i=e,o=this.loading?Dt("div",{class:Ni.buttonLoader},Dt("calcite-loader",{class:this.loading?Ni.loadingIn:Ni.loadingOut,inline:!0,label:this.messages.loading,scale:this.scale==="l"?"m":"s"})):null,h=!this.iconStart&&!this.iconEnd,p=Dt("calcite-icon",{key:"f1036c0a1bf5740fe63806e3559ea66fac29b726",class:{[Ni.icon]:!0,[Ni.iconStart]:!0},flipRtl:this.iconFlipRtl==="start"||this.iconFlipRtl==="both",icon:this.iconStart,scale:k3(this.scale)}),m=Dt("calcite-icon",{key:"d2c22ecf9ca23426b4c4a3b42d623f35ee988a44",class:{[Ni.icon]:!0,[Ni.iconEnd]:!0},flipRtl:this.iconFlipRtl==="end"||this.iconFlipRtl==="both",icon:this.iconEnd,scale:k3(this.scale)}),v=Dt("span",{key:"d1803021f5fa106c9e296402ec0a1498ecdf36c7",class:Ni.content,ref:w=>this.contentEl=w},Dt("slot",{key:"d2f729c16f9c803ffa109b68d58a22a4383dd426"}));return Dt(Lk,{key:"2757c795d29f812cf11def4df108837b9971dcdb",disabled:this.disabled},Dt(i,{key:"e67a4882c8a0c13d6b5f98bc8c5b53c10ba36e3e","aria-busy":S4(this.loading),"aria-expanded":this.el.ariaExpanded?this.el.ariaExpanded:null,"aria-label":this.loading?this.messages.loading:Bk(this),"aria-live":"polite",class:{[Ni.buttonPadding]:h,[Ni.buttonPaddingShrunk]:!h,[Ni.contentSlotted]:this.hasContent,[Ni.iconStartEmpty]:!this.iconStart,[Ni.iconEndEmpty]:!this.iconEnd},disabled:e==="button"?this.disabled:null,download:e==="a"?this.download===!0||this.download===""?"":this.download||null:null,href:e==="a"&&this.href,name:e==="button"&&this.name,onClick:this.handleClick,ref:this.setChildEl,rel:e==="a"&&this.rel,tabIndex:this.disabled?-1:null,target:e==="a"&&this.target,title:this.tooltipText,type:e==="button"&&this.type},o,this.iconStart?p:null,this.hasContent?v:null,this.iconEnd?m:null))}async setFocus(){var e;await Jk(this),(e=this.childEl)==null||e.focus()}effectiveLocaleChange(){F4(this,this.effectiveLocale)}updateHasContent(){var i,o;const e=this.el.textContent.trim().length>0||this.el.childNodes.length>0;this.hasContent=this.el.childNodes.length===1&&((i=this.el.childNodes[0])==null?void 0:i.nodeName)==="#text"?((o=this.el.textContent)==null?void 0:o.trim().length)>0:e}setupTextContentObserver(){var e;(e=this.mutationObserver)==null||e.observe(this.el,{childList:!0,subtree:!0})}onLabelClick(){this.handleClick(),this.setFocus()}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{"aria-expanded":["handleGlobalAttributesChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return EM}},[1,"calcite-button",{alignment:[513],appearance:[513],label:[1],kind:[513],disabled:[516],form:[513],download:[520],href:[513],iconEnd:[513,"icon-end"],iconFlipRtl:[513,"icon-flip-rtl"],iconStart:[513,"icon-start"],loading:[516],name:[513],rel:[513],round:[516],scale:[513],splitChild:[520,"split-child"],target:[513],type:[513],width:[513],messages:[1040],messageOverrides:[1040],hasContent:[32],effectiveLocale:[32],defaultMessages:[32],tooltipText:[32],setFocus:[64]},void 0,{"aria-expanded":["handleGlobalAttributesChanged"],messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function IM(){if(typeof customElements>"u")return;["calcite-button","calcite-icon","calcite-loader"].forEach(e=>{switch(e){case"calcite-button":customElements.get(e)||customElements.define(e,$M);break;case"calcite-icon":customElements.get(e)||W4();break;case"calcite-loader":customElements.get(e)||Bb();break}})}IM();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const R3={base:"esri-zoom",horizontalLayout:"esri-zoom--horizontal"},kM='.esri-zoom{display:flex;flex-flow:column nowrap}.esri-zoom .esri-widget--button{box-shadow:none}.esri-zoom .esri-widget--button:first-child{margin-bottom:0}.esri-zoom .esri-widget--button:last-child{border-top:solid 1px var(--calcite-color-border-1)}.esri-zoom.esri-zoom--horizontal{flex-flow:row-reverse nowrap}.esri-zoom.esri-zoom--horizontal .esri-widget--button:last-child{border-top:none}.esri-zoom.esri-zoom--horizontal .esri-widget--button:first-child{border-left:solid 1px var(--calcite-color-border-1)}[dir="rtl"] .esri-zoom.esri-zoom--horizontal .esri-widget--button:first-child{border-top:none}[dir="rtl"] .esri-zoom.esri-zoom--horizontal .esri-widget--button:last-child{border-left:solid 1px var(--calcite-color-border-1)}',MM=kM,OM=h4(t$),L3=[0,"arcgis-zoom",{autoDestroyDisabled:[1028,"auto-destroy-disabled"],icon:[1537],label:[1025],layout:[1537],messageOverrides:[1040],position:[1025],referenceElement:[1025,"reference-element"],state:[1537],canZoomIn:[32],canZoomOut:[32],destroy:[64],zoomIn:[64],zoomOut:[64]}],PM=zr(class extends Dr{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>L3[2]??{},this.arcgisPropertyChange=Bt(this,"arcgisPropertyChange",7),this.arcgisReady=Bt(this,"arcgisReady",7),this.manager=ra(this,Dn),this.messages=l4({}),this.viewModel=OM(this),this.arcgisPropertyChange=ou()("state"),this.autoDestroyDisabled=!1,this.icon="magnifying-glass-plus",this.label=void 0,this.layout="vertical",this.messageOverrides=void 0,this.position="top-left",this.referenceElement=void 0,this.state=this.viewModel.state,this.canZoomIn=this.viewModel.canZoomIn,this.canZoomOut=this.viewModel.canZoomOut}async destroy(){await this.manager.destroy()}async zoomIn(){this.viewModel.zoomIn()}async zoomOut(){this.viewModel.zoomOut()}render(){const e={[R3.horizontalLayout]:this.layout==="horizontal"},{canZoomIn:i,canZoomOut:o}=this.viewModel,{zoomIn:h,zoomOut:p}=this.messages;return Dt("div",{key:"1669be1a2b0018a4efa0009cf4a465339801af84",class:dd(R3.base,Qh.widget,e)},Dt("calcite-button",{key:"e283c90ad1ab58d6fc6d87b7eb79f87b8642e418",class:Qh.widgetButton,disabled:!i,iconStart:"plus",kind:"neutral",label:h,onClick:this.zoomIn.bind(this),title:h}),Dt("calcite-button",{key:"1a47a30cb4cf74f4ffc3c8e7d159f32c08c410f6",class:Qh.widgetButton,disabled:!o,iconStart:"minus",kind:"neutral",label:p,onClick:this.zoomOut.bind(this),title:p}))}static get assetsDirs(){return["assets"]}get el(){return this}static get style(){return MM}},L3);function NM(){if(typeof customElements>"u")return;["arcgis-zoom"].forEach(e=>{switch(e){case"arcgis-zoom":customElements.get(e)||customElements.define(e,PM);break}})}NM();/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const D3={scrim:"scrim",content:"content"},z3={s:72,l:480},RM=":host{--calcite-scrim-background:var(--calcite-color-transparent-scrim);position:absolute;inset:0px;z-index:var(--calcite-z-index-overlay);display:flex;block-size:100%;inline-size:100%;flex-direction:column;align-items:stretch}@keyframes calcite-scrim-fade-in{0%{--tw-bg-opacity:0}100%{--tw-text-opacity:1}}.scrim{position:absolute;inset:0px;display:flex;flex-direction:column;align-content:center;align-items:center;justify-content:center;overflow:hidden;animation:calcite-scrim-fade-in var(--calcite-internal-animation-timing-medium) ease-in-out;background-color:var(--calcite-scrim-background, var(--calcite-color-transparent-scrim))}.content{padding:1rem}:host([hidden]){display:none}[hidden]{display:none}",LM=RM,DM=zr(class extends Dr{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.resizeObserver=_c("resize",()=>this.handleResize()),this.handleDefaultSlotChange=e=>{this.hasContent=hk(e)},this.storeLoaderEl=e=>{this.loaderEl=e,this.handleResize()},this.loading=!1,this.messages=void 0,this.messageOverrides=void 0,this.loaderScale=void 0,this.defaultMessages=void 0,this.effectiveLocale="",this.hasContent=!1}onMessagesChange(){}effectiveLocaleChange(){F4(this,this.effectiveLocale)}connectedCallback(){var e;jb(this),U4(this),(e=this.resizeObserver)==null||e.observe(this.el)}async componentWillLoad(){await z4(this)}disconnectedCallback(){var e;Fb(this),B4(this),(e=this.resizeObserver)==null||e.disconnect()}render(){const{hasContent:e,loading:i,messages:o}=this;return Dt("div",{key:"286b03bb4a18b45f1b6914684a5178e952a44127",class:D3.scrim},i?Dt("calcite-loader",{label:o.loading,ref:this.storeLoaderEl,scale:this.loaderScale}):null,Dt("div",{key:"0f8cd111720239b204d0d201610c4145d5616753",class:D3.content,hidden:!e},Dt("slot",{key:"fe7bbced9871c9179971da0ef7ca07ea1c9ac33e",onSlotchange:this.handleDefaultSlotChange})))}getScale(e){return e<z3.s?"s":e>=z3.l?"l":"m"}handleResize(){const{loaderEl:e,el:i}=this;e&&(this.loaderScale=this.getScale(Math.min(i.clientHeight,i.clientWidth)??0))}static get assetsDirs(){return["assets"]}get el(){return this}static get watchers(){return{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}}static get style(){return LM}},[1,"calcite-scrim",{loading:[516],messages:[1040],messageOverrides:[1040],loaderScale:[32],defaultMessages:[32],effectiveLocale:[32],hasContent:[32]},void 0,{messageOverrides:["onMessagesChange"],effectiveLocale:["effectiveLocaleChange"]}]);function zM(){if(typeof customElements>"u")return;["calcite-scrim","calcite-loader"].forEach(e=>{switch(e){case"calcite-scrim":customElements.get(e)||customElements.define(e,DM);break;case"calcite-loader":customElements.get(e)||Bb();break}})}zM();/*!
 * All material copyright Esri, All Rights Reserved, unless otherwise specified.
 * See https://js.arcgis.com/4.31/esri/copyright.txt for details.
 * v4.31.0-next.127
 */const Zs="esri-basemap-toggle",Xl="esri-basemap-thumbnail",Fr={base:Zs,secondaryBasemapImage:`${Zs}__image--secondary`,container:`${Xl} ${Zs}__container`,image:`${Xl}__image ${Zs}__image`,imageLoading:`${Zs}__image--loading`,overlay:`${Xl}__overlay ${Zs}__image-overlay`,title:`${Xl}__title ${Zs}__title`,overlayScrim:`${Xl}__overlay-scrim`},jM=h4(GE),j3=[0,"arcgis-basemap-toggle",{activeBasemap:[1040],autoDestroyDisabled:[1028,"auto-destroy-disabled"],icon:[1537],label:[1025],messageOverrides:[1040],nextBasemap:[1040],position:[1537],referenceElement:[1025,"reference-element"],showTitle:[1028,"show-title"],state:[1537],toggle:[64],destroy:[64]}],FM=zr(class extends Dr{connectedCallback(){this.manager._connectedCallback()}disconnectedCallback(){this.manager._disconnectedCallback()}constructor(){super(),this.__registerHost(),this.constructor.__registerControllers=()=>j3[2]??{},this.arcgisPropertyChange=Bt(this,"arcgisPropertyChange",7),this.arcgisReady=Bt(this,"arcgisReady",7),this.manager=ra(this,Dn),this.messages=l4(),this.basemapUtils=n4(i$),this.viewModel=jM(this),this.arcgisPropertyChange=ou()("nextBasemap","state"),this.activeBasemap=this.viewModel.activeBasemap,this.autoDestroyDisabled=!1,this.icon="layer-basemap",this.label=void 0,this.messageOverrides=void 0,this.nextBasemap=this.viewModel.nextBasemap,this.position="top-left",this.referenceElement=void 0,this.showTitle=!1,this.state=this.viewModel.state}async toggle(){return await this.viewModel.toggle()}async destroy(){await this.manager.destroy()}render(){const e=this.viewModel,i=e.state==="disabled"?null:e.activeBasemap,o=e.state==="disabled"?null:e.nextBasemap,h=e.state==="loading",p=e.state==="incompatible-next-basemap",m=(o==null?void 0:o.title)??"",v=o&&o.loadStatus!=="loaded";let w;const A=this.showTitle&&m,$=p,M=A||$,P=this._getThumbnailStyles(i),R=this._getThumbnailStyles(o);return M&&(w=Dt("div",{key:"d7f281c2a7df20e2b362b6dbeab9646c88e9a8da",class:Fr.overlay},A?Dt("span",{class:Fr.title,title:m},m):null,$?Dt("calcite-scrim",{class:Fr.overlayScrim,title:this.messages.incompatibleSpatialReference},Dt("calcite-icon",{icon:"exclamation-mark-triangle"})):null)),Dt("div",{key:"9e5edf9c8688c70a72b42962589a12768b9a7c32",class:dd(Fr.base,Qh.widget)},Dt("calcite-button",{key:"1c0f75cadd134cfcd93d12687b7a0e8f70bf7898",appearance:"transparent","data-basemap-id":o?o.id:"",disabled:p,kind:"neutral",label:this.label??void 0,onClick:()=>void this.toggle(),title:this.label??void 0},Dt("div",{key:"d01480d263946bcc713c7000a999f80a916febd7",class:dd(Fr.container,Fr.secondaryBasemapImage)},Dt("div",{key:"08346645943526f40049749f3002cdf0347426b6",class:Fr.image,style:P})),Dt("div",{key:"915c11c5f2899294cc6f4c8161bd82037666de03",class:Fr.container},Dt("div",{key:"aee86dfaef1d22a57e25197397ed1c6b02032767",class:dd(Fr.image,v?Fr.imageLoading:null),style:R},v||h?Dt("calcite-scrim",null,Dt("span",{"aria-hidden":"true",class:Qh.loaderAnimation,role:"presentation"})):null),w)))}_getThumbnailStyles(e){const i=this.basemapUtils.getBasemapThumbnailUrl(e);return i?{backgroundImage:`url(${i})`}:{backgroundImage:""}}static get assetsDirs(){return["assets"]}get el(){return this}},j3);function UM(){if(typeof customElements>"u")return;["arcgis-basemap-toggle"].forEach(e=>{switch(e){case"arcgis-basemap-toggle":customElements.get(e)||customElements.define(e,FM);break}})}UM();function C(t,e,i,o){var h,p=arguments.length,m=p<3?e:o===null?o=Object.getOwnPropertyDescriptor(e,i):o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")m=Reflect.decorate(t,e,i,o);else for(var v=t.length-1;v>=0;v--)(h=t[v])&&(m=(p<3?h(m):p>3?h(e,i,m):h(e,i))||m);return p>3&&m&&Object.defineProperty(e,i,m),m}function WX(t,e){return function(i,o){e(i,o,t)}}function JX(t,e,i,o){function h(p){return p instanceof i?p:new i(function(m){m(p)})}return new(i||(i=Promise))(function(p,m){function v($){try{A(o.next($))}catch(M){m(M)}}function w($){try{A(o.throw($))}catch(M){m(M)}}function A($){$.done?p($.value):h($.value).then(v,w)}A((o=o.apply(t,[])).next())})}let Bp=class to{constructor(e=1){this._seed=e}set seed(e){this._seed=e??Math.random()*to._m}getInt(){return this._seed=(to._a*this._seed+to._c)%to._m,this._seed}getFloat(){return this.getInt()/(to._m-1)}getIntRange(e,i){return Math.round(this.getFloatRange(e,i))}getFloatRange(e,i){const o=i-e;return e+this.getInt()/to._m*o}};Bp._m=2147483647,Bp._a=48271,Bp._c=0;const BM=1.5,ZX=1/BM,YX=.5;function KX(t,e){if(!e)return t;for(const i of e)t.push(i);return t}function XX(t,e){return e?t.filter((i,o,h)=>h.findIndex(e.bind(null,i))===o):Array.from(new Set(t))}function au(t,e,i){if(t==null&&e==null)return!0;if(t==null||e==null||t.length!==e.length)return!1;if(i){for(let o=0;o<t.length;o++)if(!i(t[o],e[o]))return!1}else for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}function QX(t,e,i){let o,h;return i?(o=e.filter(p=>!t.some(m=>i(m,p))),h=t.filter(p=>!e.some(m=>i(m,p)))):(o=e.filter(p=>!t.includes(p)),h=t.filter(p=>!e.includes(p))),{added:o,removed:h}}function tQ(t){return t&&typeof t.length=="number"}let J4=class{constructor(){this.last=0}};const Z4=new J4;function am(t,e,i,o){o=o||Z4;const h=Math.max(0,o.last-10);for(let m=h;m<i;++m)if(t[m]===e)return o.last=m,m;const p=Math.min(h,i);for(let m=0;m<p;++m)if(t[m]===e)return o.last=m,m;return-1}function iQ(t,e,i,o){const h=t.length,p=am(t,e,h,o);if(p!==-1)return t[p]=t[h-1],t.pop(),e}const gr=new Set;function VM(t,e,i=t.length,o=e.length,h,p){if(o===0||i===0)return i;gr.clear();for(let v=0;v<o;++v)gr.add(e[v]);h=h||Z4;const m=Math.max(0,h.last-10);for(let v=m;v<i;++v)if(gr.has(t[v])&&(p==null||p.push(t[v]),gr.delete(t[v]),t[v]=t[i-1],--i,--v,gr.size===0||i===0))return gr.clear(),i;for(let v=0;v<m;++v)if(gr.has(t[v])&&(p==null||p.push(t[v]),gr.delete(t[v]),t[v]=t[i-1],--i,--v,gr.size===0||i===0))return gr.clear(),i;return gr.clear(),i}function rQ(t,e){let i=0;for(let o=0;o<t.length;++o){const h=t[o];e(h,o)&&(t[i]=h,i++)}t.length=i}function GM(t,e){const i=t.indexOf(e);return i!==-1?(t.splice(i,1),e):null}function ml(t,e){return t!=null}const nQ=[];function Y4(t){return 32+t.length}function Vb(){return 16}function sQ(t){if(!t)return 0;let e=X4;for(const i in t)if(t.hasOwnProperty(i)){const o=t[i];switch(typeof o){case"string":e+=Y4(o);break;case"number":e+=Vb();break;case"boolean":e+=4}}return e}function qM(t){if(!t)return 0;if(Array.isArray(t))return HM(t);let e=X4;for(const i in t)t.hasOwnProperty(i)&&(e+=K4(t[i]));return e}function HM(t){const e=t.length;if(e===0||typeof t[0]=="number")return 32+8*e;let i=Q4;for(let o=0;o<e;o++)i+=K4(t[o]);return i}function K4(t){switch(typeof t){case"object":return qM(t);case"string":return Y4(t);case"number":return Vb();case"boolean":return 4;default:return 8}}function WM(t,e){return Q4+t.length*e}const X4=32,Q4=16;let xs;function ot(t){return typeof xs[t]=="function"?xs[t]=xs[t](globalThis):xs[t]}var v5,w5,_5,x5;xs=(v5=globalThis.dojoConfig)!=null&&v5.has||(w5=globalThis.esriConfig)!=null&&w5.has?{...(_5=globalThis.dojoConfig)==null?void 0:_5.has,...(x5=globalThis.esriConfig)==null?void 0:x5.has}:{},ot.add=(t,e,i,o)=>{(o||xs[t]===void 0)&&(xs[t]=e),i&&ot(t)},ot.cache=xs,ot.add("big-integer-warning-enabled",!0),ot.add("esri-deprecation-warnings",!0),ot.add("esri-tests-disable-screenshots",!1),ot.add("esri-tests-use-full-window",!1),ot.add("esri-tests-post-to-influx",!0),ot.add("esri-cim-animations-enable-status","enabled"),ot.add("esri-cim-animations-spotlight",!1),ot.add("esri-cim-animations-freeze-time",!1),ot.add("enable-feature:multiple-highlight-defaults",!1),(()=>{var e;ot.add("host-webworker",globalThis.WorkerGlobalScope!==void 0&&self instanceof globalThis.WorkerGlobalScope);const t=typeof window<"u"&&typeof location<"u"&&typeof document<"u"&&window.location===location&&window.document===document;if(ot.add("host-browser",t),ot.add("host-node",typeof globalThis.process=="object"&&((e=globalThis.process.versions)==null?void 0:e.node)&&globalThis.process.versions.v8),ot.add("dom",t),ot("host-browser")){const i=navigator,o=i.userAgent,h=i.appVersion,p=parseFloat(h);if(ot.add("wp",parseFloat(o.split("Windows Phone")[1])||void 0),ot.add("msapp",parseFloat(o.split("MSAppHost/")[1])||void 0),ot.add("khtml",h.includes("Konqueror")?p:void 0),ot.add("edge",parseFloat(o.split("Edge/")[1])||void 0),ot.add("opr",parseFloat(o.split("OPR/")[1])||void 0),ot.add("webkit",!ot("wp")&&!ot("edge")&&parseFloat(o.split("WebKit/")[1])||void 0),ot.add("chrome",!ot("edge")&&!ot("opr")&&parseFloat(o.split("Chrome/")[1])||void 0),ot.add("android",!ot("wp")&&parseFloat(o.split("Android ")[1])||void 0),ot.add("safari",!h.includes("Safari")||ot("wp")||ot("chrome")||ot("android")||ot("edge")||ot("opr")?void 0:parseFloat(h.split("Version/")[1])),ot.add("mac",h.includes("Macintosh")),!ot("wp")&&/(iPhone|iPod|iPad)/.test(o)){const m=RegExp.$1.replace(/P/,"p"),v=/OS ([\d_]+)/.test(o)?RegExp.$1:"1",w=parseFloat(v.replace(/_/,".").replaceAll("_",""));ot.add(m,w),ot.add("ios",w)}ot("webkit")||(!o.includes("Gecko")||ot("wp")||ot("khtml")||ot("edge")||ot.add("mozilla",p),ot("mozilla")&&ot.add("ff",parseFloat(o.split("Firefox/")[1]||o.split("Minefield/")[1])||void 0))}})(),(()=>{if(globalThis.navigator){const t=navigator.userAgent,e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i.test(t),i=/iPhone/i.test(t);e&&ot.add("esri-mobile",e),i&&ot.add("esri-iPhone",i),ot.add("esri-geolocation",!!navigator.geolocation)}ot.add("esri-wasm","WebAssembly"in globalThis),ot.add("esri-performance-mode-frames-between-render",20),ot.add("esri-force-performance-mode",!1),ot.add("esri-shared-array-buffer",()=>{const t="SharedArrayBuffer"in globalThis,e=globalThis.crossOriginIsolated===!1;return t&&!e}),ot.add("wasm-simd",()=>{const t=[0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11];return WebAssembly.validate(new Uint8Array(t))}),ot.add("esri-atomics","Atomics"in globalThis),ot.add("esri-workers","Worker"in globalThis),ot.add("web-feat:cache","caches"in globalThis),ot.add("esri-workers-arraybuffer-transfer",!ot("safari")||Number(ot("safari"))>=12),ot.add("workers-pool-size",8),ot.add("featurelayer-simplify-thresholds",[.5,.5,.5,.5]),ot.add("featurelayer-simplify-payload-size-factors",[1,1,4]),ot.add("featurelayer-fast-triangulation-enabled",!0),ot.add("featurelayer-animation-enabled",!0),ot.add("featurelayer-snapshot-enabled",!0),ot.add("featurelayer-snapshot-point-min-threshold",8e4),ot.add("featurelayer-snapshot-point-max-threshold",4e5),ot.add("featurelayer-snapshot-point-coverage",.1),ot.add("featurelayer-query-max-depth",4),ot.add("featurelayer-query-pausing-enabled",!1),ot.add("featurelayer-advanced-symbols",!1),ot.add("featurelayer-pbf",!0),ot.add("featurelayer-pbf-statistics",!1),ot.add("feature-layers-workers",!0),ot.add("feature-polyline-generalization-factor",1),ot.add("mapview-transitions-duration",200),ot.add("mapview-essential-goto-duration",200),ot.add("mapview-srswitch-adjust-rotation-scale-threshold",24e6),ot.add("mapserver-pbf-version-support",10.81),ot.add("mapservice-popup-identify-max-tolerance",20),ot("host-webworker")||ot("host-browser")&&(ot.add("esri-csp-restrictions",()=>{try{new Function}catch{return!0}return!1}),ot.add("esri-image-decode",()=>{if("decode"in new Image){const t=new Image;return t.src='data:image/svg+xml;charset=UTF-8,<svg version="1.1" xmlns="http://www.w3.org/2000/svg"></svg>',void t.decode().then(()=>{ot.add("esri-image-decode",!0,!0,!0)}).catch(()=>{ot.add("esri-image-decode",!1,!0,!0)})}return!1}),ot.add("esri-url-encodes-apostrophe",()=>{const t=window.document.createElement("a");return t.href="?'",t.href.includes("?%27")}))})();function oQ(t){return t instanceof ArrayBuffer}function Gb(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int8Array"}function t6(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8Array"}function e6(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint8ClampedArray"}function qb(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int16Array"}function i6(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint16Array"}function Hb(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Int32Array"}function r6(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Uint32Array"}function Tf(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float32Array"}function Ef(t){var e;return((e=t==null?void 0:t.constructor)==null?void 0:e.name)==="Float64Array"}function n6(t){return!("buffer"in t)}function aQ(...t){return t.reduce((e,i)=>e+(i?n6(i)?WM(i,Vb()):i.byteLength+JM:0),0)}const JM=145,s6=1024;function lQ(t){return Ef(t)||Tf(t)||Hb(t)||qb(t)||Gb(t)}function hQ(t){return Ef(t)||Tf(t)}function cQ(t){return Ef(t)?179769e303:Tf(t)?3402823e32:r6(t)?4294967295:i6(t)?65535:t6(t)||e6(t)?255:Hb(t)?2147483647:qb(t)?32767:Gb(t)?127:256}function ZM(t,e){let i;for(i in t)t.hasOwnProperty(i)&&t[i]===void 0&&delete t[i];return t}function at(t){if(!t||typeof t!="object"||typeof t=="function")return t;const e=l6(t);if(e!=null)return e;if(S0(t))return t.clone();if(o6(t))return t.map(at);if(a6(t))return t.clone();const i={};for(const o of Object.getOwnPropertyNames(t))i[o]=at(t[o]);return i}function lm(t){if(!t||typeof t!="object"||typeof t=="function"||"HTMLElement"in globalThis&&t instanceof HTMLElement)return t;const e=l6(t);if(e!=null)return e;if(o6(t)){let i=!0;const o=t.map(h=>{const p=lm(h);return h!=null&&p==null&&(i=!1),p});return i?o:null}if(S0(t))return t.clone();if(t instanceof File||t instanceof Blob)return t;if(!a6(t)){const i=new(Object.getPrototypeOf(t)).constructor;for(const o of Object.getOwnPropertyNames(t)){const h=t[o],p=lm(h);if(h!=null&&p==null)return null;i[o]=p}return i}return null}function S0(t){return typeof t.clone=="function"}function o6(t){return typeof t.map=="function"&&typeof t.forEach=="function"}function a6(t){return typeof t.notifyChange=="function"&&typeof t.watch=="function"}function F3(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}function l6(t){if(Gb(t)||t6(t)||e6(t)||qb(t)||i6(t)||Hb(t)||r6(t)||Tf(t)||Ef(t))return t.slice();if(t instanceof Date)return new Date(t.getTime());if(t instanceof ArrayBuffer)return t.slice(0,t.byteLength);if(t instanceof Map){const e=new Map;for(const[i,o]of t)e.set(i,at(o));return e}if(t instanceof Set){const e=new Set;for(const i of t)e.add(at(i));return e}return null}function Wb(t,e){return t===e||typeof t=="number"&&isNaN(t)&&typeof e=="number"&&isNaN(e)||typeof(t==null?void 0:t.getTime)=="function"&&typeof(e==null?void 0:e.getTime)=="function"&&t.getTime()===e.getTime()||!1}function h6(t,e){return t===e||(t==null||typeof t=="string"?t===e:typeof t=="number"?t===e||typeof e=="number"&&isNaN(t)&&isNaN(e):t instanceof Date?e instanceof Date&&t.getTime()===e.getTime():Array.isArray(t)?Array.isArray(e)&&au(t,e):t instanceof Set?e instanceof Set&&KM(t,e):t instanceof Map?e instanceof Map&&XM(t,e):!!F3(t)&&F3(e)&&YM(t,e))}function YM(t,e){if(t===null||e===null)return!1;const i=Object.keys(t);if(e===null||Object.keys(e).length!==i.length)return!1;for(const o of i)if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1;return!0}function KM(t,e){if(t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function XM(t,e){if(t.size!==e.size)return!1;for(const[i,o]of t){const h=e.get(i);if(h!==o||h===void 0&&!e.has(i))return!1}return!0}function QM(t,e,i=!1){return u6(t,e,i)}function lu(t,e){if(e!=null)return e[t]||c6(t.split("."),!1,e)}function Rl(t,e,i){const o=t.split("."),h=o.pop(),p=c6(o,!0,i);p&&h&&(p[h]=e)}function U3(t,e){if(t==null&&e==null)return!1;if(t==null||e==null)return!0;if(typeof t=="object"){if(Array.isArray(t)){const i=e;if(t.length!==i.length)return!0;for(let o=0;o<t.length;o++)if(U3(t[o],i[o]))return!0;return!1}if(Object.keys(t).length!==Object.keys(e).length)return!0;for(const i in t)if(U3(t[i],e[i]))return!0;return!1}return t!==e}function c6(t,e,i){let o=i;for(const h of t){if(o==null)return;if(!(h in o)){if(!e)return;o[h]={}}o=o[h]}return o}function u6(t,e,i){return e?Object.keys(e).reduce((o,h)=>{let p=o[h],m=e[h];return p===m?o:p===void 0?(o[h]=at(m),o):(Array.isArray(m)||Array.isArray(o)?(p=p?Array.isArray(p)?o[h]=p.slice():o[h]=[p]:o[h]=[],m&&(Array.isArray(m)||(m=[m]),i?m.forEach(v=>{p.includes(v)||p.push(v)}):o[h]=m.slice())):m&&typeof m=="object"?o[h]=u6(p,m,i):o.hasOwnProperty(h)&&!e.hasOwnProperty(h)||(o[h]=m),o)},t||{}):t}let cr=class{constructor(e,i={ignoreUnknown:!1,useNumericKeys:!1}){this._jsonToAPI=e,this._options=i,this.apiValues=[],this.jsonValues=[],this._apiToJSON=tO(e),this.apiValues=B3(this._apiToJSON),this.jsonValues=B3(this._jsonToAPI),this.read=o=>this.fromJSON(o),this.write=(o,h,p)=>{const m=this.toJSON(o);m!==void 0&&Rl(p,m,h)},this.write.isJSONMapWriter=!0}toJSON(e){if(e==null)return null;if(this._apiToJSON.hasOwnProperty(e)){const i=this._apiToJSON[e];return this._options.useNumericKeys?+i:i}return this._options.ignoreUnknown?void 0:e}fromJSON(e){return e!=null&&this._jsonToAPI.hasOwnProperty(e)?this._jsonToAPI[e]:this._options.ignoreUnknown?void 0:e}};function tO(t){const e={};for(const i in t)e[t[i]]=i;return e}function B3(t){const e=[];for(const i in t)e.push(i);return e.sort(),e}function fr(){return function(t,e){return new cr(t,{ignoreUnknown:!0,...e})}}const eO={remove:()=>{}};function we(t){return t?{remove(){t&&(t(),t=void 0)}}:eO}function d6(t){t.forEach(e=>e==null?void 0:e.remove())}function dQ(t){d6(t),t.length=0}function $f(t){return we(()=>d6(t))}function fQ(t){return we(()=>{var e;return(e=t())==null?void 0:e.remove()})}function pQ(t){return we(()=>t==null?void 0:t.abort())}function iO(t){return we(t!=null?()=>t.destroy():void 0)}let ec;var S5,C5;const rO=((S5=globalThis.esriConfig)==null?void 0:S5.locale)??((C5=globalThis.dojoConfig)==null?void 0:C5.locale);var A5;const ic=(A5=globalThis.document)==null?void 0:A5.documentElement;function f6(){var i;const t=ic==null?void 0:ic.getAttribute("lang"),e=(i=globalThis.navigator)==null?void 0:i.language;return rO??t??e??"en"}function hr(){return ec===void 0&&(ec=f6()),ec}function nO(t=hr()){const e=/^([a-zA-Z]{2,3})(?:[_-][a-zA-Z0-9]+)*$/.exec(t);return e==null?void 0:e[1].toLowerCase()}const pd=[];function p6(t){return pd.push(t),we(()=>pd.splice(pd.indexOf(t),1))}const md=[];function Jb(t){return md.push(t),we(()=>md.splice(md.indexOf(t),1))}function V3(){const t=f6();ec!==t&&([...md].forEach(e=>e(t)),ec=t,[...pd].forEach(e=>e(t)))}var T5;(T5=globalThis.addEventListener)==null||T5.call(globalThis,"languagechange",V3),ic&&new MutationObserver(()=>{V3()}).observe(ic,{attributeFilter:["lang"]});const G3=new Map([["AUS Central Standard Time","Australia/Darwin"],["AUS Eastern Standard Time","Australia/Sydney"],["Afghanistan Standard Time","Asia/Kabul"],["Alaskan Standard Time","America/Anchorage"],["Aleutian Standard Time","America/Adak"],["Altai Standard Time","Asia/Barnaul"],["Arab Standard Time","Asia/Riyadh"],["Arabian Standard Time","Asia/Dubai"],["Arabic Standard Time","Asia/Baghdad"],["Argentina Standard Time","America/Buenos_Aires"],["Astrakhan Standard Time","Europe/Astrakhan"],["Atlantic Standard Time","America/Halifax"],["Aus Central W. Standard Time","Australia/Eucla"],["Azerbaijan Standard Time","Asia/Baku"],["Azores Standard Time","Atlantic/Azores"],["Bahia Standard Time","America/Bahia"],["Bangladesh Standard Time","Asia/Dhaka"],["Belarus Standard Time","Europe/Minsk"],["Bougainville Standard Time","Pacific/Bougainville"],["Canada Central Standard Time","America/Regina"],["Cape Verde Standard Time","Atlantic/Cape_Verde"],["Caucasus Standard Time","Asia/Yerevan"],["Cen. Australia Standard Time","Australia/Adelaide"],["Central America Standard Time","America/Guatemala"],["Central Asia Standard Time","Asia/Bishkek"],["Central Brazilian Standard Time","America/Cuiaba"],["Central Europe Standard Time","Europe/Budapest"],["Central European Standard Time","Europe/Warsaw"],["Central Pacific Standard Time","Pacific/Guadalcanal"],["Central Standard Time","America/Chicago"],["Central Standard Time (Mexico)","America/Mexico_City"],["Chatham Islands Standard Time","Pacific/Chatham"],["China Standard Time","Asia/Shanghai"],["Cuba Standard Time","America/Havana"],["Dateline Standard Time","Etc/GMT+12"],["E. Africa Standard Time","Africa/Nairobi"],["E. Australia Standard Time","Australia/Brisbane"],["E. Europe Standard Time","Europe/Chisinau"],["E. South America Standard Time","America/Sao_Paulo"],["Easter Island Standard Time","Pacific/Easter"],["Eastern Standard Time","America/New_York"],["Eastern Standard Time (Mexico)","America/Cancun"],["Egypt Standard Time","Africa/Cairo"],["Ekaterinburg Standard Time","Asia/Yekaterinburg"],["FLE Standard Time","Europe/Kiev"],["Fiji Standard Time","Pacific/Fiji"],["GMT Standard Time","Europe/London"],["GTB Standard Time","Europe/Bucharest"],["Georgian Standard Time","Asia/Tbilisi"],["Greenland Standard Time","America/Godthab"],["Greenwich Standard Time","Atlantic/Reykjavik"],["Haiti Standard Time","America/Port-au-Prince"],["Hawaiian Standard Time","Pacific/Honolulu"],["India Standard Time","Asia/Calcutta"],["Iran Standard Time","Asia/Tehran"],["Israel Standard Time","Asia/Jerusalem"],["Jordan Standard Time","Asia/Amman"],["Kaliningrad Standard Time","Europe/Kaliningrad"],["Korea Standard Time","Asia/Seoul"],["Libya Standard Time","Africa/Tripoli"],["Line Islands Standard Time","Pacific/Kiritimati"],["Lord Howe Standard Time","Australia/Lord_Howe"],["Magadan Standard Time","Asia/Magadan"],["Magallanes Standard Time","America/Punta_Arenas"],["Marquesas Standard Time","Pacific/Marquesas"],["Mauritius Standard Time","Indian/Mauritius"],["Middle East Standard Time","Asia/Beirut"],["Montevideo Standard Time","America/Montevideo"],["Morocco Standard Time","Africa/Casablanca"],["Mountain Standard Time","America/Denver"],["Mountain Standard Time (Mexico)","America/Mazatlan"],["Myanmar Standard Time","Asia/Rangoon"],["N. Central Asia Standard Time","Asia/Novosibirsk"],["Namibia Standard Time","Africa/Windhoek"],["Nepal Standard Time","Asia/Katmandu"],["New Zealand Standard Time","Pacific/Auckland"],["Newfoundland Standard Time","America/St_Johns"],["Norfolk Standard Time","Pacific/Norfolk"],["North Asia East Standard Time","Asia/Irkutsk"],["North Asia Standard Time","Asia/Krasnoyarsk"],["North Korea Standard Time","Asia/Pyongyang"],["Omsk Standard Time","Asia/Omsk"],["Pacific SA Standard Time","America/Santiago"],["Pacific Standard Time","America/Los_Angeles"],["Pacific Standard Time (Mexico)","America/Tijuana"],["Pakistan Standard Time","Asia/Karachi"],["Paraguay Standard Time","America/Asuncion"],["Qyzylorda Standard Time","Asia/Qyzylorda"],["Romance Standard Time","Europe/Paris"],["Russia Time Zone 10","Asia/Srednekolymsk"],["Russia Time Zone 11","Asia/Kamchatka"],["Russia Time Zone 3","Europe/Samara"],["Russian Standard Time","Europe/Moscow"],["SA Eastern Standard Time","America/Cayenne"],["SA Pacific Standard Time","America/Bogota"],["SA Western Standard Time","America/La_Paz"],["SE Asia Standard Time","Asia/Bangkok"],["Saint Pierre Standard Time","America/Miquelon"],["Sakhalin Standard Time","Asia/Sakhalin"],["Samoa Standard Time","Pacific/Apia"],["Sao Tome Standard Time","Africa/Sao_Tome"],["Saratov Standard Time","Europe/Saratov"],["Singapore Standard Time","Asia/Singapore"],["South Africa Standard Time","Africa/Johannesburg"],["South Sudan Standard Time","Africa/Juba"],["Sri Lanka Standard Time","Asia/Colombo"],["Sudan Standard Time","Africa/Khartoum"],["Syria Standard Time","Asia/Damascus"],["Taipei Standard Time","Asia/Taipei"],["Tasmania Standard Time","Australia/Hobart"],["Tocantins Standard Time","America/Araguaina"],["Tokyo Standard Time","Asia/Tokyo"],["Tomsk Standard Time","Asia/Tomsk"],["Tonga Standard Time","Pacific/Tongatapu"],["Transbaikal Standard Time","Asia/Chita"],["Turkey Standard Time","Europe/Istanbul"],["Turks And Caicos Standard Time","America/Grand_Turk"],["US Eastern Standard Time","America/Indianapolis"],["US Mountain Standard Time","America/Phoenix"],["UTC","Etc/GMT"],["UTC+01","Etc/GMT-1"],["UTC+02","Etc/GMT-2"],["UTC+03","Etc/GMT-3"],["UTC+04","Etc/GMT-4"],["UTC+05","Etc/GMT-5"],["UTC+06","Etc/GMT-6"],["UTC+07","Etc/GMT-7"],["UTC+08","Etc/GMT-8"],["UTC+09","Etc/GMT-9"],["UTC+10","Etc/GMT-10"],["UTC+11","Etc/GMT-11"],["UTC+12","Etc/GMT-12"],["UTC+13","Etc/GMT-13"],["UTC+14","Etc/GMT-14"],["UTC-01","Etc/GMT+1"],["UTC-02","Etc/GMT+2"],["UTC-03","Etc/GMT+3"],["UTC-04","Etc/GMT+4"],["UTC-05","Etc/GMT+5"],["UTC-06","Etc/GMT+6"],["UTC-07","Etc/GMT+7"],["UTC-08","Etc/GMT+8"],["UTC-09","Etc/GMT+9"],["UTC-10","Etc/GMT+10"],["UTC-11","Etc/GMT+11"],["UTC-12","Etc/GMT+12"],["Ulaanbaatar Standard Time","Asia/Ulaanbaatar"],["Venezuela Standard Time","America/Caracas"],["Vladivostok Standard Time","Asia/Vladivostok"],["Volgograd Standard Time","Europe/Volgograd"],["W. Australia Standard Time","Australia/Perth"],["W. Central Africa Standard Time","Africa/Lagos"],["W. Europe Standard Time","Europe/Berlin"],["W. Mongolia Standard Time","Asia/Hovd"],["West Asia Standard Time","Asia/Tashkent"],["West Bank Standard Time","Asia/Hebron"],["West Pacific Standard Time","Pacific/Port_Moresby"],["Yakutsk Standard Time","Asia/Yakutsk"],["Yukon Standard Time","America/Whitehorse"]]);class na extends Error{}class sO extends na{constructor(e){super(`Invalid DateTime: ${e.toMessage()}`)}}class oO extends na{constructor(e){super(`Invalid Interval: ${e.toMessage()}`)}}class aO extends na{constructor(e){super(`Invalid Duration: ${e.toMessage()}`)}}class Va extends na{}class m6 extends na{constructor(e){super(`Invalid unit ${e}`)}}class hi extends na{}class Hn extends na{constructor(){super("Zone is an abstract class")}}const pt="numeric",Pr="short",Gi="long",C0={year:pt,month:pt,day:pt},g6={year:pt,month:Pr,day:pt},lO={year:pt,month:Pr,day:pt,weekday:Pr},y6={year:pt,month:Gi,day:pt},b6={year:pt,month:Gi,day:pt,weekday:Gi},v6={hour:pt,minute:pt},w6={hour:pt,minute:pt,second:pt},_6={hour:pt,minute:pt,second:pt,timeZoneName:Pr},x6={hour:pt,minute:pt,second:pt,timeZoneName:Gi},S6={hour:pt,minute:pt,hourCycle:"h23"},C6={hour:pt,minute:pt,second:pt,hourCycle:"h23"},A6={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:Pr},T6={hour:pt,minute:pt,second:pt,hourCycle:"h23",timeZoneName:Gi},E6={year:pt,month:pt,day:pt,hour:pt,minute:pt},$6={year:pt,month:pt,day:pt,hour:pt,minute:pt,second:pt},I6={year:pt,month:Pr,day:pt,hour:pt,minute:pt},k6={year:pt,month:Pr,day:pt,hour:pt,minute:pt,second:pt},hO={year:pt,month:Pr,day:pt,weekday:Pr,hour:pt,minute:pt},M6={year:pt,month:Gi,day:pt,hour:pt,minute:pt,timeZoneName:Pr},O6={year:pt,month:Gi,day:pt,hour:pt,minute:pt,second:pt,timeZoneName:Pr},P6={year:pt,month:Gi,day:pt,weekday:Gi,hour:pt,minute:pt,timeZoneName:Gi},N6={year:pt,month:Gi,day:pt,weekday:Gi,hour:pt,minute:pt,second:pt,timeZoneName:Gi};class hu{get type(){throw new Hn}get name(){throw new Hn}get ianaName(){return this.name}get isUniversal(){throw new Hn}offsetName(e,i){throw new Hn}formatOffset(e,i){throw new Hn}offset(e){throw new Hn}equals(e){throw new Hn}get isValid(){throw new Hn}}let Vp=null;class If extends hu{static get instance(){return Vp===null&&(Vp=new If),Vp}get type(){return"system"}get name(){return new Intl.DateTimeFormat().resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(e,{format:i,locale:o}){return V6(e,i,o)}formatOffset(e,i){return rc(this.offset(e),i)}offset(e){return-new Date(e).getTimezoneOffset()}equals(e){return e.type==="system"}get isValid(){return!0}}let gd={};function cO(t){return gd[t]||(gd[t]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),gd[t]}const uO={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};function dO(t,e){const i=t.format(e).replace(/\u200E/g,""),o=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(i),[,h,p,m,v,w,A,$]=o;return[m,h,p,v,w,A,$]}function fO(t,e){const i=t.formatToParts(e),o=[];for(let h=0;h<i.length;h++){const{type:p,value:m}=i[h],v=uO[p];p==="era"?o[v]=m:Nt(v)||(o[v]=parseInt(m,10))}return o}let Uu={};class On extends hu{static create(e){return Uu[e]||(Uu[e]=new On(e)),Uu[e]}static resetCache(){Uu={},gd={}}static isValidSpecifier(e){return this.isValidZone(e)}static isValidZone(e){if(!e)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:e}).format(),!0}catch{return!1}}constructor(e){super(),this.zoneName=e,this.valid=On.isValidZone(e)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(e,{format:i,locale:o}){return V6(e,i,o,this.name)}formatOffset(e,i){return rc(this.offset(e),i)}offset(e){const i=new Date(e);if(isNaN(i))return NaN;const o=cO(this.name);let[h,p,m,v,w,A,$]=o.formatToParts?fO(o,i):dO(o,i);v==="BC"&&(h=-Math.abs(h)+1);const P=Mf({year:h,month:p,day:m,hour:w===24?0:w,minute:A,second:$,millisecond:0});let R=+i;const B=R%1e3;return R-=B>=0?B:1e3+B,(P-R)/(60*1e3)}equals(e){return e.type==="iana"&&e.name===this.name}get isValid(){return this.valid}}let q3={};function pO(t,e={}){const i=JSON.stringify([t,e]);let o=q3[i];return o||(o=new Intl.ListFormat(t,e),q3[i]=o),o}let hm={};function cm(t,e={}){const i=JSON.stringify([t,e]);let o=hm[i];return o||(o=new Intl.DateTimeFormat(t,e),hm[i]=o),o}let um={};function mO(t,e={}){const i=JSON.stringify([t,e]);let o=um[i];return o||(o=new Intl.NumberFormat(t,e),um[i]=o),o}let dm={};function gO(t,e={}){const{base:i,...o}=e,h=JSON.stringify([t,o]);let p=dm[h];return p||(p=new Intl.RelativeTimeFormat(t,e),dm[h]=p),p}let yh=null;function yO(){return yh||(yh=new Intl.DateTimeFormat().resolvedOptions().locale,yh)}let H3={};function bO(t){let e=H3[t];if(!e){const i=new Intl.Locale(t);e="getWeekInfo"in i?i.getWeekInfo():i.weekInfo,H3[t]=e}return e}function vO(t){const e=t.indexOf("-x-");e!==-1&&(t=t.substring(0,e));const i=t.indexOf("-u-");if(i===-1)return[t];{let o,h;try{o=cm(t).resolvedOptions(),h=t}catch{const w=t.substring(0,i);o=cm(w).resolvedOptions(),h=w}const{numberingSystem:p,calendar:m}=o;return[h,p,m]}}function wO(t,e,i){return(i||e)&&(t.includes("-u-")||(t+="-u"),i&&(t+=`-ca-${i}`),e&&(t+=`-nu-${e}`)),t}function _O(t){const e=[];for(let i=1;i<=12;i++){const o=_t.utc(2009,i,1);e.push(t(o))}return e}function xO(t){const e=[];for(let i=1;i<=7;i++){const o=_t.utc(2016,11,13+i);e.push(t(o))}return e}function Bu(t,e,i,o){const h=t.listingMode();return h==="error"?null:h==="en"?i(e):o(e)}function SO(t){return t.numberingSystem&&t.numberingSystem!=="latn"?!1:t.numberingSystem==="latn"||!t.locale||t.locale.startsWith("en")||new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem==="latn"}class CO{constructor(e,i,o){this.padTo=o.padTo||0,this.floor=o.floor||!1;const{padTo:h,floor:p,...m}=o;if(!i||Object.keys(m).length>0){const v={useGrouping:!1,...o};o.padTo>0&&(v.minimumIntegerDigits=o.padTo),this.inf=mO(e,v)}}format(e){if(this.inf){const i=this.floor?Math.floor(e):e;return this.inf.format(i)}else{const i=this.floor?Math.floor(e):Qb(e,3);return qe(i,this.padTo)}}}class AO{constructor(e,i,o){this.opts=o,this.originalZone=void 0;let h;if(this.opts.timeZone)this.dt=e;else if(e.zone.type==="fixed"){const m=-1*(e.offset/60),v=m>=0?`Etc/GMT+${m}`:`Etc/GMT${m}`;e.offset!==0&&On.create(v).valid?(h=v,this.dt=e):(h="UTC",this.dt=e.offset===0?e:e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone)}else e.zone.type==="system"?this.dt=e:e.zone.type==="iana"?(this.dt=e,h=e.zone.name):(h="UTC",this.dt=e.setZone("UTC").plus({minutes:e.offset}),this.originalZone=e.zone);const p={...this.opts};p.timeZone=p.timeZone||h,this.dtf=cm(i,p)}format(){return this.originalZone?this.formatToParts().map(({value:e})=>e).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const e=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?e.map(i=>{if(i.type==="timeZoneName"){const o=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...i,value:o}}else return i}):e}resolvedOptions(){return this.dtf.resolvedOptions()}}class TO{constructor(e,i,o){this.opts={style:"long",...o},!i&&U6()&&(this.rtf=gO(e,o))}format(e,i){return this.rtf?this.rtf.format(e,i):ZO(i,e,this.opts.numeric,this.opts.style!=="long")}formatToParts(e,i){return this.rtf?this.rtf.formatToParts(e,i):[]}}const EO={firstDay:1,minimalDays:4,weekend:[6,7]};class ue{static fromOpts(e){return ue.create(e.locale,e.numberingSystem,e.outputCalendar,e.weekSettings,e.defaultToEN)}static create(e,i,o,h,p=!1){const m=e||Le.defaultLocale,v=m||(p?"en-US":yO()),w=i||Le.defaultNumberingSystem,A=o||Le.defaultOutputCalendar,$=fm(h)||Le.defaultWeekSettings;return new ue(v,w,A,$,m)}static resetCache(){yh=null,hm={},um={},dm={}}static fromObject({locale:e,numberingSystem:i,outputCalendar:o,weekSettings:h}={}){return ue.create(e,i,o,h)}constructor(e,i,o,h,p){const[m,v,w]=vO(e);this.locale=m,this.numberingSystem=i||v||null,this.outputCalendar=o||w||null,this.weekSettings=h,this.intl=wO(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=p,this.fastNumbersCached=null}get fastNumbers(){return this.fastNumbersCached==null&&(this.fastNumbersCached=SO(this)),this.fastNumbersCached}listingMode(){const e=this.isEnglish(),i=(this.numberingSystem===null||this.numberingSystem==="latn")&&(this.outputCalendar===null||this.outputCalendar==="gregory");return e&&i?"en":"intl"}clone(e){return!e||Object.getOwnPropertyNames(e).length===0?this:ue.create(e.locale||this.specifiedLocale,e.numberingSystem||this.numberingSystem,e.outputCalendar||this.outputCalendar,fm(e.weekSettings)||this.weekSettings,e.defaultToEN||!1)}redefaultToEN(e={}){return this.clone({...e,defaultToEN:!0})}redefaultToSystem(e={}){return this.clone({...e,defaultToEN:!1})}months(e,i=!1){return Bu(this,e,H6,()=>{const o=i?{month:e,day:"numeric"}:{month:e},h=i?"format":"standalone";return this.monthsCache[h][e]||(this.monthsCache[h][e]=_O(p=>this.extract(p,o,"month"))),this.monthsCache[h][e]})}weekdays(e,i=!1){return Bu(this,e,Z6,()=>{const o=i?{weekday:e,year:"numeric",month:"long",day:"numeric"}:{weekday:e},h=i?"format":"standalone";return this.weekdaysCache[h][e]||(this.weekdaysCache[h][e]=xO(p=>this.extract(p,o,"weekday"))),this.weekdaysCache[h][e]})}meridiems(){return Bu(this,void 0,()=>Y6,()=>{if(!this.meridiemCache){const e={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[_t.utc(2016,11,13,9),_t.utc(2016,11,13,19)].map(i=>this.extract(i,e,"dayperiod"))}return this.meridiemCache})}eras(e){return Bu(this,e,K6,()=>{const i={era:e};return this.eraCache[e]||(this.eraCache[e]=[_t.utc(-40,1,1),_t.utc(2017,1,1)].map(o=>this.extract(o,i,"era"))),this.eraCache[e]})}extract(e,i,o){const h=this.dtFormatter(e,i),p=h.formatToParts(),m=p.find(v=>v.type.toLowerCase()===o);return m?m.value:null}numberFormatter(e={}){return new CO(this.intl,e.forceSimple||this.fastNumbers,e)}dtFormatter(e,i={}){return new AO(e,this.intl,i)}relFormatter(e={}){return new TO(this.intl,this.isEnglish(),e)}listFormatter(e={}){return pO(this.intl,e)}isEnglish(){return this.locale==="en"||this.locale.toLowerCase()==="en-us"||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:B6()?bO(this.locale):EO}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(e){return this.locale===e.locale&&this.numberingSystem===e.numberingSystem&&this.outputCalendar===e.outputCalendar}toString(){return`Locale(${this.locale}, ${this.numberingSystem}, ${this.outputCalendar})`}}let Gp=null;class ni extends hu{static get utcInstance(){return Gp===null&&(Gp=new ni(0)),Gp}static instance(e){return e===0?ni.utcInstance:new ni(e)}static parseSpecifier(e){if(e){const i=e.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(i)return new ni(Of(i[1],i[2]))}return null}constructor(e){super(),this.fixed=e}get type(){return"fixed"}get name(){return this.fixed===0?"UTC":`UTC${rc(this.fixed,"narrow")}`}get ianaName(){return this.fixed===0?"Etc/UTC":`Etc/GMT${rc(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(e,i){return rc(this.fixed,i)}get isUniversal(){return!0}offset(){return this.fixed}equals(e){return e.type==="fixed"&&e.fixed===this.fixed}get isValid(){return!0}}class $O extends hu{constructor(e){super(),this.zoneName=e}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function gs(t,e){if(Nt(t)||t===null)return e;if(t instanceof hu)return t;if(NO(t)){const i=t.toLowerCase();return i==="default"?e:i==="local"||i==="system"?If.instance:i==="utc"||i==="gmt"?ni.utcInstance:ni.parseSpecifier(i)||On.create(t)}else return ks(t)?ni.instance(t):typeof t=="object"&&"offset"in t&&typeof t.offset=="function"?t:new $O(t)}const Zb={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},W3={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},IO=Zb.hanidec.replace(/[\[|\]]/g,"").split("");function kO(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let i=0;i<t.length;i++){const o=t.charCodeAt(i);if(t[i].search(Zb.hanidec)!==-1)e+=IO.indexOf(t[i]);else for(const h in W3){const[p,m]=W3[h];o>=p&&o<=m&&(e+=o-p)}}return parseInt(e,10)}else return e}let Ca={};function MO(){Ca={}}function yr({numberingSystem:t},e=""){const i=t||"latn";return Ca[i]||(Ca[i]={}),Ca[i][e]||(Ca[i][e]=new RegExp(`${Zb[i]}${e}`)),Ca[i][e]}let J3=()=>Date.now(),Z3="system",Y3=null,K3=null,X3=null,Q3=60,tw,ew=null;class Le{static get now(){return J3}static set now(e){J3=e}static set defaultZone(e){Z3=e}static get defaultZone(){return gs(Z3,If.instance)}static get defaultLocale(){return Y3}static set defaultLocale(e){Y3=e}static get defaultNumberingSystem(){return K3}static set defaultNumberingSystem(e){K3=e}static get defaultOutputCalendar(){return X3}static set defaultOutputCalendar(e){X3=e}static get defaultWeekSettings(){return ew}static set defaultWeekSettings(e){ew=fm(e)}static get twoDigitCutoffYear(){return Q3}static set twoDigitCutoffYear(e){Q3=e%100}static get throwOnInvalid(){return tw}static set throwOnInvalid(e){tw=e}static resetCaches(){ue.resetCache(),On.resetCache(),_t.resetCache(),MO()}}class kr{constructor(e,i){this.reason=e,this.explanation=i}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const R6=[0,31,59,90,120,151,181,212,243,273,304,334],L6=[0,31,60,91,121,152,182,213,244,274,305,335];function ar(t,e){return new kr("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Yb(t,e,i){const o=new Date(Date.UTC(t,e-1,i));t<100&&t>=0&&o.setUTCFullYear(o.getUTCFullYear()-1900);const h=o.getUTCDay();return h===0?7:h}function D6(t,e,i){return i+(cu(t)?L6:R6)[e-1]}function z6(t,e){const i=cu(t)?L6:R6,o=i.findIndex(p=>p<e),h=e-i[o];return{month:o+1,day:h}}function Kb(t,e){return(t-e+7)%7+1}function A0(t,e=4,i=1){const{year:o,month:h,day:p}=t,m=D6(o,h,p),v=Kb(Yb(o,h,p),i);let w=Math.floor((m-v+14-e)/7),A;return w<1?(A=o-1,w=Sc(A,e,i)):w>Sc(o,e,i)?(A=o+1,w=1):A=o,{weekYear:A,weekNumber:w,weekday:v,...Pf(t)}}function iw(t,e=4,i=1){const{weekYear:o,weekNumber:h,weekday:p}=t,m=Kb(Yb(o,1,e),i),v=tl(o);let w=h*7+p-m-7+e,A;w<1?(A=o-1,w+=tl(A)):w>v?(A=o+1,w-=tl(o)):A=o;const{month:$,day:M}=z6(A,w);return{year:A,month:$,day:M,...Pf(t)}}function qp(t){const{year:e,month:i,day:o}=t,h=D6(e,i,o);return{year:e,ordinal:h,...Pf(t)}}function rw(t){const{year:e,ordinal:i}=t,{month:o,day:h}=z6(e,i);return{year:e,month:o,day:h,...Pf(t)}}function nw(t,e){if(!Nt(t.localWeekday)||!Nt(t.localWeekNumber)||!Nt(t.localWeekYear)){if(!Nt(t.weekday)||!Nt(t.weekNumber)||!Nt(t.weekYear))throw new Va("Cannot mix locale-based week fields with ISO-based week fields");return Nt(t.localWeekday)||(t.weekday=t.localWeekday),Nt(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Nt(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}else return{minDaysInFirstWeek:4,startOfWeek:1}}function OO(t,e=4,i=1){const o=kf(t.weekYear),h=lr(t.weekNumber,1,Sc(t.weekYear,e,i)),p=lr(t.weekday,1,7);return o?h?p?!1:ar("weekday",t.weekday):ar("week",t.weekNumber):ar("weekYear",t.weekYear)}function PO(t){const e=kf(t.year),i=lr(t.ordinal,1,tl(t.year));return e?i?!1:ar("ordinal",t.ordinal):ar("year",t.year)}function j6(t){const e=kf(t.year),i=lr(t.month,1,12),o=lr(t.day,1,T0(t.year,t.month));return e?i?o?!1:ar("day",t.day):ar("month",t.month):ar("year",t.year)}function F6(t){const{hour:e,minute:i,second:o,millisecond:h}=t,p=lr(e,0,23)||e===24&&i===0&&o===0&&h===0,m=lr(i,0,59),v=lr(o,0,59),w=lr(h,0,999);return p?m?v?w?!1:ar("millisecond",h):ar("second",o):ar("minute",i):ar("hour",e)}function Nt(t){return typeof t>"u"}function ks(t){return typeof t=="number"}function kf(t){return typeof t=="number"&&t%1===0}function NO(t){return typeof t=="string"}function RO(t){return Object.prototype.toString.call(t)==="[object Date]"}function U6(){try{return typeof Intl<"u"&&!!Intl.RelativeTimeFormat}catch{return!1}}function B6(){try{return typeof Intl<"u"&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch{return!1}}function LO(t){return Array.isArray(t)?t:[t]}function sw(t,e,i){if(t.length!==0)return t.reduce((o,h)=>{const p=[e(h),h];return o&&i(o[0],p[0])===o[0]?o:p},null)[1]}function DO(t,e){return e.reduce((i,o)=>(i[o]=t[o],i),{})}function gl(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function fm(t){if(t==null)return null;if(typeof t!="object")throw new hi("Week settings must be an object");if(!lr(t.firstDay,1,7)||!lr(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some(e=>!lr(e,1,7)))throw new hi("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function lr(t,e,i){return kf(t)&&t>=e&&t<=i}function zO(t,e){return t-e*Math.floor(t/e)}function qe(t,e=2){const i=t<0;let o;return i?o="-"+(""+-t).padStart(e,"0"):o=(""+t).padStart(e,"0"),o}function us(t){if(!(Nt(t)||t===null||t===""))return parseInt(t,10)}function Ys(t){if(!(Nt(t)||t===null||t===""))return parseFloat(t)}function Xb(t){if(!(Nt(t)||t===null||t==="")){const e=parseFloat("0."+t)*1e3;return Math.floor(e)}}function Qb(t,e,i=!1){const o=10**e;return(i?Math.trunc:Math.round)(t*o)/o}function cu(t){return t%4===0&&(t%100!==0||t%400===0)}function tl(t){return cu(t)?366:365}function T0(t,e){const i=zO(e-1,12)+1,o=t+(e-i)/12;return i===2?cu(o)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][i-1]}function Mf(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function ow(t,e,i){return-Kb(Yb(t,1,e),i)+e-1}function Sc(t,e=4,i=1){const o=ow(t,e,i),h=ow(t+1,e,i);return(tl(t)-o+h)/7}function pm(t){return t>99?t:t>Le.twoDigitCutoffYear?1900+t:2e3+t}function V6(t,e,i,o=null){const h=new Date(t),p={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};o&&(p.timeZone=o);const m={timeZoneName:e,...p},v=new Intl.DateTimeFormat(i,m).formatToParts(h).find(w=>w.type.toLowerCase()==="timezonename");return v?v.value:null}function Of(t,e){let i=parseInt(t,10);Number.isNaN(i)&&(i=0);const o=parseInt(e,10)||0,h=i<0||Object.is(i,-0)?-o:o;return i*60+h}function G6(t){const e=Number(t);if(typeof t=="boolean"||t===""||Number.isNaN(e))throw new hi(`Invalid unit value ${t}`);return e}function E0(t,e){const i={};for(const o in t)if(gl(t,o)){const h=t[o];if(h==null)continue;i[e(o)]=G6(h)}return i}function rc(t,e){const i=Math.trunc(Math.abs(t/60)),o=Math.trunc(Math.abs(t%60)),h=t>=0?"+":"-";switch(e){case"short":return`${h}${qe(i,2)}:${qe(o,2)}`;case"narrow":return`${h}${i}${o>0?`:${o}`:""}`;case"techie":return`${h}${qe(i,2)}${qe(o,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function Pf(t){return DO(t,["hour","minute","second","millisecond"])}const jO=["January","February","March","April","May","June","July","August","September","October","November","December"],q6=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],FO=["J","F","M","A","M","J","J","A","S","O","N","D"];function H6(t){switch(t){case"narrow":return[...FO];case"short":return[...q6];case"long":return[...jO];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const W6=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],J6=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],UO=["M","T","W","T","F","S","S"];function Z6(t){switch(t){case"narrow":return[...UO];case"short":return[...J6];case"long":return[...W6];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const Y6=["AM","PM"],BO=["Before Christ","Anno Domini"],VO=["BC","AD"],GO=["B","A"];function K6(t){switch(t){case"narrow":return[...GO];case"short":return[...VO];case"long":return[...BO];default:return null}}function qO(t){return Y6[t.hour<12?0:1]}function HO(t,e){return Z6(e)[t.weekday-1]}function WO(t,e){return H6(e)[t.month-1]}function JO(t,e){return K6(e)[t.year<0?0:1]}function ZO(t,e,i="always",o=!1){const h={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},p=["hours","minutes","seconds"].indexOf(t)===-1;if(i==="auto"&&p){const M=t==="days";switch(e){case 1:return M?"tomorrow":`next ${h[t][0]}`;case-1:return M?"yesterday":`last ${h[t][0]}`;case 0:return M?"today":`this ${h[t][0]}`}}const m=Object.is(e,-0)||e<0,v=Math.abs(e),w=v===1,A=h[t],$=o?w?A[1]:A[2]||A[1]:w?h[t][0]:t;return m?`${v} ${$} ago`:`in ${v} ${$}`}function aw(t,e){let i="";for(const o of t)o.literal?i+=o.val:i+=e(o.val);return i}const YO={D:C0,DD:g6,DDD:y6,DDDD:b6,t:v6,tt:w6,ttt:_6,tttt:x6,T:S6,TT:C6,TTT:A6,TTTT:T6,f:E6,ff:I6,fff:M6,ffff:P6,F:$6,FF:k6,FFF:O6,FFFF:N6};class ui{static create(e,i={}){return new ui(e,i)}static parseFormat(e){let i=null,o="",h=!1;const p=[];for(let m=0;m<e.length;m++){const v=e.charAt(m);v==="'"?(o.length>0&&p.push({literal:h||/^\s+$/.test(o),val:o}),i=null,o="",h=!h):h||v===i?o+=v:(o.length>0&&p.push({literal:/^\s+$/.test(o),val:o}),o=v,i=v)}return o.length>0&&p.push({literal:h||/^\s+$/.test(o),val:o}),p}static macroTokenToFormatOpts(e){return YO[e]}constructor(e,i){this.opts=i,this.loc=e,this.systemLoc=null}formatWithSystemDefault(e,i){return this.systemLoc===null&&(this.systemLoc=this.loc.redefaultToSystem()),this.systemLoc.dtFormatter(e,{...this.opts,...i}).format()}dtFormatter(e,i={}){return this.loc.dtFormatter(e,{...this.opts,...i})}formatDateTime(e,i){return this.dtFormatter(e,i).format()}formatDateTimeParts(e,i){return this.dtFormatter(e,i).formatToParts()}formatInterval(e,i){return this.dtFormatter(e.start,i).dtf.formatRange(e.start.toJSDate(),e.end.toJSDate())}resolvedOptions(e,i){return this.dtFormatter(e,i).resolvedOptions()}num(e,i=0){if(this.opts.forceSimple)return qe(e,i);const o={...this.opts};return i>0&&(o.padTo=i),this.loc.numberFormatter(o).format(e)}formatDateTimeFromString(e,i){const o=this.loc.listingMode()==="en",h=this.loc.outputCalendar&&this.loc.outputCalendar!=="gregory",p=(R,B)=>this.loc.extract(e,R,B),m=R=>e.isOffsetFixed&&e.offset===0&&R.allowZ?"Z":e.isValid?e.zone.formatOffset(e.ts,R.format):"",v=()=>o?qO(e):p({hour:"numeric",hourCycle:"h12"},"dayperiod"),w=(R,B)=>o?WO(e,R):p(B?{month:R}:{month:R,day:"numeric"},"month"),A=(R,B)=>o?HO(e,R):p(B?{weekday:R}:{weekday:R,month:"long",day:"numeric"},"weekday"),$=R=>{const B=ui.macroTokenToFormatOpts(R);return B?this.formatWithSystemDefault(e,B):R},M=R=>o?JO(e,R):p({era:R},"era"),P=R=>{switch(R){case"S":return this.num(e.millisecond);case"u":case"SSS":return this.num(e.millisecond,3);case"s":return this.num(e.second);case"ss":return this.num(e.second,2);case"uu":return this.num(Math.floor(e.millisecond/10),2);case"uuu":return this.num(Math.floor(e.millisecond/100));case"m":return this.num(e.minute);case"mm":return this.num(e.minute,2);case"h":return this.num(e.hour%12===0?12:e.hour%12);case"hh":return this.num(e.hour%12===0?12:e.hour%12,2);case"H":return this.num(e.hour);case"HH":return this.num(e.hour,2);case"Z":return m({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return m({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return m({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return e.zone.offsetName(e.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return e.zone.offsetName(e.ts,{format:"long",locale:this.loc.locale});case"z":return e.zoneName;case"a":return v();case"d":return h?p({day:"numeric"},"day"):this.num(e.day);case"dd":return h?p({day:"2-digit"},"day"):this.num(e.day,2);case"c":return this.num(e.weekday);case"ccc":return A("short",!0);case"cccc":return A("long",!0);case"ccccc":return A("narrow",!0);case"E":return this.num(e.weekday);case"EEE":return A("short",!1);case"EEEE":return A("long",!1);case"EEEEE":return A("narrow",!1);case"L":return h?p({month:"numeric",day:"numeric"},"month"):this.num(e.month);case"LL":return h?p({month:"2-digit",day:"numeric"},"month"):this.num(e.month,2);case"LLL":return w("short",!0);case"LLLL":return w("long",!0);case"LLLLL":return w("narrow",!0);case"M":return h?p({month:"numeric"},"month"):this.num(e.month);case"MM":return h?p({month:"2-digit"},"month"):this.num(e.month,2);case"MMM":return w("short",!1);case"MMMM":return w("long",!1);case"MMMMM":return w("narrow",!1);case"y":return h?p({year:"numeric"},"year"):this.num(e.year);case"yy":return h?p({year:"2-digit"},"year"):this.num(e.year.toString().slice(-2),2);case"yyyy":return h?p({year:"numeric"},"year"):this.num(e.year,4);case"yyyyyy":return h?p({year:"numeric"},"year"):this.num(e.year,6);case"G":return M("short");case"GG":return M("long");case"GGGGG":return M("narrow");case"kk":return this.num(e.weekYear.toString().slice(-2),2);case"kkkk":return this.num(e.weekYear,4);case"W":return this.num(e.weekNumber);case"WW":return this.num(e.weekNumber,2);case"n":return this.num(e.localWeekNumber);case"nn":return this.num(e.localWeekNumber,2);case"ii":return this.num(e.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(e.localWeekYear,4);case"o":return this.num(e.ordinal);case"ooo":return this.num(e.ordinal,3);case"q":return this.num(e.quarter);case"qq":return this.num(e.quarter,2);case"X":return this.num(Math.floor(e.ts/1e3));case"x":return this.num(e.ts);default:return $(R)}};return aw(ui.parseFormat(i),P)}formatDurationFromString(e,i){const o=w=>{switch(w[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},h=w=>A=>{const $=o(A);return $?this.num(w.get($),A.length):A},p=ui.parseFormat(i),m=p.reduce((w,{literal:A,val:$})=>A?w:w.concat($),[]),v=e.shiftTo(...m.map(o).filter(w=>w));return aw(p,h(v))}}const X6=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Ll(...t){const e=t.reduce((i,o)=>i+o.source,"");return RegExp(`^${e}$`)}function Dl(...t){return e=>t.reduce(([i,o,h],p)=>{const[m,v,w]=p(e,h);return[{...i,...m},v||o,w]},[{},null,1]).slice(0,2)}function zl(t,...e){if(t==null)return[null,null];for(const[i,o]of e){const h=i.exec(t);if(h)return o(h)}return[null,null]}function Q6(...t){return(e,i)=>{const o={};let h;for(h=0;h<t.length;h++)o[t[h]]=us(e[i+h]);return[o,null,i+h]}}const tx=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,KO=`(?:${tx.source}?(?:\\[(${X6.source})\\])?)?`,tv=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,ex=RegExp(`${tv.source}${KO}`),ev=RegExp(`(?:T${ex.source})?`),XO=/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,QO=/(\d{4})-?W(\d\d)(?:-?(\d))?/,tP=/(\d{4})-?(\d{3})/,eP=Q6("weekYear","weekNumber","weekDay"),iP=Q6("year","ordinal"),rP=/(\d{4})-(\d\d)-(\d\d)/,ix=RegExp(`${tv.source} ?(?:${tx.source}|(${X6.source}))?`),nP=RegExp(`(?: ${ix.source})?`);function el(t,e,i){const o=t[e];return Nt(o)?i:us(o)}function sP(t,e){return[{year:el(t,e),month:el(t,e+1,1),day:el(t,e+2,1)},null,e+3]}function jl(t,e){return[{hours:el(t,e,0),minutes:el(t,e+1,0),seconds:el(t,e+2,0),milliseconds:Xb(t[e+3])},null,e+4]}function uu(t,e){const i=!t[e]&&!t[e+1],o=Of(t[e+1],t[e+2]),h=i?null:ni.instance(o);return[{},h,e+3]}function du(t,e){const i=t[e]?On.create(t[e]):null;return[{},i,e+1]}const oP=RegExp(`^T?${tv.source}$`),aP=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function lP(t){const[e,i,o,h,p,m,v,w,A]=t,$=e[0]==="-",M=w&&w[0]==="-",P=(R,B=!1)=>R!==void 0&&(B||R&&$)?-R:R;return[{years:P(Ys(i)),months:P(Ys(o)),weeks:P(Ys(h)),days:P(Ys(p)),hours:P(Ys(m)),minutes:P(Ys(v)),seconds:P(Ys(w),w==="-0"),milliseconds:P(Xb(A),M)}]}const hP={GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function iv(t,e,i,o,h,p,m){const v={year:e.length===2?pm(us(e)):us(e),month:q6.indexOf(i)+1,day:us(o),hour:us(h),minute:us(p)};return m&&(v.second=us(m)),t&&(v.weekday=t.length>3?W6.indexOf(t)+1:J6.indexOf(t)+1),v}const cP=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function uP(t){const[,e,i,o,h,p,m,v,w,A,$,M]=t,P=iv(e,h,o,i,p,m,v);let R;return w?R=hP[w]:A?R=0:R=Of($,M),[P,new ni(R)]}function dP(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}const fP=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,pP=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,mP=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function lw(t){const[,e,i,o,h,p,m,v]=t;return[iv(e,h,o,i,p,m,v),ni.utcInstance]}function gP(t){const[,e,i,o,h,p,m,v]=t;return[iv(e,v,i,o,h,p,m),ni.utcInstance]}const yP=Ll(XO,ev),bP=Ll(QO,ev),vP=Ll(tP,ev),wP=Ll(ex),rx=Dl(sP,jl,uu,du),_P=Dl(eP,jl,uu,du),xP=Dl(iP,jl,uu,du),SP=Dl(jl,uu,du);function CP(t){return zl(t,[yP,rx],[bP,_P],[vP,xP],[wP,SP])}function AP(t){return zl(dP(t),[cP,uP])}function TP(t){return zl(t,[fP,lw],[pP,lw],[mP,gP])}function EP(t){return zl(t,[aP,lP])}const $P=Dl(jl);function IP(t){return zl(t,[oP,$P])}const kP=Ll(rP,nP),MP=Ll(ix),OP=Dl(jl,uu,du);function PP(t){return zl(t,[kP,rx],[MP,OP])}const hw="Invalid Duration",nx={weeks:{days:7,hours:7*24,minutes:7*24*60,seconds:7*24*60*60,milliseconds:7*24*60*60*1e3},days:{hours:24,minutes:24*60,seconds:24*60*60,milliseconds:24*60*60*1e3},hours:{minutes:60,seconds:60*60,milliseconds:60*60*1e3},minutes:{seconds:60,milliseconds:60*1e3},seconds:{milliseconds:1e3}},NP={years:{quarters:4,months:12,weeks:52,days:365,hours:365*24,minutes:365*24*60,seconds:365*24*60*60,milliseconds:365*24*60*60*1e3},quarters:{months:3,weeks:13,days:91,hours:91*24,minutes:91*24*60,seconds:91*24*60*60,milliseconds:91*24*60*60*1e3},months:{weeks:4,days:30,hours:30*24,minutes:30*24*60,seconds:30*24*60*60,milliseconds:30*24*60*60*1e3},...nx},Zi=146097/400,fa=146097/4800,RP={years:{quarters:4,months:12,weeks:Zi/7,days:Zi,hours:Zi*24,minutes:Zi*24*60,seconds:Zi*24*60*60,milliseconds:Zi*24*60*60*1e3},quarters:{months:3,weeks:Zi/28,days:Zi/4,hours:Zi*24/4,minutes:Zi*24*60/4,seconds:Zi*24*60*60/4,milliseconds:Zi*24*60*60*1e3/4},months:{weeks:fa/7,days:fa,hours:fa*24,minutes:fa*24*60,seconds:fa*24*60*60,milliseconds:fa*24*60*60*1e3},...nx},Co=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],LP=Co.slice(0).reverse();function Wn(t,e,i=!1){const o={values:i?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Kt(o)}function sx(t,e){let i=e.milliseconds??0;for(const o of LP.slice(1))e[o]&&(i+=e[o]*t[o].milliseconds);return i}function cw(t,e){const i=sx(t,e)<0?-1:1;Co.reduceRight((o,h)=>{if(Nt(e[h]))return o;if(o){const p=e[o]*i,m=t[h][o],v=Math.floor(p/m);e[h]+=v*i,e[o]-=v*m*i}return h},null),Co.reduce((o,h)=>{if(Nt(e[h]))return o;if(o){const p=e[o]%1;e[o]-=p,e[h]+=p*t[o][h]}return h},null)}function DP(t){const e={};for(const[i,o]of Object.entries(t))o!==0&&(e[i]=o);return e}class Kt{constructor(e){const i=e.conversionAccuracy==="longterm"||!1;let o=i?RP:NP;e.matrix&&(o=e.matrix),this.values=e.values,this.loc=e.loc||ue.create(),this.conversionAccuracy=i?"longterm":"casual",this.invalid=e.invalid||null,this.matrix=o,this.isLuxonDuration=!0}static fromMillis(e,i){return Kt.fromObject({milliseconds:e},i)}static fromObject(e,i={}){if(e==null||typeof e!="object")throw new hi(`Duration.fromObject: argument expected to be an object, got ${e===null?"null":typeof e}`);return new Kt({values:E0(e,Kt.normalizeUnit),loc:ue.fromObject(i),conversionAccuracy:i.conversionAccuracy,matrix:i.matrix})}static fromDurationLike(e){if(ks(e))return Kt.fromMillis(e);if(Kt.isDuration(e))return e;if(typeof e=="object")return Kt.fromObject(e);throw new hi(`Unknown duration argument ${e} of type ${typeof e}`)}static fromISO(e,i){const[o]=EP(e);return o?Kt.fromObject(o,i):Kt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static fromISOTime(e,i){const[o]=IP(e);return o?Kt.fromObject(o,i):Kt.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static invalid(e,i=null){if(!e)throw new hi("need to specify a reason the Duration is invalid");const o=e instanceof kr?e:new kr(e,i);if(Le.throwOnInvalid)throw new aO(o);return new Kt({invalid:o})}static normalizeUnit(e){const i={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[e&&e.toLowerCase()];if(!i)throw new m6(e);return i}static isDuration(e){return e&&e.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(e,i={}){const o={...i,floor:i.round!==!1&&i.floor!==!1};return this.isValid?ui.create(this.loc,o).formatDurationFromString(this,e):hw}toHuman(e={}){if(!this.isValid)return hw;const i=Co.map(o=>{const h=this.values[o];return Nt(h)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...e,unit:o.slice(0,-1)}).format(h)}).filter(o=>o);return this.loc.listFormatter({type:"conjunction",style:e.listStyle||"narrow",...e}).format(i)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let e="P";return this.years!==0&&(e+=this.years+"Y"),(this.months!==0||this.quarters!==0)&&(e+=this.months+this.quarters*3+"M"),this.weeks!==0&&(e+=this.weeks+"W"),this.days!==0&&(e+=this.days+"D"),(this.hours!==0||this.minutes!==0||this.seconds!==0||this.milliseconds!==0)&&(e+="T"),this.hours!==0&&(e+=this.hours+"H"),this.minutes!==0&&(e+=this.minutes+"M"),(this.seconds!==0||this.milliseconds!==0)&&(e+=Qb(this.seconds+this.milliseconds/1e3,3)+"S"),e==="P"&&(e+="T0S"),e}toISOTime(e={}){if(!this.isValid)return null;const i=this.toMillis();return i<0||i>=864e5?null:(e={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...e,includeOffset:!1},_t.fromMillis(i,{zone:"UTC"}).toISOTime(e))}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?sx(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(e){if(!this.isValid)return this;const i=Kt.fromDurationLike(e),o={};for(const h of Co)(gl(i.values,h)||gl(this.values,h))&&(o[h]=i.get(h)+this.get(h));return Wn(this,{values:o},!0)}minus(e){if(!this.isValid)return this;const i=Kt.fromDurationLike(e);return this.plus(i.negate())}mapUnits(e){if(!this.isValid)return this;const i={};for(const o of Object.keys(this.values))i[o]=G6(e(this.values[o],o));return Wn(this,{values:i},!0)}get(e){return this[Kt.normalizeUnit(e)]}set(e){if(!this.isValid)return this;const i={...this.values,...E0(e,Kt.normalizeUnit)};return Wn(this,{values:i})}reconfigure({locale:e,numberingSystem:i,conversionAccuracy:o,matrix:h}={}){const m={loc:this.loc.clone({locale:e,numberingSystem:i}),matrix:h,conversionAccuracy:o};return Wn(this,m)}as(e){return this.isValid?this.shiftTo(e).get(e):NaN}normalize(){if(!this.isValid)return this;const e=this.toObject();return cw(this.matrix,e),Wn(this,{values:e},!0)}rescale(){if(!this.isValid)return this;const e=DP(this.normalize().shiftToAll().toObject());return Wn(this,{values:e},!0)}shiftTo(...e){if(!this.isValid)return this;if(e.length===0)return this;e=e.map(m=>Kt.normalizeUnit(m));const i={},o={},h=this.toObject();let p;for(const m of Co)if(e.indexOf(m)>=0){p=m;let v=0;for(const A in o)v+=this.matrix[A][m]*o[A],o[A]=0;ks(h[m])&&(v+=h[m]);const w=Math.trunc(v);i[m]=w,o[m]=(v*1e3-w*1e3)/1e3}else ks(h[m])&&(o[m]=h[m]);for(const m in o)o[m]!==0&&(i[p]+=m===p?o[m]:o[m]/this.matrix[p][m]);return cw(this.matrix,i),Wn(this,{values:i},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const e={};for(const i of Object.keys(this.values))e[i]=this.values[i]===0?0:-this.values[i];return Wn(this,{values:e},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(e){if(!this.isValid||!e.isValid||!this.loc.equals(e.loc))return!1;function i(o,h){return o===void 0||o===0?h===void 0||h===0:o===h}for(const o of Co)if(!i(this.values[o],e.values[o]))return!1;return!0}}const pa="Invalid Interval";function zP(t,e){return!t||!t.isValid?Re.invalid("missing or invalid start"):!e||!e.isValid?Re.invalid("missing or invalid end"):e<t?Re.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null}class Re{constructor(e){this.s=e.start,this.e=e.end,this.invalid=e.invalid||null,this.isLuxonInterval=!0}static invalid(e,i=null){if(!e)throw new hi("need to specify a reason the Interval is invalid");const o=e instanceof kr?e:new kr(e,i);if(Le.throwOnInvalid)throw new oO(o);return new Re({invalid:o})}static fromDateTimes(e,i){const o=Ql(e),h=Ql(i),p=zP(o,h);return p??new Re({start:o,end:h})}static after(e,i){const o=Kt.fromDurationLike(i),h=Ql(e);return Re.fromDateTimes(h,h.plus(o))}static before(e,i){const o=Kt.fromDurationLike(i),h=Ql(e);return Re.fromDateTimes(h.minus(o),h)}static fromISO(e,i){const[o,h]=(e||"").split("/",2);if(o&&h){let p,m;try{p=_t.fromISO(o,i),m=p.isValid}catch{m=!1}let v,w;try{v=_t.fromISO(h,i),w=v.isValid}catch{w=!1}if(m&&w)return Re.fromDateTimes(p,v);if(m){const A=Kt.fromISO(h,i);if(A.isValid)return Re.after(p,A)}else if(w){const A=Kt.fromISO(o,i);if(A.isValid)return Re.before(v,A)}}return Re.invalid("unparsable",`the input "${e}" can't be parsed as ISO 8601`)}static isInterval(e){return e&&e.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return this.invalidReason===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(e="milliseconds"){return this.isValid?this.toDuration(e).get(e):NaN}count(e="milliseconds",i){if(!this.isValid)return NaN;const o=this.start.startOf(e,i);let h;return i!=null&&i.useLocaleWeeks?h=this.end.reconfigure({locale:o.locale}):h=this.end,h=h.startOf(e,i),Math.floor(h.diff(o,e).get(e))+(h.valueOf()!==this.end.valueOf())}hasSame(e){return this.isValid?this.isEmpty()||this.e.minus(1).hasSame(this.s,e):!1}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(e){return this.isValid?this.s>e:!1}isBefore(e){return this.isValid?this.e<=e:!1}contains(e){return this.isValid?this.s<=e&&this.e>e:!1}set({start:e,end:i}={}){return this.isValid?Re.fromDateTimes(e||this.s,i||this.e):this}splitAt(...e){if(!this.isValid)return[];const i=e.map(Ql).filter(m=>this.contains(m)).sort((m,v)=>m.toMillis()-v.toMillis()),o=[];let{s:h}=this,p=0;for(;h<this.e;){const m=i[p]||this.e,v=+m>+this.e?this.e:m;o.push(Re.fromDateTimes(h,v)),h=v,p+=1}return o}splitBy(e){const i=Kt.fromDurationLike(e);if(!this.isValid||!i.isValid||i.as("milliseconds")===0)return[];let{s:o}=this,h=1,p;const m=[];for(;o<this.e;){const v=this.start.plus(i.mapUnits(w=>w*h));p=+v>+this.e?this.e:v,m.push(Re.fromDateTimes(o,p)),o=p,h+=1}return m}divideEqually(e){return this.isValid?this.splitBy(this.length()/e).slice(0,e):[]}overlaps(e){return this.e>e.s&&this.s<e.e}abutsStart(e){return this.isValid?+this.e==+e.s:!1}abutsEnd(e){return this.isValid?+e.e==+this.s:!1}engulfs(e){return this.isValid?this.s<=e.s&&this.e>=e.e:!1}equals(e){return!this.isValid||!e.isValid?!1:this.s.equals(e.s)&&this.e.equals(e.e)}intersection(e){if(!this.isValid)return this;const i=this.s>e.s?this.s:e.s,o=this.e<e.e?this.e:e.e;return i>=o?null:Re.fromDateTimes(i,o)}union(e){if(!this.isValid)return this;const i=this.s<e.s?this.s:e.s,o=this.e>e.e?this.e:e.e;return Re.fromDateTimes(i,o)}static merge(e){const[i,o]=e.sort((h,p)=>h.s-p.s).reduce(([h,p],m)=>p?p.overlaps(m)||p.abutsStart(m)?[h,p.union(m)]:[h.concat([p]),m]:[h,m],[[],null]);return o&&i.push(o),i}static xor(e){let i=null,o=0;const h=[],p=e.map(w=>[{time:w.s,type:"s"},{time:w.e,type:"e"}]),m=Array.prototype.concat(...p),v=m.sort((w,A)=>w.time-A.time);for(const w of v)o+=w.type==="s"?1:-1,o===1?i=w.time:(i&&+i!=+w.time&&h.push(Re.fromDateTimes(i,w.time)),i=null);return Re.merge(h)}difference(...e){return Re.xor([this].concat(e)).map(i=>this.intersection(i)).filter(i=>i&&!i.isEmpty())}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:pa}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(e=C0,i={}){return this.isValid?ui.create(this.s.loc.clone(i),e).formatInterval(this):pa}toISO(e){return this.isValid?`${this.s.toISO(e)}/${this.e.toISO(e)}`:pa}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:pa}toISOTime(e){return this.isValid?`${this.s.toISOTime(e)}/${this.e.toISOTime(e)}`:pa}toFormat(e,{separator:i=" – "}={}){return this.isValid?`${this.s.toFormat(e)}${i}${this.e.toFormat(e)}`:pa}toDuration(e,i){return this.isValid?this.e.diff(this.s,e,i):Kt.invalid(this.invalidReason)}mapEndpoints(e){return Re.fromDateTimes(e(this.s),e(this.e))}}class Vu{static hasDST(e=Le.defaultZone){const i=_t.now().setZone(e).set({month:12});return!e.isUniversal&&i.offset!==i.set({month:6}).offset}static isValidIANAZone(e){return On.isValidZone(e)}static normalizeZone(e){return gs(e,Le.defaultZone)}static getStartOfWeek({locale:e=null,locObj:i=null}={}){return(i||ue.create(e)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:e=null,locObj:i=null}={}){return(i||ue.create(e)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:e=null,locObj:i=null}={}){return(i||ue.create(e)).getWeekendDays().slice()}static months(e="long",{locale:i=null,numberingSystem:o=null,locObj:h=null,outputCalendar:p="gregory"}={}){return(h||ue.create(i,o,p)).months(e)}static monthsFormat(e="long",{locale:i=null,numberingSystem:o=null,locObj:h=null,outputCalendar:p="gregory"}={}){return(h||ue.create(i,o,p)).months(e,!0)}static weekdays(e="long",{locale:i=null,numberingSystem:o=null,locObj:h=null}={}){return(h||ue.create(i,o,null)).weekdays(e)}static weekdaysFormat(e="long",{locale:i=null,numberingSystem:o=null,locObj:h=null}={}){return(h||ue.create(i,o,null)).weekdays(e,!0)}static meridiems({locale:e=null}={}){return ue.create(e).meridiems()}static eras(e="short",{locale:i=null}={}){return ue.create(i,null,"gregory").eras(e)}static features(){return{relative:U6(),localeWeek:B6()}}}function uw(t,e){const i=h=>h.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),o=i(e)-i(t);return Math.floor(Kt.fromMillis(o).as("days"))}function jP(t,e,i){const o=[["years",(w,A)=>A.year-w.year],["quarters",(w,A)=>A.quarter-w.quarter+(A.year-w.year)*4],["months",(w,A)=>A.month-w.month+(A.year-w.year)*12],["weeks",(w,A)=>{const $=uw(w,A);return($-$%7)/7}],["days",uw]],h={},p=t;let m,v;for(const[w,A]of o)i.indexOf(w)>=0&&(m=w,h[w]=A(t,e),v=p.plus(h),v>e?(h[w]--,t=p.plus(h),t>e&&(v=t,h[w]--,t=p.plus(h))):t=v);return[t,h,v,m]}function FP(t,e,i,o){let[h,p,m,v]=jP(t,e,i);const w=e-h,A=i.filter(M=>["hours","minutes","seconds","milliseconds"].indexOf(M)>=0);A.length===0&&(m<e&&(m=h.plus({[v]:1})),m!==h&&(p[v]=(p[v]||0)+w/(m-h)));const $=Kt.fromObject(p,o);return A.length>0?Kt.fromMillis(w,o).shiftTo(...A).plus($):$}const UP="missing Intl.DateTimeFormat.formatToParts support";function ae(t,e=i=>i){return{regex:t,deser:([i])=>e(kO(i))}}const BP=" ",ox=`[ ${BP}]`,ax=new RegExp(ox,"g");function VP(t){return t.replace(/\./g,"\\.?").replace(ax,ox)}function dw(t){return t.replace(/\./g,"").replace(ax," ").toLowerCase()}function br(t,e){return t===null?null:{regex:RegExp(t.map(VP).join("|")),deser:([i])=>t.findIndex(o=>dw(i)===dw(o))+e}}function fw(t,e){return{regex:t,deser:([,i,o])=>Of(i,o),groups:e}}function Gu(t){return{regex:t,deser:([e])=>e}}function GP(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function qP(t,e){const i=yr(e),o=yr(e,"{2}"),h=yr(e,"{3}"),p=yr(e,"{4}"),m=yr(e,"{6}"),v=yr(e,"{1,2}"),w=yr(e,"{1,3}"),A=yr(e,"{1,6}"),$=yr(e,"{1,9}"),M=yr(e,"{2,4}"),P=yr(e,"{4,6}"),R=H=>({regex:RegExp(GP(H.val)),deser:([Z])=>Z,literal:!0}),G=(H=>{if(t.literal)return R(H);switch(H.val){case"G":return br(e.eras("short"),0);case"GG":return br(e.eras("long"),0);case"y":return ae(A);case"yy":return ae(M,pm);case"yyyy":return ae(p);case"yyyyy":return ae(P);case"yyyyyy":return ae(m);case"M":return ae(v);case"MM":return ae(o);case"MMM":return br(e.months("short",!0),1);case"MMMM":return br(e.months("long",!0),1);case"L":return ae(v);case"LL":return ae(o);case"LLL":return br(e.months("short",!1),1);case"LLLL":return br(e.months("long",!1),1);case"d":return ae(v);case"dd":return ae(o);case"o":return ae(w);case"ooo":return ae(h);case"HH":return ae(o);case"H":return ae(v);case"hh":return ae(o);case"h":return ae(v);case"mm":return ae(o);case"m":return ae(v);case"q":return ae(v);case"qq":return ae(o);case"s":return ae(v);case"ss":return ae(o);case"S":return ae(w);case"SSS":return ae(h);case"u":return Gu($);case"uu":return Gu(v);case"uuu":return ae(i);case"a":return br(e.meridiems(),0);case"kkkk":return ae(p);case"kk":return ae(M,pm);case"W":return ae(v);case"WW":return ae(o);case"E":case"c":return ae(i);case"EEE":return br(e.weekdays("short",!1),1);case"EEEE":return br(e.weekdays("long",!1),1);case"ccc":return br(e.weekdays("short",!0),1);case"cccc":return br(e.weekdays("long",!0),1);case"Z":case"ZZ":return fw(new RegExp(`([+-]${v.source})(?::(${o.source}))?`),2);case"ZZZ":return fw(new RegExp(`([+-]${v.source})(${o.source})?`),2);case"z":return Gu(/[a-z_+-/]{1,256}?/i);case" ":return Gu(/[^\S\n\r]/);default:return R(H)}})(t)||{invalidReason:UP};return G.token=t,G}const HP={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};function WP(t,e,i){const{type:o,value:h}=t;if(o==="literal"){const w=/^\s+$/.test(h);return{literal:!w,val:w?" ":h}}const p=e[o];let m=o;o==="hour"&&(e.hour12!=null?m=e.hour12?"hour12":"hour24":e.hourCycle!=null?e.hourCycle==="h11"||e.hourCycle==="h12"?m="hour12":m="hour24":m=i.hour12?"hour12":"hour24");let v=HP[m];if(typeof v=="object"&&(v=v[p]),v)return{literal:!1,val:v}}function JP(t){return[`^${t.map(i=>i.regex).reduce((i,o)=>`${i}(${o.source})`,"")}$`,t]}function ZP(t,e,i){const o=t.match(e);if(o){const h={};let p=1;for(const m in i)if(gl(i,m)){const v=i[m],w=v.groups?v.groups+1:1;!v.literal&&v.token&&(h[v.token.val[0]]=v.deser(o.slice(p,p+w))),p+=w}return[o,h]}else return[o,{}]}function YP(t){const e=p=>{switch(p){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}};let i=null,o;return Nt(t.z)||(i=On.create(t.z)),Nt(t.Z)||(i||(i=new ni(t.Z)),o=t.Z),Nt(t.q)||(t.M=(t.q-1)*3+1),Nt(t.h)||(t.h<12&&t.a===1?t.h+=12:t.h===12&&t.a===0&&(t.h=0)),t.G===0&&t.y&&(t.y=-t.y),Nt(t.u)||(t.S=Xb(t.u)),[Object.keys(t).reduce((p,m)=>{const v=e(m);return v&&(p[v]=t[m]),p},{}),i,o]}let Hp=null;function KP(){return Hp||(Hp=_t.fromMillis(1555555555555)),Hp}function XP(t,e){if(t.literal)return t;const i=ui.macroTokenToFormatOpts(t.val),o=ux(i,e);return o==null||o.includes(void 0)?t:o}function lx(t,e){return Array.prototype.concat(...t.map(i=>XP(i,e)))}class hx{constructor(e,i){if(this.locale=e,this.format=i,this.tokens=lx(ui.parseFormat(i),e),this.units=this.tokens.map(o=>qP(o,e)),this.disqualifyingUnit=this.units.find(o=>o.invalidReason),!this.disqualifyingUnit){const[o,h]=JP(this.units);this.regex=RegExp(o,"i"),this.handlers=h}}explainFromTokens(e){if(this.isValid){const[i,o]=ZP(e,this.regex,this.handlers),[h,p,m]=o?YP(o):[null,null,void 0];if(gl(o,"a")&&gl(o,"H"))throw new Va("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:this.tokens,regex:this.regex,rawMatches:i,matches:o,result:h,zone:p,specificOffset:m}}else return{input:e,tokens:this.tokens,invalidReason:this.invalidReason}}get isValid(){return!this.disqualifyingUnit}get invalidReason(){return this.disqualifyingUnit?this.disqualifyingUnit.invalidReason:null}}function cx(t,e,i){return new hx(t,i).explainFromTokens(e)}function QP(t,e,i){const{result:o,zone:h,specificOffset:p,invalidReason:m}=cx(t,e,i);return[o,h,p,m]}function ux(t,e){if(!t)return null;const o=ui.create(e,t).dtFormatter(KP()),h=o.formatToParts(),p=o.resolvedOptions();return h.map(m=>WP(m,t,p))}const Wp="Invalid DateTime",pw=864e13;function bh(t){return new kr("unsupported zone",`the zone "${t.name}" is not supported`)}function Jp(t){return t.weekData===null&&(t.weekData=A0(t.c)),t.weekData}function Zp(t){return t.localWeekData===null&&(t.localWeekData=A0(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function Ks(t,e){const i={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new _t({...i,...e,old:i})}function dx(t,e,i){let o=t-e*60*1e3;const h=i.offset(o);if(e===h)return[o,e];o-=(h-e)*60*1e3;const p=i.offset(o);return h===p?[o,h]:[t-Math.min(h,p)*60*1e3,Math.max(h,p)]}function qu(t,e){t+=e*60*1e3;const i=new Date(t);return{year:i.getUTCFullYear(),month:i.getUTCMonth()+1,day:i.getUTCDate(),hour:i.getUTCHours(),minute:i.getUTCMinutes(),second:i.getUTCSeconds(),millisecond:i.getUTCMilliseconds()}}function yd(t,e,i){return dx(Mf(t),e,i)}function mw(t,e){const i=t.o,o=t.c.year+Math.trunc(e.years),h=t.c.month+Math.trunc(e.months)+Math.trunc(e.quarters)*3,p={...t.c,year:o,month:h,day:Math.min(t.c.day,T0(o,h))+Math.trunc(e.days)+Math.trunc(e.weeks)*7},m=Kt.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),v=Mf(p);let[w,A]=dx(v,i,t.zone);return m!==0&&(w+=m,A=t.zone.offset(w)),{ts:w,o:A}}function ma(t,e,i,o,h,p){const{setZone:m,zone:v}=i;if(t&&Object.keys(t).length!==0||e){const w=e||v,A=_t.fromObject(t,{...i,zone:w,specificOffset:p});return m?A:A.setZone(v)}else return _t.invalid(new kr("unparsable",`the input "${h}" can't be parsed as ${o}`))}function Hu(t,e,i=!0){return t.isValid?ui.create(ue.create("en-US"),{allowZ:i,forceSimple:!0}).formatDateTimeFromString(t,e):null}function Yp(t,e){const i=t.c.year>9999||t.c.year<0;let o="";return i&&t.c.year>=0&&(o+="+"),o+=qe(t.c.year,i?6:4),e?(o+="-",o+=qe(t.c.month),o+="-",o+=qe(t.c.day)):(o+=qe(t.c.month),o+=qe(t.c.day)),o}function gw(t,e,i,o,h,p){let m=qe(t.c.hour);return e?(m+=":",m+=qe(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(m+=":")):m+=qe(t.c.minute),(t.c.millisecond!==0||t.c.second!==0||!i)&&(m+=qe(t.c.second),(t.c.millisecond!==0||!o)&&(m+=".",m+=qe(t.c.millisecond,3))),h&&(t.isOffsetFixed&&t.offset===0&&!p?m+="Z":t.o<0?(m+="-",m+=qe(Math.trunc(-t.o/60)),m+=":",m+=qe(Math.trunc(-t.o%60))):(m+="+",m+=qe(Math.trunc(t.o/60)),m+=":",m+=qe(Math.trunc(t.o%60)))),p&&(m+="["+t.zone.ianaName+"]"),m}const fx={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},tN={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},eN={ordinal:1,hour:0,minute:0,second:0,millisecond:0},px=["year","month","day","hour","minute","second","millisecond"],iN=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],rN=["year","ordinal","hour","minute","second","millisecond"];function nN(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new m6(t);return e}function yw(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return nN(t)}}function sN(t){return vd[t]||(bd===void 0&&(bd=Le.now()),vd[t]=t.offset(bd)),vd[t]}function bw(t,e){const i=gs(e.zone,Le.defaultZone);if(!i.isValid)return _t.invalid(bh(i));const o=ue.fromObject(e);let h,p;if(Nt(t.year))h=Le.now();else{for(const w of px)Nt(t[w])&&(t[w]=fx[w]);const m=j6(t)||F6(t);if(m)return _t.invalid(m);const v=sN(i);[h,p]=yd(t,v,i)}return new _t({ts:h,zone:i,loc:o,o:p})}function vw(t,e,i){const o=Nt(i.round)?!0:i.round,h=(m,v)=>(m=Qb(m,o||i.calendary?0:2,!0),e.loc.clone(i).relFormatter(i).format(m,v)),p=m=>i.calendary?e.hasSame(t,m)?0:e.startOf(m).diff(t.startOf(m),m).get(m):e.diff(t,m).get(m);if(i.unit)return h(p(i.unit),i.unit);for(const m of i.units){const v=p(m);if(Math.abs(v)>=1)return h(v,m)}return h(t>e?-0:0,i.units[i.units.length-1])}function ww(t){let e={},i;return t.length>0&&typeof t[t.length-1]=="object"?(e=t[t.length-1],i=Array.from(t).slice(0,t.length-1)):i=Array.from(t),[e,i]}let bd,vd={};class _t{constructor(e){const i=e.zone||Le.defaultZone;let o=e.invalid||(Number.isNaN(e.ts)?new kr("invalid input"):null)||(i.isValid?null:bh(i));this.ts=Nt(e.ts)?Le.now():e.ts;let h=null,p=null;if(!o)if(e.old&&e.old.ts===this.ts&&e.old.zone.equals(i))[h,p]=[e.old.c,e.old.o];else{const v=ks(e.o)&&!e.old?e.o:i.offset(this.ts);h=qu(this.ts,v),o=Number.isNaN(h.year)?new kr("invalid input"):null,h=o?null:h,p=o?null:v}this._zone=i,this.loc=e.loc||ue.create(),this.invalid=o,this.weekData=null,this.localWeekData=null,this.c=h,this.o=p,this.isLuxonDateTime=!0}static now(){return new _t({})}static local(){const[e,i]=ww(arguments),[o,h,p,m,v,w,A]=i;return bw({year:o,month:h,day:p,hour:m,minute:v,second:w,millisecond:A},e)}static utc(){const[e,i]=ww(arguments),[o,h,p,m,v,w,A]=i;return e.zone=ni.utcInstance,bw({year:o,month:h,day:p,hour:m,minute:v,second:w,millisecond:A},e)}static fromJSDate(e,i={}){const o=RO(e)?e.valueOf():NaN;if(Number.isNaN(o))return _t.invalid("invalid input");const h=gs(i.zone,Le.defaultZone);return h.isValid?new _t({ts:o,zone:h,loc:ue.fromObject(i)}):_t.invalid(bh(h))}static fromMillis(e,i={}){if(ks(e))return e<-pw||e>pw?_t.invalid("Timestamp out of range"):new _t({ts:e,zone:gs(i.zone,Le.defaultZone),loc:ue.fromObject(i)});throw new hi(`fromMillis requires a numerical input, but received a ${typeof e} with value ${e}`)}static fromSeconds(e,i={}){if(ks(e))return new _t({ts:e*1e3,zone:gs(i.zone,Le.defaultZone),loc:ue.fromObject(i)});throw new hi("fromSeconds requires a numerical input")}static fromObject(e,i={}){e=e||{};const o=gs(i.zone,Le.defaultZone);if(!o.isValid)return _t.invalid(bh(o));const h=ue.fromObject(i),p=E0(e,yw),{minDaysInFirstWeek:m,startOfWeek:v}=nw(p,h),w=Le.now(),A=Nt(i.specificOffset)?o.offset(w):i.specificOffset,$=!Nt(p.ordinal),M=!Nt(p.year),P=!Nt(p.month)||!Nt(p.day),R=M||P,B=p.weekYear||p.weekNumber;if((R||$)&&B)throw new Va("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(P&&$)throw new Va("Can't mix ordinal dates with month/day");const G=B||p.weekday&&!R;let H,Z,X=qu(w,A);G?(H=iN,Z=tN,X=A0(X,m,v)):$?(H=rN,Z=eN,X=qp(X)):(H=px,Z=fx);let Q=!1;for(const wt of H){const $t=p[wt];Nt($t)?Q?p[wt]=Z[wt]:p[wt]=X[wt]:Q=!0}const rt=G?OO(p,m,v):$?PO(p):j6(p),et=rt||F6(p);if(et)return _t.invalid(et);const nt=G?iw(p,m,v):$?rw(p):p,[bt,gt]=yd(nt,A,o),At=new _t({ts:bt,zone:o,o:gt,loc:h});return p.weekday&&R&&e.weekday!==At.weekday?_t.invalid("mismatched weekday",`you can't specify both a weekday of ${p.weekday} and a date of ${At.toISO()}`):At.isValid?At:_t.invalid(At.invalid)}static fromISO(e,i={}){const[o,h]=CP(e);return ma(o,h,i,"ISO 8601",e)}static fromRFC2822(e,i={}){const[o,h]=AP(e);return ma(o,h,i,"RFC 2822",e)}static fromHTTP(e,i={}){const[o,h]=TP(e);return ma(o,h,i,"HTTP",i)}static fromFormat(e,i,o={}){if(Nt(e)||Nt(i))throw new hi("fromFormat requires an input string and a format");const{locale:h=null,numberingSystem:p=null}=o,m=ue.fromOpts({locale:h,numberingSystem:p,defaultToEN:!0}),[v,w,A,$]=QP(m,e,i);return $?_t.invalid($):ma(v,w,o,`format ${i}`,e,A)}static fromString(e,i,o={}){return _t.fromFormat(e,i,o)}static fromSQL(e,i={}){const[o,h]=PP(e);return ma(o,h,i,"SQL",e)}static invalid(e,i=null){if(!e)throw new hi("need to specify a reason the DateTime is invalid");const o=e instanceof kr?e:new kr(e,i);if(Le.throwOnInvalid)throw new sO(o);return new _t({invalid:o})}static isDateTime(e){return e&&e.isLuxonDateTime||!1}static parseFormatForOpts(e,i={}){const o=ux(e,ue.fromObject(i));return o?o.map(h=>h?h.val:null).join(""):null}static expandFormat(e,i={}){return lx(ui.parseFormat(e),ue.fromObject(i)).map(h=>h.val).join("")}static resetCache(){bd=void 0,vd={}}get(e){return this[e]}get isValid(){return this.invalid===null}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?Jp(this).weekYear:NaN}get weekNumber(){return this.isValid?Jp(this).weekNumber:NaN}get weekday(){return this.isValid?Jp(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?Zp(this).weekday:NaN}get localWeekNumber(){return this.isValid?Zp(this).weekNumber:NaN}get localWeekYear(){return this.isValid?Zp(this).weekYear:NaN}get ordinal(){return this.isValid?qp(this.c).ordinal:NaN}get monthShort(){return this.isValid?Vu.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Vu.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Vu.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Vu.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return this.isOffsetFixed?!1:this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const e=864e5,i=6e4,o=Mf(this.c),h=this.zone.offset(o-e),p=this.zone.offset(o+e),m=this.zone.offset(o-h*i),v=this.zone.offset(o-p*i);if(m===v)return[this];const w=o-m*i,A=o-v*i,$=qu(w,m),M=qu(A,v);return $.hour===M.hour&&$.minute===M.minute&&$.second===M.second&&$.millisecond===M.millisecond?[Ks(this,{ts:w}),Ks(this,{ts:A})]:[this]}get isInLeapYear(){return cu(this.year)}get daysInMonth(){return T0(this.year,this.month)}get daysInYear(){return this.isValid?tl(this.year):NaN}get weeksInWeekYear(){return this.isValid?Sc(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?Sc(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(e={}){const{locale:i,numberingSystem:o,calendar:h}=ui.create(this.loc.clone(e),e).resolvedOptions(this);return{locale:i,numberingSystem:o,outputCalendar:h}}toUTC(e=0,i={}){return this.setZone(ni.instance(e),i)}toLocal(){return this.setZone(Le.defaultZone)}setZone(e,{keepLocalTime:i=!1,keepCalendarTime:o=!1}={}){if(e=gs(e,Le.defaultZone),e.equals(this.zone))return this;if(e.isValid){let h=this.ts;if(i||o){const p=e.offset(this.ts),m=this.toObject();[h]=yd(m,p,e)}return Ks(this,{ts:h,zone:e})}else return _t.invalid(bh(e))}reconfigure({locale:e,numberingSystem:i,outputCalendar:o}={}){const h=this.loc.clone({locale:e,numberingSystem:i,outputCalendar:o});return Ks(this,{loc:h})}setLocale(e){return this.reconfigure({locale:e})}set(e){if(!this.isValid)return this;const i=E0(e,yw),{minDaysInFirstWeek:o,startOfWeek:h}=nw(i,this.loc),p=!Nt(i.weekYear)||!Nt(i.weekNumber)||!Nt(i.weekday),m=!Nt(i.ordinal),v=!Nt(i.year),w=!Nt(i.month)||!Nt(i.day),A=v||w,$=i.weekYear||i.weekNumber;if((A||m)&&$)throw new Va("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(w&&m)throw new Va("Can't mix ordinal dates with month/day");let M;p?M=iw({...A0(this.c,o,h),...i},o,h):Nt(i.ordinal)?(M={...this.toObject(),...i},Nt(i.day)&&(M.day=Math.min(T0(M.year,M.month),M.day))):M=rw({...qp(this.c),...i});const[P,R]=yd(M,this.o,this.zone);return Ks(this,{ts:P,o:R})}plus(e){if(!this.isValid)return this;const i=Kt.fromDurationLike(e);return Ks(this,mw(this,i))}minus(e){if(!this.isValid)return this;const i=Kt.fromDurationLike(e).negate();return Ks(this,mw(this,i))}startOf(e,{useLocaleWeeks:i=!1}={}){if(!this.isValid)return this;const o={},h=Kt.normalizeUnit(e);switch(h){case"years":o.month=1;case"quarters":case"months":o.day=1;case"weeks":case"days":o.hour=0;case"hours":o.minute=0;case"minutes":o.second=0;case"seconds":o.millisecond=0;break}if(h==="weeks")if(i){const p=this.loc.getStartOfWeek(),{weekday:m}=this;m<p&&(o.weekNumber=this.weekNumber-1),o.weekday=p}else o.weekday=1;if(h==="quarters"){const p=Math.ceil(this.month/3);o.month=(p-1)*3+1}return this.set(o)}endOf(e,i){return this.isValid?this.plus({[e]:1}).startOf(e,i).minus(1):this}toFormat(e,i={}){return this.isValid?ui.create(this.loc.redefaultToEN(i)).formatDateTimeFromString(this,e):Wp}toLocaleString(e=C0,i={}){return this.isValid?ui.create(this.loc.clone(i),e).formatDateTime(this):Wp}toLocaleParts(e={}){return this.isValid?ui.create(this.loc.clone(e),e).formatDateTimeParts(this):[]}toISO({format:e="extended",suppressSeconds:i=!1,suppressMilliseconds:o=!1,includeOffset:h=!0,extendedZone:p=!1}={}){if(!this.isValid)return null;const m=e==="extended";let v=Yp(this,m);return v+="T",v+=gw(this,m,i,o,h,p),v}toISODate({format:e="extended"}={}){return this.isValid?Yp(this,e==="extended"):null}toISOWeekDate(){return Hu(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:e=!1,suppressSeconds:i=!1,includeOffset:o=!0,includePrefix:h=!1,extendedZone:p=!1,format:m="extended"}={}){return this.isValid?(h?"T":"")+gw(this,m==="extended",i,e,o,p):null}toRFC2822(){return Hu(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return Hu(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?Yp(this,!0):null}toSQLTime({includeOffset:e=!0,includeZone:i=!1,includeOffsetSpace:o=!0}={}){let h="HH:mm:ss.SSS";return(i||e)&&(o&&(h+=" "),i?h+="z":e&&(h+="ZZ")),Hu(this,h,!0)}toSQL(e={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(e)}`:null}toString(){return this.isValid?this.toISO():Wp}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(e={}){if(!this.isValid)return{};const i={...this.c};return e.includeConfig&&(i.outputCalendar=this.outputCalendar,i.numberingSystem=this.loc.numberingSystem,i.locale=this.loc.locale),i}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(e,i="milliseconds",o={}){if(!this.isValid||!e.isValid)return Kt.invalid("created by diffing an invalid DateTime");const h={locale:this.locale,numberingSystem:this.numberingSystem,...o},p=LO(i).map(Kt.normalizeUnit),m=e.valueOf()>this.valueOf(),v=m?this:e,w=m?e:this,A=FP(v,w,p,h);return m?A.negate():A}diffNow(e="milliseconds",i={}){return this.diff(_t.now(),e,i)}until(e){return this.isValid?Re.fromDateTimes(this,e):this}hasSame(e,i,o){if(!this.isValid)return!1;const h=e.valueOf(),p=this.setZone(e.zone,{keepLocalTime:!0});return p.startOf(i,o)<=h&&h<=p.endOf(i,o)}equals(e){return this.isValid&&e.isValid&&this.valueOf()===e.valueOf()&&this.zone.equals(e.zone)&&this.loc.equals(e.loc)}toRelative(e={}){if(!this.isValid)return null;const i=e.base||_t.fromObject({},{zone:this.zone}),o=e.padding?this<i?-e.padding:e.padding:0;let h=["years","months","days","hours","minutes","seconds"],p=e.unit;return Array.isArray(e.unit)&&(h=e.unit,p=void 0),vw(i,this.plus(o),{...e,numeric:"always",units:h,unit:p})}toRelativeCalendar(e={}){return this.isValid?vw(e.base||_t.fromObject({},{zone:this.zone}),this,{...e,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...e){if(!e.every(_t.isDateTime))throw new hi("min requires all arguments be DateTimes");return sw(e,i=>i.valueOf(),Math.min)}static max(...e){if(!e.every(_t.isDateTime))throw new hi("max requires all arguments be DateTimes");return sw(e,i=>i.valueOf(),Math.max)}static fromFormatExplain(e,i,o={}){const{locale:h=null,numberingSystem:p=null}=o,m=ue.fromOpts({locale:h,numberingSystem:p,defaultToEN:!0});return cx(m,e,i)}static fromStringExplain(e,i,o={}){return _t.fromFormatExplain(e,i,o)}static buildFormatParser(e,i={}){const{locale:o=null,numberingSystem:h=null}=i,p=ue.fromOpts({locale:o,numberingSystem:h,defaultToEN:!0});return new hx(p,e)}static fromFormatParser(e,i,o={}){if(Nt(e)||Nt(i))throw new hi("fromFormatParser requires an input string and a format parser");const{locale:h=null,numberingSystem:p=null}=o,m=ue.fromOpts({locale:h,numberingSystem:p,defaultToEN:!0});if(!m.equals(i.locale))throw new hi(`fromFormatParser called with a locale of ${m}, but the format parser was created for ${i.locale}`);const{result:v,zone:w,specificOffset:A,invalidReason:$}=i.explainFromTokens(e);return $?_t.invalid($):ma(v,w,o,`format ${i.format}`,e,A)}static get DATE_SHORT(){return C0}static get DATE_MED(){return g6}static get DATE_MED_WITH_WEEKDAY(){return lO}static get DATE_FULL(){return y6}static get DATE_HUGE(){return b6}static get TIME_SIMPLE(){return v6}static get TIME_WITH_SECONDS(){return w6}static get TIME_WITH_SHORT_OFFSET(){return _6}static get TIME_WITH_LONG_OFFSET(){return x6}static get TIME_24_SIMPLE(){return S6}static get TIME_24_WITH_SECONDS(){return C6}static get TIME_24_WITH_SHORT_OFFSET(){return A6}static get TIME_24_WITH_LONG_OFFSET(){return T6}static get DATETIME_SHORT(){return E6}static get DATETIME_SHORT_WITH_SECONDS(){return $6}static get DATETIME_MED(){return I6}static get DATETIME_MED_WITH_SECONDS(){return k6}static get DATETIME_MED_WITH_WEEKDAY(){return hO}static get DATETIME_FULL(){return M6}static get DATETIME_FULL_WITH_SECONDS(){return O6}static get DATETIME_HUGE(){return P6}static get DATETIME_HUGE_WITH_SECONDS(){return N6}}function Ql(t){if(_t.isDateTime(t))return t;if(t&&t.valueOf&&ks(t.valueOf()))return _t.fromJSDate(t);if(t&&typeof t=="object")return _t.fromObject(t);throw new hi(`Unknown datetime argument: ${t}, of type ${typeof t}`)}const Fl="system",rv="unknown",Pn="UTC",oN=Intl.DateTimeFormat().resolvedOptions().timeZone,aN="shortOffset";function lN(t){return"timeZoneIANA"in t}function hN(t){return t.startsWith("UTC")}function mQ(t,e=!1){return{json:{read:{source:t,reader:(i,o)=>o[t]?cN(o[t]):null},write:!!e&&{allowNull:!0,writer(i,o){o[t]=i?uN(i):null}}}}}function cN(t,e=Fl){return t?lN(t)?t.timeZoneIANA:dN(t,e):e}function uN(t){return{timeZoneIANA:t}}function dN(t,e=Fl){if(!t||!G3.has(t.timeZone))return e;const i=G3.get(t.timeZone);return hN(t.timeZone)||t.respectsDaylightSaving?i:fN(i)}function fN(t){const e=_t.local().setZone(t),i=Math.min(e.set({month:1,day:1}).offset,e.set({month:5}).offset);return i===0?"Etc/UTC":`Etc/GMT${ni.instance(-i).formatOffset(0,"narrow")}`}function nv(t,e,i,o,h){if(e&&h==="date")return{timeZone:Pn,timeZoneName:void 0};const p=o.timeStyle||o.hour,m=i===rv;return{timeZone:m?h==="timestamp-offset"?void 0:t??Pn:i,timeZoneName:m&&p?aN:void 0}}function gQ(t){const e=new Set(["etc/utc","etc/gmt","gmt"]),i=new Set(Intl.supportedValuesOf("timeZone").map(o=>o.toLowerCase()));return t===Fl||t===rv||e.has(t.toLowerCase())||i.has(t.toLowerCase())}const pN={year:void 0,month:void 0,day:void 0,weekday:void 0},mN={hour:void 0,minute:void 0,second:void 0},mx={timeZone:Pn},Ur={year:"numeric",month:"numeric",day:"numeric"},th={year:"numeric",month:"long",day:"numeric"},eh={year:"numeric",month:"short",day:"numeric"},ih={year:"numeric",month:"long",weekday:"long",day:"numeric"},ds={hour:"numeric",minute:"numeric"},eo={...ds,second:"numeric"},gx={hourCycle:"h23"},rh={...ds,...gx},nh={...eo,...gx},yx={"short-date":Ur,"short-date-short-time":{...Ur,...ds},"short-date-short-time-24":{...Ur,...rh},"short-date-long-time":{...Ur,...eo},"short-date-long-time-24":{...Ur,...nh},"short-date-le":Ur,"short-date-le-short-time":{...Ur,...ds},"short-date-le-short-time-24":{...Ur,...rh},"short-date-le-long-time":{...Ur,...eo},"short-date-le-long-time-24":{...Ur,...nh},"long-month-day-year":th,"long-month-day-year-short-time":{...th,...ds},"long-month-day-year-short-time-24":{...th,...rh},"long-month-day-year-long-time":{...th,...eo},"long-month-day-year-long-time-24":{...th,...nh},"day-short-month-year":eh,"day-short-month-year-short-time":{...eh,...ds},"day-short-month-year-short-time-24":{...eh,...rh},"day-short-month-year-long-time":{...eh,...eo},"day-short-month-year-long-time-24":{...eh,...nh},"long-date":ih,"long-date-short-time":{...ih,...ds},"long-date-short-time-24":{...ih,...rh},"long-date-long-time":{...ih,...eo},"long-date-long-time-24":{...ih,...nh},"long-month-year":{month:"long",year:"numeric"},"short-month-year":{month:"short",year:"numeric"},year:{year:"numeric"},"short-time":ds,"long-time":eo},gN=fr()({shortDate:"short-date",shortDateShortTime:"short-date-short-time",shortDateShortTime24:"short-date-short-time-24",shortDateLongTime:"short-date-long-time",shortDateLongTime24:"short-date-long-time-24",shortDateLE:"short-date-le",shortDateLEShortTime:"short-date-le-short-time",shortDateLEShortTime24:"short-date-le-short-time-24",shortDateLELongTime:"short-date-le-long-time",shortDateLELongTime24:"short-date-le-long-time-24",longMonthDayYear:"long-month-day-year",longMonthDayYearShortTime:"long-month-day-year-short-time",longMonthDayYearShortTime24:"long-month-day-year-short-time-24",longMonthDayYearLongTime:"long-month-day-year-long-time",longMonthDayYearLongTime24:"long-month-day-year-long-time-24",dayShortMonthYear:"day-short-month-year",dayShortMonthYearShortTime:"day-short-month-year-short-time",dayShortMonthYearShortTime24:"day-short-month-year-short-time-24",dayShortMonthYearLongTime:"day-short-month-year-long-time",dayShortMonthYearLongTime24:"day-short-month-year-long-time-24",longDate:"long-date",longDateShortTime:"long-date-short-time",longDateShortTime24:"long-date-short-time-24",longDateLongTime:"long-date-long-time",longDateLongTime24:"long-date-long-time-24",longMonthYear:"long-month-year",shortMonthYear:"short-month-year",year:"year"}),bx={ar:"ar-u-nu-latn-ca-gregory"};let mm=new WeakMap;const Nf=yx["short-date-short-time"];function yN(t){let e=mm.get(t);if(!e){const i=hr(),o=bx[i]||i,h=bN(t.timeZone??Fl),p={...t,timeZone:h};e=new Intl.DateTimeFormat(o,p),mm.set(t,e)}return e}function $i(t){return yx[t]}function Ii(t,e=Nf){return yN(e).format(t)}function vx(t,e=Nf){return Ii(new Date(t),{...e,...mx,...mN})}function wx(t,e=Nf){return Ii(new Date(`1970-01-01T${t}Z`),{...e,...mx,...pN})}function _x(t,e=Nf){if(e.timeZone)return Ii(new Date(t),e);const i=_t.fromISO(t,{setZone:!0}),o=hr(),h=bx[o]??o,p=i.offset===0?Pn:e.timeZone,m={...e,timeZone:p};return i.toLocaleString(m,{locale:h})}function bN(t){switch(t){case Fl:return oN;case rv:return Pn;default:return t}}Jb(()=>{mm=new WeakMap});const vN={ar:"ar-u-nu-latn"};let wd=new WeakMap,xx={};function gm(t){const e=t||xx;if(!wd.has(e)){const i=hr(),o=vN[hr()]||i;wd.set(e,new Intl.NumberFormat(o,t))}return wd.get(e)}function yl(t={}){const e={};return t.digitSeparator!=null&&(e.useGrouping=t.digitSeparator),t.places!=null&&(e.minimumFractionDigits=e.maximumFractionDigits=t.places),e}function Hi(t,e){return Object.is(t,-0)&&(t=0),gm(e).format(t)}function yQ(t,e=hr()){var o,h;if(!t)return null;let i=_w.get(e);if(!i){const p=gm().formatToParts(12345.6),m=[...gm({useGrouping:!1}).format(9876543210)].reverse(),v=new Map(m.map((R,B)=>[R,B])),w=new RegExp(`[${(o=p.find(R=>R.type==="group"))==null?void 0:o.value}]`,"g"),A=new RegExp(`[${(h=p.find(R=>R.type==="decimal"))==null?void 0:h.value}]`),$=new RegExp(`[${m.join("")}]`,"g"),M=/[\u200E\u200F\u202A\u202B\u202C\u202D\u202E\u2066\u2067\u2068\u2069\u061C]/g,P=/[-\u2212\u2013\u2014\u2015]/g;i=R=>{if((R=R.trim().replaceAll(w,"").replace(A,".").replace($,G=>String(v.get(G))).replaceAll(M,"").replaceAll(P,"-"))==="")return null;const B=Number(R);return isNaN(B)?null:B},_w.set(e,i)}return i(t)}Jb(()=>{wd=new WeakMap,xx={}});const _w=new Map,Sx="20241015",bQ="26515421b9bc8e30886a51b9cdb16779ceb7432e";var E5;const $e={apiKey:void 0,applicationName:"",applicationUrl:(E5=globalThis.location)==null?void 0:E5.href,assetsPath:"",fontsUrl:"https://static.arcgis.com/fonts",geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",userPrivilegesApplied:!0,portalUrl:"https://www.arcgis.com",respectPrefersReducedMotion:!0,routeServiceUrl:"https://route-api.arcgis.com/arcgis/rest/services/World/Route/NAServer/Route_World",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{crossOriginNoCorsDomains:null,httpsDomains:["arcgis.com","arcgisonline.com","esrikr.com","premiumservices.blackbridge.com","esripremium.accuweather.com","gbm.digitalglobe.com","firstlook.digitalglobe.com","msi.digitalglobe.com"],interceptors:[],internalInterceptors:[],maxUrlLength:2e3,priority:"high",proxyRules:[],proxyUrl:null,timeout:6e4,trustedServers:[],useIdentity:!0},log:{interceptors:[],level:null}};if(globalThis.esriConfig&&(QM($e,globalThis.esriConfig,!0),delete $e.has),!$e.assetsPath){{const t="4.31.0";$e.assetsPath=`https://cdn.jsdelivr.net/npm/@arcgis/core@${t}-next.${Sx}/assets`}$e.defaultAssetsPath=$e.assetsPath}const wN=/\{([^}]+)\}/g;function xw(t){return t??""}function Nr(t,e){return e?t.replaceAll(wN,typeof e=="object"?(i,o)=>xw(lu(o,e)):(i,o)=>xw(e(o))):t}function vQ(t,e){return t.replaceAll(/([.$?*|{}()[\]\\/+\-^])/g,i=>e!=null&&e.includes(i)?i:`\\${i}`)}function Cx(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return e}let Sw;function wQ(t){return Sw??(Sw=new DOMParser),Sw.parseFromString(t||"","text/html").body.innerText||""}function ym(t,e){return new RegExp(`{${e}}`,"ig").test(t)}function _Q(t,...e){let i=t[0];for(let o=0;o<e.length;++o)i+=e[o]+t[o+1];return i}const Cw={info:0,warn:1,error:2,none:3};let Rt=class Li{constructor(e){this.level=null,this._module="",this._parent=null,this.writer=null,this._loggedMessages={error:new Map,warn:new Map,info:new Map},e.level!=null&&(this.level=e.level),e.writer!=null&&(this.writer=e.writer),this._module=e.module,Li._loggers.set(this.module,this);const i=this.module.lastIndexOf(".");i!==-1&&(this._parent=Li.getLogger(this.module.slice(0,i)))}get module(){return this._module}get parent(){return this._parent}error(...e){this._log("error","always",...e)}warn(...e){this._log("warn","always",...e)}info(...e){this._log("info","always",...e)}errorOnce(...e){this._log("error","once",...e)}warnOnce(...e){this._log("warn","once",...e)}infoOnce(...e){this._log("info","once",...e)}errorOncePerTick(...e){this._log("error","oncePerTick",...e)}warnOncePerTick(...e){this._log("warn","oncePerTick",...e)}infoOncePerTick(...e){this._log("info","oncePerTick",...e)}get test(){}static get test(){}static getLogger(e){return e=typeof e!="string"?e.declaredClass:e,Li._loggers.get(e)||new Li({module:e})}_log(e,i,...o){if(this._matchLevel(e)){if(i!=="always"&&!Li._throttlingDisabled){const h=xN(o),p=this._loggedMessages[e].get(h);if(i==="once"&&p!=null||i==="oncePerTick"&&p&&p>=Li._tickCounter)return;this._loggedMessages[e].set(h,Li._tickCounter),Li._scheduleTickCounterIncrement()}for(const h of $e.log.interceptors)if(h(e,this.module,...o))return;this._inheritedWriter()(e,this.module,...o)}}_parentWithMember(e,i){let o=this;for(;o!=null;){const h=o[e];if(h!=null)return h;o=o.parent}return i}_inheritedWriter(){return this._parentWithMember("writer",_N)}_matchLevel(e){const i=$e.log.level||"warn";return Cw[this._parentWithMember("level",i)]<=Cw[e]}static _scheduleTickCounterIncrement(){Li._tickCounterScheduled||(Li._tickCounterScheduled=!0,Promise.resolve().then(()=>{Li._tickCounter++,Li._tickCounterScheduled=!1}))}};function _N(t,e,...i){console[t](`[${e}]`,...i)}function xN(...t){return Cx(JSON.stringify(t,(i,o)=>typeof o!="object"||Array.isArray(o)?o:"[Object]"))}Rt._loggers=new Map,Rt._tickCounter=0,Rt._tickCounterScheduled=!1,Rt._throttlingDisabled=!1;const Ax=()=>Rt.getLogger("esri.intl.substitute");function en(t,e,i={}){const{format:o={}}=i;return Nr(t,h=>SN(h,e,o))}function SN(t,e,i){let o,h;const p=t.indexOf(":");if(p===-1?o=t.trim():(o=t.slice(0,p).trim(),h=t.slice(p+1).trim()),!o)return"";const m=lu(o,e);if(m==null)return"";const v=(h?i==null?void 0:i[h]:null)??(i==null?void 0:i[o]);return v?CN(m,v):h?AN(m,h):sv(m)}function CN(t,e){switch(e.type){case"date":return Ii(t,e.intlOptions);case"number":return Hi(t,e.intlOptions);default:return Ax().warn("missing format descriptor for key {key}"),sv(t)}}function AN(t,e){switch(e.toLowerCase()){case"dateformat":return Ii(t);case"numberformat":return Hi(t);default:return Ax().warn(`inline format is unsupported since 4.12: ${e}`),/^(dateformat|datestring)/i.test(e)?Ii(t):/^numberformat/i.test(e)?Hi(t):sv(t)}}function sv(t){switch(typeof t){case"string":return t;case"number":return Hi(t);case"boolean":return""+t;default:return t instanceof Date?Ii(t):""}}function TN(t,e){return t.replaceAll(/\$\{([^\s:}]*)(?::([^\s:}]+))?\}/g,(i,o)=>o===""?"$":(lu(o,e)??"").toString())}let Tx=class{constructor(e,i,o=void 0){this.name=e,this.details=o,this.message=(i&&TN(i,o))??""}toString(){return"["+this.name+"]: "+this.message}},kt=class Ex extends Tx{constructor(e,i,o){super(e,i,o)}toJSON(){if(this.details!=null)try{return{name:this.name,message:this.message,details:JSON.parse(JSON.stringify(this.details,(e,i)=>{if(i&&typeof i=="object"&&typeof i.toJSON=="function")return i;try{return at(i)}catch{return"[object]"}}))}}catch(e){throw Rt.getLogger("esri.core.Error").error(e),e}return{name:this.name,message:this.message,details:this.details}}static fromJSON(e){return new Ex(e.name,e.message,e.details)}};kt.prototype.type="error";function EN(t){return{setTimeout:(e,i)=>{const o=t.setTimeout(e,i);return we(()=>t.clearTimeout(o))}}}const $N=EN(globalThis);function Rf(t){return IN(t)||$x(t)}function IN(t){return t!=null&&typeof t=="object"&&"on"in t&&typeof t.on=="function"}function $x(t){return t!=null&&typeof t=="object"&&"addEventListener"in t&&typeof t.addEventListener=="function"}function ys(t,e,i){if(!Rf(t))throw new TypeError("target is not a Evented or EventTarget object");return $x(t)?kN(t,e,i):t.on(e,i)}function kN(t,e,i,o){if(Array.isArray(e)){const h=e.slice();for(const p of h)t.addEventListener(p,i,o);return we(()=>{for(const p of h)t.removeEventListener(p,i,o)})}return t.addEventListener(e,i,o),we(()=>t.removeEventListener(e,i,o))}function Ix(t,e,i){if(!Rf(t))throw new TypeError("target is not a Evented or EventTarget object");if("once"in t)return t.once(e,i);const o=ys(t,e,h=>{o.remove(),i.call(t,h)});return o}function _d(t,e){if(t==null)throw new Error(e??"value is None")}function ko(t){return t==null||t.destroy(),null}function SQ(t){return t==null||t.dispose(),null}function Ul(t){return t==null||t.remove(),null}function kx(t){return t==null||t.abort(),null}function CQ(t){return t==null||t.release(),null}function AQ(t,e,i){return t!=null&&e!=null?i!=null?i(t,e):t.equals(e):t===e}function MN(t,e){let i;return t.some((o,h)=>(i=e(o,h),i!=null)),i??void 0}function Oi(t="Aborted"){return new kt("AbortError",t)}function jo(t,e="Aborted"){if(Ds(t))throw Oi(e)}function fu(t){return t instanceof AbortSignal?t:(t==null?void 0:t.signal)??void 0}function Ds(t){const e=fu(t);return e!=null&&e.aborted}function Mx(t){if(pu(t))throw t}function Aw(t){if(!pu(t))throw t}function Fo(t,e){const i=fu(t);if(i!=null){if(!i.aborted)return Ix(i,"abort",()=>e());e()}}function ON(t,e){const i=fu(t);if(i!=null)return jo(i),Ix(i,"abort",()=>e(Oi()))}function TQ(t,e){return fu(e)==null?t:new Promise((i,o)=>{let h=Fo(e,()=>o(Oi()));const p=()=>{h=Ul(h)};t.then(p,p),t.then(i,o)})}function pu(t){return(t==null?void 0:t.name)==="AbortError"}async function bm(t){try{return await t}catch(e){if(!pu(e))throw e;return}}async function ov(t){if(!t)return;if(typeof t.forEach!="function"){const i=Object.keys(t),o=i.map(m=>t[m]),h=await ov(o),p={};return i.map((m,v)=>p[m]=h[v]),p}const e=t;return Promise.allSettled(e).then(i=>Array.from(e,(o,h)=>{const p=i[h];return p.status==="fulfilled"?{promise:o,value:p.value}:{promise:o,error:p.reason}}))}async function EQ(t){return(await Promise.allSettled(t)).filter(e=>e.status==="fulfilled").map(e=>e.value)}async function $Q(t){return(await Promise.allSettled(t)).filter(e=>e.status==="rejected").map(e=>e.reason)}function PN(t,e=void 0,i){const o=new AbortController;return Fo(i,()=>o.abort()),new Promise((h,p)=>{let m=setTimeout(()=>{m=0,h(e)},t);Fo(o,()=>{m&&(clearTimeout(m),p(Oi()))})})}function IQ(t,e){const i=new AbortController,o=setTimeout(()=>i.abort(),e);return Fo(t,()=>{i.abort(),clearTimeout(o)}),{...t,signal:i.signal}}function Ox(t){return t&&typeof t.then=="function"}function Tw(t){return Ox(t)?t:Promise.resolve(t)}function Px(t,e=-1){let i,o,h,p,m=null;const v=(...w)=>{if(i){o=w,p&&p.reject(Oi()),p=Uo();const P=p.promise;if(m){const R=m;m=null,R.abort()}return P}if(h=p||Uo(),p=null,e>0){const P=new AbortController;i=Tw(t(...w,P.signal));const R=i;PN(e).then(()=>{i===R&&(p?P.abort():m=P)})}else i=1,i=Tw(t(...w));const A=()=>{const P=o;o=h=i=m=null,P!=null&&v(...P)},$=i,M=h;return $.then(A,A),$.then(M.resolve,M.reject),M.promise};return v}function Uo(){let t,e;const i=new Promise((h,p)=>{t=h,e=p}),o=h=>{t(h)};return o.resolve=h=>t(h),o.reject=h=>e(h),o.timeout=(h,p)=>$N.setTimeout(()=>o.reject(p),h),o.promise=i,o}async function kQ(t){await Promise.resolve(),jo(t)}const Ew=/^([a-z]{2})(?:[-_]([A-Za-z]{2}))?$/,NN={ar:!0,bg:!0,bs:!0,ca:!0,cs:!0,da:!0,de:!0,el:!0,en:!0,es:!0,et:!0,fi:!0,fr:!0,he:!0,hr:!0,hu:!0,id:!0,it:!0,ja:!0,ko:!0,lt:!0,lv:!0,nb:!0,nl:!0,pl:!0,"pt-BR":!0,"pt-PT":!0,ro:!0,ru:!0,sk:!0,sl:!0,sr:!0,sv:!0,th:!0,tr:!0,uk:!0,vi:!0,"zh-CN":!0,"zh-HK":!0,"zh-TW":!0};function $w(t){return t in NN}const vh=[],il=new Map;function Iw(t){for(const e of il.keys())Nx(t.pattern,e)&&il.delete(e)}function RN(t){return vh.includes(t)||(Iw(t),vh.unshift(t)),we(()=>{const e=vh.indexOf(t);e>-1&&(vh.splice(e,1),Iw(t))})}async function Ga(t){const e=hr();il.has(t)||il.set(t,DN(t,e));const i=il.get(t);return i&&await zN.add(i),i}function LN(t){if(!Ew.test(t))return null;const e=Ew.exec(t);if(e===null)return null;const[,i,o]=e,h=i+(o?"-"+o.toUpperCase():"");return $w(h)?h:$w(i)?i:null}async function DN(t,e){const i=[];for(const o of vh)if(Nx(o.pattern,t))try{return await o.fetchMessageBundle(t,e)}catch(h){i.push(h)}throw i.length?new kt("intl:message-bundle-error",`Errors occurred while loading "${t}"`,{errors:i}):new kt("intl:no-message-bundle-loader",`No loader found for message bundle "${t}"`)}function Nx(t,e){return typeof t=="string"?e.startsWith(t):t.test(e)}Jb(()=>{il.clear()});const zN=new class{constructor(){this._numLoading=0,this._dfd=null}async waitForAll(){this._dfd&&await this._dfd.promise}add(t){return this._increase(),t.then(()=>this._decrease(),()=>this._decrease()),this.waitForAll()}_increase(){this._numLoading++,this._dfd||(this._dfd=Uo())}_decrease(){this._numLoading=Math.max(this._numLoading-1,0),this._dfd&&this._numLoading===0&&(this._dfd.resolve(),this._dfd=null)}},kw=new WeakMap;function jN(t,e,i=!1){const o=`🛑 DEPRECATED - ${e}`;if(!i)return void t.warn(o);let h=kw.get(t);h||(h=new Set,kw.set(t,h)),h.has(e)||(h.add(e),t.warn(o))}function $0(t,e,i={}){if(ot("esri-deprecation-warnings")){const{moduleName:o}=i;Cc(t,`Function: ${(o?o+"::":"")+e+"()"}`,i)}}function MQ(t,e,i={}){if(ot("esri-deprecation-warnings")){const{moduleName:o}=i;Cc(t,`Property: ${(o?o+"::":"")+e}`,i)}}function FN(t,e,i={}){ot("esri-deprecation-warnings")&&Cc(t,`Multiple argument constructor: ${e}`,{warnOnce:!0,replacement:`new ${e}({ <your properties here> })`,...i})}function Cc(t,e,i={}){if(ot("esri-deprecation-warnings")){const{replacement:o,version:h,see:p,warnOnce:m}=i;let v=e;o&&(v+=`
	🛠️ Replacement: ${o}`),h&&(v+=`
	⚙️ Version: ${h}`),p&&(v+=`
	🔗 See ${p} for more details.`),jN(t,v,m)}}function OQ(t){const e=[];return function*(){yield*e;for(const i of t)e.push(i),yield i}}function PQ(t,e){for(const i of t)if(i!=null&&e(i))return i}function Mw(t){return t!=null&&typeof t[Symbol.iterator]=="function"}let Lf=class{constructor(){this._groups=new Map}destroy(){this.removeAll()}get size(){let e=0;return this._groups.forEach(i=>{e+=i.length}),e}add(e,i){if(Mw(e)){const o=this._getOrCreateGroup(i);for(const h of e)Pw(h)&&o.push(h)}else Pw(e)&&this._getOrCreateGroup(i).push(e);return this}forEach(e,i){if(typeof e=="function")this._groups.forEach(o=>o.forEach(e));else{const o=this._getGroup(e);o&&i&&o.forEach(i)}}has(e){return this._groups.has(Wu(e))}remove(e){if(typeof e!="string"&&Mw(e)){for(const i of e)this.remove(i);return this}return this.has(e)?(Ow(this._getGroup(e)),this._groups.delete(Wu(e)),this):this}removeAll(){return this._groups.forEach(Ow),this._groups.clear(),this}removeReference(e){return this._groups.delete(e),this}_getOrCreateGroup(e){if(this.has(e))return this._getGroup(e);const i=[];return this._groups.set(Wu(e),i),i}_getGroup(e){return this._groups.get(Wu(e))}};function Wu(t){return t||"_default_"}function Ow(t){for(const e of t)e instanceof Lf?e.removeAll():e.remove()}function Pw(t){return t!=null&&(!!t.remove||t instanceof Lf)}const Rx=Symbol("Accessor-beforeDestroy");function zs(t){return t.__accessor__??null}function UN(t,e){var i;return((i=t==null?void 0:t.metadata)==null?void 0:i[e])!=null}function xd(t,e,i){return i?I0(t,e,{policy:i,path:""}):I0(t,e,null)}function I0(t,e,i){return e?Object.keys(e).reduce((o,h)=>{const p=h;let m=null,v="merge";if(i&&(m=i.path?`${i.path}.${h}`:h,v=i.policy(m)),v==="replace"||v==="replace-arrays"&&Array.isArray(o[p]))return o[p]=e[p],o;if(o[p]===void 0)return o[p]=at(e[p]),o;let w=o[p],A=e[p];if(w===A)return o;if(Array.isArray(A)||Array.isArray(o))w=w?Array.isArray(w)?o[p]=w.slice():o[p]=[w]:o[p]=[],A&&(Array.isArray(A)||(A=[A]),A.forEach($=>{w.includes($)||w.push($)}));else if(A&&typeof A=="object")if(i){const $=i.path;i.path=m,o[p]=I0(w,A,i),i.path=$}else o[p]=I0(w,A,null);else o.hasOwnProperty(h)&&!e.hasOwnProperty(h)||(o[p]=A);return o},t||{}):t}function Lx(t){return Array.isArray(t)?t:t.split(".")}function Nw(t){return t.includes(",")?t.split(",").map(e=>e.trim()):[t.trim()]}function BN(t){if(Array.isArray(t)){const e=[];for(const i of t)e.push(...Nw(i));return e}return Nw(t)}function Dx(t,e,i,o){const h=BN(e);if(h.length!==1){const p=h.map(m=>o(t,m,i));return $f(p)}return o(t,h[0],i)}function zx(t,e){const i=t[t.length-1]==="?"?t.slice(0,-1):t;if(e.getItemAt!=null||Array.isArray(e)){const h=parseInt(i,10);if(!isNaN(h))return Array.isArray(e)?e[h]:e.at(h)}const o=zs(e);return UN(o,i)?o.get(i):e[i]}function jx(t,e,i){if(t==null)return t;const o=zx(e[i],t);return!o&&i<e.length-1?void 0:i===e.length-1?o:jx(o,e,i+1)}function mu(t,e,i=0){return typeof e!="string"||e.includes(".")?jx(t,Lx(e),i):zx(e,t)}function Bo(t,e){return mu(t,e)}function Rw(t,e){return mu(e,t)!==void 0}var Ei;(function(t){t[t.INITIALIZING=0]="INITIALIZING",t[t.CONSTRUCTING=1]="CONSTRUCTING",t[t.CONSTRUCTED=2]="CONSTRUCTED",t[t.DESTROYED=3]="DESTROYED"})(Ei||(Ei={}));function gu(t){let e=t.constructor.__accessorMetadata__;const i=Object.prototype.hasOwnProperty.call(t.constructor,"__accessorMetadata__");if(e){if(!i){e=Object.create(e);for(const o in e)e[o]=at(e[o]);Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0})}}else e={},Object.defineProperty(t.constructor,"__accessorMetadata__",{value:e,enumerable:!1,configurable:!0,writable:!0});return t.constructor.__accessorMetadata__}function Df(t,e){const i=gu(t);let o=i[e];return o||(o=i[e]={}),o}function VN(t,e){return xd(t,e,qN)}const GN=/^(?:[^.]+\.)?(?:value|type|(?:json\.type|json\.origins\.[^.]\.type))$/;function qN(t){return GN.test(t)?"replace":"merge"}function HN(t){return(t==null?void 0:t.release)&&typeof t.release=="function"}function WN(t){return(t==null?void 0:t.acquire)&&typeof t.acquire=="function"}let yu=class vm{constructor(e,i,o,h=1,p=0){this._ctor=e,this._acquireFunction=i,this._releaseFunction=o,this.allocationSize=h,this._pool=new Array(p),this._initialSize=p;for(let m=0;m<p;m++)this._pool[m]=new this._ctor;this.allocationSize=Math.max(h,1)}destroy(){this.prune(0)}acquire(...e){let i;if(vm.test.disabled)i=new this._ctor;else{if(this._pool.length===0){const o=this.allocationSize;for(let h=0;h<o;h++)this._pool[h]=new this._ctor}i=this._pool.pop()}return this._acquireFunction?this._acquireFunction(i,...e):WN(i)&&i.acquire(...e),i}release(e){e&&!vm.test.disabled&&(this._releaseFunction?this._releaseFunction(e):HN(e)&&e.release(),this._pool.push(e))}prune(e=this._initialSize){if(!(e>=this._pool.length)){for(let i=e;i<this._pool.length;++i){const o=this._pool[i];this._dispose(o)}this._pool.length=e}}_dispose(e){e.dispose&&typeof e.dispose=="function"&&e.dispose()}};yu.test={disabled:!1};let JN=class{constructor(e,i){this._observers=e,this._observer=i}remove(){GM(this._observers,this._observer)}},Fx=class{constructor(){this._observers=null,this.destroyed=!1}observe(e){if(this.destroyed||e.destroyed)return ZN;this._observers==null&&(this._observers=[]);const i=this._observers;let o=!1,h=!1;const p=i.length;for(let m=0;m<p;++m){const v=i[m];if(v.destroyed)h=!0;else if(v===e){o=!0;break}}return o||(i.push(e),h&&this._removeDestroyedObservers()),new JN(i,e)}_removeDestroyedObservers(){const e=this._observers;if(!e||e.length===0)return;const i=e.length;let o=0;for(let h=0;h<i;++h){for(;h+o<i&&e[h+o].destroyed;)++o;if(o>0){if(!(h+o<i))break;e[h]=e[h+o]}}e.length=i-o}destroy(){if(this.destroyed)return;this.destroyed=!0;const e=this._observers;if(e!=null){for(const i of e)i.onCommitted();this._observers=null}}};const ZN=we();var Jt;(function(t){t[t.DEFAULTS=0]="DEFAULTS",t[t.COMPUTED=1]="COMPUTED",t[t.SERVICE=2]="SERVICE",t[t.PORTAL_ITEM=3]="PORTAL_ITEM",t[t.WEB_SCENE=4]="WEB_SCENE",t[t.WEB_MAP=5]="WEB_MAP",t[t.LINK_CHART=6]="LINK_CHART",t[t.USER=7]="USER"})(Jt||(Jt={}));const DQ=Jt.USER+1;function Ux(t){switch(t){case"defaults":return Jt.DEFAULTS;case"service":return Jt.SERVICE;case"portal-item":return Jt.PORTAL_ITEM;case"web-scene":return Jt.WEB_SCENE;case"web-map":return Jt.WEB_MAP;case"link-chart":return Jt.LINK_CHART;case"user":return Jt.USER;default:return null}}function wm(t){switch(t){case Jt.DEFAULTS:return"defaults";case Jt.SERVICE:return"service";case Jt.PORTAL_ITEM:return"portal-item";case Jt.WEB_SCENE:return"web-scene";case Jt.WEB_MAP:return"web-map";case Jt.LINK_CHART:return"link-chart";case Jt.USER:return"user"}}function YN(t){return wm(t)}var he;(function(t){t[t.Dirty=1]="Dirty",t[t.Overridden=2]="Overridden",t[t.Computing=4]="Computing",t[t.NonNullable=8]="NonNullable",t[t.HasDefaultValue=16]="HasDefaultValue",t[t.DepTrackingInitialized=32]="DepTrackingInitialized",t[t.AutoTracked=64]="AutoTracked",t[t.ExplicitlyTracking=128]="ExplicitlyTracking"})(he||(he={}));let zf=class{constructor(e){this.accessed=void 0,this._handles=void 0,this._observer=e}destroy(){var e;(e=this.accessed)==null||e.clear(),this.clear()}onAccessed(e){this._observer!=null&&e!==this._observer&&(this.accessed==null&&(this.accessed=new Set),this.accessed.add(e))}onTrackingEnd(){this._observer!=null&&(this.clear(),this.accessed!=null&&(this._handles==null&&(this._handles=[]),this.accessed.forEach(e=>{this._handles.push(e.observe(this._observer))}),this.accessed.clear()))}clear(){if(this._handles!=null){for(let e=0;e<this._handles.length;++e)this._handles[e].remove();this._handles.length=0}}};const k0=new zf,wh=[];let nc=k0;function Ct(t){nc.onAccessed(t)}let Sd=!1,Cd=!1;function Nn(t,e,i){if(Sd)return av(t,e,i);let o=null;return Bx(t),o=e.call(i),Vx(),o}function KN(t,e){return Nn(k0,t,e)}function av(t,e,i){const o=Sd;Sd=!0,Bx(t);let h=null;try{h=e.call(i)}catch(p){Cd&&Rt.getLogger("esri.core.accessorSupport.tracking").error(p)}return Vx(),Sd=o,h}function Bx(t){nc=t,wh.push(t)}function Vx(){const t=wh.length;if(t>1){const e=wh.pop();nc=wh[t-2],e.onTrackingEnd()}else if(t===1){const e=wh.pop();nc=k0,e.onTrackingEnd()}else nc=k0}function Gx(t,e){if(e.flags&he.DepTrackingInitialized)return;e.flags|=he.DepTrackingInitialized;const i=Cd;Cd=!1,e.flags&he.AutoTracked?av(e.trackingTarget,e.metadata.get,t):qx(t,e),Cd=i}const XN=[];function qx(t,e){e.flags&he.ExplicitlyTracking||(e.flags|=he.ExplicitlyTracking,av(e.trackingTarget,()=>{const i=e.metadata.dependsOn||XN;for(const o of i)if(typeof o!="string"||o.includes(".")){const h=Lx(o);for(let p=0,m=t;p<h.length&&m!=null&&typeof m=="object";++p)m=Lw(m,h[p],p!==h.length-1)}else Lw(t,o,!1)}),e.flags&=~he.ExplicitlyTracking)}function Lw(t,e,i){const o=e[e.length-1]==="?"?e.slice(0,-1):e;if(t.getItemAt!=null||Array.isArray(t)){const p=parseInt(o,10);if(!isNaN(p))return Array.isArray(t)?t[p]:t.at(p)}const h=zs(t);if(h){const p=h.propertiesByName.get(o);p&&(Ct(p),Gx(t,p))}return i?t[o]:void 0}let Dw=class extends Fx{constructor(e,i){super(),this.propertyName=e,this.metadata=i,this.trackingTarget=new zf(this),this.flags=0,this.flags=he.Dirty|(i.nonNullable?he.NonNullable:0)|(i.hasOwnProperty("value")?he.HasDefaultValue:0)|(i.get===void 0?he.DepTrackingInitialized:0)|(i.dependsOn===void 0?he.AutoTracked:0)}destroy(){this.flags&he.Dirty&&this.onCommitted(),super.destroy(),this.trackingTarget.destroy()}getComputed(e){e.mutable&&Ct(this);const i=e.store,o=this.propertyName,h=this.flags,p=i.get(o);if(h&he.Computing||~h&he.Dirty&&i.has(o))return p;this.flags|=he.Computing;const m=e.host;let v;h&he.AutoTracked?v=Nn(this.trackingTarget,this.metadata.get,m):(qx(m,this),v=this.metadata.get.call(m)),this.flags|=he.DepTrackingInitialized,i.set(o,v,Jt.COMPUTED);const w=i.get(o);return w===p?this.flags&=~he.Dirty:KN(this.commit,this),this.flags&=~he.Computing,w}notifyChange(){this.onInvalidated(),this.onCommitted()}invalidate(){this.onInvalidated()}commit(){this.flags&=~he.Dirty,this.onCommitted()}onInvalidated(){~this.flags&he.Overridden&&(this.flags|=he.Dirty);const e=this._observers;if(e&&e.length>0)for(const i of e)i.onInvalidated()}onCommitted(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const o of i)o.onCommitted()}}},QN=class Hx{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new Hx;return this._values.forEach((o,h)=>{e&&e.has(h)||i.set(h,at(o))}),i}get(e){return this._values.get(e)}originOf(){return Jt.USER}keys(){return[...this._values.keys()]}set(e,i){this._values.set(e,i)}delete(e){this._values.delete(e)}has(e){return this._values.has(e)}forEach(e){this._values.forEach(e)}};function Ju(t,e,i){return t!==void 0}function zw(t,e,i,o){return t!==void 0&&(!(i==null&&t.flags&he.NonNullable)||(o.lifecycle,Ei.INITIALIZING,!1))}let tR=class{constructor(e){this.host=e,this.propertiesByName=new Map,this.ctorArgs=null,this.lifecycle=Ei.INITIALIZING,this.store=new QN,this.mutable=!0,this._origin=Jt.USER;const i=this.host.constructor.__accessorMetadata__;for(const o in i){const h=new Dw(o,i[o]);this.propertiesByName.set(o,h)}this.metadata=i}initialize(){this.lifecycle=Ei.CONSTRUCTING}constructed(){this.lifecycle=Ei.CONSTRUCTED}destroy(){this.lifecycle=Ei.DESTROYED,this.propertiesByName.forEach(e=>e.destroy())}get initialized(){return this.lifecycle!==Ei.INITIALIZING}get(e){const i=this.propertiesByName.get(e);if(i.metadata.get)return i.getComputed(this);this.mutable&&Ct(i);const o=this.store;return o.has(e)?o.get(e):i.metadata.value}originOf(e){const i=this.store.originOf(e);if(i===void 0){const o=this.propertiesByName.get(e);if(o!==void 0&&o.flags&he.HasDefaultValue)return"defaults"}return wm(i)}has(e){return this.propertiesByName.has(e)&&this.store.has(e)}keys(){return[...this.propertiesByName.keys()]}internalGet(e){const i=this.propertiesByName.get(e);if(Ju(i))return this.store.has(e)?this.store.get(e):i.metadata.value}internalSet(e,i){const o=this.propertiesByName.get(e);Ju(o)&&this._internalSet(o,i)}getDependsInfo(e,i,o){const h=this.propertiesByName.get(i);if(!Ju(h))return"";const p=new zf,m=Nn(p,()=>{var A;return(A=h.metadata.get)==null?void 0:A.call(e)});let v=`${o}${e.declaredClass.split(".").pop()}.${i}: ${m}
`;const w=p.accessed??new Set;if(w.size===0)return v;o+="  ";for(const A of w)A instanceof Dw&&(v+=`${o}${A.propertyName}: undefined
`);return v}setAtOrigin(e,i,o){const h=this.propertiesByName.get(e);if(Ju(h))return this._setAtOrigin(h,i,o)}isOverridden(e){const i=this.propertiesByName.get(e);return i!==void 0&&!!(i.flags&he.Overridden)}clearOverride(e){const i=this.propertiesByName.get(e);i&&i.flags&he.Overridden&&(i.flags&=~he.Overridden,i.notifyChange())}override(e,i){const o=this.propertiesByName.get(e);if(!zw(o,e,i,this))return;const h=o.metadata.cast;if(h){const p=this._cast(h,i),{valid:m,value:v}=p;if(Kp.release(p),!m)return;i=v}o.flags|=he.Overridden,this._internalSet(o,i)}set(e,i){const o=this.propertiesByName.get(e);if(!zw(o,e,i,this))return;const h=o.metadata.cast;if(h){const m=this._cast(h,i),{valid:v,value:w}=m;if(Kp.release(m),!v)return;i=w}const p=o.metadata.set;p?p.call(this.host,i):this._internalSet(o,i)}setDefaultOrigin(e){this._origin=Ux(e)}getDefaultOrigin(){return wm(this._origin)}notifyChange(e){const i=this.propertiesByName.get(e);i!==void 0&&i.notifyChange()}invalidate(e){const i=this.propertiesByName.get(e);i!==void 0&&i.invalidate()}commit(e){const i=this.propertiesByName.get(e);i!==void 0&&i.commit()}_internalSet(e,i){const o=this.lifecycle!==Ei.INITIALIZING?this._origin:Jt.DEFAULTS;this._setAtOrigin(e,i,o)}_setAtOrigin(e,i,o){const h=this.store,p=e.propertyName;h.has(p,o)&&Wb(i,h.get(p))&&~e.flags&he.Overridden&&o===h.originOf(p)||(e.invalidate(),h.set(p,i,o),e.commit(),Gx(this.host,e))}_cast(e,i){const o=Kp.acquire();return o.valid=!0,o.value=i,e&&(o.value=e.call(this.host,i,o)),o}},eR=class{constructor(){this.value=null,this.valid=!0}acquire(){this.valid=!0}release(){this.value=null}};const Kp=new yu(eR);function M0(t,e,i){if(t&&e)if(typeof e=="object")for(const o of Object.getOwnPropertyNames(e))M0(t,o,e[o]);else{if(e.includes(".")){const h=e.split("."),p=h.splice(-1,1)[0];return void M0(Bo(t,h),p,i)}const o=t.__accessor__;o!=null&&iR(e,o),t[e]=i}}function iR(t,e){if(ot("esri-unknown-property-errors")&&!rR(t,e))throw new kt("set:unknown-property",nR(t,e))}function rR(t,e){return e.metadata[t]!=null}function nR(t,e){return"setting unknown property '"+t+"' on instance of "+e.host.declaredClass}let sR;function oR(){return sR}var jw;(function(t){t[t.Ignore=0]="Ignore",t[t.Destroy=1]="Destroy",t[t.ThrowError=2]="ThrowError"})(jw||(jw={}));function aR(t){t.length=0}let rn=class{constructor(e=50,i=50){this._pool=new yu(Array,void 0,aR,i,e)}acquire(){return this._pool.acquire()}release(e){this._pool.release(e)}prune(){this._pool.prune(0)}static acquire(){return Xp.acquire()}static release(e){return Xp.release(e)}static prune(){Xp.prune()}};const Xp=new rn(100);let lR=class extends yu{constructor(){super(...arguments),this._set=new Set}destroy(){super.destroy(),this._set=null}acquire(...e){const i=super.acquire(...e);return this._set.delete(i),i}release(e){e&&!this._set.has(e)&&(super.release(e),this._set.add(e))}_dispose(e){this._set.delete(e),super._dispose(e)}};const Zu=[];function Wx(t){Zu.push(t),Zu.length===1&&queueMicrotask(()=>{const e=Zu.slice();Zu.length=0;for(const i of e)i()})}let Jx=class{constructor(e,i=30){this.name=e,this._counter=0,this._samples=new Array(i)}push(e){e!=null&&(this._samples[++this._counter%this._samples.length]=e)}set(e){e!=null&&(this._samples[this._counter%this._samples.length]=e)}get median(){return this._samples.slice().sort((e,i)=>e-i)[Math.floor(this._samples.length/2)]}get average(){return this._samples.reduce((e,i)=>e+i,0)/this._samples.length}get last(){return this._samples[this._counter%this._samples.length]}};var _m;(function(t){const e=(p,m,v,w)=>{let A=m,$=m;const M=v>>>1,P=p[A-1];for(;$<=M;){$=A<<1,$<v&&w(p[$-1],p[$])<0&&++$;const R=p[$-1];if(w(R,P)<=0)break;p[A-1]=R,A=$}p[A-1]=P},i=(p,m)=>p<m?-1:p>m?1:0;function o(p,m,v,w){m===void 0&&(m=0),v===void 0&&(v=p.length),w===void 0&&(w=i);for(let $=v>>>1;$>m;$--)e(p,$,v,w);const A=m+1;for(let $=v-1;$>m;$--){const M=p[m];p[m]=p[$],p[$]=M,e(p,A,$,w)}}function*h(p,m,v,w){m===void 0&&(m=0),v===void 0&&(v=p.length),w===void 0&&(w=i);for(let $=v>>>1;$>m;$--)e(p,$,v,w),yield;const A=m+1;for(let $=v-1;$>m;$--){const M=p[m];p[m]=p[$],p[$]=M,e(p,A,$,w),yield}}t.sort=o,t.iterableSort=h})(_m||(_m={}));const Fw=_m,hR=1.5,cR=1.1;let Zx=class{constructor(e){this.data=[],this._length=0,this._allocator=void 0,this._deallocator=()=>null,this._shrink=()=>{},this._hint=new J4,e&&(e.initialSize&&(this.data=new Array(e.initialSize)),e.allocator&&(this._allocator=e.allocator),e.deallocator!==void 0&&(this._deallocator=e.deallocator),e.shrink&&(this._shrink=()=>Uw(this)))}toArray(){return this.data.slice(0,this.length)}filter(e){const i=new Array;for(let o=0;o<this._length;o++){const h=this.data[o];e(h)&&i.push(h)}return i}at(e){if((e=Math.trunc(e)||0)<0&&(e+=this._length),!(e<0||e>=this._length))return this.data[e]}includes(e,i){const o=this.data.indexOf(e,i);return o!==-1&&o<this.length}get length(){return this._length}set length(e){if(e>this._length){if(this._allocator){for(;this._length<e;)this.data[this._length++]=this._allocator(this.data[this._length]);return}this._length=e}else{if(this._deallocator)for(let i=e;i<this._length;++i)this.data[i]=this._deallocator(this.data[i]);this._length=e,this._shrink()}}clear(){this.length=0}prune(){this.clear(),this.data=[]}push(e){this.data[this._length++]=e}pushArray(e,i=e.length){for(let o=0;o<i;o++)this.data[this._length++]=e[o]}fill(e,i){for(let o=0;o<i;o++)this.data[this._length++]=e}pushNew(){this._allocator&&(this.data[this.length]=this._allocator(this.data[this.length]));const e=this.data[this._length];return++this._length,e}unshift(e){this.data.unshift(e),this._length++,Uw(this)}pop(){if(this.length===0)return;const e=this.data[this.length-1];return this.length=this.length-1,this._shrink(),e}remove(e){const i=am(this.data,e,this.length,this._hint);if(i!==-1)return this.data.splice(i,1),this.length=this.length-1,e}removeUnordered(e){return this.removeUnorderedIndex(am(this.data,e,this.length,this._hint))}removeUnorderedIndex(e){if(!(e>=this.length||e<0))return this.swapElements(e,this.length-1),this.pop()}removeUnorderedMany(e,i=e.length,o){this.length=VM(this.data,e,this.length,i,this._hint,o),this._shrink()}front(){if(this.length!==0)return this.data[0]}back(){if(this.length!==0)return this.data[this.length-1]}swapElements(e,i){if(e>=this.length||i>=this.length||e===i)return;const o=this.data[e];this.data[e]=this.data[i],this.data[i]=o}sort(e){Fw.sort(this.data,0,this.length,e)}iterableSort(e){return Fw.iterableSort(this.data,0,this.length,e)}some(e,i){for(let o=0;o<this.length;++o)if(e.call(i,this.data[o],o,this.data))return!0;return!1}find(e,i){const{data:o,length:h}=this;for(let p=0;p<h;++p)if(e.call(i,o[p]))return o[p]}filterInPlace(e,i){let o=0;for(let h=0;h<this._length;++h){const p=this.data[h];e.call(i,p,h,this.data)&&(this.data[h]=this.data[o],this.data[o]=p,o++)}if(this._deallocator)for(let h=o;h<this._length;h++)this.data[h]=this._deallocator(this.data[h]);return this._length=o,this._shrink(),this}forAll(e,i){const{data:o,length:h}=this;for(let p=0;p<h;++p)e.call(i,o[p],p,o)}forEach(e,i){this.data.slice(0,this.length).forEach(e,i)}map(e,i){const o=new Array(this.length);for(let h=0;h<this.length;++h)o[h]=e.call(i,this.data[h],h,this.data);return o}reduce(e,i){let o=i;for(let h=0;h<this.length;++h)o=e(o,this.data[h],h,this.data);return o}has(e){const i=this.length,o=this.data;for(let h=0;h<i;++h)if(o[h]===e)return!0;return!1}*[Symbol.iterator](){for(let e=0;e<this.length;e++)yield this.data[e]}};function Uw(t){t.data.length>hR*t.length&&(t.data.length=Math.floor(t.length*cR))}function HQ(t){return t}function WQ(t){return 1e3*t}function JQ(t){return t}function ZQ(t){return .001*t}let uR=class{constructor(e){this.phases=e,this.paused=!1,this.ticks=-1,this.removed=!1}},dR=class{constructor(e){this.callback=e,this.isActive=!0}remove(){this.isActive=!1}},xm=0;const sh={time:0,deltaTime:0,elapsedFrameTime:0,frameDuration:0},Sm=["prepare","preRender","render","postRender","update","finish"],Cm=[],Vo=new Zx;let fR=class{constructor(e){this._task=e}remove(){this._task.removed=!0}pause(){this._task.paused=!0}resume(){this._task.paused=!1}};function pR(){Mo!=null&&(cancelAnimationFrame(Mo),Mo=requestAnimationFrame(lv))}const O0={frameTasks:Vo,willDispatch:!1,clearFrameTasks:mR,dispatch:Xx,executeFrameTasks:gR,reschedule:pR};function Yx(t){const e=new dR(t);return Cm.push(e),O0.willDispatch||(O0.willDispatch=!0,Wx(Xx)),e}function QQ(t){const e=new uR(t);return Vo.push(e),Mo==null&&(xm=performance.now(),Mo=requestAnimationFrame(lv)),new fR(e)}let Mo=null;function mR(t=!1){Vo.forAll(e=>{e.removed=!0}),t&&Kx()}function lv(){const t=performance.now();Mo=null,Mo=Vo.length>0?requestAnimationFrame(lv):null,O0.executeFrameTasks(t)}function gR(t){const e=t-xm;xm=t;const i=1e3/60,o=Math.max(0,e-i);sh.time=t,sh.frameDuration=i-o;for(let h=0;h<Sm.length;h++){const p=performance.now(),m=Sm[h];Vo.forAll(v=>{var w;v.paused||v.removed||(h===0&&v.ticks++,v.phases[m]&&(sh.elapsedFrameTime=performance.now()-t,sh.deltaTime=v.ticks===0?0:e,(w=v.phases[m])==null||w.call(v,sh)))}),wR[h].push(performance.now()-p)}Kx(),_R.push(performance.now()-t)}const Yu=new Zx;function Kx(){Vo.forAll(t=>{t.removed&&Yu.push(t)}),Vo.removeUnorderedMany(Yu.data,Yu.length),Yu.clear()}function Xx(){for(;Cm.length;){const t=Cm.shift();t.isActive&&t.callback()}O0.willDispatch=!1}function yR(t=1,e){const i=Uo(),o=()=>{Ds(e)?i.reject(Oi()):t===0?i():(--t,Wx(()=>o()))};return o(),i.promise}function bR(t){return yR(1,t)}async function vR(t){await bR(t),await new Promise(e=>requestAnimationFrame(()=>{t!=null&&t.aborted||e()}))}const wR=Sm.map(t=>new Jx(t)),_R=new Jx("total");function xR(t,e){for(const i of t.values())if(e(i))return!0;return!1}function Bw(t,e){if(!e)return t;for(const i of e)i!=null&&t.add(i);return t}function ttt(t,e){return e!=null&&t.add(e),t}function Qx(t,e){const i=new Set;return Bw(i,t),Bw(i,e),i}function SR(t,e){const i=new Set;for(const o of e)t.has(o)&&i.add(o);return i}function ett(t,e){if(!t||!e)return!1;if(t===e)return!0;for(const i of t)if(!e.has(i))return!1;return!0}function itt(t,e){if(t==null&&e==null)return!0;if(t==null||e==null||t.size!==e.size)return!1;for(const i of t)if(!e.has(i))return!1;return!0}function CR(t,e){const i=new Set(t);for(const o of e)i.delete(o);return i}function rtt(t,e){return CR(Qx(t,e),SR(t,e))}function ntt(t){let e;for(e of t);return e}let AR=0;function Ad(){return++AR}let jf=class extends zf{constructor(e){super(new TR(e)),this._observer&&Vw.register(this,new WeakRef(this._observer),this)}destroy(){var e,i;this._observer&&Vw.unregister(this._observer),(e=this.accessed)==null||e.clear(),this.clear(),(i=this._observer)==null||i.destroy()}},TR=class{constructor(e){this._notify=e,this._invalidCount=0,this.destroyed=!1}onInvalidated(){this._invalidCount++}onCommitted(){if(this.destroyed)return;const e=this._invalidCount;if(e===1)return this._invalidCount=0,void this._notify();this._invalidCount=e>0?e-1:0}destroy(){this.destroyed=!0,this._notify=ER}};const Vw=new FinalizationRegistry(t=>{var e;(e=t.deref())==null||e.destroy()});function ER(){}let rl=!1;const P0=[];function t7(t,e){let i=new jf(p),o=null,h=!1;function p(){if(!i||h)return;if(rl)return void i7(p);const v=o;i.clear(),rl=!0,h=!0,o=Nn(i,t),h=!1,rl=!1,e(o,v),r7()}function m(){i&&(i.destroy(),i=null,o=null)}return h=!0,o=Nn(i,t),h=!1,we(m)}function e7(t,e){let i=new jf(h),o=null;function h(){e(o,m)}function p(){i&&(i.destroy(),i=null),o=null}function m(){return i?(i.clear(),o=Nn(i,t),o):null}return m(),we(p)}function $R(t,e){let i=!1,o=!1;const h=!!(e!=null&&e.sync);let p=new jf(()=>{i||o||(o=!0,h?m():queueMicrotask(m))});function m(){o=!1,p&&!i&&(rl?i7(m):(p.clear(),rl=!0,i=!0,Nn(p,t),i=!1,rl=!1,r7()))}function v(){p&&(p.destroy(),p=null)}return i=!0,Nn(p,t),i=!1,we(v)}function i7(t){P0.includes(t)||P0.unshift(t)}function r7(){for(;P0.length;)P0.pop()()}var sc;(function(t){t[t.Untracked=0]="Untracked",t[t.Tracked=1]="Tracked"})(sc||(sc={}));let Ac=class{constructor(){this.uid=Ad(),this.removed=!1,this.type=null,this.oldValue=null,this.callback=null,this.getValue=null,this.target=null,this.path=null,this.equals=null}static acquireUntracked(e,i,o,h,p){return this.pool.acquire(sc.Untracked,e,i,o,h,p,Wb)}static acquireTracked(e,i,o,h){return this.pool.acquire(sc.Tracked,e,i,o,null,null,h)}notify(e,i){this.type===sc.Untracked?this.callback.call(this.target,e,i,this.path,this.target):this.callback.call(null,e,i,void 0,void 0)}acquire(e,i,o,h,p,m,v){this.uid=Ad(),this.removed=!1,this.type=e,this.oldValue=i,this.callback=o,this.getValue=h,this.target=p,this.path=m,this.equals=v}release(){this.target=this.path=this.oldValue=this.callback=this.getValue=null,this.uid=Ad(),this.removed=!0}};Ac.pool=new lR(Ac);const Td=new rn,kn=new Set;let N0;function R0(t){kn.delete(t),kn.add(t),N0||(N0=Yx(MR))}function IR(t){if(t.removed)return;const e=t.oldValue,i=t.getValue();t.equals(e,i)||(t.oldValue=i,t.notify(i,e))}function kR(t){for(const e of kn.values())e.target===t&&(e.removed=!0)}function MR(){let t=10;for(;N0&&t--;){N0=null;const e=OR(),i=Td.acquire();for(const o of e){const h=o.uid;IR(o),h===o.uid&&o.removed&&i.push(o)}for(const o of kn)o.removed&&(i.push(o),kn.delete(o));for(const o of i)Ac.pool.release(o);Td.release(i),Td.release(e),Am.forEach(o=>o())}}function OR(){const t=Td.acquire();t.length=kn.size;let e=0;for(const i of kn)t[e]=i,++e;return kn.clear(),t}const Am=new Set;function ltt(t){return Am.add(t),we(()=>Am.delete(t))}function PR(t,e,i){let o=Dx(t,e,i,(h,p,m)=>{let v,w,A=e7(()=>mu(h,p),($,M)=>{var P;((P=h.__accessor__)==null?void 0:P.lifecycle)===Ei.DESTROYED||v&&v.uid!==w?o.remove():(v||(v=Ac.acquireUntracked($,m,M,h,p),w=v.uid),R0(v))});return we(()=>{A.remove(),v&&(v.uid!==w||v.removed||(v.removed=!0,R0(v)),v=null),o=A=null})});return o}function NR(t,e,i){const o=Dx(t,e,i,(h,p,m)=>{let v=!1;return t7(()=>mu(h,p),(w,A)=>{h.__accessor__.lifecycle!==Ei.DESTROYED?v||(v=!0,Wb(A,w)||m.call(h,w,A,p,h),v=!1):o.remove()})});return o}function RR(t,e,i,o=!1){return t.__accessor__&&t.__accessor__.lifecycle!==Ei.DESTROYED?o?NR(t,e,i):PR(t,e,i):we()}function LR(t,e,i){let o,h,p=e7(t,(m,v)=>{o&&o.uid!==h?p.remove():(o||(o=Ac.acquireTracked(m,e,v,i),h=o.uid),R0(o))});return we(()=>{p.remove(),o&&(o.uid!==h||o.removed||(o.removed=!0,R0(o)),o=null),p=null})}function DR(t,e,i){let o=!1;return t7(t,(h,p)=>{o||(o=!0,i(p,h)||e(h,p),o=!1)})}function zR(t,e,i=!1,o=h6){return i?DR(t,e,o):LR(t,e,o)}function htt(t){return xR(kn,e=>e.oldValue===t)}function ctt(t,e){for(const i of t.values())if(e(i))return!0;return!1}function utt(t,e){for(const i of t.values())if(e(i))return i;return null}function jR(t,e,i){const o=t.get(e);if(o!==void 0)return o;const h=i();return t.set(e,h),h}function dtt(t){const e=new Map;return i=>(e.has(i)||e.set(i,t(i)),e.get(i))}const nl=()=>Rt.getLogger("esri.core.accessorSupport.ensureTypes");function FR(t){return t==null?t:new Date(t)}function UR(t){return t==null?t:!!t}function BR(t){return t==null?t:t.toString()}function Ff(t,e=0){return t==null?t:(t=parseFloat(t),isNaN(t)?e:t)}function hv(t){return t==null?t:Math.round(parseFloat(t))}function VR(t){return null}function GR(t,e){return i=>{let o=t(i);return e.step!=null&&(o=Math.round(o/e.step)*e.step),e.min!=null&&(o=Math.max(e.min,o)),e.max!=null&&(o=Math.min(e.max,o)),o}}function n7(t){return(t==null?void 0:t.constructor)&&t.constructor.__accessorMetadata__!==void 0}function L0(t,e){return e!=null&&t&&!(e instanceof t)}function s7(t){return t&&"isCollection"in t}function Gw(t){return t!=null&&t.Type?typeof t.Type=="function"?t.Type:t.Type.base:null}function qR(t,e){if(!(e!=null&&e.constructor)||!s7(e.constructor))return Tm(t,e)?e:new t(e);const i=Gw(t.prototype.itemType),o=Gw(e.constructor.prototype.itemType);return i?o?i===o?e:i.prototype.isPrototypeOf(o.prototype)?new t(e):(Tm(t,e),e):new t(e):e}function Tm(t,e){return!!n7(e)&&(nl().error("Accessor#set","Assigning an instance of '"+(e.declaredClass||"unknown")+"' which is not a subclass of '"+Uf(t)+"'"),!0)}function cv(t,e){return e==null?e:s7(t)?qR(t,e):L0(t,e)?Tm(t,e)?e:new t(e):e}function Uf(t){var e;return((e=t==null?void 0:t.prototype)==null?void 0:e.declaredClass)||"unknown"}const HR=new WeakMap;function WR(t){switch(t){case Number:return e=>Ff(e);case Fe:return hv;case Boolean:return UR;case String:return BR;case Date:return FR;case uv:return VR;default:return jR(HR,t,()=>cv.bind(null,t))}}function Pi(t,e){const i=WR(t);return arguments.length===1?i:i(e)}function Tc(t,e,i){return arguments.length===1?Tc.bind(null,t):e&&(Array.isArray(e)?e.map(o=>t(o,i)):[t(e,i)])}function JR(t,e){return arguments.length===1?Tc(i=>Pi(t,i)):Tc(i=>Pi(t,i),e)}function o7(t,e,i){return e!==0&&Array.isArray(i)?i.map(o=>o7(t,e-1,o)):t(i)}function D0(t,e,i){if(arguments.length===2)return p=>D0(t,e,p);if(!i)return i;i=o7(t,e,i);let o=e,h=i;for(;o>0&&Array.isArray(h);)o--,h=h[0];if(h!==void 0)for(let p=0;p<o;p++)i=[i];return i}function ZR(t,e,i){return arguments.length===2?D0(o=>Pi(t,o),e):D0(o=>Pi(t,o),e,i)}function a7(t){return!!Array.isArray(t)&&!t.some(e=>{const i=typeof e;return!(i==="string"||i==="number"||i==="function"&&t.length>1)})}function Em(t,e){if(arguments.length===2)return Em(t).call(null,e);const i=new Set,o=t.filter(v=>typeof v!="function"),h=t.filter(v=>typeof v=="function");for(const v of t)typeof v!="string"&&typeof v!="number"||i.add(v);let p=null,m=null;return(v,w)=>{if(v==null)return v;const A=typeof v,$=A==="string"||A==="number";return $&&(i.has(v)||h.some(M=>A==="string"&&M===String||A==="number"&&M===Number))||A==="object"&&h.some(M=>!L0(v,M))?v:($&&o.length?(p||(p=o.map(M=>typeof M=="string"?`'${M}'`:`${M}`).join(", ")),nl().error("Accessor#set",`'${v}' is not a valid value for this property, only the following values are valid: ${p}`)):typeof v=="object"&&h.length?(m||(m=h.map(M=>Uf(M)).join(", ")),nl().error("Accessor#set",`'${v}' is not a valid value for this property, value must be one of ${m}`)):nl().error("Accessor#set",`'${v}' is not a valid value for this property`),w&&(w.valid=!1),null)}}function Rn(t,e){if(arguments.length===2)return Rn(t).call(null,e);const i={},o=[],h=[];for(const w in t.typeMap){const A=t.typeMap[w];i[w]=Pi(A),o.push(Uf(A)),h.push(w)}const p=()=>`'${o.join("', '")}'`,m=()=>`'${h.join("', '")}'`,v=typeof t.key=="string"?w=>w[t.key]:t.key;return w=>{if(t.base&&!L0(t.base,w)||w==null)return w;const A=v(w)||t.defaultKeyValue,$=i[A];if(!$)return nl().error("Accessor#set",`Invalid property value, value needs to be one of ${p()}, or a plain object that can autocast (having .type = ${m()})`),null;if(!L0(t.typeMap[A],w))return w;if(typeof t.key=="string"&&!n7(w)){const M={};for(const P in w)P!==t.key&&(M[P]=w[P]);return $(M)}return $(w)}}let Fe=class{},uv=class{};const mtt={native:t=>({type:"native",value:t}),array:t=>({type:"array",value:t}),oneOf:t=>({type:"one-of",values:t})};function YR(t){if(!t||!("type"in t))return!1;switch(t.type){case"native":case"array":case"one-of":return!0}return!1}function l7(t){switch(t.type){case"native":return Pi(t.value);case"array":return Tc(l7(t.value));case"one-of":return KR(t);default:return null}}function KR(t){let e=null;return(i,o)=>Im(i,t)?i:(e==null&&(e=$m(t)),nl().error("Accessor#set",`Invalid property value, value needs to be of type ${e}`),o&&(o.valid=!1),null)}function $m(t){switch(t.type){case"native":switch(t.value){case Number:return"number";case String:return"string";case Boolean:return"boolean";case Fe:return"integer";case Date:return"date";case uv:return"null";default:return Uf(t.value)}case"array":return`array of ${$m(t.value)}`;case"one-of":{const e=t.values.map(i=>$m(i));return`one of ${e.slice(0,-1)} or ${e[e.length-1]}`}}return"unknown"}function Im(t,e){if(t==null)return!0;switch(e.type){case"native":switch(e.value){case Number:case Fe:return typeof t=="number";case Boolean:return typeof t=="boolean";case String:return typeof t=="string";case uv:return t===null}return t instanceof e.value;case"array":return!!Array.isArray(t)&&!t.some(i=>!Im(i,e.value));case"one-of":return e.values.some(i=>Im(t,i))}}function E(t={}){return(e,i)=>{if(e===Function.prototype)throw new Error(`Inappropriate use of @property() on a static field: ${e.name}.${i}. Accessor does not support static properties.`);const o=Object.getOwnPropertyDescriptor(e,i),h=Df(e,i);o&&(o.get||o.set?(h.get=o.get||h.get,h.set=o.set||h.set):"value"in o&&("value"in t&&Rt.getLogger("esri.core.accessorSupport.decorators.property").warn(`@property() will redefine the value of "${i}" on "${e.constructor.name}" already defined in the metadata`,t),h.value=t.value=o.value)),t.readOnly!=null&&(h.readOnly=t.readOnly);const p=t.aliasOf;if(p){const w=typeof p=="string"?p:p.source,A=typeof p=="string"?null:p.overridable===!0;let $;h.dependsOn=[w],h.get=function(){let M=Bo(this,w);if(typeof M=="function"){$||($=w.split(".").slice(0,-1).join("."));const P=Bo(this,$);P&&(M=M.bind(P))}return M},h.readOnly||(h.set=A?function(M){this._override(i,M)}:function(M){M0(this,w,M)})}const m=t.type,v=t.types;if(!h.cast){let w;m?w=XR(m):v&&(w=Array.isArray(v)?Tc(Rn(v[0])):Rn(v)),t.cast=QR(t.cast,w)}VN(h,t),t.range&&(h.cast=GR(h.cast,t.range))}}function h7(t,e,i){const o=Df(t,i);o.json||(o.json={});let h=o.json;return e!==void 0&&(h.origins||(h.origins={}),h.origins[e]||(h.origins[e]={}),h=h.origins[e]),h}function XR(t){let e=0,i=t;if(YR(t))return l7(t);for(;Array.isArray(i)&&i.length===1&&typeof i[0]!="string"&&typeof i[0]!="number";)i=i[0],e++;const o=i;if(a7(o))return e===0?Em(o):D0(Em(o),e);if(e===1)return JR(o);if(e>1)return ZR(o,e);const h=t;return h.from?h.from:Pi(h)}function QR(t,e){if(t||e)return t?e?(i,o)=>e(t(i,o),o):t:e}function tL(t){if(t.json&&t.json.origins){const e=t.json.origins,i={"web-document":["web-scene","web-map"]};for(const o in i)if(e[o]){const h=e[o];i[o].forEach(p=>{e[p]=h}),delete e[o]}}}let Ec=class extends Tx{constructor(e,i,o){super(e,i,o)}};Ec.prototype.type="warning";function c7(t){var e;return!!t&&((e=t.prototype)==null?void 0:e.declaredClass)&&t.prototype.declaredClass.indexOf("esri.core.Collection")===0}const km=()=>Rt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.reader");function qw(t,e,i){var o,h;t&&(!i&&!e.read||(o=e.read)!=null&&o.reader||((h=e.read)==null?void 0:h.enabled)===!1||rL(t)&&Rl("read.reader",dv(t),e))}function dv(t){var i,o;const e=t.ndimArray??0;if(e>1)return iL(t);if(e===1)return Hw(t);if("type"in t&&d7(t.type)){const h=(o=(i=t.type.prototype)==null?void 0:i.itemType)==null?void 0:o.Type,p=Hw(typeof h=="function"?{type:h}:{types:h});return(m,v,w)=>{const A=p(m,v,w);return A&&new t.type(A)}}return fv(t)}function fv(t){return"type"in t?eL(t.type):nL(t.types)}function eL(t){return t.prototype.read?(e,i,o)=>{if(e==null)return e;const h=typeof e;if(h!=="object")return void km().error(`Expected JSON value of type 'object' to deserialize type '${t.prototype.declaredClass}', but got '${h}'`);const p=new t;return p.read(e,o),p}:t.fromJSON}function u7(t,e,i,o){return o!==0&&Array.isArray(e)?e.map(h=>u7(t,h,i,o-1)):t(e,void 0,i)}function iL(t){const e=fv(t),i=u7.bind(null,e),o=t.ndimArray??0;return(h,p,m)=>{if(h==null)return h;h=i(h,m,o);let v=o,w=h;for(;v>0&&Array.isArray(w);)v--,w=w[0];if(w!==void 0)for(let A=0;A<v;A++)h=[h];return h}}function Hw(t){const e=fv(t);return(i,o,h)=>{if(i==null)return i;if(Array.isArray(i)){const m=[];for(const v of i){const w=e(v,void 0,h);w!==void 0&&m.push(w)}return m}const p=e(i,void 0,h);return p!==void 0?[p]:void 0}}function d7(t){if(!c7(t))return!1;const e=t.prototype.itemType;return!(!e||!e.Type)&&(typeof e.Type=="function"?pv(e.Type):f7(e.Type))}function rL(t){return"types"in t?f7(t.types):pv(t.type)}function pv(t){return!Array.isArray(t)&&!!t&&t.prototype&&("read"in t.prototype||"fromJSON"in t||d7(t))}function f7(t){for(const e in t.typeMap)if(!pv(t.typeMap[e]))return!1;return!0}function nL(t){let e=null;const i=t.errorContext??"type",o=t.validate;return(h,p,m)=>{if(h==null)return h;const v=typeof h;if(v!=="object")return void km().error(`Expected JSON value of type 'object' to deserialize, but got '${v}'`);e||(e=sL(t));const w=t.key;if(typeof w!="string")return;const A=h[w],$=A?e[A]:t.defaultKeyValue?t.typeMap[t.defaultKeyValue]:void 0;if(!$){const P=`Type '${A||"unknown"}' is not supported`;return m!=null&&m.messages&&h&&m.messages.push(new Ec(`${i}:unsupported`,P,{definition:h,context:m})),void km().error(P)}const M=new $;return M.read(h,m),o?o(M):M}}function sL(t){var i,o;const e={};for(const h in t.typeMap){const p=t.typeMap[h],m=gu(p.prototype);if(typeof t.key=="function")continue;const v=m[t.key];if(!v)continue;if((i=v.json)!=null&&i.type&&Array.isArray(v.json.type)&&v.json.type.length===1&&typeof v.json.type[0]=="string"){e[v.json.type[0]]=p;continue}const w=(o=v.json)==null?void 0:o.write;if(!(w!=null&&w.writer)){e[h]=p;continue}const A=w.target,$=typeof A=="string"?A:t.key,M={};w.writer(h,M,$),M[$]&&(e[M[$]]=p)}return e}function oL(t){if(t.json||(t.json={}),Jw(t.json),Zw(t.json),Ww(t.json),t.json.origins)for(const e in t.json.origins)Jw(t.json.origins[e]),Zw(t.json.origins[e]),Ww(t.json.origins[e]);return!0}function Ww(t){t.name&&(t.read&&typeof t.read=="object"?t.read.source===void 0&&(t.read.source=t.name):t.read={source:t.name},t.write&&typeof t.write=="object"?t.write.target===void 0&&(t.write.target=t.name):t.write={target:t.name})}function Jw(t){typeof t.read=="boolean"?t.read={enabled:t.read}:typeof t.read=="function"?t.read={enabled:!0,reader:t.read}:t.read&&typeof t.read=="object"&&t.read.enabled===void 0&&(t.read.enabled=!0)}function Zw(t){typeof t.write=="boolean"?t.write={enabled:t.write}:typeof t.write=="function"?t.write={enabled:!0,writer:t.write}:t.write&&typeof t.write=="object"&&t.write.enabled===void 0&&(t.write.enabled=!0)}function Yw(t,e){if(!e.write||e.write.writer||e.write.enabled===!1&&!e.write.overridePolicy)return;const i=(t==null?void 0:t.ndimArray)??0;t&&(i===1||"type"in t&&c7(t.type))?e.write.writer=hL:i>1?e.write.writer=cL(i):e.types?Array.isArray(e.types)?e.write.writer=lL(e.types[0]):e.write.writer=aL(e.types):e.write.writer=$c}function aL(t){return(e,i,o,h)=>e?p7(e,t,h)?$c(e,i,o,h):void 0:$c(e,i,o,h)}function p7(t,e,i){for(const o in e.typeMap)if(t instanceof e.typeMap[o])return!0;if(i!=null&&i.messages){const o=e.errorContext??"type",h=`Values of type '${(typeof e.key!="function"?t[e.key]:t.declaredClass)??"Unknown"}' cannot be written`;i&&i.messages&&t&&i.messages.push(new kt(`${o}:unsupported`,h,{definition:t,context:i})),Rt.getLogger("esri.core.accessorSupport.extensions.serializableProperty.writer").error(h)}return!1}function lL(t){return(e,i,o,h)=>!e||!Array.isArray(e)?$c(e,i,o,h):$c(e.filter(p=>p7(p,t,h)),i,o,h)}function $c(t,e,i,o){Rl(i,z0(t,o),e)}function z0(t,e){return t&&typeof t.write=="function"?t.write({},e):t&&typeof t.toJSON=="function"?t.toJSON():typeof t=="number"?j0(t):t}function j0(t){return t===-1/0?-Number.MAX_VALUE:t===1/0?Number.MAX_VALUE:isNaN(t)?null:t}function hL(t,e,i,o){let h;t===null?h=null:t&&typeof t.map=="function"?(h=t.map(p=>z0(p,o)),typeof h.toArray=="function"&&(h=h.toArray())):h=[z0(t,o)],Rl(i,h,e)}function m7(t,e,i){return i!==0&&Array.isArray(t)?t.map(o=>m7(o,e,i-1)):z0(t,e)}function cL(t){return(e,i,o,h)=>{let p;if(e===null)p=null;else{p=m7(e,h,t);let m=t,v=p;for(;m>0&&Array.isArray(v);)m--,v=v[0];if(v!==void 0)for(let w=0;w<m;w++)p=[p]}Rl(o,p,i)}}function uL(t,e){return mv(t,"any",e==null?void 0:e.origin)}function Mm(t,e){return mv(t,"read",e==null?void 0:e.origin)}function g7(t,e){return mv(t,"write",e==null?void 0:e.origin)}function mv(t,e,i){let o=t==null?void 0:t.json;if(o!=null&&o.origins&&i){let h;h=i==="link-chart"?o.origins[i]&&(e==="any"||e in o.origins[i])?o.origins[i]:o.origins["web-map"]:o.origins[i],h&&(e==="any"||e in h)&&(o=h)}return o}function dL(t){var i;const e=fL(t);if(t.json.origins)for(const o in t.json.origins){const h=t.json.origins[o],p=h.types?pL(h):e;qw(p,h,!1),h.types&&!h.write&&((i=t.json.write)!=null&&i.enabled)&&(h.write={...t.json.write}),Yw(p,h)}qw(e,t.json,!0),Yw(e,t.json)}function fL(t){return t.json.types?Om(t.json):t.type?y7(t):Om(t)}function pL(t){return t.type?y7(t):Om(t)}function y7(t){if(!t.type)return;let e=0,i=t.type;for(;Array.isArray(i)&&!a7(i);)i=i[0],e++;return{type:i,ndimArray:e}}function Om(t){if(!t.types)return;let e=0,i=t.types;for(;Array.isArray(i);)i=i[0],e++;return{types:i,ndimArray:e}}function mL(t){oL(t)&&(tL(t),dL(t))}const Qp=new Set,t1=new Set;function Y(t){return e=>{t??(t="esri.core.Accessor"),e.prototype.declaredClass=t,yL(e);const i=[],o=[];let h=e.prototype;for(;h;)h.hasOwnProperty("initialize")&&!Qp.has(h.initialize)&&(Qp.add(h.initialize),i.push(h.initialize)),h.hasOwnProperty("destroy")&&!t1.has(h.destroy)&&(t1.add(h.destroy),o.push(h.destroy)),h=Object.getPrototypeOf(h);Qp.clear(),t1.clear();const p=class extends e{constructor(...v){if(super(...v),this.constructor===p&&typeof this.postscript=="function"){if(i.length&&Object.defineProperty(this,"initialize",{enumerable:!1,configurable:!0,value(){for(let w=i.length-1;w>=0;w--)i[w].call(this)}}),o.length){let w=!1;const A=this[Rx];Object.defineProperty(this,"destroy",{enumerable:!1,configurable:!0,value(){if(!w){w=!0,A.call(this);for(let $=0;$<o.length;$++)o[$].call(this)}}})}Object.defineProperty(this,Symbol.dispose,{enumerable:!1,configurable:!0,value(){this.destroy()}}),this.postscript()}}};p.__accessorMetadata__=gu(e.prototype),p.prototype.declaredClass=t;const m=(t||"AccessorSubclass").split(".").slice(-1)[0];return Object.defineProperty(p,"name",{value:m,configurable:!0}),p}}function gL(t,e){return e.get==null?function(){const i=this.__accessor__,o=i.propertiesByName.get(t);if(o===void 0)return;i.mutable&&Ct(o);const h=i.store;return h.has(t)?h.get(t):o.metadata.value}:function(){const i=this.__accessor__,o=i.propertiesByName.get(t);if(o!==void 0)return o.getComputed(i)}}function yL(t){const e=t.prototype,i=gu(e),o={};for(const h of Object.getOwnPropertyNames(i)){const p=i[h];mL(p),o[h]={enumerable:!0,configurable:!0,get:gL(h,p),set(m){const v=this.__accessor__;if(v!==void 0){if(v.mutable)return v.initialized&&p.readOnly?Kw("read-only",h):v.lifecycle===Ei.CONSTRUCTED&&p.constructOnly?Kw("construct-only",h):void v.set(h,m)}else Object.defineProperty(this,h,{enumerable:!0,configurable:!0,writable:!0,value:m})}}}Object.defineProperties(t.prototype,o)}const Kw=(t,e)=>{Rt.getLogger("esri.core.Accessor").error(`cannot assign to ${t} property '${e}'`)};var b7,v7;function bL(t){var e;if(t==null)return{value:t};if(Array.isArray(t))return{type:[t[0]],value:null};switch(typeof t){case"object":return(e=t.constructor)!=null&&e.__accessorMetadata__||t instanceof Date?{type:t.constructor,value:t}:t;case"boolean":return{type:Boolean,value:t};case"string":return{type:String,value:t};case"number":return{type:Number,value:t};case"function":return{type:t,value:null};default:return}}const Vr=Symbol("Accessor-Handles"),Pm=Symbol("Accessor-Initialized");let me=class Ed{static createSubclass(e={}){if(Array.isArray(e))throw new Error("Multi-inheritance unsupported since 4.16");const{properties:i,declaredClass:o,constructor:h}=e;delete e.declaredClass,delete e.properties,delete e.constructor;const p=this;class m extends p{constructor(...w){super(...w),this.inherited=null,h&&h.apply(this,w)}}gu(m.prototype);for(const v in e){const w=e[v];m.prototype[v]=typeof w=="function"?function(...A){const $=this.inherited;let M;this.inherited=function(...P){if(p.prototype[v])return p.prototype[v].apply(this,P)};try{M=w.apply(this,A)}catch(P){throw this.inherited=$,P}return this.inherited=$,M}:e[v]}for(const v in i){const w=bL(i[v]);E(w)(m.prototype,v)}return Y(o)(m)}static freeze(e){return e instanceof Ed?e.__accessor__.mutable=!1:Object.freeze(e),e}static isFrozen(e){return e instanceof Ed?!e.__accessor__.mutable:Object.isFrozen(e)}constructor(...e){var o;if(this[b7]=null,this[v7]=!1,this.constructor===Ed)throw new Error("[accessor] cannot instantiate Accessor. This can be fixed by creating a subclass of Accessor");const i=new tR(this);Object.defineProperty(this,"__accessor__",{enumerable:!1,value:i}),e.length>0&&(i.ctorArgs=((o=this.normalizeCtorArgs)==null?void 0:o.apply(this,e))??e[0])}postscript(){const e=this.__accessor__,i=e.ctorArgs;e.initialize(),i&&(this.set(i),e.ctorArgs=null),e.constructed(),this.initialize(),this[Pm]=!0}initialize(){}[Rx](){this[Vr]=ko(this[Vr])}destroy(){var e;this.destroyed||(kR(this),this.__accessor__.destroy(),(e=oR())==null||e.onInstanceDestroy(this))}[Symbol.dispose](){this.destroy()}get constructed(){return this.__accessor__&&this.__accessor__.initialized||!1}get initialized(){return this[Pm]}get destroyed(){var e;return((e=this.__accessor__)==null?void 0:e.lifecycle)===Ei.DESTROYED||!1}commitProperty(e){Bo(this,e)}get(e){return $0(Rt.getLogger(this),"`Accessor.get` is deprecated in favor of using optional chaining",{version:"4.28",see:"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Optional_chaining"}),Bo(this,e)}hasOwnProperty(e){return this.__accessor__?this.__accessor__.has(e):Object.prototype.hasOwnProperty.call(this,e)}keys(){return this.__accessor__?this.__accessor__.keys():[]}set(e,i){return M0(this,e,i),this}watch(e,i,o){return RR(this,e,i,o)}addHandles(e,i){if(this.destroyed){const o=Array.isArray(e)?e:[e];for(const h of o)h.remove();return}(this[Vr]??(this[Vr]=new Lf)).add(e,i)}removeHandles(e){var i;(i=this[Vr])==null||i.remove(e)}removeAllHandles(){var e;(e=this[Vr])==null||e.removeAll()}removeHandlesReference(e){var i;(i=this[Vr])==null||i.removeReference(e)}hasHandles(e){var i;return((i=this[Vr])==null?void 0:i.has(e))===!0}_override(e,i){i===void 0?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_clearOverride(e){return this.__accessor__.clearOverride(e)}_overrideIfSome(e,i){i==null?this.__accessor__.clearOverride(e):this.__accessor__.override(e,i)}_isOverridden(e){return this.__accessor__.isOverridden(e)}notifyChange(e){this.__accessor__.notifyChange(e)}_get(e){return this.__accessor__.internalGet(e)}_set(e,i){return this.__accessor__.internalSet(e,i),this}};b7=Vr,v7=Pm;const vL=Object.freeze(Object.defineProperty({__proto__:null,default:me},Symbol.toStringTag,{value:"Module"}));let wL=class w7{constructor(){this._values=new Map,this.multipleOriginsSupported=!1}clone(e){const i=new w7;return this._values.forEach((o,h)=>{e&&e.has(h)||i.set(h,at(o.value),o.origin)}),i}get(e,i){i=this._normalizeOrigin(i);const o=this._values.get(e);return i==null||(o==null?void 0:o.origin)===i?o==null?void 0:o.value:void 0}originOf(e){var i;return((i=this._values.get(e))==null?void 0:i.origin)??Jt.USER}keys(e){e=this._normalizeOrigin(e);const i=[...this._values.keys()];return e==null?i:i.filter(o=>{var h;return((h=this._values.get(o))==null?void 0:h.origin)===e})}set(e,i,o){if((o=this._normalizeOrigin(o))===Jt.DEFAULTS){const h=this._values.get(e);if((h==null?void 0:h.origin)!=null&&h.origin>o)return}this._values.set(e,new _L(i,o))}delete(e,i){var o;(i=this._normalizeOrigin(i))!=null&&((o=this._values.get(e))==null?void 0:o.origin)!==i||this._values.delete(e)}has(e,i){var o;return(i=this._normalizeOrigin(i))!=null?((o=this._values.get(e))==null?void 0:o.origin)===i:this._values.has(e)}forEach(e){this._values.forEach(({value:i},o)=>e(i,o))}_normalizeOrigin(e){if(e!=null)return e===Jt.DEFAULTS?e:Jt.USER}},_L=class{constructor(e,i){this.value=e,this.origin=i}};function xL(t,e,i){e.keys().forEach(h=>{i.set(h,e.get(h),Jt.DEFAULTS)});const o=t.metadata;Object.keys(o).forEach(h=>{t.internalGet(h)&&i.set(h,t.internalGet(h),Jt.DEFAULTS)})}function SL(t,e,i){if(!(t!=null&&t.read)||t.read.enabled===!1||!t.read.source)return!1;const o=t.read.source;if(typeof o=="string"){if(o===e||o.includes(".")&&o.indexOf(e)===0&&Rw(o,i))return!0}else for(const h of o)if(h===e||h.includes(".")&&h.indexOf(e)===0&&Rw(h,i))return!0;return!1}function CL(t){return t&&(!t.read||t.read.enabled!==!1&&!t.read.source)}function AL(t,e,i,o,h){let p=Mm(e[i],h);CL(p)&&(t[i]=!0);for(const m of Object.getOwnPropertyNames(e))p=Mm(e[m],h),SL(p,i,o)&&(t[m]=!0)}function TL(t,e,i,o){const h=i.metadata,p=uL(h[e],o),m=p==null?void 0:p.default;if(m===void 0)return;const v=typeof m=="function"?m.call(t,e,o):m;v!==void 0&&i.set(e,v)}const _7={origin:"service"};function EL(t,e,i=_7){if(!e||typeof e!="object")return;const o=zs(t),h=o.metadata,p={};for(const m of Object.getOwnPropertyNames(e))AL(p,h,m,e,i);o.setDefaultOrigin(i.origin);for(const m of Object.getOwnPropertyNames(p)){const v=Mm(h[m],i).read,w=v==null?void 0:v.source;let A;A=w&&typeof w=="string"?mu(e,w):e[m],v!=null&&v.reader&&(A=v.reader.call(t,A,e,i)),A!==void 0&&o.set(m,A)}if(!i||!i.ignoreDefaults){o.setDefaultOrigin("defaults");for(const m of Object.getOwnPropertyNames(h))p[m]||TL(t,m,o,i)}o.setDefaultOrigin("user")}function btt(t,e,i,o=_7){var p;const h={...o,messages:[]};i(h),(p=h.messages)==null||p.forEach(m=>{m.type!=="warning"||t.loaded?o!=null&&o.messages&&o.messages.push(m):t.loadWarnings.push(m)})}function $L(t,e,i,o,h){var m,v;const p={};return(v=(m=e.write)==null?void 0:m.writer)==null||v.call(t,o,p,i,h),p}function x7(t,e,i,o,h,p){if(!(o!=null&&o.write))return!1;const m=Bo(t,i);if(!h&&o.write.overridePolicy){const v=o.write.overridePolicy.call(t,m,i,p??void 0);v!==void 0&&(h=v)}if(h||(h=o.write),!h||h.enabled===!1||h.layerContainerTypes&&(p!=null&&p.layerContainerType)&&!h.layerContainerTypes.includes(p.layerContainerType))return!1;if((m===null&&!h.allowNull&&!h.writerEnsuresNonNull||m===void 0)&&h.isRequired){const v=new kt("web-document-write:property-required",`Missing value for required property '${i}' on '${t.declaredClass}'`,{propertyName:i,target:t});return v&&(p!=null&&p.messages)?p.messages.push(v):v&&!p&&Rt.getLogger("esri.core.accessorSupport.write").error(v.name,v.message),!1}return!(m===void 0||m===null&&!h.allowNull&&!h.writerEnsuresNonNull||!h.alwaysWriteDefaults&&(!e.store.multipleOriginsSupported||e.store.originOf(i)===Jt.DEFAULTS)&&IL(t,i,p,o,m)||!h.ignoreOrigin&&(p!=null&&p.origin)&&e.store.multipleOriginsSupported&&e.store.originOf(i)<Ux(p.origin))}function IL(t,e,i,o,h){const p=o.default;if(p===void 0)return!1;if(o.defaultEquals!=null)return o.defaultEquals(h);if(typeof p=="function"){if(Array.isArray(h)){const m=p.call(t,e,i??void 0);return au(m,h)}return!1}return p===h}function vtt(t,e,i,o){const h=zs(t),p=h.metadata,m=g7(p[e],o);return!!m&&x7(t,h,e,m,i,o)}function kL(t,e,i){var p,m;if(t&&typeof t.toJSON=="function"&&(!t.toJSON.isDefaultToJSON||!t.write))return xd(e,t.toJSON(i));const o=zs(t),h=o.metadata;for(const v in h){const w=g7(h[v],i);if(!x7(t,o,v,w,void 0,i))continue;const A=Bo(t,v),$=$L(t,w,w.write&&typeof w.write.target=="string"?w.write.target:v,A,i);Object.keys($).length>0&&(e=xd(e,$),(m=(p=i==null?void 0:i.resources)==null?void 0:p.pendingOperations)!=null&&m.length&&i.resources.pendingOperations.push(Promise.all(i.resources.pendingOperations).then(()=>xd(e,$,()=>"replace-arrays"))),i!=null&&i.writtenProperties&&i.writtenProperties.push({target:t,propName:v,oldOrigin:YN(o.store.originOf(v)),newOrigin:i.origin}))}return e}const Bf=t=>{let e=class extends t{constructor(...i){super(...i);const o=zs(this),h=o.store,p=new wL;o.store=p,xL(o,h,p)}read(i,o){EL(this,i,o)}write(i,o){return kL(this,i??{},o)}toJSON(i){return this.write({},i)}static fromJSON(i,o){return ML.call(this,i,o)}};return e=C([Y("esri.core.JSONSupport")],e),e.prototype.toJSON.isDefaultToJSON=!0,e};function ML(t,e){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const i=new this;return i.read(t,e),i}function Nm(t){return t&&typeof t=="object"&&"toJSON"in t&&typeof t.toJSON=="function"}let St=class extends Bf(me){};St=C([Y("esri.core.JSONSupport")],St);const OL=/^https:\/\/([a-z\d-]+)(\.maps([^.]*))?\.arcgis\.com/i,PL={devext:{customBaseUrl:"mapsdevext.arcgis.com",portalHostname:"devext.arcgis.com"},qaext:{customBaseUrl:"mapsqa.arcgis.com",portalHostname:"qaext.arcgis.com"},www:{customBaseUrl:"maps.arcgis.com",portalHostname:"www.arcgis.com"}};function Xw(t){const e=t==null?void 0:t.match(OL);if(!e)return null;const[,i,o,h]=e;if(!i)return null;let p=null,m=null,v=null;const{devext:w,qaext:A,www:$}=PL;if(o)if(p=i,h)switch(h.toLowerCase()){case"devext":({customBaseUrl:m,portalHostname:v}=w);break;case"qa":({customBaseUrl:m,portalHostname:v}=A);break;default:return null}else({customBaseUrl:m,portalHostname:v}=$);else switch(i.toLowerCase()){case"devext":({customBaseUrl:m,portalHostname:v}=w);break;case"qaext":({customBaseUrl:m,portalHostname:v}=A);break;case"www":({customBaseUrl:m,portalHostname:v}=$);break;default:return null}return{customBaseUrl:m,isPortal:!1,portalHostname:v,urlKey:p}}function NL(t){return/\/(sharing|usrsvcs)\/(appservices|servers)\//i.test(t)}function S7(t){const e=/^https?:\/\/(?:cdn|[a-z\d-]+\.maps)\.arcgis\.com/i,i=/^https?:\/\/(?:cdndev|[a-z\d-]+\.mapsdevext)\.arcgis\.com/i,o=/^https?:\/\/(?:cdnqa|[a-z\d-]+\.mapsqa)\.arcgis\.com/i;return e.test(t)?t=t.replace(e,"https://www.arcgis.com"):i.test(t)?t=t.replace(i,"https://devext.arcgis.com"):o.test(t)&&(t=t.replace(o,"https://qaext.arcgis.com")),t}function RL(t){const e=atob(t),i=new Uint8Array(e.length);for(let o=0;o<e.length;o++)i[o]=e.charCodeAt(o);return i.buffer}function LL(t){const e=new Uint8Array(t);let i="";for(let o=0;o<e.length;o++)i+=String.fromCharCode(e[o]);return btoa(i)}const DL=()=>Rt.getLogger("esri.core.urlUtils"),Bl=$e.request,Qw="esri/config: esriConfig.request.proxyUrl is not set.",C7=/^\s*[a-z][a-z0-9-+.]*:(?![0-9])/i,A7=/^\s*http:/i,zL=/^\s*https:/i,jL=/^\s*file:/i,FL=/:\d+$/,UL=/^https?:\/\/[^/]+\.arcgis.com\/sharing(\/|$)/i,BL=new RegExp("^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\?([^#]*))?(#(.*))?$"),VL=new RegExp("^((([^[:]+):)?([^@]+)@)?(\\[([^\\]]+)\\]|([^[:]*))(:([0-9]+))?$");let sl=class{constructor(e=""){this.uri=e,this.scheme=null,this.authority=null,this.path=null,this.query=null,this.fragment=null,this.user=null,this.password=null,this.host=null,this.port=null;let i=this.uri.match(BL);this.scheme=i[2]||(i[1]?"":null),this.authority=i[4]||(i[3]?"":null),this.path=i[5],this.query=i[7]||(i[6]?"":null),this.fragment=i[9]||(i[8]?"":null),this.authority!=null&&(i=this.authority.match(VL),this.user=i[3]||null,this.password=i[4]||null,this.host=i[6]||i[7],this.port=i[9]||null)}toString(){return this.uri}};const Ku={},GL=new sl($e.applicationUrl);let di=GL;const qL=HL();let gv=qL;const yv=()=>di,xtt=()=>gv;function HL(){const t=di.path,e=t.slice(0,t.lastIndexOf("/")+1);return`${`${di.scheme}://${di.host}${di.port!=null?`:${di.port}`:""}`}${e}`}function Ln(t){if(!t)return null;const e={path:null,query:null},i=new sl(t),o=t.indexOf("?");return i.query===null?e.path=t:(e.path=t.slice(0,o),e.query=bv(i.query)),i.fragment&&(e.hash=i.fragment,i.query===null&&(e.path=e.path.slice(0,e.path.length-(i.fragment.length+1)))),e}function bv(t){const e=t.split("&"),i={};for(const o of e){if(!o)continue;const h=o.indexOf("=");let p,m;h<0?(p=decodeURIComponent(o),m=""):(p=decodeURIComponent(o.slice(0,h)),m=decodeURIComponent(o.slice(h+1)));let v=i[p];typeof v=="string"&&(v=i[p]=[v]),Array.isArray(v)?v.push(m):i[p]=m}return i}function Ic(t,e){return t?Object.keys(t).map(i=>{const o=t[i];if(o==null)return"";const h=encodeURIComponent(i)+"=",p=e==null?void 0:e[i];return p?h+encodeURIComponent(p(o)):Array.isArray(o)?o.map(m=>Nm(m)?h+encodeURIComponent(JSON.stringify(m)):h+encodeURIComponent(m)).join("&"):Nm(o)?h+encodeURIComponent(JSON.stringify(o)):h+encodeURIComponent(o)}).filter(i=>i).join("&"):""}function T7(t=!1){let e,i=Bl.proxyUrl;if(typeof t=="string"){e=tD(t);const o=Vf(t);o&&(i=o.proxyUrl)}else e=!!t;if(!i)throw DL().warn(Qw),new kt("urlUtils:proxy-not-set",Qw);return e&&Rm()&&(i=Av(i)),Ln(i)}function Stt(t,e=!1){const i=Vf(t);let o,h;if(i){const p=vv(i.proxyUrl);o=p.path,h=p.query?bv(p.query):null}else if(e){const p=T7(t);o=p.path,h=p.query}if(o){const p=Ln(t);t=o+"?"+p.path;const m=Ic({...h,...p.query});m&&(t=`${t}?${m}`)}return t}const oh={path:"",query:""};function vv(t){const e=t.indexOf("?");return e!==-1?(oh.path=t.slice(0,e),oh.query=t.slice(e+1)):(oh.path=t,oh.query=null),oh}function E7(t){return t=(t=U0(t=sD(t=vv(t).path),!0)).toLowerCase()}function WL(t){const e={proxyUrl:t.proxyUrl,urlPrefix:E7(t.urlPrefix)},i=Bl.proxyRules,o=e.urlPrefix;let h=i.length;for(let p=0;p<i.length;p++){const m=i[p].urlPrefix;if(o.indexOf(m)===0){if(o.length===m.length)return-1;h=p;break}m.indexOf(o)===0&&(h=p+1)}return i.splice(h,0,e),h}function Vf(t){const e=Bl.proxyRules,i=E7(t);for(let o=0;o<e.length;o++)if(i.indexOf(e[o].urlPrefix)===0)return e[o]}function Ctt(t,e){if(!t||!e)return!1;t=F0(t),e=F0(e);const i=Xw(t),o=Xw(e);return i!=null&&o!=null?i.portalHostname===o.portalHostname:i==null&&o==null&&bl(t,e,!0)}function JL(t,e){return t=F0(t),e=F0(e),U0(t)===U0(e)}function F0(t){const e=(t=Ms(t)).indexOf("/sharing");return e>0?t.slice(0,e):t.replace(/\/+$/,"")}function t_(t,e=Bl.interceptors){const i=o=>o==null||o instanceof RegExp&&o.test(t)||typeof o=="string"&&t.startsWith(o);if(e){for(const o of e)if(Array.isArray(o.urls)){if(o.urls.some(i))return o}else if(i(o.urls))return o}return null}function bl(t,e,i=!1){if(!t||!e)return!1;const o=Dm(t),h=Dm(e);return!(!i&&o.scheme!==h.scheme)&&o.host!=null&&h.host!=null&&o.host.toLowerCase()===h.host.toLowerCase()&&o.port===h.port}function wv(t){if(typeof t=="string"){if(!qi(t))return!0;t=Dm(t)}if(bl(t,di))return!0;const e=Bl.trustedServers||[];for(let i=0;i<e.length;i++){const o=ZL(e[i]);for(let h=0;h<o.length;h++)if(bl(t,o[h]))return!0}return!1}function ZL(t){return Ku[t]||(Cv(t)||on(t)?Ku[t]=[new sl(sa(t))]:Ku[t]=[new sl(`http://${t}`),new sl(`https://${t}`)]),Ku[t]}function sa(t,e=gv,i){return on(t)?i!=null&&i.preserveProtocolRelative?t:di.scheme==="http"&&di.authority===Or(t).slice(2)?`http:${t}`:`https:${t}`:Cv(t)?t:xv(t[0]==="/"?nD(e):e,t)}function _v(t,e=gv,i){if(t==null||!qi(t))return t;const o=Ms(t),h=o.toLowerCase(),p=Ms(e).toLowerCase().replace(/\/+$/,""),m=i?Ms(i).toLowerCase().replace(/\/+$/,""):null;if(m&&p.indexOf(m)!==0)return t;const v=(M,P,R)=>(R=M.indexOf(P,R))===-1?M.length:R;let w=v(h,"/",h.indexOf("//")+2),A=-1;for(;h.slice(0,w+1)===p.slice(0,w)+"/"&&(A=w+1,w!==h.length);)w=v(h,"/",w+1);if(A===-1||m&&A<m.length)return t;t=o.slice(A);const $=p.slice(A-1).replaceAll(/[^/]+/g,"").length;if($>0)for(let M=0;M<$;M++)t=`../${t}`;else t=`./${t}`;return t}function Ms(t){return t=lD(t=aD(t=oD(t=sa(t=t.trim()))))}function xv(...t){const e=t.filter(ml);if(!(e!=null&&e.length))return;const i=[];if(qi(e[0])){const h=e[0],p=h.indexOf("//");p!==-1&&(i.push(h.slice(0,p+1)),iD(e[0])&&(i[0]+="/"),e[0]=h.slice(p+2))}else e[0][0]==="/"&&i.push("");const o=e.reduce((h,p)=>p?h.concat(p.split("/")):h,[]);for(let h=0;h<o.length;h++){const p=o[h];p===".."&&i.length>0&&i[i.length-1]!==".."?i.pop():(!p&&h===o.length-1||p&&(p!=="."||i.length===0))&&i.push(p)}return i.join("/")}function Or(t,e=!1){if(t==null||Sv(t)||oa(t))return null;let i=t.indexOf("://");if(i===-1&&on(t))i=2;else{if(i===-1)return null;i+=3}const o=t.indexOf("/",i);return o!==-1&&(t=t.slice(0,o)),e&&(t=U0(t,!0)),t}function qi(t){return on(t)||Cv(t)}function Sv(t){return t!=null&&t.slice(0,5)==="blob:"}function oa(t){return t!=null&&t.slice(0,5)==="data:"}function YL(t){const e=kc(t);return e!=null&&e.isBase64?RL(e.data):null}function Att(t){return LL(t).replaceAll("+","-").replaceAll("/","_").replace(/=+$/,"")}const KL=/^data:(.*?)(;base64)?,(.*)$/;function kc(t){const e=t.match(KL);if(!e)return null;const[,i,o,h]=e;return{mediaType:i,isBase64:!!o,data:h}}function $7(t){return t.isBase64?`data:${t.mediaType};base64,${t.data}`:`data:${t.mediaType},${t.data}`}async function XL(t){return(await fetch(t)).blob()}function Ttt(t){const e=YL(t);if(!e)return null;const i=kc(t);return new Blob([e],{type:i.mediaType})}function I7(t,e){QL(t,e)}function QL(t,e){if(!t)return!1;const i=document.createElement("a");if(!("download"in i))return!1;const o=URL.createObjectURL(t);return i.download=e,i.href=o,i.style.display="none",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o),!0}function on(t){return t!=null&&t[0]==="/"&&t[1]==="/"}function Cv(t){return t!=null&&C7.test(t)}function tD(t){return t!=null&&zL.test(t)||di.scheme==="https"&&on(t)}function eD(t){return t!=null&&A7.test(t)||di.scheme==="http"&&on(t)}function iD(t){return t!=null&&jL.test(t)}function Av(t){return on(t)?`https:${t}`:t.replace(A7,"https:")}function rD(){return di.scheme==="http"}function Rm(){return di.scheme==="https"}function U0(t,e=!1){return on(t)?t.slice(2):(t=t.replace(C7,""),e&&t.length>1&&t[0]==="/"&&t[1]==="/"&&(t=t.slice(2)),t)}function nD(t){const e=t.indexOf("//"),i=t.indexOf("/",e+2);return i===-1?t:t.slice(0,i)}function Ett(t){let e=0;if(qi(t)){const o=t.indexOf("//");o!==-1&&(e=o+2)}const i=t.lastIndexOf("/");return i<e?t:t.slice(0,i+1)}function $tt(t,e){if(!t)return"";const i=Ln(t).path.replace(/\/+$/,""),o=i.slice(i.lastIndexOf("/")+1);if(!(e!=null&&e.length))return o;const h=new RegExp(`\\.(${e.join("|")})$`,"i");return o.replace(h,"")}function sD(t){return t.endsWith("/")?t:`${t}/`}function Itt(t){return t.replace(/\/+$/,"")}function oD(t){if(/^https?:\/\//i.test(t)){const e=vv(t);t=(t=e.path.replaceAll(/\/{2,}/g,"/")).replace("/","//"),e.query&&(t+=`?${e.query}`)}return t}function aD(t){return t.replace(/^(https?:\/\/)(arcgis\.com)/i,"$1www.$2")}function lD(t){const e=Bl.httpsDomains;if(!eD(t))return t;const i=t.indexOf("/",7);let o;if(o=i===-1?t:t.slice(0,i),o=o.toLowerCase().slice(7),FL.test(o)){if(!o.endsWith(":80"))return t;o=o.slice(0,-3),t=t.replace(":80","")}return rD()&&o===di.authority&&!UL.test(t)||(Rm()&&o===di.authority||e&&e.some(h=>o===h||o.endsWith(`.${h}`))||Rm()&&!Vf(t))&&(t=Av(t)),t}function Lm(t,e,i){if(!(e&&i&&t&&qi(t)))return t;const o=t.indexOf("//"),h=t.indexOf("/",o+2),p=t.indexOf(":",o+2),m=Math.min(h<0?t.length:h,p<0?t.length:p);return t.slice(o+2,m).toLowerCase()!==e.toLowerCase()?t:`${t.slice(0,o+2)}${i}${t.slice(m)}`}function Dm(t){return typeof t=="string"?new sl(sa(t)):(t.scheme||(t.scheme=di.scheme),t)}function ktt(t){return cD.test(t)}function Mtt(t,e){const i=Ln(t),o=Object.keys(i.query||{});return o.length>0&&e&&e.warn("removeQueryParameters()",`Url query parameters are not supported, the following parameters have been removed: ${o.join(", ")}.`),i.path}function hD(t,e,i){const o=Ln(t),h=o.query||{};return h[e]=String(i),`${o.path}?${Ic(h)}`}function e1(t,e){if(!e)return t;const i=Ln(t),o=i.query||{};for(const[p,m]of Object.entries(e))m!=null&&(o[p]=m);const h=Ic(o);return h?`${i.path}?${h}`:i.path}function Ott(t){if(t==null)return null;const e=t.match(k7);return e?e[2]:null}function e_(t){if(t==null)return null;const e=t.match(k7);return e?{path:e[1],extension:e[2]}:{path:t,extension:null}}async function Ptt(t){return typeof t=="string"?kc(t)??{data:t}:new Promise((e,i)=>{const o=new FileReader;o.readAsDataURL(t),o.onload=()=>e(kc(o.result)),o.onerror=h=>i(h)})}const k7=/([^.]*)\.([^/]*)$/,cD=/(^data:image\/svg|\.svg$)/i;Symbol.dispose??(Symbol.dispose=Symbol("Symbol.dispose")),Symbol.asyncDispose??(Symbol.asyncDispose=Symbol("Symbol.asyncDispose"));const uD="4.31";let de,dD=uD;dD=`4.31.0-next.${Sx}`;function Ntt(t){de=t}function Rtt(t){const e=de==null?void 0:de.findCredential(t);return e!=null&&e.token?hD(t,"token",e.token):t}ot("host-webworker")||globalThis.$arcgis||Object.defineProperty(globalThis,"$arcgis",{configurable:!1,enumerable:!0,writable:!1,value:{}}),ot("host-webworker");const fD=new Set(["elevation3d.arcgis.com","js.arcgis.com","jsdev.arcgis.com","jsqa.arcgis.com","static.arcgis.com"]);function M7(t){const e=Or(t,!0);return!!e&&e.endsWith(".arcgis.com")&&!fD.has(e)&&!t.endsWith("/sharing/rest/generateToken")}function pD(t,e,i=!1,o){return new Promise((h,p)=>{if(Ds(o))return void p(i_());let m=()=>{A(),p(new Error(`Unable to load ${e}`))},v=()=>{const $=t;A(),h($)},w=()=>{if(!t)return;const $=t;A(),$.src="",p(i_())};const A=()=>{ot("esri-image-decode")||(t.removeEventListener("error",m),t.removeEventListener("load",v)),m=null,v=null,t=null,o!=null&&o.removeEventListener("abort",w),w=null,i&&URL.revokeObjectURL(e)};o!=null&&o.addEventListener("abort",w),ot("esri-image-decode")?t.decode().then(v,m):(t.addEventListener("error",m),t.addEventListener("load",v))})}function i_(){try{return new DOMException("Aborted","AbortError")}catch{const t=new Error;return t.name="AbortError",t}}const O7="Timeout exceeded";function mD(){return new Error(O7)}function Ltt(t){return typeof t=="object"&&!!t&&"message"in t&&t.message===O7}function gD(t){$e.request.crossOriginNoCorsDomains||($e.request.crossOriginNoCorsDomains={});const e=$e.request.crossOriginNoCorsDomains;for(let i of t)i=i.toLowerCase(),/^https?:\/\//.test(i)?e[Or(i)??""]=0:(e[Or("http://"+i)??""]=0,e[Or("https://"+i)??""]=0)}function yD(t){const e=$e.request.crossOriginNoCorsDomains;if(e){let i=Or(t);if(i)return i=i.toLowerCase(),!bl(i,yv())&&e[i]<Date.now()-36e5}return!1}async function bD(t){var h;const e=Ln(t);t=e.path,((h=e.query)==null?void 0:h.f)==="json"&&(t+="?f=json");try{await fetch(t,{mode:"no-cors",credentials:"include"})}catch{}const i=$e.request.crossOriginNoCorsDomains,o=Or(t);i&&o&&(i[o.toLowerCase()]=Date.now())}async function ki(t,e){var P;t instanceof URL&&(t=t.toString()),(e==null?void 0:e.query)instanceof URLSearchParams&&(e.query=bv(e.query.toString().replaceAll("+"," ")));const i=oa(t),o=Sv(t);o||i||(t=Ms(t));const h={url:t,requestOptions:{...e}},p=R=>({data:R,getAllHeaders:vl,getHeader:vl,httpStatus:200,requestOptions:h.requestOptions,url:h.url}),m=t_(t,sr.internalInterceptors);if(m){const R=await n_(m,h);if(R!=null)return p(R)}let v=t_(t);if(v){const R=await n_(v,h);if(R!=null)return p(R);v.after||v.error||(v=null)}if(t=h.url,(e=h.requestOptions).responseType==="image"&&(ot("host-webworker")||ot("host-node")))throw sn("request:invalid-parameters",new Error("responseType 'image' is not supported in Web Workers or Node environment"),h);if(e.method==="head"){if(e.body)throw sn("request:invalid-parameters",new Error("body parameter cannot be set when method is 'head'"),h);if(i||o)throw sn("request:invalid-parameters",new Error("data and blob URLs are not supported for method 'head'"),h)}if(await SD(),B0)return B0.execute(t,e);const w=new AbortController,A=Fo(e,()=>w.abort()),$={controller:w,credential:void 0,credentialToken:void 0,fetchOptions:void 0,hasToken:!1,interceptor:v,params:h,redoRequest:!1,useIdentity:sr.useIdentity,useProxy:!1,useSSL:!1,withCredentials:!1},M=await ED($).finally(()=>A==null?void 0:A.remove());return(P=v==null?void 0:v.after)==null||P.call(v,M),M}let B0;const sr=$e.request,P7="FormData"in globalThis,vD=new Set([499,498,403,401]),wD=new Set(["COM_0056","COM_0057","SB_0008"]),_D=[/\/arcgis\/tokens/i,/\/sharing(\/rest)?\/generatetoken/i,/\/rest\/info/i],vl=()=>null,V0=Symbol();function xD(t){const e=Or(t);e&&!ki._corsServers.includes(e)&&ki._corsServers.push(e)}function r_(t){const e=Or(t);return!e||e.endsWith(".arcgis.com")||ki._corsServers.includes(e)||wv(e)}function sn(t,e,i,o){let h="Error";const p={url:i.url,requestOptions:i.requestOptions,getAllHeaders:vl,getHeader:vl,ssl:!1};if(e instanceof kt)return e.details?(e.details=at(e.details),e.details.url=i.url,e.details.requestOptions=i.requestOptions):e.details=p,e;if(e){const m=o&&(()=>Array.from(o.headers)),v=o&&($=>o.headers.get($)),w=o==null?void 0:o.status,A=e.message;A&&(h=A),m&&v&&(p.getAllHeaders=m,p.getHeader=v),p.httpStatus=(e.httpCode!=null?e.httpCode:e.code)||w||0,p.subCode=e.subcode,p.messageCode=e.messageCode,typeof e.details=="string"?p.messages=[e.details]:p.messages=e.details,p.raw=V0 in e?e[V0]:e}return pu(e)?Oi():new kt(t,h,p)}async function SD(){ot("host-webworker")&&!B0&&(B0=await vt(()=>import("./request-CB4swx0D.js"),[]))}async function zm(){de||await vt(()=>import("./IdentityManager-BAqlZKRC.js"),__vite__mapDeps([165,50]))}async function CD(t){var v;const e=t.params.url,i=t.params.requestOptions,o=t.controller.signal,h=i.body;let p=null,m=null;if(P7&&"HTMLFormElement"in globalThis&&(h instanceof FormData?p=h:h instanceof HTMLFormElement&&(p=new FormData(h))),typeof h=="string"&&(m=h),t.fetchOptions={cache:i.cacheBust?"no-cache":"default",credentials:"same-origin",headers:i.headers||{},method:i.method==="head"?"HEAD":"GET",mode:"cors",priority:sr.priority,redirect:"follow",signal:o},(p||m)&&(t.fetchOptions.body=p||m),i.authMode==="anonymous"&&(t.useIdentity=!1),t.hasToken=!!(/token=/i.test(e)||(v=i.query)!=null&&v.token||p!=null&&p.get("token")),!t.hasToken&&$e.apiKey&&M7(e)&&(i.query||(i.query={}),i.query.token=$e.apiKey,t.hasToken=!0),t.useIdentity&&!t.hasToken&&!t.credentialToken&&!N7(e)&&!Ds(o)){let w;i.authMode==="immediate"?(await zm(),w=await de.getCredential(e,{signal:o}),t.credential=w):i.authMode==="no-prompt"?(await zm(),w=await de.getCredential(e,{prompt:!1,signal:o}).catch(()=>{}),t.credential=w):de&&(w=de.findCredential(e)),w&&(t.credentialToken=w.token,t.useSSL=!!w.ssl)}}function N7(t){return _D.some(e=>e.test(t))}async function AD(t){let e=t.params.url;const i=t.params.requestOptions,o=t.fetchOptions??{},h=Sv(e)||oa(e),p=i.responseType||"json",m=h?0:i.timeout!=null?i.timeout:sr.timeout;let v=!1;if(!h){t.useSSL&&(e=Av(e));let P={...i.query};t.credentialToken&&(P.token=t.credentialToken);let R=Ic(P);ot("esri-url-encodes-apostrophe")&&(R=R.replaceAll("'","%27"));const B=e.length+1+R.length;let G;v=i.method==="delete"||i.method==="post"||i.method==="put"||!!i.body||B>sr.maxUrlLength;const H=i.useProxy||!!Vf(e);if(H){const Z=T7(e);G=Z.path,!v&&G.length+1+B>sr.maxUrlLength&&(v=!0),Z.query&&(P={...Z.query,...P})}if(o.method==="HEAD"&&(v||H)){if(v)throw B>sr.maxUrlLength?sn("request:invalid-parameters",new Error("URL exceeds maximum length"),t.params):sn("request:invalid-parameters",new Error("cannot use POST request when method is 'head'"),t.params);if(H)throw sn("request:invalid-parameters",new Error("cannot use proxy when method is 'head'"),t.params)}if(v?(o.method=i.method==="delete"?"DELETE":i.method==="put"?"PUT":"POST",i.body?e=e1(e,P):(o.body=Ic(P),o.headers||(o.headers={}),o.headers["Content-Type"]="application/x-www-form-urlencoded")):e=e1(e,P),H&&(t.useProxy=!0,e=`${G}?${e}`),P.token&&P7&&o.body instanceof FormData&&!NL(e)&&o.body.set("token",P.token),i.hasOwnProperty("withCredentials"))t.withCredentials=i.withCredentials;else if(!bl(e,yv())){if(wv(e))t.withCredentials=!0;else if(de){const Z=de.findServerInfo(e);Z!=null&&Z.webTierAuth&&(t.withCredentials=!0)}}t.withCredentials&&(o.credentials="include",yD(e)&&await bD(v?e1(e,P):e))}let w,A,$=0,M=!1;m>0&&($=setTimeout(()=>{M=!0,t.controller.abort()},m));try{if(i.responseType==="native-request-init")A=o,A.url=e,i.signal?A.signal=i.signal:delete A.signal;else if(i.responseType!=="image"||o.cache!=="default"||o.method!=="GET"||v||TD(i.headers)||!h&&!t.useProxy&&sr.proxyUrl&&!r_(e)){if(ki._beforeFetch&&await ki._beforeFetch(e,o),w=await fetch(e,o),ki._afterFetch&&await ki._afterFetch(w),t.useProxy||xD(e),i.responseType==="native")A=w;else if(o.method!=="HEAD")if(w.ok){switch(p){case"array-buffer":A=await w.arrayBuffer();break;case"blob":case"image":A=await w.blob();break;default:A=await w.text()}if($&&(clearTimeout($),$=0),p==="json"||p==="xml"||p==="document")if(A)switch(p){case"json":A=JSON.parse(A);break;case"xml":A=s_(A,"application/xml");break;case"document":A=s_(A,"text/html")}else A=null;if(A){if(p==="array-buffer"||p==="blob"){const P=w.headers.get("Content-Type");if(P&&/application\/json|text\/plain/i.test(P)&&A[p==="blob"?"size":"byteLength"]<=750)try{const R=await new Response(A).json();R.error&&(A=R)}catch{}}p==="image"&&A instanceof Blob&&(A=await o_(URL.createObjectURL(A),t,!0))}}else{A=await w.text();try{A=JSON.parse(A)}catch{}}}else A=await o_(e,t)}catch(P){if(P.name==="AbortError")throw M?mD():Oi("Request canceled");if(!(!w&&P instanceof TypeError&&sr.proxyUrl)||i.body||i.method==="delete"||i.method==="head"||i.method==="post"||i.method==="put"||t.useProxy||r_(e))throw P;t.redoRequest=!0,WL({proxyUrl:sr.proxyUrl,urlPrefix:Or(e)??""})}finally{$&&clearTimeout($)}return[w,A]}async function n_(t,e){if(t.responseData!=null)return t.responseData;if(t.headers&&(e.requestOptions.headers={...e.requestOptions.headers,...t.headers}),t.query&&(e.requestOptions.query={...e.requestOptions.query,...t.query}),t.before){let i,o;try{o=await t.before(e)}catch(h){i=sn("request:interceptor",h,e)}if((o instanceof Error||o instanceof kt)&&(i=sn("request:interceptor",o,e)),i)throw t.error&&t.error(i),i;return o}}function TD(t){if(t){for(const e of Object.getOwnPropertyNames(t))if(t[e])return!0}return!1}function s_(t,e){let i;try{i=new DOMParser().parseFromString(t,e)}catch{}if(!i||i.getElementsByTagName("parsererror").length)throw new SyntaxError("XML Parse error");return i}async function ED(t){var p,m;let e,i;await CD(t);try{do[e,i]=await AD(t);while(!await $D(t,e,i))}catch(v){const w=sn("request:server",v,t.params,e);throw w.details.ssl=t.useSSL,(p=t.interceptor)!=null&&p.error&&t.interceptor.error(w),w}const o=t.params.url;if(i&&/\/sharing\/rest\/(accounts|portals)\/self/i.test(o)){if(!t.hasToken&&!t.credentialToken&&((m=i.user)!=null&&m.username)&&!wv(o)){const v=Or(o,!0);v&&sr.trustedServers.push(v)}Array.isArray(i.authorizedCrossOriginNoCorsDomains)&&gD(i.authorizedCrossOriginNoCorsDomains)}const h=t.credential;if(h&&de){const v=de.findServerInfo(h.server);let w=v==null?void 0:v.owningSystemUrl;if(w){w=w.replace(/\/?$/,"/sharing");const A=de.findCredential(w,h.userId);A&&de._getIdenticalSvcIdx(w,A)===-1&&A.resources.unshift(w)}}return{data:i,getAllHeaders:e?()=>Array.from(e.headers):vl,getHeader:e?v=>e.headers.get(v):vl,httpStatus:(e==null?void 0:e.status)??200,requestOptions:t.params.requestOptions,ssl:t.useSSL,url:t.params.url}}async function $D(t,e,i){var A;if(t.redoRequest)return t.redoRequest=!1,!1;const o=t.params.requestOptions;if(!e||o.responseType==="native"||o.responseType==="native-request-init")return!0;let h,p;if(i&&(i.error&&typeof i.error=="object"?h=i.error:i.status==="error"&&Array.isArray(i.messages)&&(h={...i},h[V0]=i,h.details=i.messages)),!h&&!e.ok)throw h=new Error(`Unable to load ${e.url} status: ${e.status}`),h[V0]=i,h;let m,v=null;h&&(p=Number(h.code),v=h.hasOwnProperty("subcode")?Number(h.subcode):null,m=h.messageCode,m=m==null?void 0:m.toUpperCase());const w=o.authMode;if(p===403&&(v===4||(A=h.message)!=null&&A.toLowerCase().includes("ssl")&&!h.message.toLowerCase().includes("permission"))){if(!t.useSSL)return t.useSSL=!0,!1}else if(!t.hasToken&&t.useIdentity&&(w!=="no-prompt"||p===498)&&p!==void 0&&vD.has(p)&&!N7(t.params.url)&&(p!==403||(!m||!wD.has(m))&&(v==null||v===2&&t.credentialToken))){await zm();try{const $=await de.getCredential(t.params.url,{error:sn("request:server",h,t.params),prompt:w!=="no-prompt",signal:t.controller.signal,token:t.credentialToken});return t.credential=$,t.credentialToken=$.token,t.useSSL=t.useSSL||$.ssl,!1}catch($){if(w==="no-prompt")return t.credential=void 0,t.credentialToken=void 0,!1;h=$}}if(h)throw h;return!0}function o_(t,e,i=!1){const o=e.controller.signal,h=new Image;return e.withCredentials?h.crossOrigin="use-credentials":h.crossOrigin="anonymous",h.alt="",h.fetchPriority=sr.priority,h.src=t,pD(h,t,i,o)}ki._corsServers=["https://server.arcgisonline.com","https://services.arcgisonline.com"],ki._beforeFetch=void 0,ki._afterFetch=void 0;async function ID(t,e,i,o){const h=e.exec(i);if(!h)throw new kt("esri-intl:invalid-bundle",`Bundle id "${i}" is not compatible with the pattern "${e}"`);const p=h[1]?`${h[1]}/`:"",m=h[2],v=LN(o),w=`${p}${m}.json`,A=v?`${p}${m}_${v}.json`:w;let $;try{$=await a_(t(A))}catch(M){if(A===w)throw new kt("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:M});try{$=await a_(t(w))}catch(P){throw new kt("intl:unknown-bundle",`Bundle "${i}" cannot be loaded`,{error:P})}}return $}async function a_(t){if(l_.fetchBundleAsset!=null)return l_.fetchBundleAsset(t);const e=await ki(t,{responseType:"text"});return JSON.parse(e.data)}let kD=class{constructor({base:e="",pattern:i,location:o=new URL(window.location.href)}){let h;h=typeof o=="string"?p=>new URL(p,new URL(o,window.location.href)).href:o instanceof URL?p=>new URL(p,o).href:o,this.pattern=typeof i=="string"?new RegExp(`^${i}`):i,this.getAssetUrl=h,e=e?e.endsWith("/")?e:e+"/":"",this.matcher=new RegExp(`^${e}(?:(.*)\\/)?(.*)$`)}fetchMessageBundle(e,i){return ID(this.getAssetUrl,this.matcher,e,i)}};function MD(t){return new kD(t)}const l_={};function ne(t){if(!$e.assetsPath)throw Rt.getLogger("esri.assets").errorOnce("The API assets location needs to be set using config.assetsPath. More information: https://arcg.is/1OzLe50"),new kt("assets:path-not-set","config.assetsPath is not set");return xv($e.assetsPath,t)}RN(MD({pattern:"esri/",location:ne}));function ztt(t,e,i){return ov(t.map((o,h)=>e.apply(i,[o,h])))}async function OD(t,e,i){return(await ov(t.map((o,h)=>e.apply(i,[o,h])))).map(o=>o.value)}function Tv(t){return{ok:!0,value:t}}function Ev(t){return{ok:!1,error:t}}function PD(t){return t!=null&&t.ok===!0?t.value:null}function ND(t){return t!=null&&t.ok===!1?t.error:null}async function RD(t){if(t==null)return{ok:!1,error:new Error("no promise provided")};try{return Tv(await t)}catch(e){return Ev(e)}}async function jtt(t){try{return Tv(await t)}catch(e){return Mx(e),Ev(e)}}function LD(t,e){return new ts(t,e)}let ts=class extends me{get value(){return PD(this._result)}get error(){return ND(this._result)}get finished(){return this._result!=null}constructor(e,i){super({}),this._result=null,this._abortHandle=null,this.abort=()=>{this._abortController=kx(this._abortController)},this.remove=this.abort,this._abortController=new AbortController;const{signal:o}=this._abortController;this.promise=e(o),this.promise.then(h=>{this._result=Tv(h),this._cleanup()},h=>{this._result=Ev(h),this._cleanup()}),this._abortHandle=Fo(i,this.abort)}normalizeCtorArgs(){return{}}destroy(){this.abort()}_cleanup(){this._abortHandle=Ul(this._abortHandle),this._abortController=null}};C([E()],ts.prototype,"value",null),C([E()],ts.prototype,"error",null),C([E()],ts.prototype,"finished",null),C([E()],ts.prototype,"promise",void 0),C([E()],ts.prototype,"_result",void 0),ts=C([Y("esri.core.asyncUtils.ReactiveTask")],ts);let $d=class R7{constructor(){this._emitter=new R7.EventEmitter(this)}emit(e,i){return this._emitter.emit(e,i)}on(e,i){return this._emitter.on(e,i)}once(e,i){return this._emitter.once(e,i)}hasEventListener(e){return this._emitter.hasEventListener(e)}};(function(t){class e{constructor(h=null){this._target=h,this._listenersMap=null}clear(){var h;(h=this._listenersMap)==null||h.clear(),this._listenersMap=null}destroy(){this.clear()}emit(h,p){var A;let m=(A=this._listenersMap)==null?void 0:A.get(h);if(!m)return!1;const v=this._target||this;let w=!1;for(const $ of m.slice()){const M="deref"in $?$.deref():$;M?M==null||M.call(v,p):w=!0}return w&&(m=m.filter($=>!("deref"in $)||$.deref()!=null),this._listenersMap.set(h,m)),m.length>0}on(h,p){if(Array.isArray(h)){const v=h.map(w=>this.on(w,p));return $f(v)}if(h.includes(","))throw new TypeError("Evented.on() with a comma delimited string of event types is not supported");this._listenersMap??(this._listenersMap=new Map);const m=this._listenersMap.get(h)||[];return m.push(p),this._listenersMap.set(h,m),we(()=>{var A;const v=(A=this._listenersMap)==null?void 0:A.get(h),w=(v==null?void 0:v.indexOf(p))??-1;w>=0&&v.splice(w,1)})}once(h,p){const m=this.on(h,v=>{m.remove();const w="deref"in p?p.deref():p;w==null||w.call(null,v)});return m}hasEventListener(h){var m;const p=(m=this._listenersMap)==null?void 0:m.get(h);return p!=null&&p.length>0}}t.EventEmitter=e,t.EventedMixin=o=>{let h=class extends o{constructor(){super(...arguments),this._emitter=new e}destroy(){this._emitter.clear()}emit(p,m){return this._emitter.emit(p,m)}on(p,m){return this._emitter.on(p,m)}once(p,m){return this._emitter.once(p,m)}hasEventListener(p){return this._emitter.hasEventListener(p)}};return h=C([Y("esri.core.Evented")],h),h};let i=class extends me{constructor(){super(...arguments),this._emitter=new $d.EventEmitter(this)}destroy(){this._emitter.clear()}emit(o,h){return this._emitter.emit(o,h)}on(o,h){return this._emitter.on(o,h)}once(o,h){return this._emitter.once(o,h)}hasEventListener(o){return this._emitter.hasEventListener(o)}};i=C([Y("esri.core.Evented.EventedAccessor")],i),t.EventedAccessor=i})($d||($d={}));const Gf=$d;var re;(function(t){t[t.ADD=1]="ADD",t[t.REMOVE=2]="REMOVE",t[t.MOVE=4]="MOVE"})(re||(re={}));function DD(t){return(e,i)=>{e[i]=t}}let L7=class extends Fx{notify(){const e=this._observers;if(e&&e.length>0){const i=e.slice();for(const o of i)o.onInvalidated(),o.onCommitted()}}};var Tn;let zD=class{constructor(){this.target=null,this.cancellable=!1,this.defaultPrevented=!1,this.item=void 0,this.type=void 0}preventDefault(){this.cancellable&&(this.defaultPrevented=!0)}reset(e){this.defaultPrevented=!1,this.item=e}},jD=class{constructor(e,i,o,h,p){this.target=e,this.added=i,this.removed=o,this.start=h,this.deleteCount=p}};const Yi=new yu(zD,void 0,t=>{t.item=null,t.target=null,t.defaultPrevented=!1,t.cancellable=!1});function h_(t){t&&typeof t=="object"&&"destroy"in t&&typeof t.destroy=="function"&&t.destroy()}function i1(t){return t?t instanceof xn?t.toArray():t.length?Array.prototype.slice.apply(t):[]:[]}function r1(t){if(t!=null&&t.length)return t[0]}function FD(t,e,i,o){const h=Math.min(t.length-i,e.length-o);let p=0;for(;p<h&&t[i+p]===e[o+p];)p++;return p}function D7(t,e,i,o){e&&e.forEach((h,p,m)=>{t.push(h),D7(t,i.call(o,h,p,m),i,o)})}const Jn=new Set,Zn=new Set,Yn=new Set,n1=new Map;let UD=0,xn=Tn=class extends Gf.EventedAccessor{static isCollection(t){return t!=null&&t instanceof Tn}constructor(t){super(t),this._chgListeners=[],this._notifications=null,this._updating=!1,this._timer=null,this._observable=new L7,this.length=0,this._items=[],Object.defineProperty(this,"uid",{value:UD++})}normalizeCtorArgs(t){return t?Array.isArray(t)||t instanceof Tn?{items:t}:t:{}}destroy(){this._removeAllRaw(),this._timer&&this._timer.remove(),this._emitter.destroy(),this._notifications=null}*[Symbol.iterator](){yield*this.items}get items(){return Ct(this._observable),this._items}set items(t){this._emitBeforeChanges(re.ADD)||(this._splice(0,this.length,i1(t)),this._emitAfterChanges(re.ADD))}hasEventListener(t){return!this.destroyed&&(t==="change"?this._chgListeners.length>0:this._emitter.hasEventListener(t))}on(t,e){if(this.destroyed)return we();if(t==="change"){const i=this._chgListeners,o={removed:!1,callback:e};return i.push(o),this._notifications&&this._notifications.push({listeners:i.slice(),items:this._items.slice(),changes:[]}),we(()=>{o.removed=!0,i.splice(i.indexOf(o),1)})}return this._emitter.on(t,e)}once(t,e){const i="deref"in e?()=>e.deref():()=>e,o=this.on(t,h=>{var p;(p=i())==null||p.call(null,h),o.remove()});return o}add(t,e){if(Ct(this._observable),this._emitBeforeChanges(re.ADD))return this;const i=this.getNextIndex(e??null);return this._splice(i,0,[t]),this._emitAfterChanges(re.ADD),this}addMany(t,e=this._items.length){if(Ct(this._observable),!(t!=null&&t.length))return this;if(this._emitBeforeChanges(re.ADD))return this;const i=this.getNextIndex(e);return this._splice(i,0,i1(t)),this._emitAfterChanges(re.ADD),this}at(t){if(Ct(this._observable),(t=Math.trunc(t)||0)<0&&(t+=this.length),!(t<0||t>=this.length))return this._items[t]}removeAll(){if(Ct(this._observable),!this.length||this._emitBeforeChanges(re.REMOVE))return[];const t=this._removeAllRaw();return this._emitAfterChanges(re.REMOVE),t}_removeAllRaw(){return this.length===0?[]:this._splice(0,this.length)||[]}clone(){return Ct(this._observable),this._createNewInstance({items:this._items.map(at)})}concat(...t){Ct(this._observable);const e=t.map(i1);return this._createNewInstance({items:this._items.concat(...e)})}drain(t,e){if(Ct(this._observable),!this.length||this._emitBeforeChanges(re.REMOVE))return;const i=this._splice(0,this.length),o=i.length;for(let h=0;h<o;h++)t.call(e,i[h],h,i);this._emitAfterChanges(re.REMOVE)}destroyAll(){this.drain(h_)}destroyMany(t){const e=this.removeMany(t);return e.forEach(h_),e}every(t,e){return Ct(this._observable),this._items.every(t,e)}filter(t,e){let i;return Ct(this._observable),i=arguments.length===2?this._items.filter(t,e):this._items.filter(t),this._createNewInstance({items:i})}find(t,e){return Ct(this._observable),this._items.find(t,e)}findIndex(t,e){return Ct(this._observable),this._items.findIndex(t,e)}flatten(t,e){Ct(this._observable);const i=[];return D7(i,this,t,e),new Tn(i)}forEach(t,e){return Ct(this._observable),this._items.forEach(t,e)}getItemAt(t){return Ct(this._observable),this._items[t]}getNextIndex(t){Ct(this._observable);const e=this.length;return(t=t??e)<0?t=0:t>e&&(t=e),t}includes(t,e=0){return Ct(this._observable),this._items.includes(t,e)}indexOf(t,e=0){return Ct(this._observable),this._items.indexOf(t,e)}join(t=","){return Ct(this._observable),this._items.join(t)}lastIndexOf(t,e=this.length-1){return Ct(this._observable),this._items.lastIndexOf(t,e)}map(t,e){Ct(this._observable);const i=this._items.map(t,e);return new Tn({items:i})}reorder(t,e=this.length-1){Ct(this._observable);const i=this.indexOf(t);if(i!==-1){if(e<0?e=0:e>=this.length&&(e=this.length-1),i!==e){if(this._emitBeforeChanges(re.MOVE))return t;this._splice(i,1),this._splice(e,0,[t]),this._emitAfterChanges(re.MOVE)}return t}}pop(){if(Ct(this._observable),!this.length||this._emitBeforeChanges(re.REMOVE))return;const t=r1(this._splice(this.length-1,1));return this._emitAfterChanges(re.REMOVE),t}push(...t){return Ct(this._observable),this._emitBeforeChanges(re.ADD)||(this._splice(this.length,0,t),this._emitAfterChanges(re.ADD)),this.length}reduce(t,e){Ct(this._observable);const i=this._items;return arguments.length===2?i.reduce(t,e):i.reduce(t)}reduceRight(t,e){Ct(this._observable);const i=this._items;return arguments.length===2?i.reduceRight(t,e):i.reduceRight(t)}remove(t){return Ct(this._observable),this.removeAt(this.indexOf(t))}removeAt(t){if(Ct(this._observable),t<0||t>=this.length||this._emitBeforeChanges(re.REMOVE))return;const e=r1(this._splice(t,1));return this._emitAfterChanges(re.REMOVE),e}removeMany(t){if(Ct(this._observable),!(t!=null&&t.length)||this._emitBeforeChanges(re.REMOVE))return[];const e=t instanceof Tn?t.toArray():t,i=this._items,o=[],h=e.length;for(let p=0;p<h;p++){const m=e[p],v=i.indexOf(m);if(v>-1){const w=1+FD(e,i,p+1,v+1),A=this._splice(v,w);A&&A.length>0&&o.push.apply(o,A),p+=w-1}}return this._emitAfterChanges(re.REMOVE),o}reverse(){if(Ct(this._observable),this._emitBeforeChanges(re.MOVE))return this;const t=this._splice(0,this.length);return t&&(t.reverse(),this._splice(0,0,t)),this._emitAfterChanges(re.MOVE),this}shift(){if(Ct(this._observable),!this.length||this._emitBeforeChanges(re.REMOVE))return;const t=r1(this._splice(0,1));return this._emitAfterChanges(re.REMOVE),t}slice(t=0,e=this.length){return Ct(this._observable),this._createNewInstance({items:this._items.slice(t,e)})}some(t,e){return Ct(this._observable),this._items.some(t,e)}sort(t){if(Ct(this._observable),!this.length||this._emitBeforeChanges(re.MOVE))return this;const e=this._splice(0,this.length);return arguments.length?e.sort(t):e.sort(),this._splice(0,0,e),this._emitAfterChanges(re.MOVE),this}splice(t,e,...i){Ct(this._observable);const o=(e?re.REMOVE:0)|(i.length?re.ADD:0);if(this._emitBeforeChanges(o))return[];const h=this._splice(t,e,i)||[];return this._emitAfterChanges(o),h}toArray(){return Ct(this._observable),this._items.slice()}toJSON(){return Ct(this._observable),this.toArray()}toLocaleString(){return Ct(this._observable),this._items.toLocaleString()}toString(){return Ct(this._observable),this._items.toString()}unshift(...t){return Ct(this._observable),!t.length||this._emitBeforeChanges(re.ADD)||(this._splice(0,0,t),this._emitAfterChanges(re.ADD)),this.length}_createNewInstance(t){return new this.constructor(t)}_splice(t,e,i){const o=this._items,h=this.itemType;let p,m;if(!this._notifications&&this.hasEventListener("change")&&(this._notifications=[{listeners:this._chgListeners.slice(),items:this._items.slice(),changes:[]}],this._timer&&this._timer.remove(),this._updating=!0,this._timer=Yx(()=>this._dispatchChange())),t<0&&(t+=this.length),e){if(m=o.splice(t,e),this.hasEventListener("before-remove")){const v=Yi.acquire();v.target=this,v.cancellable=!0;for(let w=0,A=m.length;w<A;w++)p=m[w],v.reset(p),this.emit("before-remove",v),v.defaultPrevented&&(m.splice(w,1),o.splice(t,0,p),t+=1,w-=1,A-=1);Yi.release(v)}if(this.length=this._items.length,this.hasEventListener("after-remove")){const v=Yi.acquire();v.target=this,v.cancellable=!1;const w=m.length;for(let A=0;A<w;A++)v.reset(m[A]),this.emit("after-remove",v);Yi.release(v)}}if(i!=null&&i.length){if(h){const $=[];for(const M of i){const P=h.ensureType(M);P==null&&M!=null||$.push(P)}i=$}const v=this.hasEventListener("before-add"),w=this.hasEventListener("after-add"),A=t===this.length;if(v||w){const $=Yi.acquire();$.target=this,$.cancellable=!0;const M=Yi.acquire();M.target=this,M.cancellable=!1;for(const P of i)v?($.reset(P),this.emit("before-add",$),$.defaultPrevented||(A?o.push(P):o.splice(t++,0,P),this._set("length",o.length),w&&(M.reset(P),this.emit("after-add",M)))):(A?o.push(P):o.splice(t++,0,P),this._set("length",o.length),M.reset(P),this.emit("after-add",M));Yi.release(M),Yi.release($)}else{if(A)for(const $ of i)o.push($);else o.splice(t,0,...i);this._set("length",o.length)}}if((i!=null&&i.length||m!=null&&m.length)&&this._notifyChangeEvent(i,m),this.hasEventListener("after-splice")){const v=new jD(this,i,m,t,e);this.emit("after-splice",v)}return m}_emitBeforeChanges(t){let e=!1;if(this.hasEventListener("before-changes")){const i=Yi.acquire();i.target=this,i.cancellable=!0,i.type=t,this.emit("before-changes",i),e=i.defaultPrevented,Yi.release(i)}return e}_emitAfterChanges(t){if(this.hasEventListener("after-changes")){const e=Yi.acquire();e.target=this,e.cancellable=!1,e.type=t,this.emit("after-changes",e),Yi.release(e)}this._observable.notify()}_notifyChangeEvent(t,e){this.hasEventListener("change")&&this._notifications&&this._notifications[this._notifications.length-1].changes.push({added:t,removed:e})}get updating(){return this._updating}_dispatchChange(){if(this._timer&&(this._timer.remove(),this._timer=null),this._updating=!1,!this._notifications)return;const t=this._notifications;this._notifications=null;for(const e of t){const i=e.changes;Jn.clear(),Zn.clear(),Yn.clear();for(const{added:w,removed:A}of i){if(w)if(Yn.size===0&&Zn.size===0)for(const $ of w)Jn.add($);else for(const $ of w)Zn.has($)?(Yn.add($),Zn.delete($)):Yn.has($)||Jn.add($);if(A)if(Yn.size===0&&Jn.size===0)for(const $ of A)Zn.add($);else for(const $ of A)Jn.has($)?Jn.delete($):(Yn.delete($),Zn.add($))}const o=rn.acquire();Jn.forEach(w=>{o.push(w)});const h=rn.acquire();Zn.forEach(w=>{h.push(w)});const p=this._items,m=e.items,v=rn.acquire();if(Yn.forEach(w=>{m.indexOf(w)!==p.indexOf(w)&&v.push(w)}),e.listeners&&(o.length||h.length||v.length)){const w={target:this,added:o,removed:h,moved:v},A=e.listeners.length;for(let $=0;$<A;$++){const M=e.listeners[$];M.removed||M.callback.call(this,w)}}rn.release(o),rn.release(h),rn.release(v)}Jn.clear(),Zn.clear(),Yn.clear()}};xn.ofType=t=>{if(!t)return Tn;if(n1.has(t))return n1.get(t);let e=null;if(typeof t=="function")e=t.prototype.declaredClass;else if(t.base)e=t.base.prototype.declaredClass;else for(const o in t.typeMap){const h=t.typeMap[o].prototype.declaredClass;e?e+=` | ${h}`:e=h}let i=class extends Tn{};return C([DD({Type:t,ensureType:typeof t=="function"?Pi(t):Rn(t)})],i.prototype,"itemType",void 0),i=C([Y(`esri.core.Collection<${e}>`)],i),n1.set(t,i),i},C([E()],xn.prototype,"_updating",void 0),C([E()],xn.prototype,"length",void 0),C([E()],xn.prototype,"items",null),C([E({readOnly:!0})],xn.prototype,"updating",null),xn=Tn=C([Y("esri.core.Collection")],xn);const Tt=xn;function Lt(t,e,i={}){return $v(t,e,i,j7)}function Go(t,e,i={}){return $v(t,e,i,F7)}function $v(t,e,i={},o){let h=null;const p=i.once?(m,v)=>{o(m)&&(Ul(h),e(m,v))}:(m,v)=>{o(m)&&e(m,v)};if(h=zR(t,p,i.sync,i.equals),i.initial){const m=t();p(m,m)}return h}function Bi(t,e,i,o={}){let h=null,p=null,m=null;function v(){var $;h&&p&&(p.remove(),($=o.onListenerRemove)==null||$.call(o,h),h=null,p=null)}function w($){o.once&&o.once&&Ul(m),i($)}const A=Lt(t,($,M)=>{var P;v(),Rf($)&&(h=$,p=ys($,e,w),(P=o.onListenerAdd)==null||P.call(o,$))},{sync:o.sync,initial:!0});return m=we(()=>{A.remove(),v()}),m}function BD(t,e){return z7(t,null,e)}function jm(t,e){return z7(t,F7,e)}function z7(t,e,i){if(Ds(i))return Promise.reject(Oi());const o=t();if(e!=null&&e(o))return Promise.resolve(o);let h=null;function p(){h=Ul(h)}return new Promise((m,v)=>{h=$f([Fo(i,()=>{p(),v(Oi())}),$v(t,w=>{p(),m(w)},{sync:!1,once:!0},e??j7)])})}function j7(t){return!0}function F7(t){return!!t}function VD(t,e,i={}){let o=!1;const h=Lt(t,(p,m)=>{o||e(p,m)},i);return{remove(){h.remove()},pause(){o=!0},resume(){o=!1}}}function U7(t,e){const i=new Tt,o=Bi(t,"after-splice",({added:h,start:p,deleteCount:m})=>{const v=i.splice(p,m);for(const w of v)w.remove();if(h!=null&&h.length){const w=h.map(e);i.addMany(w,p)}},{sync:!0,onListenerRemove:()=>i.drain(h=>h.remove()),onListenerAdd:h=>i.addMany(h.items.map(e))});return i.addHandles(o),i}function GD(t,e){const i=new Tt,o=U7(t,v=>LD(async w=>{const A=await e(v,w);if(Ds(w))throw A.remove(),Oi();return A})),h=()=>null,p=async v=>{const w=await v.promise,A=o.indexOf(v);A<0||i.splice(A,1,w)};i.addMany(o.items.map(h));for(const v of o)bm(p(v));const m=o.on("after-splice",({added:v,start:w,deleteCount:A})=>{const $=i.splice(w,A);for(const M of $)M==null||M.remove();if(v!=null&&v.length){i.addMany(v.map(h),w);for(const M of v)bm(p(M))}});return i.addHandles([iO(o),m]),i}const qf={sync:!0},Iv={initial:!0},Hf={sync:!0,initial:!0},qD=Object.freeze(Object.defineProperty({__proto__:null,autorun:$R,initial:Iv,mapCollection:U7,mapCollectionAsync:GD,on:Bi,once:BD,pausable:VD,sync:qf,syncAndInitial:Hf,watch:Lt,when:Go,whenOnce:jm},Symbol.toStringTag,{value:"Module"}));var G0;(function(t){t[t.KILOBYTES=1024]="KILOBYTES",t[t.MEGABYTES=1048576]="MEGABYTES",t[t.GIGABYTES=1073741824]="GIGABYTES"})(G0||(G0={}));const c_=new Float32Array(1);function Gtt(t){--t;for(let e=1;e<32;e<<=1)t|=t>>e;return t+1}function Vs(t,e,i){return Math.min(Math.max(t,e),i)}function qtt(t){return t--,t|=t>>1,t|=t>>2,t|=t>>4,t|=t>>8,t|=t>>16,++t}function HD(t,e,i){return t+(e-t)*i}function Htt(t,e,i,o,h){return HD(o,h,(t-e)/(i-e))}function Wtt(t){return t*Math.PI/180}function Jtt(t){return 180*t/Math.PI}function Ztt(t,e=1e-6){return(t<0?-1:1)/Math.max(Math.abs(t),e)}function Ytt(t){return Math.acos(Vs(t,-1,1))}function Ktt(t){return Math.asin(Vs(t,-1,1))}function s1(t,e,i=1e-6){return t===e?!0:!Number.isFinite(t)||!Number.isFinite(e)?!1:(t>e?t-e:e-t)<=i}const q0=new DataView(new ArrayBuffer(Float64Array.BYTES_PER_ELEMENT));function Fm(t){return q0.setFloat64(0,t),q0.getBigInt64(0)}function WD(t){return q0.setBigInt64(0,t),q0.getFloat64(0)}const Id=BigInt("1000000"),JD=B7(1);function B7(t){const e=Fm(t=Math.abs(t)),i=WD(e<=Id?Id:e-Id);return Math.abs(t-i)}function Xtt(t,e,i=JD){if(t===e)return!0;if(!Number.isFinite(t)||!Number.isFinite(e))return!1;if(i!=null&&B7(Math.min(Math.abs(t),Math.abs(e)))<i)return Math.abs(t-e)<=i;const o=Fm(t),h=Fm(e);return o<0!=h<0?!1:!((o<h?h-o:o-h)>Id)}function Qtt(t){return V7(Math.max(-u_,Math.min(t,u_)))}function V7(t){return c_[0]=t,c_[0]}function tet(t){const e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],i=t[3]*t[3]+t[4]*t[4]+t[5]*t[5],o=t[6]*t[6]+t[7]*t[7]+t[8]*t[8];return!(s1(e,1)&&s1(i,1)&&s1(o,1))}function eet(t,e){return(t%e+e)%e}const u_=V7(34028234663852886e22);function iet(t,e,i){if(i===void 0||+i==0)return Math[t](e);if(e=+e,i=+i,isNaN(e)||typeof i!="number"||i%1!=0)return NaN;let o=e.toString().split("e");return o=(e=Math[t](+(o[0]+"e"+(o[1]?+o[1]-i:-i)))).toString().split("e"),+(o[0]+"e"+(o[1]?+o[1]+i:i))}let kv=class{constructor(e,i){this.min=e,this.max=i,this.range=i-e}normalize(e,i=0,o=!1){return d_(this.range,this.min,this.max,e,i,o)}clamp(e,i=0){return Vs(e-i,this.min,this.max)+i}monotonic(e,i,o){return e<i?i:i+Um(this.range,e-i,o)}minimalMonotonic(e,i,o){return d_(this.range,e,e+this.range,i,o)}center(e,i,o){return i=this.monotonic(e,i,o),this.normalize((e+i)/2,o)}diff(e,i,o){return this.monotonic(e,i,o)-e}shortestSignedDiff(e,i){e=this.normalize(e);const o=(i=this.normalize(i))-e,h=i<e?this.minimalMonotonic(e,i)-e:i-this.minimalMonotonic(i,e);return Math.abs(o)<Math.abs(h)?o:h}contains(e,i,o){return i=this.minimalMonotonic(e,i),(o=this.minimalMonotonic(e,o))>e&&o<i}};function d_(t,e,i,o,h=0,p=!1){return(o-=h)<e?o+=Um(t,e-o):o>i&&(o-=Um(t,o-i)),p&&o===i&&(o=e),o+h}function Um(t,e,i=0){return Math.ceil((e-i)/t)*t+i}const net=new kv(0,2*Math.PI),set=new kv(-Math.PI,Math.PI),ZD=new kv(0,360);let Mv=class{constructor(e,i,o,h,p,m){this.semiMajorAxis=e,this.flattening=i,this.outerAtmosphereRimWidth=o,this.atmosphereHeight=h,this.scaleHeight=p;const v=1-this.flattening;this.semiMinorAxis=this.semiMajorAxis*v,this.halfSemiMajorAxis=this.semiMajorAxis/2,this.halfCircumference=Math.PI*this.semiMajorAxis,this.metersPerDegree=this.halfCircumference/180,this.inverseFlattening=1/(1-this.flattening)-1,this.eccentricitySquared=m||2*this.flattening-this.flattening*this.flattening,this.meanRadiusSemiAxes=(2*this.semiMajorAxis+this.semiMinorAxis)/3}get radius(){return this.semiMajorAxis}};const Rr=new Mv(6378137,1/298.257223563,3e5,1e5,.085,.006694379990137799),Mc=new Mv(3396190,1/169.8944472236118,23e4,6e4,.111),Wf=new Mv(1737400,0,0,0,0);let o1,J=null;function G7(){return!!J}function YD(){return!!ot("esri-wasm")}function q7(){return o1||(o1=vt(()=>import("./pe-wasm-Cn2i0xNf.js"),[]).then(t=>t.p).then(({default:t})=>t({locateFile:e=>ne(`esri/geometry/support/${e}`)})).then(t=>{J7(t)}),o1)}var Bm,ve;(function(t){function e(p,m,v){J.ensureCache.prepare();const w=_o(v),A=v===w,$=J.ensureFloat64(w),M=J._pe_geog_to_proj(J.getPointer(p),m,$);return M&&bs(v,m,$,A),M}function i(p,m,v,w){switch(w){case ve.PE_TRANSFORM_P_TO_G:return o(p,m,v);case ve.PE_TRANSFORM_G_TO_P:return e(p,m,v)}return 0}function o(p,m,v){return h(p,m,v,0)}function h(p,m,v,w){J.ensureCache.prepare();const A=_o(v),$=v===A,M=J.ensureFloat64(A),P=J._pe_proj_to_geog_center(J.getPointer(p),m,M,w);return P&&bs(v,m,M,$),P}t.geogToProj=e,t.projGeog=i,t.projToGeog=o,t.projToGeogCenter=h})(Bm||(Bm={})),function(t){function e(){t.PE_BUFFER_MAX=J.PeDefs.prototype.PE_BUFFER_MAX,t.PE_NAME_MAX=J.PeDefs.prototype.PE_NAME_MAX,t.PE_MGRS_MAX=J.PeDefs.prototype.PE_MGRS_MAX,t.PE_USNG_MAX=J.PeDefs.prototype.PE_USNG_MAX,t.PE_DD_MAX=J.PeDefs.prototype.PE_DD_MAX,t.PE_DDM_MAX=J.PeDefs.prototype.PE_DDM_MAX,t.PE_DMS_MAX=J.PeDefs.prototype.PE_DMS_MAX,t.PE_UTM_MAX=J.PeDefs.prototype.PE_UTM_MAX,t.PE_PARM_MAX=J.PeDefs.prototype.PE_PARM_MAX,t.PE_TYPE_NONE=J.PeDefs.prototype.PE_TYPE_NONE,t.PE_TYPE_GEOGCS=J.PeDefs.prototype.PE_TYPE_GEOGCS,t.PE_TYPE_PROJCS=J.PeDefs.prototype.PE_TYPE_PROJCS,t.PE_TYPE_GEOGTRAN=J.PeDefs.prototype.PE_TYPE_GEOGTRAN,t.PE_TYPE_COORDSYS=J.PeDefs.prototype.PE_TYPE_COORDSYS,t.PE_TYPE_UNIT=J.PeDefs.prototype.PE_TYPE_UNIT,t.PE_TYPE_LINUNIT=J.PeDefs.prototype.PE_TYPE_LINUNIT,t.PE_STR_OPTS_NONE=J.PeDefs.prototype.PE_STR_OPTS_NONE,t.PE_STR_AUTH_NONE=J.PeDefs.prototype.PE_STR_AUTH_NONE,t.PE_STR_AUTH_TOP=J.PeDefs.prototype.PE_STR_AUTH_TOP,t.PE_STR_NAME_CANON=J.PeDefs.prototype.PE_STR_NAME_CANON,t.PE_STR_FMT_WKT=J.PeDefs.prototype.PE_STR_FMT_WKT,t.PE_STR_FMT_WKT2=J.PeDefs.prototype.PE_STR_FMT_WKT2,t.PE_PARM_X0=J.PeDefs.prototype.PE_PARM_X0,t.PE_PARM_ND=J.PeDefs.prototype.PE_PARM_ND,t.PE_TRANSFORM_1_TO_2=J.PeDefs.prototype.PE_TRANSFORM_1_TO_2,t.PE_TRANSFORM_2_TO_1=J.PeDefs.prototype.PE_TRANSFORM_2_TO_1,t.PE_TRANSFORM_P_TO_G=J.PeDefs.prototype.PE_TRANSFORM_P_TO_G,t.PE_TRANSFORM_G_TO_P=J.PeDefs.prototype.PE_TRANSFORM_G_TO_P,t.PE_HORIZON_RECT=J.PeDefs.prototype.PE_HORIZON_RECT,t.PE_HORIZON_POLY=J.PeDefs.prototype.PE_HORIZON_POLY,t.PE_HORIZON_LINE=J.PeDefs.prototype.PE_HORIZON_LINE,t.PE_HORIZON_DELTA=J.PeDefs.prototype.PE_HORIZON_DELTA}t.init=e}(ve||(ve={}));let H7=null;var Oc;(function(t){const e={},i={},o=R=>{const B=R.getType();switch(B){case ve.PE_TYPE_GEOGCS:R=J.castObject(R,J.PeGeogcs);break;case ve.PE_TYPE_PROJCS:R=J.castObject(R,J.PeProjcs);break;case ve.PE_TYPE_GEOGTRAN:R=J.castObject(R,J.PeGeogtran);break;default:B&ve.PE_TYPE_UNIT&&(R=J.castObject(R,J.PeUnit))}return R};function h(){J.PeFactory.prototype.initialize(null)}function p(R){return m(ve.PE_TYPE_COORDSYS,R)}function m(R,B){let G=null,H=e[R];if(H||(H={},e[R]=H),H.hasOwnProperty(String(B))&&(G=H[B],J.compare(G,J.NULL)&&(G=null)),!G){const Z=J.PeFactory.prototype.factoryByType(R,B);J.compare(Z,J.NULL)||(G=o(Z),H[B]=G)}return G}function v(R,B){let G=null,H=i[R];if(H||(H={},i[R]=H),H.hasOwnProperty(B)&&(G=H[B],J.compare(G,J.NULL)&&(G=null)),!G){const Z=J.PeFactory.prototype.fromString(R,B);J.compare(Z,J.NULL)||(G=o(Z),H[B]=G)}return G}function w(R){return m(ve.PE_TYPE_GEOGCS,R)}function A(R){return m(ve.PE_TYPE_GEOGTRAN,R)}function $(R){return J.PeFactory.prototype.getCode(R)}function M(R){return m(ve.PE_TYPE_PROJCS,R)}function P(R){return m(ve.PE_TYPE_UNIT,R)}t.initialize=h,t.coordsys=p,t.factoryByType=m,t.fromString=v,t.geogcs=w,t.geogtran=A,t.getCode=$,t.projcs=M,t.unit=P})(Oc||(Oc={}));let W7=null;var H0,Vm,Gm,qm,Hm,Wm,W0,Jm,J0,Z0,Zm;function J7(t){function e(p,m,v){p[m]=v(p[m])}J=t,ve.init(),H0.init(),W0.init(),J0.init(),Z0.init(),H7=class extends J.PeDouble{constructor(p=NaN){super(p)}destroy(){J.destroy(this)}[Symbol.dispose](){this.destroy()}},W7=class extends J.PeGCSExtent{destroy(){J.destroy(this)}[Symbol.dispose](){this.destroy()}};const i=[J.PeAngunit,J.PeDatum,J.PeGeogcs,J.PeGeogtran,J.PeObject,J.PeParameter,J.PePrimem,J.PeProjcs,J.PeSpheroid,J.PeUnit];for(const p of i)e(p.prototype,"getName",m=>function(){return m.call(this,new Array(ve.PE_NAME_MAX))});for(const p of[J.PeGeogtran,J.PeProjcs])e(p.prototype,"getParameters",m=>function(){const v=new Array(ve.PE_PARM_MAX);let w=m.call(this);for(let A=0;A<v.length;A++){const $=J.getValue(w,"*");v[A]=$?J.wrapPointer($,J.PeParameter):null,w+=Int32Array.BYTES_PER_ELEMENT}return v});e(J.PeHorizon.prototype,"getCoord",p=>function(m=!1){const v=this.getSize();if(!v)return null;const w=[];return bs(w,v,p.call(this),m),w}),e(J.PeGTlistExtendedEntry.prototype,"getEntries",p=>{const m=J._pe_getPeGTlistExtendedGTsSize();return function(){let v=null;const w=p.call(this);if(!J.compare(w,J.NULL)){v=[w];const A=this.getSteps();if(A>1){const $=J.getPointer(w);for(let M=1;M<A;M++)v.push(J.wrapPointer($+m*M,J.PeGTlistExtendedGTs))}}return v}});const o=J._pe_getPeHorizonSize(),h=p=>function(){let m=this._cache;if(m||(m=new Map,this._cache=m),m.has(p))return m.get(p);let v=null;const w=p.call(this);if(!J.compare(w,J.NULL)){v=[w];const A=w.getNump();if(A>1){const $=J.getPointer(w);for(let M=1;M<A;M++)v.push(J.wrapPointer($+o*M,J.PeHorizon))}}return m.set(p,v),v};e(J.PeProjcs.prototype,"horizonGcsGenerate",h),e(J.PeProjcs.prototype,"horizonPcsGenerate",h),J.PeObject.prototype.toString=function(p=ve.PE_STR_OPTS_NONE){J.ensureCache.prepare();const m=J.getPointer(this),v=J.ensureInt8(new Array(ve.PE_BUFFER_MAX));return J.UTF8ToString(J._pe_object_to_string_ext(m,p,v))},J.PeGeogcs.prototype.destroy=function(){this.Delete(),Tr(this),this.ptr=0},J.PeGeogcs.prototype[Symbol.dispose]=function(){this.destroy()},J.PeProjcs.prototype.destroy=function(){this.Delete(),Tr(this),this.ptr=0},J.PeProjcs.prototype[Symbol.dispose]=function(){this.destroy()}}function Tr(t){if(!t)return;const e=J.getClass(t);if(!e)return;const i=J.getCache(e);if(!i)return;const o=J.getPointer(t);o&&delete i[o]}function Xu(t,e){const i=[],o=new Array(e);for(let h=0;h<t;h++)i.push(J.ensureInt8(o));return i}function _o(t){return ArrayBuffer.isView(t)?t:Array.isArray(t[0])?t.flat():t}function bs(t,e,i,o=!1){if(o)for(let h=0;h<2*e;h++)t[h]=J.getValue(i+h*Float64Array.BYTES_PER_ELEMENT,"double");else{const h=t.length===0;for(let p=0;p<e;p++)h&&(t[p]=new Array(2)),t[p][0]=J.getValue(i,"double"),t[p][1]=J.getValue(i+Float64Array.BYTES_PER_ELEMENT,"double"),i+=2*Float64Array.BYTES_PER_ELEMENT}}(function(t){let e;function i(){t.PE_GTLIST_OPTS_COMMON=J.PeGTlistExtended.prototype.PE_GTLIST_OPTS_COMMON,e=J._pe_getPeGTlistExtendedEntrySize()}function o(h,p,m,v,w,A){let $=null;const M=new J.PeInteger(A);try{const P=J.PeGTlistExtended.prototype.getGTlist(h,p,m,v,w,M);if((A=M.val)&&($=[P],A>1)){const R=J.getPointer(P);for(let B=1;B<A;B++)$.push(J.wrapPointer(R+e*B,J.PeGTlistExtendedEntry))}}finally{J.destroy(M)}return $}t.init=i,t.getGTlist=o})(H0||(H0={})),function(t){function e(i){if(i!=null&&i.length){for(const o of i)Tr(o),o.getEntries().forEach(h=>{Tr(h);const p=h.getGeogtran();Tr(p),p.getParameters().forEach(Tr),[p.getGeogcs1(),p.getGeogcs2()].forEach(m=>{Tr(m);const v=m.getDatum();Tr(v),Tr(v.getSpheroid()),Tr(m.getPrimem()),Tr(m.getUnit())})});J.PeGTlistExtendedEntry.prototype.Delete(i[0])}}t.destroy=e}(Vm||(Vm={})),function(t){function e(i,o,h,p,m){J.ensureCache.prepare();const v=_o(h),w=h===v,A=J.ensureFloat64(v);let $=0;p&&($=J.ensureFloat64(p));const M=J._pe_geog_to_geog(J.getPointer(i),o,A,$,m);return M&&bs(h,o,A,w),M}t.geogToGeog=e}(Gm||(Gm={})),function(t){function e(p,m,v,w,A,$,M,P){J.PeLineType.prototype.geodesic_coordinate(p,m,v,w,A,$,M,P)}function i(p,m,v,w,A,$,M,P,R){J.PeLineType.prototype.geodetic_coordinate(p,m,v,w,A,$,M,P,R)}function o(p,m,v,w,A,$,M,P,R,B){J.PeLineType.prototype.geodetic_distance(p,m,v,w,A,$,M,P,R,B)}function h(p,m,v,w,A,$,M,P,R){J.PeLineType.prototype.great_elliptic_distance(p,m,v,w,A,$,M,P,R)}t.geodesicCoordinate=e,t.geodeticCoordinate=i,t.geodeticDistance=o,t.greatEllipticDistance=h}(qm||(qm={})),function(t){function e(m,v){return J.PeMath.prototype.phi_to_eta(m,v)}function i(m,v){return J.PeMath.prototype.eta_to_phi(m,v)}function o(m,v){return J.PeMath.prototype.phi_to_phig(m,v)}function h(m,v,w){return J.PeMath.prototype.q(m,v,w)}function p(m,v){return J.PeMath.prototype.q90(m,v)}t.phiToEta=e,t.etaToPhi=i,t.phiToPhig=o,t.q=h,t.q90=p}(Hm||(Hm={})),function(t){const e=(A,$,M,P,R,B)=>{let G,H;switch(J.ensureCache.prepare(),A){case"dd":G=J._pe_geog_to_dd,H=ve.PE_DD_MAX;break;case"ddm":G=J._pe_geog_to_ddm,H=ve.PE_DDM_MAX;break;case"dms":G=J._pe_geog_to_dms,H=ve.PE_DMS_MAX}let Z=0;$&&(Z=J.getPointer($));const X=_o(P),Q=J.ensureFloat64(X),rt=Xu(M,H),et=G(Z,M,Q,R,J.ensureInt32(rt));if(et)for(let nt=0;nt<M;nt++)B[nt]=J.UTF8ToString(rt[nt]);return et},i=(A,$,M,P,R)=>{let B;switch(J.ensureCache.prepare(),A){case"dd":B=J._pe_dd_to_geog;break;case"ddm":B=J._pe_ddm_to_geog;break;case"dms":B=J._pe_dms_to_geog}let G=0;$&&(G=J.getPointer($));const H=P.map(rt=>J.ensureString(rt)),Z=J.ensureInt32(H),X=J.ensureFloat64(new Array(2*M)),Q=B(G,M,Z,X);return Q&&bs(R,M,X),Q};function o(A,$,M,P,R){return e("dms",A,$,M,P,R)}function h(A,$,M,P){return i("dms",A,$,M,P)}function p(A,$,M,P,R){return e("ddm",A,$,M,P,R)}function m(A,$,M,P){return i("ddm",A,$,M,P)}function v(A,$,M,P,R){return e("dd",A,$,M,P,R)}function w(A,$,M,P){return i("dd",A,$,M,P)}t.geogToDms=o,t.dmsToGeog=h,t.geogToDdm=p,t.ddmToGeog=m,t.geogToDd=v,t.ddToGeog=w}(Wm||(Wm={})),function(t){function e(){t.PE_MGRS_STYLE_NEW=J.PeNotationMgrs.prototype.PE_MGRS_STYLE_NEW,t.PE_MGRS_STYLE_OLD=J.PeNotationMgrs.prototype.PE_MGRS_STYLE_OLD,t.PE_MGRS_STYLE_AUTO=J.PeNotationMgrs.prototype.PE_MGRS_STYLE_AUTO,t.PE_MGRS_180_ZONE_1_PLUS=J.PeNotationMgrs.prototype.PE_MGRS_180_ZONE_1_PLUS,t.PE_MGRS_ADD_SPACES=J.PeNotationMgrs.prototype.PE_MGRS_ADD_SPACES}function i(h,p,m,v,w,A,$){J.ensureCache.prepare();let M=0;h&&(M=J.getPointer(h));const P=_o(m),R=J.ensureFloat64(P),B=Xu(p,ve.PE_MGRS_MAX),G=J.ensureInt32(B),H=J._pe_geog_to_mgrs_extended(M,p,R,v,w,A,G);if(H)for(let Z=0;Z<p;Z++)$[Z]=J.UTF8ToString(B[Z]);return H}function o(h,p,m,v,w){J.ensureCache.prepare();let A=0;h&&(A=J.getPointer(h));const $=m.map(B=>J.ensureString(B)),M=J.ensureInt32($),P=J.ensureFloat64(new Array(2*p)),R=J._pe_mgrs_to_geog_extended(A,p,M,v,P);return R&&bs(w,p,P),R}t.init=e,t.geogToMgrsExtended=i,t.mgrsToGeogExtended=o}(W0||(W0={})),function(t){function e(o,h,p,m,v,w,A){J.ensureCache.prepare();let $=0;o&&($=J.getPointer(o));const M=_o(p),P=J.ensureFloat64(M),R=Xu(h,ve.PE_MGRS_MAX),B=J.ensureInt32(R),G=J._pe_geog_to_usng($,h,P,m,v,w,B);if(G)for(let H=0;H<h;H++)A[H]=J.UTF8ToString(R[H]);return G}function i(o,h,p,m){J.ensureCache.prepare();let v=0;o&&(v=J.getPointer(o));const w=p.map(P=>J.ensureString(P)),A=J.ensureInt32(w),$=J.ensureFloat64(new Array(2*h)),M=J._pe_usng_to_geog(v,h,A,$);return M&&bs(m,h,$),M}t.geogToUsng=e,t.usngToGeog=i}(Jm||(Jm={})),function(t){function e(){t.PE_UTM_OPTS_NONE=J.PeNotationUtm.prototype.PE_UTM_OPTS_NONE,t.PE_UTM_OPTS_ADD_SPACES=J.PeNotationUtm.prototype.PE_UTM_OPTS_ADD_SPACES,t.PE_UTM_OPTS_NS=J.PeNotationUtm.prototype.PE_UTM_OPTS_NS}function i(h,p,m,v,w){J.ensureCache.prepare();let A=0;h&&(A=J.getPointer(h));const $=_o(m),M=J.ensureFloat64($),P=Xu(p,ve.PE_UTM_MAX),R=J.ensureInt32(P),B=J._pe_geog_to_utm(A,p,M,v,R);if(B)for(let G=0;G<p;G++)w[G]=J.UTF8ToString(P[G]);return B}function o(h,p,m,v,w){J.ensureCache.prepare();let A=0;h&&(A=J.getPointer(h));const $=m.map(B=>J.ensureString(B)),M=J.ensureInt32($),P=J.ensureFloat64(new Array(2*p)),R=J._pe_utm_to_geog(A,p,M,v,P);return R&&bs(w,p,P),R}t.init=e,t.geogToUtm=i,t.utmToGeog=o}(J0||(J0={})),function(t){const e=new Map;function i(){t.PE_PCSINFO_OPTION_NONE=J.PePCSInfo.prototype.PE_PCSINFO_OPTION_NONE,t.PE_PCSINFO_OPTION_DOMAIN=J.PePCSInfo.prototype.PE_PCSINFO_OPTION_DOMAIN,t.PE_POLE_OUTSIDE_BOUNDARY=J.PePCSInfo.prototype.PE_POLE_OUTSIDE_BOUNDARY,t.PE_POLE_POINT=J.PePCSInfo.prototype.PE_POLE_POINT}function o(h,p=t.PE_PCSINFO_OPTION_DOMAIN){let m=null,v=null;return e.has(h)&&(v=e.get(h),v[p]&&(m=v[p])),m||(m=J.PePCSInfo.prototype.generate(h,p),v||(v=[],e.set(h,v)),v[p]=m),m}t.init=i,t.generate=o}(Z0||(Z0={})),function(t){function e(){return J.PeVersion.prototype.version_string()}t.versionString=e}(Zm||(Zm={}));const aet=Object.freeze(Object.defineProperty({__proto__:null,get PeCSTransformations(){return Bm},get PeDefs(){return ve},get PeDouble(){return H7},get PeFactory(){return Oc},get PeGCSExtent(){return W7},get PeGTTransformations(){return Gm},get PeGTlistExtended(){return H0},get PeGTlistExtendedEntry(){return Vm},get PeLineType(){return qm},get PeMath(){return Hm},get PeNotationDms(){return Wm},get PeNotationMgrs(){return W0},get PeNotationUsng(){return Jm},get PeNotationUtm(){return J0},get PePCSInfo(){return Z0},get PeVersion(){return Zm},_init:J7,get _pe(){return J},isLoaded:G7,isSupported:YD,load:q7},Symbol.toStringTag,{value:"Module"}));var wl;(function(t){t[t.CGCS2000=4490]="CGCS2000",t[t.GCSMARS2000=104971]="GCSMARS2000",t[t.GCSMARS2000_SPHERE=104905]="GCSMARS2000_SPHERE",t[t.GCSMOON2000=104903]="GCSMOON2000"})(wl||(wl={}));let x;const j={values:[1,.3048,.3048006096012192,.3047972654,.9143917962,.201166195164,.9143984146160287,.3047994715386762,20.11676512155263,20.11678249437587,.9143985307444408,.91439523,.3047997101815088,20.1168,20.116756,5e4,15e4],units:["Meter","Foot","Foot_US","Foot_Clarke","Yard_Clarke","Link_Clarke","Yard_Sears","Foot_Sears","Chain_Sears","Chain_Benoit_1895_B","Yard_Indian","Yard_Indian_1937","Foot_Gold_Coast","Chain","Chain_Sears_1922_Truncated","50_Kilometers","150_Kilometers"],2066:5,2136:12,2155:2,2157:0,2158:0,2159:12,2160:12,2204:2,2219:0,2220:0,2254:2,2255:2,2256:1,2265:1,2266:1,2267:2,2268:2,2269:1,2270:1,2271:2,2272:2,2273:1,2294:0,2295:0,2314:3,2899:2,2900:2,2901:1,2909:1,2910:1,2911:2,2912:2,2913:1,2914:1,2992:1,2993:0,2994:1,3080:1,3089:2,3090:0,3091:2,3102:2,3141:0,3142:0,3167:14,3359:2,3360:0,3361:1,3362:0,3363:2,3364:0,3365:2,3366:3,3404:2,3405:0,3406:0,3407:3,3439:0,3440:0,3479:1,3480:0,3481:1,3482:0,3483:1,3484:0,3485:2,3486:0,3487:2,3488:0,3489:0,3490:2,3491:0,3492:2,3493:0,3494:2,3495:0,3496:2,3497:0,3498:2,3499:0,3500:2,3501:0,3502:2,3503:0,3504:2,3505:0,3506:2,3507:0,3508:2,3509:0,3510:2,3511:0,3512:2,3513:0,3514:0,3515:2,3516:0,3517:2,3518:0,3519:2,3520:0,3521:2,3522:0,3523:2,3524:0,3525:2,3526:0,3527:2,3528:0,3529:2,3530:0,3531:2,3532:0,3533:2,3534:0,3535:2,3536:0,3537:2,3538:0,3539:2,3540:0,3541:2,3542:0,3543:2,3544:0,3545:2,3546:0,3547:2,3548:0,3549:2,3550:0,3551:2,3552:0,3553:2,3582:2,3583:0,3584:2,3585:0,3586:2,3587:0,3588:1,3589:0,3590:1,3591:0,3592:0,3593:1,3598:2,3599:0,3600:2,3605:1,3606:0,3607:0,3608:2,3609:0,3610:2,3611:0,3612:2,3613:0,3614:2,3615:0,3616:2,3617:0,3618:2,3619:0,3620:2,3621:0,3622:2,3623:0,3624:2,3625:0,3626:2,3627:0,3628:2,3629:0,3630:2,3631:0,3632:2,3633:0,3634:1,3635:0,3636:1,3640:2,3641:0,3642:2,3643:0,3644:1,3645:0,3646:1,3647:0,3648:1,3649:0,3650:2,3651:0,3652:2,3653:0,3654:2,3655:0,3656:1,3657:0,3658:2,3659:0,3660:2,3661:0,3662:2,3663:0,3664:2,3668:2,3669:0,3670:2,3671:0,3672:2,3673:0,3674:2,3675:0,3676:1,3677:2,3678:0,3679:1,3680:2,3681:0,3682:1,3683:2,3684:0,3685:0,3686:2,3687:0,3688:2,3689:0,3690:2,3691:0,3692:2,3696:2,3697:0,3698:2,3699:0,3700:2,3793:0,3794:0,3812:0,3854:0,3857:0,3920:0,3978:0,3979:0,3991:2,3992:2,4026:0,4037:0,4038:0,4071:0,4082:0,4083:0,4087:0,4088:0,4217:2,4414:0,4415:0,4417:0,4434:0,4437:0,4438:2,4439:2,4462:0,4467:0,4471:0,4474:0,4559:0,4647:0,4822:0,4826:0,4839:0,5018:0,5041:0,5042:0,5048:0,5221:0,5223:0,5234:0,5235:0,5243:0,5247:0,5266:0,5316:0,5320:0,5321:0,5325:0,5337:0,5361:0,5362:0,5367:0,5382:0,5383:0,5396:0,5456:0,5457:0,5469:0,5472:4,5490:0,5513:0,5514:0,5523:0,5559:0,5588:1,5589:3,5596:0,5627:0,5629:0,5641:0,5643:0,5644:0,5646:2,5654:2,5655:2,5659:0,5700:0,5825:0,5836:0,5837:0,5839:0,5842:0,5844:0,5858:0,5879:0,5880:0,5887:0,5890:0,6128:1,6129:1,6141:1,6204:0,6210:0,6211:0,6307:0,6312:0,6316:0,6362:0,6391:1,6405:1,6406:0,6407:1,6408:0,6409:1,6410:0,6411:2,6412:0,6413:2,6414:0,6415:0,6416:2,6417:0,6418:2,6419:0,6420:2,6421:0,6422:2,6423:0,6424:2,6425:0,6426:2,6427:0,6428:2,6429:0,6430:2,6431:0,6432:2,6433:0,6434:2,6435:0,6436:2,6437:0,6438:2,6439:0,6440:0,6441:2,6442:0,6443:2,6444:0,6445:2,6446:0,6447:2,6448:0,6449:2,6450:0,6451:2,6452:0,6453:2,6454:0,6455:2,6456:0,6457:2,6458:0,6459:2,6460:0,6461:2,6462:0,6463:2,6464:0,6465:2,6466:0,6467:2,6468:0,6469:2,6470:0,6471:2,6472:0,6473:2,6474:0,6475:2,6476:0,6477:2,6478:0,6479:2,6484:2,6485:0,6486:2,6487:0,6488:2,6489:0,6490:2,6491:0,6492:2,6493:0,6494:1,6495:0,6496:1,6497:0,6498:0,6499:1,6500:0,6501:2,6502:0,6503:2,6504:0,6505:2,6506:0,6507:2,6508:0,6509:0,6510:2,6515:1,6516:0,6518:0,6519:2,6520:0,6521:2,6522:0,6523:2,6524:0,6525:2,6526:0,6527:2,6528:0,6529:2,6530:0,6531:2,6532:0,6533:2,6534:0,6535:2,6536:0,6537:2,6538:0,6539:2,6540:0,6541:2,6542:0,6543:2,6544:0,6545:1,6546:0,6547:1,6548:0,6549:2,6550:0,6551:2,6552:0,6553:2,6554:0,6555:2,6556:0,6557:1,6558:0,6559:1,6560:0,6561:1,6562:0,6563:2,6564:0,6565:2,6566:0,6567:0,6568:2,6569:0,6570:1,6571:0,6572:2,6573:0,6574:2,6575:0,6576:2,6577:0,6578:2,6582:2,6583:0,6584:2,6585:0,6586:2,6587:0,6588:2,6589:0,6590:2,6591:0,6592:0,6593:2,6594:0,6595:2,6596:0,6597:2,6598:0,6599:2,6600:0,6601:2,6602:0,6603:2,6605:2,6606:0,6607:2,6608:0,6609:2,6610:0,6611:0,6612:2,6613:0,6614:2,6615:0,6616:2,6617:0,6618:2,6633:2,6646:0,6703:0,6784:0,6785:1,6786:0,6787:1,6788:0,6789:1,6790:0,6791:1,6792:0,6793:1,6794:0,6795:1,6796:0,6797:1,6798:0,6799:1,6800:0,6801:1,6802:0,6803:1,6804:0,6805:1,6806:0,6807:1,6808:0,6809:1,6810:0,6811:1,6812:0,6813:1,6814:0,6815:1,6816:0,6817:1,6818:0,6819:1,6820:0,6821:1,6822:0,6823:1,6824:0,6825:1,6826:0,6827:1,6828:0,6829:1,6830:0,6831:1,6832:0,6833:1,6834:0,6835:1,6836:0,6837:1,6838:0,6839:1,6840:0,6841:1,6842:0,6843:1,6844:0,6845:1,6846:0,6847:1,6848:0,6849:1,6850:0,6851:1,6852:0,6853:1,6854:0,6855:1,6856:0,6857:1,6858:0,6859:1,6860:0,6861:1,6862:0,6863:1,6867:0,6868:1,6870:0,6875:0,6876:0,6879:0,6880:2,6884:0,6885:1,6886:0,6887:1,6915:0,6922:0,6923:2,6924:0,6925:2,6962:0,6984:0,6991:0,7128:2,7131:0,7132:2,7142:0,7257:0,7258:2,7259:0,7260:2,7261:0,7262:2,7263:0,7264:2,7265:0,7266:2,7267:0,7268:2,7269:0,7270:2,7271:0,7272:2,7273:0,7274:2,7275:0,7276:2,7277:0,7278:2,7279:0,7280:2,7281:0,7282:2,7283:0,7284:2,7285:0,7286:2,7287:0,7288:2,7289:0,7290:2,7291:0,7292:2,7293:0,7294:2,7295:0,7296:2,7297:0,7298:2,7299:0,7300:2,7301:0,7302:2,7303:0,7304:2,7305:0,7306:2,7307:0,7308:2,7309:0,7310:2,7311:0,7312:2,7313:0,7314:2,7315:0,7316:2,7317:0,7318:2,7319:0,7320:2,7321:0,7322:2,7323:0,7324:2,7325:0,7326:2,7327:0,7328:2,7329:0,7330:2,7331:0,7332:2,7333:0,7334:2,7335:0,7336:2,7337:0,7338:2,7339:0,7340:2,7341:0,7342:2,7343:0,7344:2,7345:0,7346:2,7347:0,7348:2,7349:0,7350:2,7351:0,7352:2,7353:0,7354:2,7355:0,7356:2,7357:0,7358:2,7359:0,7360:2,7361:0,7362:2,7363:0,7364:2,7365:0,7366:2,7367:0,7368:2,7369:0,7370:2,7877:0,7878:0,7882:0,7883:0,7887:0,7899:0,7991:0,7992:0,8035:2,8036:2,8058:0,8059:0,8082:0,8083:0,8088:0,8090:0,8091:2,8092:0,8093:2,8095:0,8096:2,8097:0,8098:2,8099:0,8100:2,8101:0,8102:2,8103:0,8104:2,8105:0,8106:2,8107:0,8108:2,8109:0,8110:2,8111:0,8112:2,8113:0,8114:2,8115:0,8116:2,8117:0,8118:2,8119:0,8120:2,8121:0,8122:2,8123:0,8124:2,8125:0,8126:2,8127:0,8128:2,8129:0,8130:2,8131:0,8132:2,8133:0,8134:2,8135:0,8136:2,8137:0,8138:2,8139:0,8140:2,8141:0,8142:2,8143:0,8144:2,8145:0,8146:2,8147:0,8148:2,8149:0,8150:2,8151:0,8152:2,8153:0,8154:2,8155:0,8156:2,8157:0,8158:2,8159:0,8160:2,8161:0,8162:2,8163:0,8164:2,8165:0,8166:2,8167:0,8168:2,8169:0,8170:2,8171:0,8172:2,8173:0,8177:2,8179:0,8180:2,8181:0,8182:2,8184:0,8185:2,8187:0,8189:2,8191:0,8193:2,8196:0,8197:2,8198:0,8200:2,8201:0,8202:2,8203:0,8204:2,8205:0,8206:2,8207:0,8208:2,8209:0,8210:2,8212:0,8213:2,8214:0,8216:2,8218:0,8220:2,8222:0,8224:2,8225:0,8226:2,8311:0,8312:1,8313:0,8314:1,8315:0,8316:1,8317:0,8318:1,8319:0,8320:1,8321:0,8322:1,8323:0,8324:1,8325:0,8326:1,8327:0,8328:1,8329:0,8330:1,8331:0,8332:1,8333:0,8334:1,8335:0,8336:1,8337:0,8338:1,8339:0,8340:1,8341:0,8342:1,8343:0,8344:1,8345:0,8346:1,8347:0,8348:1,8352:0,8353:0,8379:0,8380:2,8381:0,8382:2,8383:0,8384:2,8385:0,8387:2,8391:0,8395:0,8433:0,8441:0,8455:0,8456:0,8531:2,8682:0,8686:0,8687:0,8692:0,8693:0,8826:0,8903:0,8950:0,8951:0,9039:0,9040:0,9141:0,9149:0,9150:0,9191:0,9221:0,9222:0,9249:0,9250:0,9252:0,9254:0,9265:0,9284:0,9285:0,9300:0,9354:0,9367:0,9373:0,9377:0,9387:0,9391:0,9456:0,9473:0,9498:0,9674:0,9678:0,9680:0,9709:0,9712:0,9713:0,9716:0,9741:0,9748:2,9749:2,9761:0,9766:0,9793:0,9794:0,9869:0,9874:0,9875:0,9880:0,9895:0,9943:0,9945:0,9947:0,9967:0,9972:0,9977:0,10160:0,10183:0,10188:0,10194:0,10199:0,10207:0,10212:0,10217:0,10222:0,10227:0,10235:0,10240:0,10250:0,10254:0,10270:0,10275:0,10280:0,10306:0,10329:0,10471:0,10477:0,10481:2,10516:2,20002:0,20042:0,20050:1,20499:0,20538:0,20539:0,20790:0,20791:0,21291:0,21292:0,21500:0,21817:0,21818:0,22032:0,22033:0,22091:0,22092:0,22239:0,22240:0,22332:0,22337:0,22338:0,22391:0,22392:0,22639:0,22700:0,22739:0,22770:0,22780:0,22832:0,23090:0,23095:0,23239:0,23240:0,23433:0,23700:0,24047:0,24048:0,24100:3,24200:0,24305:0,24306:0,24382:10,24383:0,24500:0,24547:0,24548:0,24571:9,24600:0,25e3:0,25231:0,25884:0,25932:0,26237:0,26331:0,26332:0,26432:0,26591:0,26592:0,26632:0,26692:0,27120:0,27200:0,27291:6,27292:6,27429:0,27492:0,27493:0,27500:0,28232:0,28600:0,28991:0,28992:0,29100:0,29101:0,29220:0,29221:0,29333:0,29635:0,29636:0,29701:0,29738:0,29739:0,29849:0,29850:0,29871:8,29872:7,29873:0,29874:0,30200:5,30339:0,30340:0,30591:0,30592:0,30791:0,30792:0,30800:0,31028:0,31121:0,31154:0,31170:0,31171:0,31370:0,31528:0,31529:0,31600:0,31700:0,31838:0,31839:0,31900:0,31901:0,32061:0,32062:0,32098:0,32099:2,32100:0,32104:0,32161:0,32766:0,53048:0,53049:0,54090:0,54091:0,65061:2,65062:2,65161:0,65163:0,102041:2,102064:11,102068:15,102069:16,102118:2,102119:1,102120:2,102121:2,102217:2,102218:0,102219:2,102220:2,102378:1,102379:1,102380:0,102381:1,102589:2,102599:2,102600:2,102604:2,102647:0,102704:2,102705:2,102706:0,102731:0,102732:0,102759:1,102760:1,102761:2,102762:0,102763:2,102764:0,102765:0,102766:2,102970:1,102974:2,102993:0,102994:0,102995:2,102996:2,103015:0,103016:2,103017:0,103018:2,103025:0,103026:0,103027:2,103028:2,103035:0,103036:0,103037:2,103038:2,103039:0,103040:0,103041:2,103042:2,103043:0,103044:0,103045:2,103046:2,103047:0,103048:0,103049:2,103050:2,103051:0,103052:2,103053:0,103054:2,103055:0,103056:2,103057:0,103058:0,103059:2,103060:2,103061:0,103062:0,103063:2,103064:2,103069:2,103070:0,103071:0,103072:2,103073:2,103086:0,103087:0,103088:2,103089:2,103094:1,103095:0,103096:2,103103:0,103104:2,103105:0,103106:2,103121:0,103122:2,103123:0,103124:0,103125:1,103126:1,103127:0,103128:0,103129:2,103130:2,103131:0,103132:0,103133:2,103134:2,103135:0,103136:0,103137:1,103138:1,103139:0,103140:2,103141:0,103142:2,103143:0,103144:2,103145:0,103146:1,103147:0,103148:0,103149:2,103150:2,103151:0,103152:2,103172:0,103173:2,103174:0,103175:0,103176:2,103177:2,103178:0,103179:0,103180:2,103181:2,103182:0,103183:0,103184:2,103185:2,103228:0,103229:0,103230:2,103231:2,103250:0,103251:2,103252:0,103253:2,103260:0,103261:0,103262:2,103263:2,103270:0,103271:0,103272:2,103273:2,103274:0,103275:0,103276:2,103277:2,103278:0,103279:0,103280:2,103281:2,103282:0,103283:0,103284:2,103285:2,103286:0,103287:2,103288:0,103289:2,103290:0,103291:2,103292:0,103293:0,103294:2,103295:2,103296:0,103297:0,103298:2,103299:2,103376:2,103377:0,103378:0,103379:2,103380:2,103393:0,103394:0,103395:2,103396:2,103472:0,103473:1,103474:0,103475:2,103482:0,103483:2,103484:0,103485:2,103500:0,103501:2,103502:0,103503:0,103504:1,103505:1,103506:0,103507:0,103508:2,103509:2,103510:0,103511:0,103512:2,103513:2,103514:0,103515:2,103516:0,103517:2,103518:0,103519:2,103520:0,103521:1,103522:0,103523:0,103524:2,103525:2,103526:0,103527:2,103561:2,103562:2,103563:0,103564:0,103565:2,103566:2,103567:0,103568:0,103569:2,103570:2,103584:0,103585:2,103586:0,103587:2,103588:1,103589:0,103590:2,103591:1,103592:0,103593:2,103594:1,103695:2,103897:1};for(x=2e3;x<=2045;x++)j[x]=0;for(x=2056;x<=2065;x++)j[x]=0;for(x=2067;x<=2135;x++)j[x]=0;for(x=2137;x<=2154;x++)j[x]=0;for(x=2161;x<=2170;x++)j[x]=0;for(x=2172;x<=2193;x++)j[x]=0;for(x=2195;x<=2198;x++)j[x]=0;for(x=2200;x<=2203;x++)j[x]=0;for(x=2205;x<=2217;x++)j[x]=0;for(x=2222;x<=2224;x++)j[x]=1;for(x=2225;x<=2250;x++)j[x]=2;for(x=2251;x<=2253;x++)j[x]=1;for(x=2257;x<=2264;x++)j[x]=2;for(x=2274;x<=2279;x++)j[x]=2;for(x=2280;x<=2282;x++)j[x]=1;for(x=2283;x<=2289;x++)j[x]=2;for(x=2290;x<=2292;x++)j[x]=0;for(x=2308;x<=2313;x++)j[x]=0;for(x=2315;x<=2491;x++)j[x]=0;for(x=2494;x<=2866;x++)j[x]=0;for(x=2867;x<=2869;x++)j[x]=1;for(x=2870;x<=2888;x++)j[x]=2;for(x=2891;x<=2895;x++)j[x]=2;for(x=2896;x<=2898;x++)j[x]=1;for(x=2902;x<=2908;x++)j[x]=2;for(x=2915;x<=2920;x++)j[x]=2;for(x=2921;x<=2923;x++)j[x]=1;for(x=2924;x<=2930;x++)j[x]=2;for(x=2931;x<=2962;x++)j[x]=0;for(x=2964;x<=2968;x++)j[x]=2;for(x=2969;x<=2973;x++)j[x]=0;for(x=2975;x<=2991;x++)j[x]=0;for(x=2995;x<=3051;x++)j[x]=0;for(x=3054;x<=3079;x++)j[x]=0;for(x=3081;x<=3088;x++)j[x]=0;for(x=3092;x<=3101;x++)j[x]=0;for(x=3106;x<=3138;x++)j[x]=0;for(x=3146;x<=3151;x++)j[x]=0;for(x=3153;x<=3166;x++)j[x]=0;for(x=3168;x<=3172;x++)j[x]=0;for(x=3174;x<=3203;x++)j[x]=0;for(x=3294;x<=3358;x++)j[x]=0;for(x=3367;x<=3403;x++)j[x]=0;for(x=3408;x<=3416;x++)j[x]=0;for(x=3417;x<=3438;x++)j[x]=2;for(x=3441;x<=3446;x++)j[x]=2;for(x=3447;x<=3450;x++)j[x]=0;for(x=3451;x<=3459;x++)j[x]=2;for(x=3460;x<=3478;x++)j[x]=0;for(x=3554;x<=3559;x++)j[x]=0;for(x=3560;x<=3570;x++)j[x]=2;for(x=3571;x<=3581;x++)j[x]=0;for(x=3594;x<=3597;x++)j[x]=0;for(x=3601;x<=3604;x++)j[x]=0;for(x=3637;x<=3639;x++)j[x]=0;for(x=3665;x<=3667;x++)j[x]=0;for(x=3693;x<=3695;x++)j[x]=0;for(x=3701;x<=3727;x++)j[x]=0;for(x=3728;x<=3739;x++)j[x]=2;for(x=3740;x<=3751;x++)j[x]=0;for(x=3753;x<=3760;x++)j[x]=2;for(x=3761;x<=3773;x++)j[x]=0;for(x=3775;x<=3777;x++)j[x]=0;for(x=3779;x<=3781;x++)j[x]=0;for(x=3783;x<=3785;x++)j[x]=0;for(x=3788;x<=3791;x++)j[x]=0;for(x=3797;x<=3802;x++)j[x]=0;for(x=3814;x<=3816;x++)j[x]=0;for(x=3825;x<=3829;x++)j[x]=0;for(x=3832;x<=3841;x++)j[x]=0;for(x=3844;x<=3852;x++)j[x]=0;for(x=3873;x<=3885;x++)j[x]=0;for(x=3890;x<=3893;x++)j[x]=0;for(x=3907;x<=3912;x++)j[x]=0;for(x=3942;x<=3950;x++)j[x]=0;for(x=3968;x<=3970;x++)j[x]=0;for(x=3973;x<=3976;x++)j[x]=0;for(x=3986;x<=3989;x++)j[x]=0;for(x=3994;x<=3997;x++)j[x]=0;for(x=4048;x<=4051;x++)j[x]=0;for(x=4056;x<=4063;x++)j[x]=0;for(x=4093;x<=4096;x++)j[x]=0;for(x=4390;x<=4398;x++)j[x]=0;for(x=4399;x<=4413;x++)j[x]=2;for(x=4418;x<=4433;x++)j[x]=2;for(x=4455;x<=4457;x++)j[x]=2;for(x=4484;x<=4489;x++)j[x]=0;for(x=4491;x<=4554;x++)j[x]=0;for(x=4568;x<=4589;x++)j[x]=0;for(x=4652;x<=4656;x++)j[x]=0;for(x=4766;x<=4800;x++)j[x]=0;for(x=5014;x<=5016;x++)j[x]=0;for(x=5069;x<=5072;x++)j[x]=0;for(x=5105;x<=5130;x++)j[x]=0;for(x=5167;x<=5188;x++)j[x]=0;for(x=5253;x<=5259;x++)j[x]=0;for(x=5269;x<=5275;x++)j[x]=0;for(x=5292;x<=5311;x++)j[x]=0;for(x=5329;x<=5331;x++)j[x]=0;for(x=5343;x<=5349;x++)j[x]=0;for(x=5355;x<=5357;x++)j[x]=0;for(x=5387;x<=5389;x++)j[x]=0;for(x=5459;x<=5463;x++)j[x]=0;for(x=5479;x<=5482;x++)j[x]=0;for(x=5518;x<=5520;x++)j[x]=0;for(x=5530;x<=5539;x++)j[x]=0;for(x=5550;x<=5552;x++)j[x]=0;for(x=5562;x<=5583;x++)j[x]=0;for(x=5623;x<=5625;x++)j[x]=2;for(x=5631;x<=5639;x++)j[x]=0;for(x=5649;x<=5653;x++)j[x]=0;for(x=5663;x<=5680;x++)j[x]=0;for(x=5682;x<=5685;x++)j[x]=0;for(x=5875;x<=5877;x++)j[x]=0;for(x=5896;x<=5899;x++)j[x]=0;for(x=5921;x<=5940;x++)j[x]=0;for(x=6050;x<=6125;x++)j[x]=0;for(x=6244;x<=6275;x++)j[x]=0;for(x=6328;x<=6348;x++)j[x]=0;for(x=6350;x<=6356;x++)j[x]=0;for(x=6366;x<=6372;x++)j[x]=0;for(x=6381;x<=6387;x++)j[x]=0;for(x=6393;x<=6404;x++)j[x]=0;for(x=6480;x<=6483;x++)j[x]=0;for(x=6511;x<=6514;x++)j[x]=0;for(x=6579;x<=6581;x++)j[x]=0;for(x=6619;x<=6624;x++)j[x]=0;for(x=6625;x<=6627;x++)j[x]=2;for(x=6628;x<=6632;x++)j[x]=0;for(x=6634;x<=6637;x++)j[x]=0;for(x=6669;x<=6692;x++)j[x]=0;for(x=6707;x<=6709;x++)j[x]=0;for(x=6720;x<=6723;x++)j[x]=0;for(x=6732;x<=6738;x++)j[x]=0;for(x=6931;x<=6933;x++)j[x]=0;for(x=6956;x<=6959;x++)j[x]=0;for(x=7005;x<=7007;x++)j[x]=0;for(x=7057;x<=7070;x++)j[x]=2;for(x=7074;x<=7082;x++)j[x]=0;for(x=7109;x<=7118;x++)j[x]=0;for(x=7119;x<=7127;x++)j[x]=1;for(x=7374;x<=7376;x++)j[x]=0;for(x=7528;x<=7586;x++)j[x]=0;for(x=7587;x<=7645;x++)j[x]=2;for(x=7692;x<=7696;x++)j[x]=0;for(x=7755;x<=7787;x++)j[x]=0;for(x=7791;x<=7795;x++)j[x]=0;for(x=7799;x<=7801;x++)j[x]=0;for(x=7803;x<=7805;x++)j[x]=0;for(x=7825;x<=7831;x++)j[x]=0;for(x=7845;x<=7859;x++)j[x]=0;for(x=8013;x<=8032;x++)j[x]=0;for(x=8065;x<=8068;x++)j[x]=1;for(x=8518;x<=8529;x++)j[x]=2;for(x=8533;x<=8536;x++)j[x]=2;for(x=8538;x<=8540;x++)j[x]=2;for(x=8677;x<=8679;x++)j[x]=0;for(x=8836;x<=8840;x++)j[x]=0;for(x=8857;x<=8859;x++)j[x]=0;for(x=8908;x<=8910;x++)j[x]=0;for(x=9154;x<=9159;x++)j[x]=0;for(x=9205;x<=9218;x++)j[x]=0;for(x=9271;x<=9273;x++)j[x]=0;for(x=9295;x<=9297;x++)j[x]=0;for(x=9356;x<=9360;x++)j[x]=0;for(x=9404;x<=9407;x++)j[x]=0;for(x=9476;x<=9482;x++)j[x]=0;for(x=9487;x<=9494;x++)j[x]=0;for(x=9697;x<=9699;x++)j[x]=0;for(x=9821;x<=9865;x++)j[x]=0;for(x=10285;x<=10291;x++)j[x]=0;for(x=10314;x<=10317;x++)j[x]=0;for(x=10448;x<=10465;x++)j[x]=0;for(x=10731;x<=10733;x++)j[x]=0;for(x=11114;x<=11118;x++)j[x]=0;for(x=20004;x<=20032;x++)j[x]=0;for(x=20047;x<=20049;x++)j[x]=0;for(x=20062;x<=20092;x++)j[x]=0;for(x=20135;x<=20138;x++)j[x]=0;for(x=20248;x<=20258;x++)j[x]=0;for(x=20348;x<=20358;x++)j[x]=0;for(x=20436;x<=20440;x++)j[x]=0;for(x=20822;x<=20824;x++)j[x]=0;for(x=20904;x<=20932;x++)j[x]=0;for(x=20934;x<=20936;x++)j[x]=0;for(x=21004;x<=21032;x++)j[x]=0;for(x=21035;x<=21037;x++)j[x]=0;for(x=21095;x<=21097;x++)j[x]=0;for(x=21148;x<=21150;x++)j[x]=0;for(x=21207;x<=21264;x++)j[x]=0;for(x=21307;x<=21364;x++)j[x]=0;for(x=21413;x<=21423;x++)j[x]=0;for(x=21453;x<=21463;x++)j[x]=0;for(x=21473;x<=21483;x++)j[x]=0;for(x=21780;x<=21782;x++)j[x]=0;for(x=21891;x<=21894;x++)j[x]=0;for(x=21896;x<=21899;x++)j[x]=0;for(x=22171;x<=22177;x++)j[x]=0;for(x=22181;x<=22187;x++)j[x]=0;for(x=22191;x<=22197;x++)j[x]=0;for(x=22207;x<=22222;x++)j[x]=0;for(x=22229;x<=22232;x++)j[x]=0;for(x=22234;x<=22236;x++)j[x]=0;for(x=22243;x<=22250;x++)j[x]=0;for(x=22262;x<=22265;x++)j[x]=0;for(x=22307;x<=22322;x++)j[x]=0;for(x=22348;x<=22357;x++)j[x]=0;for(x=22407;x<=22422;x++)j[x]=0;for(x=22462;x<=22465;x++)j[x]=0;for(x=22521;x<=22525;x++)j[x]=0;for(x=22607;x<=22622;x++)j[x]=0;for(x=22641;x<=22646;x++)j[x]=0;for(x=22648;x<=22657;x++)j[x]=0;for(x=22707;x<=22722;x++)j[x]=0;for(x=22762;x<=22765;x++)j[x]=0;for(x=22807;x<=22822;x++)j[x]=0;for(x=22991;x<=22994;x++)j[x]=0;for(x=23028;x<=23038;x++)j[x]=0;for(x=23301;x<=23333;x++)j[x]=2;for(x=23830;x<=23853;x++)j[x]=0;for(x=23866;x<=23872;x++)j[x]=0;for(x=23877;x<=23884;x++)j[x]=0;for(x=23886;x<=23894;x++)j[x]=0;for(x=23946;x<=23948;x++)j[x]=0;for(x=24311;x<=24313;x++)j[x]=0;for(x=24342;x<=24347;x++)j[x]=0;for(x=24370;x<=24374;x++)j[x]=10;for(x=24375;x<=24381;x++)j[x]=0;for(x=24718;x<=24721;x++)j[x]=0;for(x=24817;x<=24821;x++)j[x]=0;for(x=24877;x<=24882;x++)j[x]=0;for(x=24891;x<=24893;x++)j[x]=0;for(x=25391;x<=25395;x++)j[x]=0;for(x=25828;x<=25838;x++)j[x]=0;for(x=26191;x<=26195;x++)j[x]=0;for(x=26391;x<=26393;x++)j[x]=0;for(x=26701;x<=26722;x++)j[x]=0;for(x=26729;x<=26799;x++)j[x]=2;for(x=26801;x<=26803;x++)j[x]=2;for(x=26811;x<=26813;x++)j[x]=2;for(x=26847;x<=26870;x++)j[x]=2;for(x=26891;x<=26899;x++)j[x]=0;for(x=26901;x<=26923;x++)j[x]=0;for(x=26929;x<=26946;x++)j[x]=0;for(x=26948;x<=26998;x++)j[x]=0;for(x=27037;x<=27040;x++)j[x]=0;for(x=27205;x<=27232;x++)j[x]=0;for(x=27258;x<=27260;x++)j[x]=0;for(x=27391;x<=27398;x++)j[x]=0;for(x=27561;x<=27564;x++)j[x]=0;for(x=27571;x<=27574;x++)j[x]=0;for(x=27581;x<=27584;x++)j[x]=0;for(x=27591;x<=27594;x++)j[x]=0;for(x=27700;x<=27707;x++)j[x]=0;for(x=28191;x<=28193;x++)j[x]=0;for(x=28348;x<=28358;x++)j[x]=0;for(x=28402;x<=28432;x++)j[x]=0;for(x=28462;x<=28492;x++)j[x]=0;for(x=29118;x<=29122;x++)j[x]=0;for(x=29168;x<=29172;x++)j[x]=0;for(x=29177;x<=29185;x++)j[x]=0;for(x=29187;x<=29195;x++)j[x]=0;for(x=29900;x<=29903;x++)j[x]=0;for(x=30161;x<=30179;x++)j[x]=0;for(x=30491;x<=30494;x++)j[x]=0;for(x=30729;x<=30732;x++)j[x]=0;for(x=31251;x<=31259;x++)j[x]=0;for(x=31265;x<=31268;x++)j[x]=0;for(x=31275;x<=31279;x++)j[x]=0;for(x=31281;x<=31297;x++)j[x]=0;for(x=31461;x<=31469;x++)j[x]=0;for(x=31491;x<=31495;x++)j[x]=0;for(x=31917;x<=31922;x++)j[x]=0;for(x=31965;x<=32e3;x++)j[x]=0;for(x=32001;x<=32003;x++)j[x]=2;for(x=32005;x<=32031;x++)j[x]=2;for(x=32033;x<=32060;x++)j[x]=2;for(x=32064;x<=32067;x++)j[x]=2;for(x=32074;x<=32077;x++)j[x]=2;for(x=32081;x<=32086;x++)j[x]=0;for(x=32107;x<=32130;x++)j[x]=0;for(x=32133;x<=32159;x++)j[x]=0;for(x=32164;x<=32167;x++)j[x]=2;for(x=32180;x<=32199;x++)j[x]=0;for(x=32201;x<=32260;x++)j[x]=0;for(x=32301;x<=32360;x++)j[x]=0;for(x=32401;x<=32460;x++)j[x]=0;for(x=32501;x<=32560;x++)j[x]=0;for(x=32601;x<=32662;x++)j[x]=0;for(x=32664;x<=32667;x++)j[x]=2;for(x=32701;x<=32761;x++)j[x]=0;for(x=53001;x<=53004;x++)j[x]=0;for(x=53008;x<=53019;x++)j[x]=0;for(x=53021;x<=53032;x++)j[x]=0;for(x=53034;x<=53037;x++)j[x]=0;for(x=53042;x<=53046;x++)j[x]=0;for(x=53074;x<=53080;x++)j[x]=0;for(x=54001;x<=54004;x++)j[x]=0;for(x=54008;x<=54019;x++)j[x]=0;for(x=54021;x<=54032;x++)j[x]=0;for(x=54034;x<=54037;x++)j[x]=0;for(x=54042;x<=54046;x++)j[x]=0;for(x=54048;x<=54053;x++)j[x]=0;for(x=54074;x<=54080;x++)j[x]=0;for(x=54098;x<=54101;x++)j[x]=0;for(x=102001;x<=102040;x++)j[x]=0;for(x=102042;x<=102063;x++)j[x]=0;for(x=102065;x<=102067;x++)j[x]=0;for(x=102070;x<=102117;x++)j[x]=0;for(x=102122;x<=102216;x++)j[x]=0;for(x=102221;x<=102377;x++)j[x]=0;for(x=102382;x<=102388;x++)j[x]=0;for(x=102389;x<=102398;x++)j[x]=2;for(x=102399;x<=102444;x++)j[x]=0;for(x=102445;x<=102447;x++)j[x]=2;for(x=102448;x<=102458;x++)j[x]=0;for(x=102459;x<=102468;x++)j[x]=2;for(x=102469;x<=102499;x++)j[x]=0;for(x=102500;x<=102519;x++)j[x]=1;for(x=102520;x<=102524;x++)j[x]=0;for(x=102525;x<=102529;x++)j[x]=2;for(x=102530;x<=102588;x++)j[x]=0;for(x=102590;x<=102598;x++)j[x]=0;for(x=102601;x<=102603;x++)j[x]=0;for(x=102605;x<=102628;x++)j[x]=0;for(x=102629;x<=102646;x++)j[x]=2;for(x=102648;x<=102700;x++)j[x]=2;for(x=102701;x<=102703;x++)j[x]=0;for(x=102707;x<=102730;x++)j[x]=2;for(x=102733;x<=102758;x++)j[x]=2;for(x=102767;x<=102900;x++)j[x]=0;for(x=102901;x<=102933;x++)j[x]=2;for(x=102934;x<=102950;x++)j[x]=13;for(x=102951;x<=102963;x++)j[x]=0;for(x=102965;x<=102969;x++)j[x]=0;for(x=102971;x<=102973;x++)j[x]=0;for(x=102975;x<=102989;x++)j[x]=0;for(x=102990;x<=102992;x++)j[x]=1;for(x=102997;x<=103002;x++)j[x]=0;for(x=103003;x<=103008;x++)j[x]=2;for(x=103009;x<=103011;x++)j[x]=0;for(x=103012;x<=103014;x++)j[x]=2;for(x=103019;x<=103021;x++)j[x]=0;for(x=103022;x<=103024;x++)j[x]=2;for(x=103029;x<=103031;x++)j[x]=0;for(x=103032;x<=103034;x++)j[x]=2;for(x=103065;x<=103068;x++)j[x]=0;for(x=103074;x<=103076;x++)j[x]=0;for(x=103077;x<=103079;x++)j[x]=1;for(x=103080;x<=103082;x++)j[x]=0;for(x=103083;x<=103085;x++)j[x]=2;for(x=103090;x<=103093;x++)j[x]=0;for(x=103097;x<=103099;x++)j[x]=0;for(x=103100;x<=103102;x++)j[x]=2;for(x=103107;x<=103109;x++)j[x]=0;for(x=103110;x<=103112;x++)j[x]=2;for(x=103113;x<=103116;x++)j[x]=0;for(x=103117;x<=103120;x++)j[x]=2;for(x=103153;x<=103157;x++)j[x]=0;for(x=103158;x<=103162;x++)j[x]=2;for(x=103163;x<=103165;x++)j[x]=0;for(x=103166;x<=103168;x++)j[x]=1;for(x=103169;x<=103171;x++)j[x]=2;for(x=103186;x<=103188;x++)j[x]=0;for(x=103189;x<=103191;x++)j[x]=2;for(x=103192;x<=103195;x++)j[x]=0;for(x=103196;x<=103199;x++)j[x]=2;for(x=103200;x<=103224;x++)j[x]=0;for(x=103225;x<=103227;x++)j[x]=1;for(x=103232;x<=103237;x++)j[x]=0;for(x=103238;x<=103243;x++)j[x]=2;for(x=103244;x<=103246;x++)j[x]=0;for(x=103247;x<=103249;x++)j[x]=2;for(x=103254;x<=103256;x++)j[x]=0;for(x=103257;x<=103259;x++)j[x]=2;for(x=103264;x<=103266;x++)j[x]=0;for(x=103267;x<=103269;x++)j[x]=2;for(x=103300;x<=103375;x++)j[x]=0;for(x=103381;x<=103383;x++)j[x]=0;for(x=103384;x<=103386;x++)j[x]=1;for(x=103387;x<=103389;x++)j[x]=0;for(x=103390;x<=103392;x++)j[x]=2;for(x=103397;x<=103399;x++)j[x]=0;for(x=103400;x<=103471;x++)j[x]=2;for(x=103476;x<=103478;x++)j[x]=0;for(x=103479;x<=103481;x++)j[x]=2;for(x=103486;x<=103488;x++)j[x]=0;for(x=103489;x<=103491;x++)j[x]=2;for(x=103492;x<=103495;x++)j[x]=0;for(x=103496;x<=103499;x++)j[x]=2;for(x=103528;x<=103543;x++)j[x]=0;for(x=103544;x<=103548;x++)j[x]=2;for(x=103549;x<=103551;x++)j[x]=0;for(x=103552;x<=103554;x++)j[x]=1;for(x=103555;x<=103557;x++)j[x]=2;for(x=103558;x<=103560;x++)j[x]=0;for(x=103571;x<=103573;x++)j[x]=0;for(x=103574;x<=103576;x++)j[x]=2;for(x=103577;x<=103580;x++)j[x]=0;for(x=103581;x<=103583;x++)j[x]=2;for(x=103595;x<=103694;x++)j[x]=0;for(x=103696;x<=103699;x++)j[x]=0;for(x=103700;x<=103793;x++)j[x]=2;for(x=103794;x<=103890;x++)j[x]=0;for(x=103891;x<=103896;x++)j[x]=2;for(x=103900;x<=103971;x++)j[x]=2;for(x=103972;x<=103977;x++)j[x]=0;for(x=112e3;x<=112101;x++)j[x]=0;const Z7=[102100,102113,3857,3785,900913],KD=[104905,104971],XD=[4326,...Z7,...KD],Pc=[-20037508342788905e-9,20037508342788905e-9],Ym=[-20037508342787e-6,20037508342787e-6],a1={wkTemplate:'PROJCS["WGS_1984_Web_Mercator_Auxiliary_Sphere",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator_Auxiliary_Sphere"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],PARAMETER["Auxiliary_Sphere_Type",0.0],UNIT["Meter",1.0]]',valid:Pc,origin:Ym,dx:1e-5},Y7={102113:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Pc,origin:Ym,dx:1e-5},102100:a1,3785:{wkTemplate:'PROJCS["WGS_1984_Web_Mercator",GEOGCS["GCS_WGS_1984_Major_Auxiliary_Sphere",DATUM["D_WGS_1984_Major_Auxiliary_Sphere",SPHEROID["WGS_1984_Major_Auxiliary_Sphere",6378137.0,0.0]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Mercator"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],PARAMETER["Standard_Parallel_1",0.0],UNIT["Meter",1.0]]',valid:Pc,origin:Ym,dx:1e-5},3857:a1,4326:{wkTemplate:'GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",{Central_Meridian}],UNIT["Degree",0.0174532925199433]]',altTemplate:'PROJCS["WGS_1984_Plate_Carree",GEOGCS["GCS_WGS_1984",DATUM["D_WGS_1984",SPHEROID["WGS_1984",6378137.0,298.257223563]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]],PROJECTION["Plate_Carree"],PARAMETER["False_Easting",0.0],PARAMETER["False_Northing",0.0],PARAMETER["Central_Meridian",{Central_Meridian}],UNIT["Degrees",111319.491]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104971:{wkTemplate:'GEOGCS["Mars_2000_(Sphere)",DATUM["Mars_2000_(Sphere)",SPHEROID["Mars_2000_(Sphere)",3396190.0,0.0]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},104905:{wkTemplate:'GEOGCS["GCS_Mars_2000",DATUM["D_Mars_2000",SPHEROID["Mars_2000_IAU_IAG",3396190.0,169.8944472236118]],PRIMEM["Reference_Meridian",0.0],UNIT["Degree",0.0174532925199433]]',valid:[-180,180],origin:[-180,90],dx:1e-5},900913:a1};function qo(t,e){if(t===e)return!0;if(t==null||e==null)return!1;const i=t.wkid,o=e.wkid;if(i!=null||o!=null){if(i===o||Ho(t)&&Ho(e))return!0;const m=t.latestWkid;if(m!=null&&o===m)return!0;const v=e.latestWkid;return v!=null&&i===v}let h,p;return t.wkt2&&e.wkt2?(h=t.wkt2,p=e.wkt2):t.wkt&&e.wkt&&(h=t.wkt,p=e.wkt),!(!h||!p)&&h.toUpperCase()===p.toUpperCase()}async function het(t,e){if(t===e)return!0;G7()||await q7();const i=p=>{var w;const m=p.wkt2||p.wkt;if(m){const A=Oc.fromString(ve.PE_TYPE_NONE,m);return A==null?void 0:A.getCode()}const v=p.wkid??p.latestWkid;return v?(w=Oc.coordsys(v))==null?void 0:w.getCode():null},o=t?i(t):null,h=e?i(e):null;return o!=null&&h!=null&&o===h}function oc(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&Y7[e]||null}function cet(t){if(!t)return;const{wkid:e,vcsWkid:i}=t;if(e)return i?JSON.stringify({wkid:e,vcsWkid:i}):String(e);const o=t.wkt||t.wkt2;return JSON.stringify(o?i?{wkt:o,vcsWkid:i}:{wkt:o}:{})}function Ov(t){if(!K7(t))return!1;const{wkid:e}=t;if(e)return j[e]==null;const i=t.wkt2||t.wkt;return!!i&&/^\s*(?:GEOGCS|GEOGCRS|GEOGRAPHICCRS)/i.test(i)}function QD(t){return!(tz(t)||ez(t))}function Y0(t){return(t==null?void 0:t.wkid)===4326}function uet(t){return/^\s*(?:GEOD|GEODETIC|GEOG|GEOGRAPHIC|PROJ|PROJECTED|VERT|VERTICAL|ENG|ENGINEERING|PARAMETRIC|TIME|DERIVEDPROJ|COMPOUND|BOUND)CRS/i.test(t)}function det(t){return(t==null?void 0:t.wkid)===wl.CGCS2000}function Ho(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&Z7.includes(e)}function fet(t){return(t==null?void 0:t.wkid)===32662}function Jf(t){return t===wl.GCSMARS2000||t===wl.GCSMARS2000_SPHERE}function tz(t){return Jf(t==null?void 0:t.wkid)}function Zf(t){return t===wl.GCSMOON2000}function ez(t){return Zf(t==null?void 0:t.wkid)}function iz(t){const e=t==null?void 0:t.wkid;return e!=null&&e>=2e3&&XD.includes(e)}function K7(t){if(t==null)return!1;const e=t.wkid;return e!=null&&e>=2e3||t.wkt2!=null||t.wkt!=null}const X7={wkid:4326,wkt:Nr(Y7[4326].wkTemplate,{Central_Meridian:"0.0"})},Q7={wkid:102100,latestWkid:3857},rz={wkid:32662};function Pv(t){return{wkt:`GEOCCS["Spherical geocentric",
    DATUM["Not specified",
      SPHEROID["Sphere",${t.radius},0]],
    PRIMEM["Greenwich",0.0,
      AUTHORITY["EPSG","8901"]],
    UNIT["m",1.0],
    AXIS["Geocentric X",OTHER],
    AXIS["Geocentric Y",EAST],
    AXIS["Geocentric Z",NORTH]
  ]`}}const nz=Pv(Rr),t8=Pv(Mc),e8=Pv(Wf),pet={wkt:`GEOCCS["WGS 84",
  DATUM["WGS_1984",
    SPHEROID["WGS 84",${Rr.radius},298.257223563,
      AUTHORITY["EPSG","7030"]],
    AUTHORITY["EPSG","6326"]],
  PRIMEM["Greenwich",0,
    AUTHORITY["EPSG","8901"]],
  UNIT["m",1.0,
    AUTHORITY["EPSG","9001"]],
  AXIS["Geocentric X",OTHER],
  AXIS["Geocentric Y",OTHER],
  AXIS["Geocentric Z",NORTH],
  AUTHORITY["EPSG","4978"]
]`},sz=t8.wkt.toUpperCase(),oz=e8.wkt.toUpperCase();function az(t){if(t!=null&&K7(t)){const e=t.wkid,i=t.wkt2??t.wkt;if(Jf(e))return Mc;const o=i==null?void 0:i.toUpperCase();if(i&&o===sz)return Mc;if(Zf(e)||o&&o===oz)return Wf}return Rr}function met(t){return Jf(t)?Mc:Zf(t)?Wf:Rr}function lz(t){return qo(t,nz)}function get(t){return lz(t)||qo(t,t8)||qo(t,e8)}const yet=39.37,hz=Rr.radius*Math.PI/200,i8=/(?:LENGTH)?UNIT\[([^\]]+)]]$/i,Oo=j,r8=/UNIT\[([^\]]+)]/i,cz=new Set([4305,4807,4810,4811,4812,4816,4819,4821,4901,4902,37225,104025,104026,104139,104140]),uz=fr()({meter:"meters",foot:"feet",foot_us:"us-feet",foot_clarke:"clarke-feet",yard_clarke:"clarke-yards",link_clarke:"clarke-links",yard_sears:"sears-yards",foot_sears:"sears-feet",chain_sears:"sears-chains",chain_benoit_1895_b:"benoit-1895-b-chains",yard_indian:"indian-yards",yard_indian_1937:"indian-1937-yards",foot_gold_coast:"gold-coast-feet",chain:"chains",chain_sears_1922_truncated:"sears-1922-truncated-chains","50_kilometers":"50-kilometers","150_kilometers":"150-kilometers"}),Br=t=>t*t,Kn=t=>t*t*t,Nc={length:{baseUnit:"meters",units:{millimeters:{inBaseUnits:.001},centimeters:{inBaseUnits:.01},decimeters:{inBaseUnits:.1},meters:{inBaseUnits:1},kilometers:{inBaseUnits:1e3},inches:{inBaseUnits:.0254},feet:{inBaseUnits:.3048},yards:{inBaseUnits:.9144},miles:{inBaseUnits:1609.344},"nautical-miles":{inBaseUnits:1852},"us-feet":{inBaseUnits:1200/3937},"clarke-feet":{inBaseUnits:.3047972654},"clarke-yards":{inBaseUnits:.9143917962},"clarke-links":{inBaseUnits:.201166195164},"sears-yards":{inBaseUnits:.9143984146160287},"sears-feet":{inBaseUnits:.3047994715386762},"sears-chains":{inBaseUnits:20.11676512155263},"benoit-1895-b-chains":{inBaseUnits:20.11678249437587},"indian-yards":{inBaseUnits:.9143985307444408},"indian-1937-yards":{inBaseUnits:.91439523},"gold-coast-feet":{inBaseUnits:.3047997101815088},chains:{inBaseUnits:20.1168},"sears-1922-truncated-chains":{inBaseUnits:20.116756},"50-kilometers":{inBaseUnits:5e4},"150-kilometers":{inBaseUnits:15e4}}},area:{baseUnit:"square-meters",units:{"square-millimeters":{inBaseUnits:Br(.001)},"square-centimeters":{inBaseUnits:Br(.01)},"square-decimeters":{inBaseUnits:Br(.1)},"square-meters":{inBaseUnits:1},"square-kilometers":{inBaseUnits:Br(1e3)},"square-inches":{inBaseUnits:Br(.0254)},"square-feet":{inBaseUnits:Br(.3048)},"square-yards":{inBaseUnits:Br(.9144)},"square-miles":{inBaseUnits:Br(1609.344)},"square-us-feet":{inBaseUnits:Br(1200/3937)},acres:{inBaseUnits:.0015625*Br(1609.344)},ares:{inBaseUnits:100},hectares:{inBaseUnits:1e4}}},volume:{baseUnit:"liters",units:{liters:{inBaseUnits:1},"cubic-millimeters":{inBaseUnits:1e3*Kn(.001)},"cubic-centimeters":{inBaseUnits:1e3*Kn(.01)},"cubic-decimeters":{inBaseUnits:1e3*Kn(.1)},"cubic-meters":{inBaseUnits:1e3},"cubic-kilometers":{inBaseUnits:1e3*Kn(1e3)},"cubic-inches":{inBaseUnits:1e3*Kn(.0254)},"cubic-feet":{inBaseUnits:1e3*Kn(.3048)},"cubic-yards":{inBaseUnits:1e3*Kn(.9144)},"cubic-miles":{inBaseUnits:1e3*Kn(1609.344)}}},angle:{baseUnit:"radians",units:{radians:{inBaseUnits:1},degrees:{inBaseUnits:Math.PI/180}}}},dz=(()=>{const t={};for(const e in Nc)for(const i in Nc[e].units)t[i]=e;return t})();function fz(t,e,i){return t*Nc[i].units[e].inBaseUnits}function pz(t,e,i){return t/Nc[i].units[e].inBaseUnits}const n8=["metric","imperial","inches","feet","yards","miles","nautical-miles","us-feet","meters","kilometers"],mz=new Map([["meters","square-meters"],["feet","square-feet"],["us-feet","square-us-feet"]]);function Wo(t){const e=dz[t];if(!e)throw new Error("unknown type");return e}function f_(t,e=null){return e=e||Wo(t),Nc[e].baseUnit===t}function We(t,e,i){if(e===i)return t;const o=Wo(e);if(o!==Wo(i))throw new Error("incompatible units");const h=f_(e,o)?t:fz(t,e,o);return f_(i,o)?h:pz(h,i,o)}function gz(t){switch(t){case"metric":return"meters";case"imperial":return"feet";default:return t}}function bet(t){return gz(t)}function vet(t){switch(t){case"metric":return"square-meters";case"imperial":return"square-feet";default:return t}}function s8(t,e){const i=We(t,e,"meters");return Math.abs(i)<3e3?"meters":"kilometers"}function o8(t,e){const i=We(t,e,"meters");return Math.abs(i)<1e5?"meters":"kilometers"}function a8(t,e){const i=We(t,e,"feet");return Math.abs(i)<1e3?"feet":"miles"}function l8(t,e){const i=We(t,e,"feet");return Math.abs(i)<1e5?"feet":"miles"}function yz(t,e){const i=We(t,e,"square-meters");return Math.abs(i)<3e6?"square-meters":"square-kilometers"}function bz(t,e){const i=We(t,e,"square-feet");return Math.abs(i)<1e6?"square-feet":"square-miles"}function wet(t,e,i){return We(t,e,"meters")/(i*Math.PI/180)}function vz(t){return uz.fromJSON(t.toLowerCase())||null}function _et(t){if(t!=null&&!QD(t))return 1;const e=Yf(t);return e>1e5?1:e}function wz(t){return Yf(t)>=az(t).metersPerDegree?"meters":bu(t)}function Yf(t,e=Rr.metersPerDegree){return _z(t,!0)??e}function _z(t,e=!1){const i=(t==null?void 0:t.wkid)??null,o=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let h=null;if(i){if(Jf(i))return Mc.metersPerDegree;if(Zf(i))return Wf.metersPerDegree;h=Oo.values[Oo[i]],!h&&e&&cz.has(i)&&(h=hz)}else o&&(u8(o)?h=p_(i8.exec(o),h):c8(o)&&(h=p_(r8.exec(o),h)));return h}function xet(t){return Ov(t)?1:Yf(t)}function p_(t,e){return t!=null&&t[1]?h8(t[1]):e}function h8(t){return parseFloat(t.split(",")[1])}function bu(t){const e=(t==null?void 0:t.wkid)??null,i=(t==null?void 0:t.wkt2)??(t==null?void 0:t.wkt)??null;let o=null;if(e)o=Oo.units[Oo[e]];else if(i){const h=u8(i)?i8:c8(i)?r8:null;if(h){const p=h.exec(i);p!=null&&p[1]&&(o=Sz(p[1]))}}return o!=null?vz(o):null}function Cet(t){const e=bu(t);return e!=null&&n8.includes(e)?e:null}function Aet(t){const e=wz(t);return e!=null&&n8.includes(e)?e:null}function Tet(t){const e=bu(t);return e==null?null:mz.get(e)}function c8(t){return/^GEOCCS/i.test(t)}function u8(t){return/^\s*(?:PROJCS|PROJCRS|PROJECTEDCRS)/i.test(t)}const xz=1e-7;function Sz(t){const e=/[\\"']{1}([^\\"']+)/.exec(t);let i=e==null?void 0:e[1];if(!i||!Oo.units.includes(i)){const o=h8(t);i=null;const h=Oo.values;for(let p=0;p<h.length;++p)if(Math.abs(o-h[p])<xz){i=Oo.units[p];break}}return i}function Eet(t){const e=bu(t);if(e==null)return null;switch(e){case"feet":case"us-feet":case"clarke-feet":case"clarke-yards":case"clarke-links":case"sears-yards":case"sears-feet":case"sears-chains":case"benoit-1895-b-chains":case"indian-yards":case"indian-1937-yards":case"gold-coast-feet":case"chains":case"sears-1922-truncated-chains":return"imperial";case"50-kilometers":case"150-kilometers":case"meters":return"metric"}return null}const Cz={esriAcres:"acres",esriAres:"ares",esriHectares:"hectares",esriSquareCentimeters:"square-centimeters",esriSquareDecimeters:"square-decimeters",esriSquareFeet:"square-feet",esriSquareInches:"square-inches",esriSquareKilometers:"square-kilometers",esriSquareMeters:"square-meters",esriSquareMiles:"square-miles",esriSquareMillimeters:"square-millimeters",esriSquareUsFeet:"square-us-feet",esriSquareYards:"square-yards"},Az={esriCentimeters:"centimeters",esriDecimeters:"decimeters",esriFeet:"feet",esriInches:"inches",esriKilometers:"kilometers",esriMeters:"meters",esriMiles:"miles",esriMillimeters:"millimeters",esriNauticalMiles:"nautical-miles",esriYards:"yards"},Tz={esriDUDecimalDegrees:"degrees",esriDURadians:"radians"},$et=fr()(Cz),Iet=fr()(Az),ket=fr()(Tz);function Ez(t,e){return{type:Wo(e),value:t,unit:e}}function Met(t){return{value:t}}function $z(t,e){return{type:Wo(e),value:t,unit:e}}function Iz(t,e){return{type:Wo(e),value:t,unit:e}}function Kf(t,e,i="arithmetic"){return{type:Wo(e),value:t,unit:e,rotationType:i}}function Oet(t,e){const i=kz(t,e);return t.type==="angle"?Kf(i,e,t.rotationType):Ez(i,e)}function kz(t,e){return We(t.value,t.unit,e)}function Pet(t,e){return t==null?e:e==null||t.value>We(e.value,e.unit,t.unit)?t:e}function Net(t,e){return t==null?null:{...t,value:t.value*e}}function Mz(t,e,i){if(e===i)return t;switch(i){case"arithmetic":case"geographic":return 90-t}}const Ret=$z(0,"meters"),Let=Iz(0,"square-meters");Kf(0,"radians");const Det=Kf(0,"degrees"),zet=Kf(0,"degrees","geographic");function d8(t,e,i){return t.units[e][i]}function Vl(t,e,i,o=2,h="abbr"){return`${Hi(e,{minimumFractionDigits:o,maximumFractionDigits:o,signDisplay:e>0?"never":"exceptZero"})} ${d8(t,i,h)}`}function Xf(t,e,i,o=2,h="abbr"){return`${Hi(e,{minimumFractionDigits:o,maximumFractionDigits:o,signDisplay:"exceptZero"})} ${d8(t,i,h)}`}function jet(t,e,i,o=2,h="abbr"){const p=s8(e,i);return Vl(t,We(e,i,p),p,o,h)}function Fet(t,e,i,o=2,h="abbr"){const p=s8(e,i);return Xf(t,We(e,i,p),p,o,h)}function Uet(t,e,i,o=2,h="abbr"){const p=o8(e,i);return Vl(t,We(e,i,p),p,o,h)}function Bet(t,e,i,o=2,h="abbr"){const p=o8(e,i);return Xf(t,We(e,i,p),p,o,h)}function Vet(t,e,i,o=2,h="abbr"){const p=a8(e,i);return Vl(t,We(e,i,p),p,o,h)}function Get(t,e,i,o=2,h="abbr"){const p=a8(e,i);return Xf(t,We(e,i,p),p,o,h)}function qet(t,e,i,o=2,h="abbr"){const p=l8(e,i);return Vl(t,We(e,i,p),p,o,h)}function Het(t,e,i,o=2,h="abbr"){const p=l8(e,i);return Xf(t,We(e,i,p),p,o,h)}function Wet(t,e,i,o=2,h="abbr"){const p=yz(e,i);return Vl(t,We(e,i,p),p,o,h)}function Jet(t,e,i,o=2,h="abbr"){const p=bz(e,i);return Vl(t,We(e,i,p),p,o,h)}const Oz=(t,e)=>({style:"unit",unitDisplay:"narrow",unit:"degree",maximumFractionDigits:e,minimumFractionDigits:e,signDisplay:t>0?"never":"exceptZero"});function Zet(t,e,i,o,h,p=ZD,m=!0){let v=p.normalize(Mz(We(t,e,"degrees"),i,o),0,m);const w=Oz(v,h??2);return v=Pz(v,w),Hi(v,w)}const m_=new Map;function Pz(t,e){const i=JSON.stringify(e);let o=m_.get(i);return o||(o=new Intl.NumberFormat("en-US",e),m_.set(i,o)),/^[-+]?360\.?0*°?$/.test(o.format(t))?0:t}const g_=["B","kB","MB","GB","TB"];function y_(t,e){let i=(e=Math.round(e))===0?0:Math.floor(Math.log(e)/Math.log(G0.KILOBYTES));i=Vs(i,0,g_.length-1);const o=Hi(e/G0.KILOBYTES**i,{maximumFractionDigits:2});return Nr(t.units.bytes[g_[i]],{fileSize:o})}const Qu=new WeakMap;function Nv(t){return!t.destroyed&&(Qu.has(t)||t.addHandles([Lt(()=>{const e=t.parent;return!(!e||!("type"in e))&&(e.type==="catalog-dynamic-group"||Nv(e))},e=>Qu.set(t,e),Hf),we(()=>Qu.delete(t))]),Qu.get(t))}function Yet(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="feature"}function Nz(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="knowledge-graph"&&"layers"in t}function Rc(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="subtype-group"&&"sublayers"in t}function Ket(t){return(t==null?void 0:t.type)==="subtype-sublayer"}const Xet={Point:"SceneLayer","3DObject":"SceneLayer",IntegratedMesh:"IntegratedMeshLayer",PointCloud:"PointCloudLayer",Building:"BuildingSceneLayer"};function Qet(t){const e=t==null?void 0:t.type;return e==="building-scene"||e==="integrated-mesh"||e==="point-cloud"||e==="scene"}function tit(t){return t==="integrated-mesh"||t==="integrated-mesh-3dtiles"}function Qf(t){var e;return(t==null?void 0:t.type)==="feature"&&!t.url&&((e=t.source)==null?void 0:e.type)==="memory"}function eit(t){var i;const e=t==null?void 0:t.type;return(e==="feature"||e==="subtype-group"||e==="oriented-imagery")&&((i=t.source)==null?void 0:i.type)==="feature-layer"}async function iit(t,e){const i=de==null?void 0:de.findServerInfo(t);if((i==null?void 0:i.currentVersion)!=null)return i.owningSystemUrl||null;const o=t.toLowerCase().indexOf("/rest/services");if(o===-1)return null;const h=`${t.slice(0,o)}/rest/info`,p=e!=null?e.signal:null,{data:m}=await ki(h,{query:{f:"json"},responseType:"json",signal:p});return(m==null?void 0:m.owningSystemUrl)||null}function Rz(t){if(!("capabilities"in t))return!1;switch(t.type){case"catalog":case"catalog-footprint":case"csv":case"feature":case"geojson":case"imagery":case"knowledge-graph-sublayer":case"ogc-feature":case"oriented-imagery":case"scene":case"sublayer":case"subtype-group":case"subtype-sublayer":case"wfs":return!0;default:return!1}}function rit(t){return t!=null&&typeof t=="object"&&"isTable"in t&&!!t.isTable}function Rv(t){return Rz(t)?"effectiveCapabilities"in t?t.effectiveCapabilities:t.capabilities:null}function Lz(t){if(!("editingEnabled"in t))return!1;switch(t.type){case"csv":case"feature":case"geojson":case"oriented-imagery":case"scene":case"subtype-group":case"subtype-sublayer":return!0;default:return!1}}function Dz(t){return!!Lz(t)&&("effectiveEditingEnabled"in t?t.effectiveEditingEnabled:t.editingEnabled)}function f8(t){return t?("subtypes"in t?t.subtypes:Rc(t.parent)?t.parent.subtypes:[])??[]:[]}function zz(t){return typeof t=="string"?document.getElementById(t):t??null}function nit(t,e){for(;;){const i=t.firstChild;if(!i)break;e.appendChild(i)}}var fs;(function(t){t[t.PENDING=0]="PENDING",t[t.RESOLVED=1]="RESOLVED",t[t.REJECTED=2]="REJECTED"})(fs||(fs={}));let jz=class{constructor(){this._resolver=Uo(),this._status=fs.PENDING,this._resolvingPromises=[],this._resolver.promise.then(()=>{this._status=fs.RESOLVED,this._cleanUp()},()=>{this._status=fs.REJECTED,this._cleanUp()}),this.promise=this._resolver.promise}destroy(){this._cleanUp()}addResolvingPromise(e){this._resolvingPromises.push(e),this._tryResolve()}isResolved(){return this._status===fs.RESOLVED}isRejected(){return this._status===fs.REJECTED}isFulfilled(){return this._status!==fs.PENDING}abort(){this._resolver.reject(Oi())}_cleanUp(){this._allPromise=null,this._resolvingPromises=null}_tryResolve(){if(this.isFulfilled())return;const e=Uo(),i=[...this._resolvingPromises,e.promise],o=this._allPromise=Promise.all(i);o.then(()=>{this.isFulfilled()||this._allPromise!==o||this._resolver.resolve()},h=>{this.isFulfilled()||this._allPromise!==o||pu(h)||this._resolver.reject(h)}),e.resolve()}};const p8=t=>{let e=class extends t{constructor(...i){super(...i),this._promiseProps=new jz,this.addResolvingPromise(Promise.resolve())}destroy(){this._promiseProps.destroy()}isResolved(){return this._promiseProps.isResolved()}isRejected(){return this._promiseProps.isRejected()}isFulfilled(){return this._promiseProps.isFulfilled()}when(i,o){return this._promiseProps.promise.then(()=>this).then(i,o)}catch(i){return this.when(null,i)}addResolvingPromise(i){i&&!this._promiseProps.isFulfilled()&&this._promiseProps.addResolvingPromise("_promiseProps"in i?i.when():i)}};return e=C([Y("esri.core.Promise")],e),e};let Km=class extends p8(me){};Km=C([Y("esri.core.Promise")],Km);const Fz="randomUUID"in crypto;function Lv(){if(Fz)return crypto.randomUUID();const t=crypto.getRandomValues(new Uint16Array(8));t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;const e=i=>t[i].toString(16).padStart(4,"0");return e(0)+e(1)+"-"+e(2)+"-"+e(3)+"-"+e(4)+"-"+e(5)+e(6)+e(7)}function ait(){return`{${Lv().toUpperCase()}}`}function lit(){return`{${Lv()}}`}const Uz=Object.prototype.toString;function Bz(t){const e="__accessorMetadata__"in t?Pi(t):t;return function(...i){if(i.push(e),typeof i[2]=="number")throw new Error("Using @cast has parameter decorator is not supported since 4.16");return Vz.apply(this,i)}}function Vz(t,e,i,o){Df(t,e).cast=o}function Gz(t){return(e,i)=>{Df(e,t).cast=e[i]}}function Lr(...t){if(t.length!==3||typeof t[1]!="string")return t.length===1&&Uz.call(t[0])==="[object Function]"?Bz(t[0]):t.length===1&&typeof t[0]=="string"?Gz(t[0]):void 0}/*!
 * @esri/arcgis-html-sanitizer - v4.1.0-next.3 - Wed Sep 25 2024 10:04:57 GMT-0400 (Eastern Daylight Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var K0=function(){return K0=Object.assign||function(e){for(var i,o=1,h=arguments.length;o<h;o++){i=arguments[o];for(var p in i)Object.prototype.hasOwnProperty.call(i,p)&&(e[p]=i[p])}return e},K0.apply(this,arguments)},Xm={exports:{}},Ne={},Qm={exports:{}},aa={};function m8(){var t={};return t["align-content"]=!1,t["align-items"]=!1,t["align-self"]=!1,t["alignment-adjust"]=!1,t["alignment-baseline"]=!1,t.all=!1,t["anchor-point"]=!1,t.animation=!1,t["animation-delay"]=!1,t["animation-direction"]=!1,t["animation-duration"]=!1,t["animation-fill-mode"]=!1,t["animation-iteration-count"]=!1,t["animation-name"]=!1,t["animation-play-state"]=!1,t["animation-timing-function"]=!1,t.azimuth=!1,t["backface-visibility"]=!1,t.background=!0,t["background-attachment"]=!0,t["background-clip"]=!0,t["background-color"]=!0,t["background-image"]=!0,t["background-origin"]=!0,t["background-position"]=!0,t["background-repeat"]=!0,t["background-size"]=!0,t["baseline-shift"]=!1,t.binding=!1,t.bleed=!1,t["bookmark-label"]=!1,t["bookmark-level"]=!1,t["bookmark-state"]=!1,t.border=!0,t["border-bottom"]=!0,t["border-bottom-color"]=!0,t["border-bottom-left-radius"]=!0,t["border-bottom-right-radius"]=!0,t["border-bottom-style"]=!0,t["border-bottom-width"]=!0,t["border-collapse"]=!0,t["border-color"]=!0,t["border-image"]=!0,t["border-image-outset"]=!0,t["border-image-repeat"]=!0,t["border-image-slice"]=!0,t["border-image-source"]=!0,t["border-image-width"]=!0,t["border-left"]=!0,t["border-left-color"]=!0,t["border-left-style"]=!0,t["border-left-width"]=!0,t["border-radius"]=!0,t["border-right"]=!0,t["border-right-color"]=!0,t["border-right-style"]=!0,t["border-right-width"]=!0,t["border-spacing"]=!0,t["border-style"]=!0,t["border-top"]=!0,t["border-top-color"]=!0,t["border-top-left-radius"]=!0,t["border-top-right-radius"]=!0,t["border-top-style"]=!0,t["border-top-width"]=!0,t["border-width"]=!0,t.bottom=!1,t["box-decoration-break"]=!0,t["box-shadow"]=!0,t["box-sizing"]=!0,t["box-snap"]=!0,t["box-suppress"]=!0,t["break-after"]=!0,t["break-before"]=!0,t["break-inside"]=!0,t["caption-side"]=!1,t.chains=!1,t.clear=!0,t.clip=!1,t["clip-path"]=!1,t["clip-rule"]=!1,t.color=!0,t["color-interpolation-filters"]=!0,t["column-count"]=!1,t["column-fill"]=!1,t["column-gap"]=!1,t["column-rule"]=!1,t["column-rule-color"]=!1,t["column-rule-style"]=!1,t["column-rule-width"]=!1,t["column-span"]=!1,t["column-width"]=!1,t.columns=!1,t.contain=!1,t.content=!1,t["counter-increment"]=!1,t["counter-reset"]=!1,t["counter-set"]=!1,t.crop=!1,t.cue=!1,t["cue-after"]=!1,t["cue-before"]=!1,t.cursor=!1,t.direction=!1,t.display=!0,t["display-inside"]=!0,t["display-list"]=!0,t["display-outside"]=!0,t["dominant-baseline"]=!1,t.elevation=!1,t["empty-cells"]=!1,t.filter=!1,t.flex=!1,t["flex-basis"]=!1,t["flex-direction"]=!1,t["flex-flow"]=!1,t["flex-grow"]=!1,t["flex-shrink"]=!1,t["flex-wrap"]=!1,t.float=!1,t["float-offset"]=!1,t["flood-color"]=!1,t["flood-opacity"]=!1,t["flow-from"]=!1,t["flow-into"]=!1,t.font=!0,t["font-family"]=!0,t["font-feature-settings"]=!0,t["font-kerning"]=!0,t["font-language-override"]=!0,t["font-size"]=!0,t["font-size-adjust"]=!0,t["font-stretch"]=!0,t["font-style"]=!0,t["font-synthesis"]=!0,t["font-variant"]=!0,t["font-variant-alternates"]=!0,t["font-variant-caps"]=!0,t["font-variant-east-asian"]=!0,t["font-variant-ligatures"]=!0,t["font-variant-numeric"]=!0,t["font-variant-position"]=!0,t["font-weight"]=!0,t.grid=!1,t["grid-area"]=!1,t["grid-auto-columns"]=!1,t["grid-auto-flow"]=!1,t["grid-auto-rows"]=!1,t["grid-column"]=!1,t["grid-column-end"]=!1,t["grid-column-start"]=!1,t["grid-row"]=!1,t["grid-row-end"]=!1,t["grid-row-start"]=!1,t["grid-template"]=!1,t["grid-template-areas"]=!1,t["grid-template-columns"]=!1,t["grid-template-rows"]=!1,t["hanging-punctuation"]=!1,t.height=!0,t.hyphens=!1,t.icon=!1,t["image-orientation"]=!1,t["image-resolution"]=!1,t["ime-mode"]=!1,t["initial-letters"]=!1,t["inline-box-align"]=!1,t["justify-content"]=!1,t["justify-items"]=!1,t["justify-self"]=!1,t.left=!1,t["letter-spacing"]=!0,t["lighting-color"]=!0,t["line-box-contain"]=!1,t["line-break"]=!1,t["line-grid"]=!1,t["line-height"]=!1,t["line-snap"]=!1,t["line-stacking"]=!1,t["line-stacking-ruby"]=!1,t["line-stacking-shift"]=!1,t["line-stacking-strategy"]=!1,t["list-style"]=!0,t["list-style-image"]=!0,t["list-style-position"]=!0,t["list-style-type"]=!0,t.margin=!0,t["margin-bottom"]=!0,t["margin-left"]=!0,t["margin-right"]=!0,t["margin-top"]=!0,t["marker-offset"]=!1,t["marker-side"]=!1,t.marks=!1,t.mask=!1,t["mask-box"]=!1,t["mask-box-outset"]=!1,t["mask-box-repeat"]=!1,t["mask-box-slice"]=!1,t["mask-box-source"]=!1,t["mask-box-width"]=!1,t["mask-clip"]=!1,t["mask-image"]=!1,t["mask-origin"]=!1,t["mask-position"]=!1,t["mask-repeat"]=!1,t["mask-size"]=!1,t["mask-source-type"]=!1,t["mask-type"]=!1,t["max-height"]=!0,t["max-lines"]=!1,t["max-width"]=!0,t["min-height"]=!0,t["min-width"]=!0,t["move-to"]=!1,t["nav-down"]=!1,t["nav-index"]=!1,t["nav-left"]=!1,t["nav-right"]=!1,t["nav-up"]=!1,t["object-fit"]=!1,t["object-position"]=!1,t.opacity=!1,t.order=!1,t.orphans=!1,t.outline=!1,t["outline-color"]=!1,t["outline-offset"]=!1,t["outline-style"]=!1,t["outline-width"]=!1,t.overflow=!1,t["overflow-wrap"]=!1,t["overflow-x"]=!1,t["overflow-y"]=!1,t.padding=!0,t["padding-bottom"]=!0,t["padding-left"]=!0,t["padding-right"]=!0,t["padding-top"]=!0,t.page=!1,t["page-break-after"]=!1,t["page-break-before"]=!1,t["page-break-inside"]=!1,t["page-policy"]=!1,t.pause=!1,t["pause-after"]=!1,t["pause-before"]=!1,t.perspective=!1,t["perspective-origin"]=!1,t.pitch=!1,t["pitch-range"]=!1,t["play-during"]=!1,t.position=!1,t["presentation-level"]=!1,t.quotes=!1,t["region-fragment"]=!1,t.resize=!1,t.rest=!1,t["rest-after"]=!1,t["rest-before"]=!1,t.richness=!1,t.right=!1,t.rotation=!1,t["rotation-point"]=!1,t["ruby-align"]=!1,t["ruby-merge"]=!1,t["ruby-position"]=!1,t["shape-image-threshold"]=!1,t["shape-outside"]=!1,t["shape-margin"]=!1,t.size=!1,t.speak=!1,t["speak-as"]=!1,t["speak-header"]=!1,t["speak-numeral"]=!1,t["speak-punctuation"]=!1,t["speech-rate"]=!1,t.stress=!1,t["string-set"]=!1,t["tab-size"]=!1,t["table-layout"]=!1,t["text-align"]=!0,t["text-align-last"]=!0,t["text-combine-upright"]=!0,t["text-decoration"]=!0,t["text-decoration-color"]=!0,t["text-decoration-line"]=!0,t["text-decoration-skip"]=!0,t["text-decoration-style"]=!0,t["text-emphasis"]=!0,t["text-emphasis-color"]=!0,t["text-emphasis-position"]=!0,t["text-emphasis-style"]=!0,t["text-height"]=!0,t["text-indent"]=!0,t["text-justify"]=!0,t["text-orientation"]=!0,t["text-overflow"]=!0,t["text-shadow"]=!0,t["text-space-collapse"]=!0,t["text-transform"]=!0,t["text-underline-position"]=!0,t["text-wrap"]=!0,t.top=!1,t.transform=!1,t["transform-origin"]=!1,t["transform-style"]=!1,t.transition=!1,t["transition-delay"]=!1,t["transition-duration"]=!1,t["transition-property"]=!1,t["transition-timing-function"]=!1,t["unicode-bidi"]=!1,t["vertical-align"]=!1,t.visibility=!1,t["voice-balance"]=!1,t["voice-duration"]=!1,t["voice-family"]=!1,t["voice-pitch"]=!1,t["voice-range"]=!1,t["voice-rate"]=!1,t["voice-stress"]=!1,t["voice-volume"]=!1,t.volume=!1,t["white-space"]=!1,t.widows=!1,t.width=!0,t["will-change"]=!1,t["word-break"]=!0,t["word-spacing"]=!0,t["word-wrap"]=!0,t["wrap-flow"]=!1,t["wrap-through"]=!1,t["writing-mode"]=!1,t["z-index"]=!1,t}function qz(t,e,i){}function Hz(t,e,i){}var Wz=/javascript\s*\:/img;function Jz(t,e){return Wz.test(e)?"":e}aa.whiteList=m8();aa.getDefaultWhiteList=m8;aa.onAttr=qz;aa.onIgnoreAttr=Hz;aa.safeAttrValue=Jz;var Zz={indexOf:function(t,e){var i,o;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var o,h;if(Array.prototype.forEach)return t.forEach(e,i);for(o=0,h=t.length;o<h;o++)e.call(i,t[o],o,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(t){return String.prototype.trimRight?t.trimRight():t.replace(/(\s*$)/g,"")}},ah=Zz;function Yz(t,e){t=ah.trimRight(t),t[t.length-1]!==";"&&(t+=";");var i=t.length,o=!1,h=0,p=0,m="";function v(){if(!o){var $=ah.trim(t.slice(h,p)),M=$.indexOf(":");if(M!==-1){var P=ah.trim($.slice(0,M)),R=ah.trim($.slice(M+1));if(P){var B=e(h,m.length,P,R,$);B&&(m+=B+"; ")}}}h=p+1}for(;p<i;p++){var w=t[p];if(w==="/"&&t[p+1]==="*"){var A=t.indexOf("*/",p+2);if(A===-1)break;p=A+1,h=p+1,o=!1}else w==="("?o=!0:w===")"?o=!1:w===";"?o||v():w===`
`&&v()}return ah.trim(m)}var Kz=Yz,td=aa,Xz=Kz;function b_(t){return t==null}function Qz(t){var e={};for(var i in t)e[i]=t[i];return e}function g8(t){t=Qz(t||{}),t.whiteList=t.whiteList||td.whiteList,t.onAttr=t.onAttr||td.onAttr,t.onIgnoreAttr=t.onIgnoreAttr||td.onIgnoreAttr,t.safeAttrValue=t.safeAttrValue||td.safeAttrValue,this.options=t}g8.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,o=i.whiteList,h=i.onAttr,p=i.onIgnoreAttr,m=i.safeAttrValue,v=Xz(t,function(w,A,$,M,P){var R=o[$],B=!1;if(R===!0?B=R:typeof R=="function"?B=R(M):R instanceof RegExp&&(B=R.test(M)),B!==!0&&(B=!1),M=m($,M),!!M){var G={position:A,sourcePosition:w,source:P,isWhite:B};if(B){var H=h($,M,G);return b_(H)?$+":"+M:H}else{var H=p($,M,G);if(!b_(H))return H}}});return v};var tj=g8;(function(t,e){var i=aa,o=tj;function h(m,v){var w=new o(v);return w.process(m)}e=t.exports=h,e.FilterCSS=o;for(var p in i)e[p]=i[p]})(Qm,Qm.exports);var Dv=Qm.exports,zv={indexOf:function(t,e){var i,o;if(Array.prototype.indexOf)return t.indexOf(e);for(i=0,o=t.length;i<o;i++)if(t[i]===e)return i;return-1},forEach:function(t,e,i){var o,h;if(Array.prototype.forEach)return t.forEach(e,i);for(o=0,h=t.length;o<h;o++)e.call(i,t[o],o,t)},trim:function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(t){var e=/\s|\n|\t/,i=e.exec(t);return i?i.index:-1}},ej=Dv.FilterCSS,ij=Dv.getDefaultWhiteList,X0=zv;function y8(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var b8=new ej;function rj(t,e,i){}function nj(t,e,i){}function sj(t,e,i){}function oj(t,e,i){}function v8(t){return t.replace(lj,"&lt;").replace(hj,"&gt;")}function aj(t,e,i,o){if(i=A8(i),e==="href"||e==="src"){if(i=X0.trim(i),i==="#")return"#";if(!(i.substr(0,7)==="http://"||i.substr(0,8)==="https://"||i.substr(0,7)==="mailto:"||i.substr(0,4)==="tel:"||i.substr(0,11)==="data:image/"||i.substr(0,6)==="ftp://"||i.substr(0,2)==="./"||i.substr(0,3)==="../"||i[0]==="#"||i[0]==="/"))return""}else if(e==="background"){if(ed.lastIndex=0,ed.test(i))return""}else if(e==="style"){if(v_.lastIndex=0,v_.test(i)||(w_.lastIndex=0,w_.test(i)&&(ed.lastIndex=0,ed.test(i))))return"";o!==!1&&(o=o||b8,i=o.process(i))}return i=T8(i),i}var lj=/</g,hj=/>/g,cj=/"/g,uj=/&quot;/g,dj=/&#([a-zA-Z0-9]*);?/gim,fj=/&colon;?/gim,pj=/&newline;?/gim,ed=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,v_=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,w_=/u\s*r\s*l\s*\(.*/gi;function w8(t){return t.replace(cj,"&quot;")}function _8(t){return t.replace(uj,'"')}function x8(t){return t.replace(dj,function(i,o){return o[0]==="x"||o[0]==="X"?String.fromCharCode(parseInt(o.substr(1),16)):String.fromCharCode(parseInt(o,10))})}function S8(t){return t.replace(fj,":").replace(pj," ")}function C8(t){for(var e="",i=0,o=t.length;i<o;i++)e+=t.charCodeAt(i)<32?" ":t.charAt(i);return X0.trim(e)}function A8(t){return t=_8(t),t=x8(t),t=S8(t),t=C8(t),t}function T8(t){return t=w8(t),t=v8(t),t}function mj(){return""}function gj(t,e){typeof e!="function"&&(e=function(){});var i=!Array.isArray(t);function o(m){return i?!0:X0.indexOf(t,m)!==-1}var h=[],p=!1;return{onIgnoreTag:function(m,v,w){if(o(m))if(w.isClosing){var A="[/removed]",$=w.position+A.length;return h.push([p!==!1?p:w.position,$]),p=!1,A}else return p||(p=w.position),"[removed]";else return e(m,v,w)},remove:function(m){var v="",w=0;return X0.forEach(h,function(A){v+=m.slice(w,A[0]),w=A[1]}),v+=m.slice(w),v}}}function yj(t){for(var e="",i=0;i<t.length;){var o=t.indexOf("<!--",i);if(o===-1){e+=t.slice(i);break}e+=t.slice(i,o);var h=t.indexOf("-->",o);if(h===-1)break;i=h+3}return e}function bj(t){var e=t.split("");return e=e.filter(function(i){var o=i.charCodeAt(0);return o===127?!1:o<=31?o===10||o===13:!0}),e.join("")}Ne.whiteList=y8();Ne.getDefaultWhiteList=y8;Ne.onTag=rj;Ne.onIgnoreTag=nj;Ne.onTagAttr=sj;Ne.onIgnoreTagAttr=oj;Ne.safeAttrValue=aj;Ne.escapeHtml=v8;Ne.escapeQuote=w8;Ne.unescapeQuote=_8;Ne.escapeHtmlEntities=x8;Ne.escapeDangerHtml5Entities=S8;Ne.clearNonPrintableCharacter=C8;Ne.friendlyAttrValue=A8;Ne.escapeAttrValue=T8;Ne.onIgnoreTagStripAll=mj;Ne.StripTagBody=gj;Ne.stripCommentTag=yj;Ne.stripBlankChar=bj;Ne.cssFilter=b8;Ne.getDefaultCSSWhiteList=ij;var tp={},ps=zv;function vj(t){var e=ps.spaceIndex(t),i;return e===-1?i=t.slice(1,-1):i=t.slice(1,e+1),i=ps.trim(i).toLowerCase(),i.slice(0,1)==="/"&&(i=i.slice(1)),i.slice(-1)==="/"&&(i=i.slice(0,-1)),i}function wj(t){return t.slice(0,2)==="</"}function _j(t,e,i){var o="",h=0,p=!1,m=!1,v=0,w=t.length,A="",$="";t:for(v=0;v<w;v++){var M=t.charAt(v);if(p===!1){if(M==="<"){p=v;continue}}else if(m===!1){if(M==="<"){o+=i(t.slice(h,v)),p=v,h=v;continue}if(M===">"){o+=i(t.slice(h,p)),$=t.slice(p,v+1),A=vj($),o+=e(p,o.length,A,$,wj($)),h=v+1,p=!1;continue}if(M==='"'||M==="'")for(var P=1,R=t.charAt(v-P);R.trim()===""||R==="=";){if(R==="="){m=M;continue t}R=t.charAt(v-++P)}}else if(M===m){m=!1;continue}}return h<t.length&&(o+=i(t.substr(h))),o}var xj=/[^a-zA-Z0-9\\_:.-]/gim;function Sj(t,e){var i=0,o=0,h=[],p=!1,m=t.length;function v(P,R){if(P=ps.trim(P),P=P.replace(xj,"").toLowerCase(),!(P.length<1)){var B=e(P,R||"");B&&h.push(B)}}for(var w=0;w<m;w++){var A=t.charAt(w),$,M;if(p===!1&&A==="="){p=t.slice(i,w),i=w+1,o=t.charAt(i)==='"'||t.charAt(i)==="'"?i:Aj(t,w+1);continue}if(p!==!1&&w===o){if(M=t.indexOf(A,w+1),M===-1)break;$=ps.trim(t.slice(o+1,M)),v(p,$),p=!1,w=M,i=w+1;continue}if(/\s|\n|\t/.test(A))if(t=t.replace(/\s|\n|\t/g," "),p===!1)if(M=Cj(t,w),M===-1){$=ps.trim(t.slice(i,w)),v($),p=!1,i=w+1;continue}else{w=M-1;continue}else if(M=Tj(t,w-1),M===-1){$=ps.trim(t.slice(i,w)),$=__($),v(p,$),p=!1,i=w+1;continue}else continue}return i<t.length&&(p===!1?v(t.slice(i)):v(p,__(ps.trim(t.slice(i))))),ps.trim(h.join(" "))}function Cj(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="="?e:-1}}function Aj(t,e){for(;e<t.length;e++){var i=t[e];if(i!==" ")return i==="'"||i==='"'?e:-1}}function Tj(t,e){for(;e>0;e--){var i=t[e];if(i!==" ")return i==="="?e:-1}}function Ej(t){return t[0]==='"'&&t[t.length-1]==='"'||t[0]==="'"&&t[t.length-1]==="'"}function __(t){return Ej(t)?t.substr(1,t.length-2):t}tp.parseTag=_j;tp.parseAttr=Sj;var $j=Dv.FilterCSS,$r=Ne,E8=tp,Ij=E8.parseTag,kj=E8.parseAttr,kd=zv;function id(t){return t==null}function Mj(t){var e=kd.spaceIndex(t);if(e===-1)return{html:"",closing:t[t.length-2]==="/"};t=kd.trim(t.slice(e+1,-1));var i=t[t.length-1]==="/";return i&&(t=kd.trim(t.slice(0,-1))),{html:t,closing:i}}function Oj(t){var e={};for(var i in t)e[i]=t[i];return e}function Pj(t){var e={};for(var i in t)Array.isArray(t[i])?e[i.toLowerCase()]=t[i].map(function(o){return o.toLowerCase()}):e[i.toLowerCase()]=t[i];return e}function $8(t){t=Oj(t||{}),t.stripIgnoreTag&&(t.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),t.onIgnoreTag=$r.onIgnoreTagStripAll),t.whiteList||t.allowList?t.whiteList=Pj(t.whiteList||t.allowList):t.whiteList=$r.whiteList,t.onTag=t.onTag||$r.onTag,t.onTagAttr=t.onTagAttr||$r.onTagAttr,t.onIgnoreTag=t.onIgnoreTag||$r.onIgnoreTag,t.onIgnoreTagAttr=t.onIgnoreTagAttr||$r.onIgnoreTagAttr,t.safeAttrValue=t.safeAttrValue||$r.safeAttrValue,t.escapeHtml=t.escapeHtml||$r.escapeHtml,this.options=t,t.css===!1?this.cssFilter=!1:(t.css=t.css||{},this.cssFilter=new $j(t.css))}$8.prototype.process=function(t){if(t=t||"",t=t.toString(),!t)return"";var e=this,i=e.options,o=i.whiteList,h=i.onTag,p=i.onIgnoreTag,m=i.onTagAttr,v=i.onIgnoreTagAttr,w=i.safeAttrValue,A=i.escapeHtml,$=e.cssFilter;i.stripBlankChar&&(t=$r.stripBlankChar(t)),i.allowCommentTag||(t=$r.stripCommentTag(t));var M=!1;i.stripIgnoreTagBody&&(M=$r.StripTagBody(i.stripIgnoreTagBody,p),p=M.onIgnoreTag);var P=Ij(t,function(R,B,G,H,Z){var X={sourcePosition:R,position:B,isClosing:Z,isWhite:Object.prototype.hasOwnProperty.call(o,G)},Q=h(G,H,X);if(!id(Q))return Q;if(X.isWhite){if(X.isClosing)return"</"+G+">";var rt=Mj(H),et=o[G],nt=kj(rt.html,function(bt,gt){var At=kd.indexOf(et,bt)!==-1,wt=m(G,bt,gt,At);return id(wt)?At?(gt=w(G,bt,gt,$),gt?bt+'="'+gt+'"':bt):(wt=v(G,bt,gt,At),id(wt)?void 0:wt):wt});return H="<"+G,nt&&(H+=" "+nt),rt.closing&&(H+=" /"),H+=">",H}else return Q=p(G,H,X),id(Q)?A(H):Q},A);return M&&(P=M.remove(P)),P};var Nj=$8;(function(t,e){var i=Ne,o=tp,h=Nj;function p(v,w){var A=new h(w);return A.process(v)}e=t.exports=p,e.filterXSS=p,e.FilterXSS=h,function(){for(var v in i)e[v]=i[v];for(var w in o)e[w]=o[w]}();function m(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}m()&&(self.filterXSS=t.exports)})(Xm,Xm.exports);var ga=Xm.exports,Rj=function(t){if(typeof t!="object"||t===null||Object.prototype.toString.call(t)!=="[object Object]")return!1;var e=Object.getPrototypeOf(t);if(e===null)return!0;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e},Lj=function(){function t(e,i){var o=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=K0(K0({},ga.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(p,m,v,w){return p==="a"&&m==="href"||(p==="img"||p==="source")&&m==="src"?o.sanitizeUrl(v):ga.safeAttrValue(p,m,v,w)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var h;e&&!i?h=e:e&&i?(h=Object.create(this.arcgisFilterOptions),h.css={whiteList:this.arcgisCSSWhiteList},Object.keys(e).forEach(function(p){if(p==="whiteList")h.whiteList=o._extendObjectOfArrays([o.arcgisWhiteList,e.whiteList||{}]);else if(p==="css"){var m=e.css.whiteList;m!=null&&e.css instanceof Object&&Object.keys(m).forEach(function(v){return h.css.whiteList[v]=m[v]})}else h[p]=e[p]})):(h=Object.create(this.arcgisFilterOptions),h.whiteList=this.arcgisWhiteList,h.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=h,this._xssFilter=new ga.FilterXSS(h)}return t.prototype.sanitize=function(e,i){switch(i===void 0&&(i={}),typeof e){case"number":return isNaN(e)||!isFinite(e)?null:e;case"boolean":return e;case"string":return this._xssFilter.process(e);case"object":return this._iterateOverObject(e,i);default:return i.allowUndefined&&typeof e>"u"?void 0:null}},t.prototype.sanitizeUrl=function(e,i){var o=(i??{}).isProtocolRequired,h=o===void 0?!0:o,p=this._trim(e.substring(0,e.indexOf(":"))),m=e==="/",v=/^#/.test(e),w=p&&this.allowedProtocols.indexOf(p.toLowerCase())>-1;return m||v||w?ga.escapeAttrValue(e):!p&&!h?ga.escapeAttrValue("https://".concat(e)):""},t.prototype.sanitizeHTMLAttribute=function(e,i,o,h){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(e,i,o,h):ga.safeAttrValue(e,i,o,h)},t.prototype.validate=function(e,i){i===void 0&&(i={});var o=this.sanitize(e,i);return{isValid:e===o,sanitized:o}},t.prototype.encodeHTML=function(e){var i=this;return String(e).replace(/[&<>"'\/]/g,function(o){return i._entityMap[o]})},t.prototype.encodeAttrValue=function(e){var i=/^[a-zA-Z0-9]$/;return String(e).replace(/[\x00-\xFF]/g,function(o,h){return i.test(o)?o:"&#x".concat(Number(e.charCodeAt(h)).toString(16),";")})},t.prototype._extendObjectOfArrays=function(e){var i={};return e.forEach(function(o){Object.keys(o).forEach(function(h){Array.isArray(o[h])&&Array.isArray(i[h])?i[h]=i[h].concat(o[h]):i[h]=o[h]})}),i},t.prototype._iterateOverObject=function(e,i){var o=this;i===void 0&&(i={});try{var h=!1,p=void 0;if(Array.isArray(e))p=e.reduce(function(v,w){var A=o.validate(w,i);return A.isValid?v.concat([w]):(h=!0,v.concat([A.sanitized]))},[]);else if(Rj(e)){var m=Object.keys(e);p=m.reduce(function(v,w){var A=e[w],$=o.validate(A,i);return $.isValid?v[w]=A:(h=!0,v[w]=$.sanitized),v},{})}else return i.allowUndefined&&typeof e>"u"?void 0:null;return h?p:e}catch{return null}},t.prototype._trim=function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},t}();const ep=new Map;function I8(){ep.clear()}function Dj(t){return ep.get(t)}function zj(t,e){ep.set(t,e)}function l1(t){ep.delete(t)}function k8(...t){const e=rn.acquire();for(let o=0;o<t.length;o++){const h=t[o],p=typeof h;if(p==="string")e.push(h);else if(Array.isArray(h))e.push.apply(e,h);else if(p==="object")for(const m in h)h[m]&&e.push(m)}const i=e.join(" ");return rn.release(e),i}(()=>{const t=new Map,e=new ResizeObserver(o=>{var h;I8();for(const p of o)(h=t.get(p.target))==null||h(p)}),i=(o,h,p)=>(t.set(o,h),e.observe(o,p),we(()=>{e.unobserve(o),t.delete(o)}));return(o,h,p)=>{let m=null;return $f([Lt(()=>typeof o=="function"?o():o,v=>{m==null||m.remove(),v&&(m=i(v,h,p))},Hf),we(()=>m==null?void 0:m.remove())])}})();function hit(t){const e=t==null?void 0:t.closest("[dir]");return e!==null&&e instanceof HTMLElement&&e.dir==="rtl"||document.dir==="rtl"}function x_(t){const e="data-node-ref";this[t.getAttribute(e)]=null}function rd(t){const e="data-node-ref";this[t.getAttribute(e)]=t}const jj=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],Fj=jj.reduce((t,e)=>(t[e]=[],t),{}),Uj=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],ci=new Lj({whiteList:Fj,onTagAttr:(t,e,i)=>{const o=`${e}="${i}"`;if(Uj.includes(e))return o},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function cit(t){return t==="Enter"||t===" "}async function jv(t,e){await vR(fu(e));const i=typeof t=="function"?t():t;i&&("setFocus"in i&&typeof i.setFocus=="function"?await i.setFocus():i instanceof HTMLElement&&i.focus())}const M8="http://www.w3.org/",ip=`${M8}2000/svg`,O8=`${M8}1999/xlink`;let S_=[],Fv=(t,e)=>{let i={};return Object.keys(t).forEach(o=>{i[o]=t[o]}),e&&Object.keys(e).forEach(o=>{i[o]=e[o]}),i},Uv=(t,e)=>t.vnodeSelector===e.vnodeSelector&&(t.properties&&e.properties?t.properties.key===e.properties.key&&t.properties.bind===e.properties.bind:!t.properties&&!e.properties),P8=t=>{if(typeof t!="string")throw new Error("Style values must be strings")},Bj=(t,e,i)=>{if(e.vnodeSelector!==""){for(let o=i;o<t.length;o++)if(Uv(t[o],e))return o}return-1},h1=(t,e,i,o)=>{let h=t[e];if(h.vnodeSelector==="")return;let p=h.properties;if(!(p&&(p.key===void 0?p.bind:p.key))){for(let m=0;m<t.length;m++)if(m!==e){let v=t[m];if(Uv(v,h))throw new Error(`${i.vnodeSelector} had a ${h.vnodeSelector} child ${o==="added"?o:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Vj=t=>{if(t.properties){let e=t.properties.enterAnimation;e&&e(t.domNode,t.properties)}},tg=[],eg=!1,N8=t=>{(t.children||[]).forEach(N8),t.properties&&t.properties.afterRemoved&&t.properties.afterRemoved.apply(t.properties.bind||t.properties,[t.domNode])},C_=()=>{eg=!1,tg.forEach(N8),tg.length=0},A_=t=>{tg.push(t),eg||(eg=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(C_,{timeout:16}):setTimeout(C_,16))},T_=t=>{let e=t.domNode;if(t.properties){let i=t.properties.exitAnimation;if(i)return e.style.pointerEvents="none",void i(e,()=>{e.parentNode&&(e.parentNode.removeChild(e),A_(t))},t.properties)}e.parentNode&&(e.parentNode.removeChild(e),A_(t))},Gj=(t,e,i)=>{if(!e)return;let o=i.eventHandlerInterceptor,h=Object.keys(e),p=h.length;for(let m=0;m<p;m++){let v=h[m],w=e[v];if(v==="className")throw new Error('Property "className" is not supported, use "class".');if(v==="class")rg(t,w,!0);else if(v==="classes"){let A=Object.keys(w),$=A.length;for(let M=0;M<$;M++){let P=A[M];w[P]&&t.classList.add(P)}}else if(v==="styles"){let A=Object.keys(w),$=A.length;for(let M=0;M<$;M++){let P=A[M],R=w[P];R&&(P8(R),i.styleApplyer(t,P,R))}}else if(v!=="key"&&w!=null){let A=typeof w;A==="function"?(v.lastIndexOf("on",0)===0&&(o&&(w=o(v,w,t,e)),v==="oninput"&&function(){let $=w;w=function(M){$.apply(this,[M]),M.target["oninput-value"]=M.target.value}}()),t[v]=w):i.namespace===ip?v==="href"?t.setAttributeNS(O8,v,w):t.setAttribute(v,w):A==="string"&&v!=="value"?v==="innerHTML"?t[v]=ci.sanitize(w):ig(t)&&v in t?t[v]=w:t.setAttribute(v,w):t[v]=w}}};function ig(t){if(!(t instanceof Element&&t.tagName.includes("-")))return!1;const e=window.customElements.get(t.tagName.toLowerCase());return!!e&&t instanceof e}let Q0,qj=(t,e,i)=>{if(e)for(let o of e)qa(o,t,void 0,i)},R8=(t,e,i)=>{qj(t,e.children,i),e.text&&(t.textContent=e.text),Gj(t,e.properties,i),e.properties&&e.properties.afterCreate&&e.properties.afterCreate.apply(e.properties.bind||e.properties,[t,i,e.vnodeSelector,e.properties,e.children])},qa=(t,e,i,o)=>{let h,p=0,m=t.vnodeSelector,v=e.ownerDocument;if(m==="")h=t.domNode=v.createTextNode(t.text),i!==void 0?e.insertBefore(h,i):e.appendChild(h);else{for(let w=0;w<=m.length;++w){let A=m.charAt(w);if(w===m.length||A==="."||A==="#"){let $=m.charAt(p-1),M=m.slice(p,w);$==="."?h.classList.add(M):$==="#"?h.id=M:(M==="svg"&&(o=Fv(o,{namespace:ip})),o.namespace!==void 0?h=t.domNode=v.createElementNS(o.namespace,M):(h=t.domNode=t.domNode||v.createElement(M),M==="input"&&t.properties&&t.properties.type!==void 0&&h.setAttribute("type",t.properties.type)),i!==void 0?e.insertBefore(h,i):h.parentNode!==e&&e.appendChild(h)),p=w+1}}R8(h,t,o)}},rg=(t,e,i)=>{e&&e.split(" ").forEach(o=>{o&&t.classList.toggle(o,i)})},Hj=(t,e,i,o)=>{if(!i)return;let h=!1,p=Object.keys(i),m=p.length;for(let v=0;v<m;v++){let w=p[v],A=i[w],$=e[w];if(w==="class")$!==A&&(rg(t,$,!1),rg(t,A,!0));else if(w==="classes"){let M=t.classList,P=Object.keys(A),R=P.length;for(let B=0;B<R;B++){let G=P[B],H=!!A[G];H!==!!$[G]&&(h=!0,H?M.add(G):M.remove(G))}}else if(w==="styles"){let M=Object.keys(A),P=M.length;for(let R=0;R<P;R++){let B=M[R],G=A[B];G!==$[B]&&(h=!0,G?(P8(G),o.styleApplyer(t,B,G)):o.styleApplyer(t,B,""))}}else if(A||typeof $!="string"||(A=""),w!=="value"||ig(t)){if(A!==$){let M=typeof A;M==="function"&&o.eventHandlerInterceptor||(o.namespace===ip?w==="href"?t.setAttributeNS(O8,w,A):t.setAttribute(w,A):M==="string"?w==="innerHTML"?t[w]=ci.sanitize(A):w==="role"&&A===""?t.removeAttribute(w):ig(t)&&w in t?t[w]=A:t.setAttribute(w,A):t[w]!==A&&(t[w]=A),h=!0)}}else{let M=t[w];M!==A&&(t["oninput-value"]?M===t["oninput-value"]:A!==$)&&(t[w]=A,t["oninput-value"]=void 0),A!==$&&(h=!0)}}return h},Wj=(t,e,i,o,h)=>{if(i===o)return!1;o=o||S_;let p,m=(i=i||S_).length,v=o.length,w=0,A=0,$=!1;for(;A<v;){let M=w<m?i[w]:void 0,P=o[A];if(M!==void 0&&Uv(M,P))$=Q0(M,P,h)||$,w++;else{let R=Bj(i,P,w+1);if(R>=0){for(p=w;p<R;p++)T_(i[p]),h1(i,p,t,"removed");$=Q0(i[R],P,h)||$,w=R+1}else qa(P,e,w<m?i[w].domNode:void 0,h),Vj(P),h1(o,A,t,"added")}A++}if(m>w)for(p=w;p<m;p++)T_(i[p]),h1(i,p,t,"removed");return $};Q0=(t,e,i)=>{let o=t.domNode,h=!1;if(t===e)return!1;let p=!1;if(e.vnodeSelector===""){if(e.text!==t.text){let m=o.ownerDocument.createTextNode(e.text);return o.parentNode.replaceChild(m,o),e.domNode=m,h=!0,h}e.domNode=o}else e.vnodeSelector.lastIndexOf("svg",0)===0&&(i=Fv(i,{namespace:ip})),t.text!==e.text&&(p=!0,e.text===void 0?o.removeChild(o.firstChild):o.textContent=e.text),e.domNode=o,p=Wj(e,o,t.children,e.children,i)||p,p=Hj(o,t.properties,e.properties,i)||p,e.properties&&e.properties.afterUpdate&&e.properties.afterUpdate.apply(e.properties.bind||e.properties,[o,i,e.vnodeSelector,e.properties,e.children]);return p&&e.properties&&e.properties.updateAnimation&&e.properties.updateAnimation(o,e.properties,t.properties),h};let lh=(t,e)=>({getLastRender:()=>t,update:i=>{if(t.vnodeSelector!==i.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let o=t;t=i,Q0(o,i,e)},domNode:t.domNode});const Jj={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}};let Aa=t=>Fv(Jj,t),Ss={create:(t,e)=>(e=Aa(e),qa(t,document.createElement("div"),void 0,e),lh(t,e)),append:(t,e,i)=>(i=Aa(i),qa(e,t,void 0,i),lh(e,i)),insertBefore:(t,e,i)=>(i=Aa(i),qa(e,t.parentNode,t,i),lh(e,i)),merge:(t,e,i)=>(i=Aa(i),e.domNode=t,R8(t,e,i),lh(e,i)),replace:(t,e,i)=>(i=Aa(i),qa(e,t.parentNode,t,i),t.parentNode.removeChild(t),lh(e,i))},L8,Zj=(t,e)=>{let i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i};L8=Array.prototype.find?(t,e)=>t.find(e):(t,e)=>t.filter(e)[0];let Yj=(t,e)=>{let i=t;return e.forEach(o=>{i=i&&i.children?L8(i.children,h=>h.domNode===o):void 0}),i},Kj=(t,e,i)=>{let o=function(h){i("domEvent",h);let p=e(),m=Zj(h.currentTarget,p.domNode);m.reverse();let v,w=Yj(p.getLastRender(),m);return t.scheduleRender(),w&&(v=w.properties[`on${h.type}`].apply(w.properties.bind||this,arguments)),i("domEventProcessed",h),v};return(h,p,m,v)=>o},uit=t=>{let e,i,o=Aa(t),h=o.performanceLogger,p=!0,m=!1,v=[],w=[],A=(M,P,R)=>{let B,G=()=>B;o.eventHandlerInterceptor=Kj(e,G,h),B=M(P,R(),o),v.push(B),w.push(R)},$=()=>{if(i=void 0,p){p=!1,h("renderStart",void 0);for(let M=0;M<v.length;M++){let P=w[M]();h("rendered",void 0),v[M].update(P),h("patched",void 0)}h("renderDone",void 0),p=!0}};return e={renderNow:$,scheduleRender:()=>{i||m||(i=requestAnimationFrame($))},stop:()=>{i&&(cancelAnimationFrame(i),i=void 0),m=!0},resume:()=>{m=!1,p=!0,e.scheduleRender()},append:(M,P)=>{A(Ss.append,M,P)},insertBefore:(M,P)=>{A(Ss.insertBefore,M,P)},merge:(M,P)=>{A(Ss.merge,M,P)},replace:(M,P)=>{A(Ss.replace,M,P)},detach:M=>{for(let P=0;P<w.length;P++)if(w[P]===M)return w.splice(P,1),v.splice(P,1)[0];throw new Error("renderFunction was not found")}},e};const Xj={handleInterceptedEvent:(t,e,i,o)=>(t.scheduleRender(),e.properties[`on${o.type}`].apply(e.properties.bind||i,[o]))},Qj={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(t,e,i)=>{e.charAt(0)==="-"?t.style.setProperty(e,i):t.style[e]=i}},tF=t=>({...Qj,...t}),eF=(t,e)=>{const i=[];for(;t&&t!==e;)i.push(t),t=t.parentNode;return i},iF=(t,e)=>t.find(e),E_=(t,e,i=!1)=>{let o=t;return e.forEach((h,p)=>{const m=o!=null&&o.children?iF(o.children,v=>v.domNode===h):void 0;i&&!m&&p!==e.length-1||(o=m)}),o},rF=t=>{let e;const i={...Xj,...t},o=tF(i),h=o.performanceLogger;let p,m=!0,v=!1;const w=[],A=[],$=(P,R,B)=>{var Z;let G;o.eventHandlerInterceptor=(X,Q,rt,et)=>function(nt){let bt;h("domEvent",nt);const gt=eF(nt.currentTarget,G.domNode),At=gt.some($t=>{var Ht;return customElements.get((Ht=$t==null?void 0:$t.tagName)==null?void 0:Ht.toLowerCase())});if(nt.eventPhase===Event.CAPTURING_PHASE||!At)gt.reverse(),bt=E_(G.getLastRender(),gt);else{const $t=nt.composedPath(),Ht=$t.slice($t.indexOf(nt.currentTarget),$t.indexOf(G.domNode)).reverse();bt=E_(G.getLastRender(),Ht,!0)}let wt;return bt&&(wt=i.handleInterceptedEvent(e,bt,this,nt)),h("domEventProcessed",nt),wt},(Z=i.postProcessProjectionOptions)==null||Z.call(i,o);const H=B();G=P(R,H,o),o.eventHandlerInterceptor=void 0,w.push(G),A.push(B),i.afterFirstVNodeRendered&&i.afterFirstVNodeRendered(G,H)};let M=()=>{if(p=void 0,m){m=!1,h("renderStart",void 0);for(let P=0;P<w.length;P++){const R=A[P]();h("rendered",void 0);try{w[P].update(R)}catch(B){console.error(B)}h("patched",void 0)}h("renderDone",void 0),m=!0}};return i.modifyDoRenderImplementation&&(M=i.modifyDoRenderImplementation(M,w,A)),e={renderNow:M,scheduleRender:()=>{p||v||(p=requestAnimationFrame(M))},stop:()=>{p&&(cancelAnimationFrame(p),p=void 0),v=!0},resume:()=>{v=!1,m=!0,e.scheduleRender()},append:(P,R)=>{$(Ss.append,P,R)},insertBefore:(P,R)=>{$(Ss.insertBefore,P,R)},merge:(P,R)=>{$(Ss.merge,P,R)},replace:(P,R)=>{$(Ss.replace,P,R)},detach:P=>{for(let R=0;R<A.length;R++)if(A[R]===P)return A.splice(R,1),w.splice(R,1)[0];throw new Error("renderFunction was not found")}},e};/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */const Mn=globalThis.calciteConfig,dit=(Mn==null?void 0:Mn.focusTrapStack)||[];Mn!=null&&Mn.logLevel;const $_="2.13.1",nF="2024-10-11",sF="6704555f8";function oF(){if(Mn&&Mn.version)return;console.info(`Using Calcite Components ${$_} [Date: ${nF}, Revision: ${sF}]`);const t=Mn||globalThis.calciteConfig||{};Object.defineProperty(t,"version",{value:$_,writable:!1}),globalThis.calciteConfig=t}/*!
 * All material copyright ESRI, All Rights Reserved, unless otherwise specified.
 * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
 * v2.13.1
 */function I_(){const{classList:t}=document.body,e=window.matchMedia("(prefers-color-scheme: dark)").matches,i=()=>t.contains(d4)||t.contains(u4)&&e?"dark":"light",o=m=>document.body.dispatchEvent(new CustomEvent("calciteModeChange",{bubbles:!0,detail:{mode:m}})),h=m=>{p!==m&&o(m),p=m};let p=i();o(p),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",m=>h(m.matches?"dark":"light")),new MutationObserver(()=>h(i())).observe(document.body,{attributes:!0,attributeFilter:["class"]})}function aF(){Nl()&&(document.readyState==="interactive"?I_():document.addEventListener("DOMContentLoaded",()=>I_(),{once:!0})),oF()}const lF=aF;lF();let D8;function hF(){try{bb(".")}catch{O5(sa(ne(D8)))}}function vu(t){var i;const e=[];for(const o of Object.keys(t))customElements.get(`calcite-${o}`)||e.push((i=t[o])==null?void 0:i.call(t));return e.length>0?Promise.all(e):null}D8="components/assets";const z8=Symbol("widget"),j8=Symbol("widget-test-data"),cF=[],uF={},tf=new WeakMap;function F8(t,e){let i=e.children;if(i!=null&&i.length)for(let h=0;h<i.length;++h)i[h]=F8(t,i[h]);else i=cF;const o=e.vnodeSelector;if(ef(o)){const h=e.properties||uF,p=h.key||o,m={key:p,afterCreate:dF,afterUpdate:fF,afterRemoved:U8,parentWidget:t,widgetConstructor:o,widgetProperties:{...h,key:p,children:i}};return{vnodeSelector:o.vnodeSelector,properties:m,children:void 0,text:void 0,domNode:null}}return e}function dF(t,e,i,{parentWidget:o,widgetConstructor:h,widgetProperties:p}){var v;const m=new h(p);m.container=t,tf.set(t,m),(v=m.afterCreate)==null||v.call(m,m,t),o.addHandles(we(()=>U8(t))),queueMicrotask(()=>{m[j8].projector.renderNow()})}function fF(t,e,i,{widgetProperties:o}){var p;const h=tf.get(t);h&&(h.set(o),(p=h.afterUpdate)==null||p.call(h,h,t))}function U8(t){var i;const e=tf.get(t);e&&((i=e.afterRemoved)==null||i.call(e,e,t),e.destroy(),tf.delete(t))}function ef(t){return typeof t=="function"&&t[z8]}const k_=new Set;function pF(t){k_.add(t),t.finally(()=>k_.delete(t))}var B8;const mF="esri.widgets.Widget";let gF=0;function V8(t,e){const i=Object.prototype.hasOwnProperty;for(const o in e)i.call(e,o)&&i.call(t,o)&&(t[o]!=null&&e[o]!=null&&typeof t[o]=="object"&&typeof e[o]=="object"?V8(t[o],e[o]):t[o]=e[o]);return t}const yF=rF({postProcessProjectionOptions(t){const e=t.eventHandlerInterceptor,i=/capture$/i;t.eventHandlerInterceptor=(o,h,p,m)=>{const v=e==null?void 0:e(o,h,p,m),w=i.test(o);if(!((o=o.replace(i,"")).toLowerCase()in p)||w){const A=o[2].toLowerCase()+o.slice(3),$=R=>v==null?void 0:v.call(p,R);p.addEventListener(A,$,w);const M=()=>p.removeEventListener(A,$,w),P=m.afterRemoved;m.afterRemoved=R=>{P==null||P(R),M()}}return v}},handleInterceptedEvent(t,e,i,o){const{eventPhase:h,type:p}=o,m=h===Event.CAPTURING_PHASE;let v=`on${p}${m?"capture":""}`;const w=e.properties;(w&&v in w||(v=`on${p[0].toUpperCase()}${p.slice(1)}${m?"Capture":""}`,w&&v in w))&&(I8(),t.scheduleRender(),w[v].call(w.bind||i,o))}});let c1=!1,Ue=class extends p8(Gf.EventedAccessor){constructor(e,i){super(e,i),this._attached=!1,this._projector=yF,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=Px(async()=>{var w;if((w=this._messageBundleProps)!=null&&w.length){const A=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:$,propertyName:M})=>{if(this.destroyed)return;let P=await Ga($);this.uiStrings&&Object.keys(this.uiStrings)&&(P=V8(at(P),this.uiStrings)),this[M]=P}));if(this.destroyed)return;for(const $ of A)$.status==="rejected"&&Rt.getLogger(this).error("widget-intl:locale-error",this.declaredClass,$.reason)}await this.loadLocale()}),hF();const o="esri-widget-uid-"+Lv(),h=this.render.bind(this);this._trackingTarget=new jf(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const p=()=>({vnodeSelector:"div",properties:{key:`${o}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),m=()=>{var M,P;if(!this._readyForTrueRender||this.destroyed)return null;const w=h()??p(),A=w.properties??(w.properties={});if(A.key??(A.key=o),ef(w.vnodeSelector)){if(!this.visible)return p()}else this.visible?A.styles||(A.styles={}):(A.class="",A.styles={display:"none"}),(M=A.styles).display??(M.display="");let $=0;return(P=w.children)==null||P.forEach(R=>{var B;ef(R.vnodeSelector)||(R.properties??(R.properties={}),(B=R.properties).key??(B.key=`${this.id}--${$++}`))}),F8(this,w)};this.render=()=>{if(c1)return m();let w=Dj(this)??null;if(w)return w;this._trackingTarget.clear(),c1=!0;try{w=Nn(this._trackingTarget,m)}catch(A){throw Rt.getLogger(this).error(A),A}finally{c1=!1}return w&&zj(this,w),w};const v=this.beforeFirstRender();v?this._resourcesFetch=v.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),pF(this._resourcesFetch)}normalizeCtorArgs(e,i){const o={...e};return i&&(o.container=i),o}postInitialize(){}beforeFirstRender(){var i;const e=this.loadDependencies();return(i=this._messageBundleProps)!=null&&i.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(Aw):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(ko(this._trackingTarget),ko(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,l1(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return zz(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+gF++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(B8=z8,j8)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(l1(this),this._projector.scheduleRender())}own(e){$0(Rt.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(e)}classes(...e){return k8.apply(this,e)}renderNow(){l1(this),this._projector.renderNow()}_postInitialize(){var i;if(this.destroyed)return;this.scheduleRender(),(i=this._delegatedEventNames)!=null&&i.length&&this.addHandles(Lt(()=>this.viewModel,(o,h)=>{h&&this.removeHandles("delegated-events"),o&&Rf(o)&&this.addHandles(this._delegatedEventNames.map(p=>ys(o,p,m=>{this.emit(p,m)})),"delegated-events")},Hf)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(Aw),this.scheduleRender()};this.addHandles([p6(e),Lt(()=>this.uiStrings,e),Go(()=>this.container,o=>{this.destroyed||this._attach(o)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var i;this._attached&&(this._projector.detach(this.render),this._attached=!1),(i=e==null?void 0:e.parentNode)==null||i.removeChild(e)}};Ue[B8]=!0,Ue.vnodeSelector="div",C([E()],Ue.prototype,"_readyForTrueRender",void 0),C([E({value:null})],Ue.prototype,"container",null),C([Lr("container")],Ue.prototype,"castContainer",null),C([E()],Ue.prototype,"icon",null),C([E()],Ue.prototype,"id",null),C([E()],Ue.prototype,"label",null),C([E()],Ue.prototype,"renderable",null),C([E()],Ue.prototype,"uiStrings",void 0),C([E()],Ue.prototype,"viewModel",void 0),C([E({value:!0})],Ue.prototype,"visible",null),C([E()],Ue.prototype,"key",void 0),C([E()],Ue.prototype,"children",void 0),C([E()],Ue.prototype,"afterCreate",void 0),C([E()],Ue.prototype,"afterUpdate",void 0),C([E()],Ue.prototype,"afterRemoved",void 0),Ue=C([Y(mF)],Ue);const G8=Ue;function q8(t){const e=t.toLowerCase();return e==="image/bmp"||e==="image/emf"||e==="image/exif"||e==="image/gif"||e==="image/x-icon"||e==="image/jpeg"||e==="image/png"||e==="image/tiff"||e==="image/x-wmf"}function pit(t){const e=ne("esri/themes/base/images/files/");return t?t==="text/plain"?`${e}text-32.svg`:t==="application/pdf"?`${e}pdf-32.svg`:t==="text/csv"?`${e}csv-32.svg`:t==="application/gpx+xml"?`${e}gpx-32.svg`:t==="application/x-dwf"?`${e}cad-32.svg`:t==="application/postscript"||t==="application/json"||t==="text/xml"||t==="model/vrml"?`${e}code-32.svg`:t==="application/x-zip-compressed"||t==="application/x-7z-compressed"||t==="application/x-gzip"||t==="application/x-tar"||t==="application/x-gtar"||t==="application/x-bzip2"||t==="application/gzip"||t==="application/x-compress"||t==="application/x-apple-diskimage"||t==="application/x-rar-compressed"||t==="application/zip"?`${e}zip-32.svg`:t.includes("image/")?`${e}image-32.svg`:t.includes("audio/")?`${e}sound-32.svg`:t.includes("video/")?`${e}video-32.svg`:t.includes("msexcel")||t.includes("ms-excel")||t.includes("spreadsheetml")?`${e}excel-32.svg`:t.includes("msword")||t.includes("ms-word")||t.includes("wordprocessingml")?`${e}word-32.svg`:t.includes("powerpoint")||t.includes("presentationml")?`${e}report-32.svg`:`${e}generic-32.svg`:`${e}generic-32.svg`}function H8(t){return t?t==="text/plain"?"file-text":t==="application/pdf"?"file-pdf":t==="text/csv"?"file-csv":t==="application/gpx+xml"?"file-gpx":t==="application/x-dwf"?"file-cad":t==="application/postscript"||t==="application/json"||t==="text/xml"||t==="model/vrml"?"file-code":t==="application/x-zip-compressed"||t==="application/x-7z-compressed"||t==="application/x-gzip"||t==="application/x-tar"||t==="application/x-gtar"||t==="application/x-bzip2"||t==="application/gzip"||t==="application/x-compress"||t==="application/x-apple-diskimage"||t==="application/x-rar-compressed"||t==="application/zip"?"file-zip":t.includes("image/")?"file-image":t.includes("audio/")?"file-sound":t.includes("video/")?"file-video":t.includes("msexcel")||t.includes("ms-excel")||t.includes("spreadsheetml")?"file-excel":t.includes("msword")||t.includes("ms-word")||t.includes("wordprocessingml")?"file-word":t.includes("powerpoint")||t.includes("presentationml")?"file-ppt":"file":"file"}const Bv={anchor:"esri-widget__anchor",anchorDisabled:"esri-widget__anchor--disabled",button:"esri-button",buttonDisabled:"esri-button--disabled",buttonHalf:"esri-button--half",buttonSecondary:"esri-button--secondary",buttonSmall:"esri-button--small",buttonTertiary:"esri-button--tertiary",buttonThird:"esri-button--third",disabled:"esri-disabled",empty:"esri-widget__content--empty",emptyIllustration:"esri-widget__content-illustration--empty",heading:"esri-widget__heading",hidden:"esri-hidden",input:"esri-input",interactive:"esri-interactive",loader:"esri-widget__loader",loaderAnimation:"esri-widget__loader-animation",loaderText:"esri-widget__loader-text",menu:"esri-menu",menuHeader:"esri-menu__header",menuItem:"esri-menu__list-item",menuItemActive:"esri-menu__list-item--active",menuItemFocus:"esri-menu__list-item--focus",menuList:"esri-menu__list",panel:"esri-widget--panel",panelHeightOnly:"esri-widget--panel-height-only",primaryTick:"primary-tick",primaryTickAmPm:"primary-tick__ampm",primaryTickLabel:"primary-tick__label",rotating:"esri-rotating",secondaryTick:"secondary-tick",select:"esri-select",table:"esri-widget__table",widget:"esri-widget",widgetButton:"esri-widget--button",widgetButtonActive:"esri-widget--button-active",widgetDisabled:"esri-widget--disabled"};var bF=function(t){return{vnodeSelector:"",properties:void 0,children:void 0,text:t.toString(),domNode:null}},W8=function(t,e){for(var i=0,o=t.length;i<o;i++){var h=t[i];Array.isArray(h)?W8(h,e):h!=null&&h!==!1&&(h.hasOwnProperty("vnodeSelector")||(h=bF(h)),e.push(h))}},vF=function(t,e){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];if(i.length===1&&typeof i[0]=="string")return{vnodeSelector:t,properties:e||void 0,children:void 0,text:i[0],domNode:null};var h=[];return W8(i,h),{vnodeSelector:t,properties:e||void 0,children:h,text:void 0,domNode:null}};function dt(t,e,...i){return typeof t!="function"||ef(t)?vF(t,e,...i):t(e,...i)}function mit(...t){return t}function wF({level:t,class:e,...i},o){const h=J8(t);return dt(`h${h}`,{...i,"aria-level":String(h),class:k8(Bv.heading,e),role:"heading"},o)}function J8(t){return Vs(Math.ceil(t),1,6)}function git(t,e=1){return J8(t+e)}const _F={danger:"exclamation-mark-circle",info:"information",success:"check",warning:"exclamation-mark-triangle",brand:void 0,neutral:void 0,inverse:void 0},ya="esri-editor__prompt",ba={base:ya,header:`${ya}__header`,heading:`${ya}__header__heading`,message:`${ya}__message`,divider:`${ya}__divider`,actions:`${ya}__actions`},xF=()=>vu({button:()=>vt(()=>import("./calcite-button-OwHWnVyW.js"),[]),icon:()=>vt(()=>import("./calcite-icon-B5wvyzgm.js"),[]),scrim:()=>vt(()=>import("./calcite-scrim-j94-IGph.js"),[]),label:()=>vt(()=>import("./calcite-label-CXLoAlD_.js"),[]),"radio-button":()=>vt(()=>import("./calcite-radio-button-SzL8DcRw.js"),__vite__mapDeps([166,167])),"radio-button-group":()=>vt(()=>import("./calcite-radio-button-group-DokW4NJz.js"),__vite__mapDeps([168,169,170]))});function SF({actions:t,context:e,headingLevel:i,message:o,title:h,...p}){const{primary:m,secondary:v}=t;let w;switch(e){case"danger":w="danger";break;case"info":w="brand";break;default:w="neutral"}const A=dt("calcite-button",{afterCreate:M=>jv(M),appearance:"solid","data-testid":"primary-prompt-button",key:"prompt-primary-button",kind:w,onclick:m.action,width:v?"half":"full"},m.label),$=v&&dt("calcite-button",{appearance:"outline","data-testid":"secondary-prompt-button",key:"prompt-secondary-button",kind:w,onclick:v.action,width:"half"},v.label);return dt("calcite-scrim",{"data-testid":"prompt",key:"prompt"},dt("div",{class:`${ba.base}--${e}`},dt("div",{class:ba.header},dt("calcite-icon",{icon:_F.warning}),dt(wF,{class:ba.heading,level:i},h)),dt("div",{class:ba.message},o),CF(p)??dt("div",{class:ba.divider}),dt("div",{class:ba.actions},$,A)))}function CF({radios:t,onRadioSelection:e,defaultRadioSelection:i}){return t!=null&&t.length?dt("calcite-radio-button-group",{name:"PromptChoiceList"},t.map(o=>dt("calcite-label",{layout:"inline"},dt("calcite-radio-button",{checked:o.value===i,value:o.value,onCalciteRadioButtonChange:()=>e==null?void 0:e(o.value)}),o.label))):void 0}let _h=class extends me{constructor(e){super(e),this.sortAscending=!0,this.sortDescending=!0}};C([E({type:Boolean,nonNullable:!0})],_h.prototype,"sortAscending",void 0),C([E({type:Boolean,nonNullable:!0})],_h.prototype,"sortDescending",void 0),_h=C([Y("esri.widgets.FeatureTable.ColumnMenuVisibleElements")],_h);const ac=_h;function Po(t,e,i=Tt){return e||(e=new i),e===t||(e.removeAll(),TF(t)?e.addMany(t):t&&e.add(t)),e}function AF(t){return t}function TF(t){return t&&(Array.isArray(t)||"items"in t&&Array.isArray(t.items))}async function EF(t,e){const{WhereClause:i}=await vt(()=>import("./WhereClause-dg9O4EEg.js").then(o=>o.W),__vite__mapDeps([171,134,78]));return i.create(t,{fieldsIndex:e})}function bit(t,e){return t==="1=1"?e??t:e==="1=1"?t??e:t!=null&&t!==""?e!=null&&e!==""?`(${t}) AND (${e})`:t:e}function io(t){return typeof t=="number"}function rp(t){return typeof t=="string"||t instanceof String}const $F=Pn,ng={date:null,time:null,timeZoneOffset:null},IF=new Map([["hours",3600],["minutes",60],["seconds",1],["deciseconds",.1],["centiseconds",.01],["milliseconds",.001]]),wu="yyyy-MM-dd",Z8="TT";var ol;(function(t){t.HM="HH:mm",t.HMS="HH:mm:ss",t.HMS_MS="HH:mm:ss.SSS"})(ol||(ol={}));const kF=[ol.HMS_MS,ol.HMS,ol.HM,Z8],MF="latn",M_=new Set(["date-only","time-only","timestamp-offset"]),OF=t=>"valueAsDate"in t;function Jo(t){return{locale:hr(),numberingSystem:MF,zone:t??$F}}function Y8(t,e){return t===null?null:_t.fromMillis(t,Jo(e))}function K8(t,e){if(t==null||!rp(t)||t===""){if(e){const o=_t.local({zone:e});return{date:null,time:null,timeZoneOffset:o.isValid?o.offset.toString():null}}return ng}const i=_t.fromISO(t,{setZone:!0});return{date:i.toFormat(wu,Jo()),time:i.toFormat(ol.HMS_MS,Jo()),timeZoneOffset:i.offset.toString()}}function PF(t,e){if(t==null||!io(t)||isNaN(t))return ng;const i=Y8(t,e);return i?{date:i.toFormat(wu,Jo(e)),time:i.toFormat(Z8,Jo(e))}:ng}function X8(t){switch(t.type){case"date":default:return $i("short-date-short-time");case"date-only":return $i("short-date");case"time-only":return $i("short-time");case"timestamp-offset":return{...$i("short-date-short-time"),timeZone:void 0,timeZoneName:"short"}}}function sg(t,e,i){if(!t||e==null)return null;switch(t.type){case"date":return Ii(e,i);case"date-only":return vx(e,i);case"time-only":return wx(e,i);case"timestamp-offset":return _x(e,i);default:return null}}function NF(t){const{dateComponent:e,defaultTimeZone:i,timeComponent:o,timeZoneComponent:h,oldValue:p}=t;if(!(e!=null&&e.value)||!(o!=null&&o.value))return null;const{year:m,month:v,day:w}=_t.fromFormat(e.value,wu),{hour:A,minute:$,second:M,millisecond:P}=og(o,Pn)??_t.now(),R=K8(p,i),B=(h==null?void 0:h.value)!=null?parseInt(h.value,10):R.timeZoneOffset!=null?parseInt(R.timeZoneOffset,10):new Date().getTimezoneOffset(),G=ni.instance(B),H=_t.fromObject({year:m,month:v,day:w,hour:A,minute:$,second:M,millisecond:P},{zone:G});return H.isValid?H.toISO({includeOffset:!0}):null}function RF(t){const{dateComponent:e,timeComponent:i,timeZone:o,max:h,min:p,oldValue:m}=t,v=og(e,o);let w=!!t.applyRange;if(!v)return null;let A=null;if((i==null?void 0:i.value)!=null){const M=og(i,o),P=Date.now(),R=h!=null&&h<P?h:P,B=_t.fromMillis(R,Jo(o)),G=v||B,{year:H,month:Z,day:X}=G,{hour:Q,minute:rt,second:et,millisecond:nt}=M||B;A=G.set({year:H,month:Z,day:X,hour:Q,minute:rt,second:et,millisecond:nt})}else{const M=Y8(O_({value:m??Date.now(),max:h,min:p}),o),{year:P,month:R,day:B}=v,{hour:G,minute:H,second:Z,millisecond:X}=M;w=!0,A=v.set({year:P,month:R,day:B,hour:G,minute:H,second:Z,millisecond:X})}if(!A.isValid)return null;const $=A.toMillis();return w?O_({value:$,max:h,min:p}):$}function og(t,e){if((t==null?void 0:t.value)==null||Array.isArray(t.value))return null;let i=null;return i=OF(t)?_t.fromFormat(t.value,wu,Jo(e)):al(t.value),i!=null&&i.isValid?i:null}function rf(t){const{max:e,min:i,value:o}=t;return!isNaN(o)&&!(e!=null&&o>e)&&!(i!=null&&o<i)}function O_(t){const{max:e,min:i,value:o}=t;return e!=null&&i!=null?Vs(o,i,e):e!=null&&o>e?e:i!=null&&o<i?i:o}function Q8(t){if(!t)return"";const e=t.split(".").at(0);if(!e||e.length<1)throw new kt("invalid time-only field",`Cannot parse valid time-only field value from ${t}`);const i=e.split(":"),o=new Array(3);for(let h=0;h<3;h++){const p=i.at(h)??"";o[h]=p.padStart(2,"0")}return o.join(":")}function LF(t,e){switch(e){case"date":return t.getTime();case"date-only":return t.toISODate();case"time-only":return Q8(t.toISOTime(!0,!1));case"timestamp-offset":return t.toISOString(!1);default:return null}}function DF(t){return!!t&&typeof t=="object"&&"getTime"in t&&"toISOString"in t&&"timeZone"in t}function lc(t){if(!t||!rp(t))return null;const e=_t.fromFormat(t,wu);return e.isValid?e:null}function al(t){return t&&rp(t)?MN(kF,e=>{const i=_t.fromFormat(t,e);return i.isValid?i:null})??null:null}function hc(t){if(!t||!rp(t))return null;const e=_t.fromISO(t);return e.isValid?e:null}function tS(t){const{type:e,range:i,value:o}=t;if(o==null||!i||o===i.min||o===i.max)return!0;if(e==="date")return rf({value:o,min:i.min,max:i.max});const{rawMax:h,rawMin:p}=i;let m=null,v=null,w=null;switch(e){case"date-only":m=lc(h),v=lc(p),w=lc(o);break;case"time-only":m=al(h),v=al(p),w=al(o);break;case"timestamp-offset":m=hc(h),v=hc(p),w=hc(o)}return!w||rf({value:w.valueOf(),min:v==null?void 0:v.valueOf(),max:m==null?void 0:m.valueOf()})}var js;(function(t){t.VALUE_OUT_OF_RANGE="domain-validation-error::value-out-of-range",t.INVALID_CODED_VALUE="domain-validation-error::invalid-coded-value"})(js||(js={}));const zF=new Set(["integer","small-integer","big-integer","esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"]);function jF(t){return t!=null&&zF.has(t.type)}function eS(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function iS(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function rS(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function ag(t,e,i){const o=i??(t==null?void 0:t.domain);if(!o)return null;switch(o.type){case"range":{const{min:h,max:p}=Ha(t,i);if(h!=null&&+e<h||p!=null&&+e>p)return js.VALUE_OUT_OF_RANGE;break}case"coded-value":case"codedValue":if(o.codedValues==null||o.codedValues.every(h=>h==null||h.code!==e))return js.INVALID_CODED_VALUE}return null}function Ha(t,e){const i=e??(t==null?void 0:t.domain);if(!i||i.type!=="range")return;const o="range"in i?i.range[0]:i.minValue,h="range"in i?i.range[1]:i.maxValue,p=jF(t);return eS(t)||rS(t)||iS(t)?{...nS(t,h,o),isInteger:p}:{min:o!=null&&typeof o=="number"?o:null,max:h!=null&&typeof h=="number"?h:null,rawMin:o,rawMax:h,isInteger:p}}function nS(t,e,i){var o,h,p,m,v,w;return eS(t)?{min:(o=lc(i))==null?void 0:o.toMillis(),max:(h=lc(e))==null?void 0:h.toMillis(),rawMin:i,rawMax:e}:rS(t)?{min:(p=al(i))==null?void 0:p.toMillis(),max:(m=al(e))==null?void 0:m.toMillis(),rawMin:i,rawMax:e}:iS(t)?{min:(v=hc(i))==null?void 0:v.toMillis(),max:(w=hc(e))==null?void 0:w.toMillis(),rawMin:i,rawMax:e}:{max:null,min:null}}function Xt(t,e,i){let o,h;return e===void 0||Array.isArray(e)?(h=t,i=e,o=[void 0]):(h=e,o=Array.isArray(t)?t:[t]),(p,m)=>{const v=p.constructor.prototype;o.forEach(w=>{const A=h7(p,w,h);A.read&&typeof A.read=="object"||(A.read={}),A.read.reader=v[m],i&&(A.read.source=(A.read.source||[]).concat(i))})}}function Ft(t,e,i){let o,h;return e===void 0?(h=t,o=[void 0]):typeof e!="string"?(h=t,o=[void 0],i=e):(h=e,o=Array.isArray(t)?t:[t]),(p,m)=>{const v=p.constructor.prototype;for(const w of o){const A=h7(p,w,h);A.write&&typeof A.write=="object"||(A.write={}),i&&(A.write.target=i),A.write.writer=v[m]}}}var Gr;let ce=Gr=class extends St{static fromJSON(t){if(!t)return null;if((t==null?void 0:t.wkid)===102100)return Gr.WebMercator;if((t==null?void 0:t.wkid)===4326)return Gr.WGS84;const e=new Gr;return e.read(t),e}constructor(t){super(t),this.latestWkid=null,this.wkid=null,this.wkt=null,this.wkt2=null,this.vcsWkid=null,this.latestVcsWkid=null,this.imageCoordinateSystem=null}normalizeCtorArgs(t){return t&&typeof t=="object"?t:{[typeof t=="string"?"wkt":"wkid"]:t}}get isWGS84(){return Y0(this)}get isWebMercator(){return Ho(this)}get isGeographic(){return Ov(this)}get isWrappable(){return iz(this)}get metersPerUnit(){return Yf(this)}get unit(){return bu(this)||(this.isGeographic?"degrees":null)}writeWkt(t,e){this.wkid||(e.wkt=t)}clone(){if(this===Gr.WGS84)return new Gr(X7);if(this===Gr.WebMercator)return new Gr(Q7);const t=new Gr;return this.wkid!=null?(t.wkid=this.wkid,this.latestWkid!=null&&(t.latestWkid=this.latestWkid),this.vcsWkid!=null&&(t.vcsWkid=this.vcsWkid),this.latestVcsWkid!=null&&(t.latestVcsWkid=this.latestVcsWkid)):(this.wkt!=null&&(t.wkt=this.wkt),this.wkt2!=null&&(t.wkt2=this.wkt2)),this.imageCoordinateSystem&&(t.imageCoordinateSystem=at(this.imageCoordinateSystem)),t}equals(t){if(t==null)return!1;if(this.imageCoordinateSystem||t.imageCoordinateSystem){if(this.imageCoordinateSystem==null||t.imageCoordinateSystem==null)return!1;const{id:e,referenceServiceName:i}=t.imageCoordinateSystem,{geodataXform:o}=t.imageCoordinateSystem,h=this.imageCoordinateSystem;return e==null||o?JSON.stringify(h)===JSON.stringify(t.imageCoordinateSystem):i?h.id===e&&h.referenceServiceName===i:h.id===e}return qo(this,t)}toJSON(t){return this.write(void 0,t)}};ce.GCS_NAD_1927=null,ce.WGS84=null,ce.WebMercator=null,ce.PlateCarree=null,C([E({readOnly:!0})],ce.prototype,"isWGS84",null),C([E({readOnly:!0})],ce.prototype,"isWebMercator",null),C([E({readOnly:!0})],ce.prototype,"isGeographic",null),C([E({readOnly:!0})],ce.prototype,"isWrappable",null),C([E({type:Fe,json:{write:!0}})],ce.prototype,"latestWkid",void 0),C([E({readOnly:!0})],ce.prototype,"metersPerUnit",null),C([E({readOnly:!0})],ce.prototype,"unit",null),C([E({type:Fe,json:{write:!0,origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkt==null}}}}}}})],ce.prototype,"wkid",void 0),C([E({type:String,json:{origins:{"web-scene":{write:{overridePolicy(){return{isRequired:this.wkid==null}}}}}}})],ce.prototype,"wkt",void 0),C([Ft("wkt"),Ft("web-scene","wkt")],ce.prototype,"writeWkt",null),C([E({type:String,json:{write:!1}})],ce.prototype,"wkt2",void 0),C([E({type:Fe,json:{write:!0}})],ce.prototype,"vcsWkid",void 0),C([E({type:Fe,json:{write:!0}})],ce.prototype,"latestVcsWkid",void 0),C([E()],ce.prototype,"imageCoordinateSystem",void 0),ce=Gr=C([Y("esri.geometry.SpatialReference")],ce),ce.prototype.toJSON.isDefaultToJSON=!0,ce.GCS_NAD_1927=me.freeze(new ce({wkid:4267,wkt:'GEOGCS["GCS_North_American_1927",DATUM["D_North_American_1927",SPHEROID["Clarke_1866",6378206.4,294.9786982]],PRIMEM["Greenwich",0.0],UNIT["Degree",0.0174532925199433]]'})),ce.WGS84=me.freeze(new ce(X7)),ce.WebMercator=me.freeze(new ce(Q7)),ce.PlateCarree=me.freeze(new ce(rz));const Pe=ce;let qr=class extends St{constructor(...e){super(...e),this.type=null,this.hasM=!1,this.hasZ=!1,this.spatialReference=Pe.WGS84}get cache(){return this.commitProperty("spatialReference"),{}}get extent(){return null}readSpatialReference(e,i){if(e instanceof Pe)return e;if(e!=null){const o=new Pe;return o.read(e,i),o}return e}clone(){return console.warn(".clone() is not implemented for "+this.declaredClass),null}clearCache(){this.notifyChange("cache")}getCacheValue(e){return this.cache[e]}setCacheValue(e,i){this.cache[e]=i}};C([E()],qr.prototype,"type",void 0),C([E({readOnly:!0})],qr.prototype,"cache",null),C([E({readOnly:!0})],qr.prototype,"extent",null),C([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],qr.prototype,"hasM",void 0),C([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],qr.prototype,"hasZ",void 0),C([E({type:Pe,json:{write:!0},value:Pe.WGS84})],qr.prototype,"spatialReference",void 0),C([Xt("spatialReference")],qr.prototype,"readSpatialReference",null),qr=C([Y("esri.geometry.Geometry")],qr);const la=qr,FF=57.29577951308232,UF=.017453292519943;function P_(t){return t*FF}function N_(t){return t*UF}function wit(t){return Math.PI/2-2*Math.atan(Math.exp(-t/Rr.radius))}function lg(t){return t.wkid!=null||t.wkt!=null}const u1=[0,0];function nf(t,e,i,o,h){const p=t,m=h;if(m.spatialReference=i,"x"in p&&"x"in m)[m.x,m.y]=e(p.x,p.y,u1,o);else if("xmin"in p&&"xmin"in m)[m.xmin,m.ymin]=e(p.xmin,p.ymin,u1,o),[m.xmax,m.ymax]=e(p.xmax,p.ymax,u1,o);else if("paths"in p&&"paths"in m||"rings"in p&&"rings"in m){const v="paths"in p?p.paths:p.rings,w=[];let A;for(let $=0;$<v.length;$++){const M=v[$];A=[],w.push(A);for(let P=0;P<M.length;P++)A.push(e(M[P][0],M[P][1],[0,0],o)),M[P].length>2&&A[P].push(M[P][2]),M[P].length>3&&A[P].push(M[P][3])}"paths"in m?m.paths=w:m.rings=w}else if("points"in p&&"points"in m){const v=p.points,w=[];for(let A=0;A<v.length;A++)w[A]=e(v[A][0],v[A][1],[0,0],o),v[A].length>2&&w[A].push(v[A][2]),v[A].length>3&&w[A].push(v[A][3]);m.points=w}return h}function Md(t,e){const i=t&&(lg(t)?t:t.spatialReference),o=e&&(lg(e)?e:e.spatialReference);return!(t&&"type"in t&&t.type==="mesh"||e&&"type"in e&&e.type==="mesh"||!i||!o)&&(!!qo(o,i)||Ho(o)&&Y0(i)||Ho(i)&&Y0(o))}function sS(t,e){if(t==null)return null;const i=t.spatialReference,o=e&&(lg(e)?e:e.spatialReference);return Md(i,o)?qo(i,o)?at(t):Ho(o)?nf(t,Wa,Pe.WebMercator,!1,at(t)):Y0(o)?nf(t,np,Pe.WGS84,!1,at(t)):null:null}function Wa(t,e,i=[0,0]){e>89.99999?e=89.99999:e<-89.99999&&(e=-89.99999);const o=N_(e);return i[0]=N_(t)*Rr.radius,i[1]=Rr.halfSemiMajorAxis*Math.log((1+Math.sin(o))/(1-Math.sin(o))),i}function np(t,e,i=[0,0],o=!1){if(t===Pc[0])i[0]=-180;else if(t===Pc[1])i[0]=180;else{const h=P_(t/Rr.radius);i[0]=o?h:h-360*Math.floor((h+180)/360)}return i[1]=P_(Math.PI/2-2*Math.atan(Math.exp(-e/Rr.radius))),i}function d1(t,e=!1,i=at(t)){return nf(t,Wa,Pe.WebMercator,e,i)}function nd(t,e=!1,i=at(t)){return nf(t,np,Pe.WGS84,e,i)}function BF(t,e){const i=t.x-e.x,o=t.y-e.y,h=t.z!=null&&e.z!=null?t.z-e.z:0;return Math.sqrt(i*i+o*o+h*h)}function VF(t){var e;return((e=oS(t,aS))==null?void 0:e[0])??null}function GF(t){var e;return((e=oS(t,aS))==null?void 0:e[1])??null}function oS({x:t,y:e,spatialReference:i},o=[0,0]){if(i){if(Ho(i))return np(t,e,o);if(Ov(i))return o[0]=t,o[1]=e,o}return null}const aS=[0,0];var Od;const f1=[0,0];function R_(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let mi=Od=class extends la{static copy(t,e){e._set("x",t._get("x")),e._set("y",t._get("y")),e._set("z",t._get("z")),e._set("m",t._get("m"));const i=t._get("spatialReference");e._set("spatialReference",me.isFrozen(i)?i:i.clone())}constructor(...t){super(...t),this.x=0,this.y=0,this.z=void 0,this.m=void 0,this.type="point"}normalizeCtorArgs(t,e,i,o,h){let p;if(Array.isArray(t))p=t,h=e,t=p[0],e=p[1],i=p[2],o=p[3];else if(t&&typeof t=="object"){if(p=t,t=p.x!=null?p.x:p.longitude,e=p.y!=null?p.y:p.latitude,i=p.z,o=p.m,(h=p.spatialReference)&&h.declaredClass!=="esri.geometry.SpatialReference"&&(h=new Pe(h)),p.longitude!=null||p.latitude!=null){if(p.longitude==null)Rt.getLogger(this).warn(".longitude=","Latitude was defined without longitude");else if(p.latitude==null)Rt.getLogger(this).warn(".latitude=","Longitude was defined without latitude");else if(!p.declaredClass&&(h!=null&&h.isWebMercator)){const v=Wa(p.longitude,p.latitude,f1);t=v[0],e=v[1]}}}else R_(i)?(h=i,i=null):R_(o)&&(h=o,o=null);const m={x:t,y:e};return m.x==null&&m.y!=null?Rt.getLogger(this).warn(".y=","Y coordinate was defined without an X coordinate"):m.y==null&&m.x!=null&&Rt.getLogger(this).warn(".x=","X coordinate was defined without a Y coordinate"),h!=null&&(m.spatialReference=h),i!=null&&(m.z=i),o!=null&&(m.m=o),m}get cache(){return this.commitProperty("x"),this.commitProperty("y"),this.commitProperty("z"),this.commitProperty("m"),this.commitProperty("spatialReference"),{}}get hasM(){return this.m!==void 0}set hasM(t){t!==(this._get("m")!==void 0)&&(this._set("m",t?0:void 0),this._set("hasM",t))}get hasZ(){return this.z!==void 0}set hasZ(t){t!==(this._get("z")!==void 0)&&(this._set("z",t?0:void 0),this._set("hasZ",t))}get latitude(){return GF(this)}set latitude(t){const{spatialReference:e,x:i}=this;t!=null&&e&&(e.isWebMercator?this._set("y",Wa(i,t,f1)[1]):e.isGeographic&&this._set("y",t),this._set("latitude",t))}get longitude(){return VF(this)}set longitude(t){const{y:e,spatialReference:i}=this;t!=null&&i&&(i.isWebMercator?this._set("x",Wa(t,e,f1)[0]):i.isGeographic&&this._set("x",t),this._set("longitude",t))}writeX(t,e,i){e[i]=isNaN(t)?"NaN":t}readX(t){return typeof t=="string"?NaN:t}clone(){const t=new Od;return t.x=this.x,t.y=this.y,t.z=this.z,t.m=this.m,t.spatialReference=this.spatialReference,t}copy(t){return Od.copy(t,this),this}equals(t){if(t==null)return!1;const{x:e,y:i,z:o,m:h,spatialReference:p}=this,{z:m,m:v}=t;let{x:w,y:A,spatialReference:$}=t;if(!p.equals($))if(p.isWebMercator&&$.isWGS84)[w,A]=Wa(w,A),$=p;else{if(!p.isWGS84||!$.isWebMercator)return!1;[w,A]=np(w,A),$=p}return e===w&&i===A&&o===m&&h===v&&p.wkid===$.wkid}offset(t,e,i){return this.x+=t,this.y+=e,i!=null&&(this.z=(this.z??0)+i),this}normalize(){if(!this.spatialReference)return this;const t=oc(this.spatialReference);if(!t)return this;let e=this.x;const[i,o]=t.valid,h=2*o;let p;return e>o?(p=Math.ceil(Math.abs(e-o)/h),e-=p*h):e<i&&(p=Math.ceil(Math.abs(e-i)/h),e+=p*h),this._set("x",e),this}distance(t){return BF(this,t)}toArray(){const t=this.hasZ,e=this.hasM;return t&&e?[this.x,this.y,this.z,this.m]:t?[this.x,this.y,this.z]:e?[this.x,this.y,this.m]:[this.x,this.y]}toJSON(t){return this.write({},t)}};C([E({readOnly:!0})],mi.prototype,"cache",null),C([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],mi.prototype,"hasM",null),C([E({type:Boolean,json:{read:!1,write:{enabled:!1,overridePolicy:null}}})],mi.prototype,"hasZ",null),C([E({type:Number})],mi.prototype,"latitude",null),C([E({type:Number})],mi.prototype,"longitude",null),C([E({type:Number,json:{type:[Number,String],write:{isRequired:!0,allowNull:!0}}}),Lr(t=>isNaN(t)?t:Ff(t))],mi.prototype,"x",void 0),C([Ft("x")],mi.prototype,"writeX",null),C([Xt("x")],mi.prototype,"readX",null),C([E({type:Number,json:{write:!0}})],mi.prototype,"y",void 0),C([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasZ}}}}})],mi.prototype,"z",void 0),C([E({type:Number,json:{write:{overridePolicy(){return{enabled:this.hasM}}}}})],mi.prototype,"m",void 0),mi=Od=C([Y("esri.geometry.Point")],mi),mi.prototype.toJSON.isDefaultToJSON=!0;const He=mi,p1=[0,0];function lS(t,e){return e!=null&&bi(t,e.x,e.y,e.z)}function _it(t,e){if(!e.points||e.points.length)return!1;for(const i of e.points)if(!_l(t,i))return!1;return!0}function qF(t,e){const{xmin:i,ymin:o,zmin:h,xmax:p,ymax:m,zmax:v}=e;return t.hasZ&&e.hasZ?bi(t,i,o,h)&&bi(t,i,m,h)&&bi(t,p,m,h)&&bi(t,p,o,h)&&bi(t,i,o,v)&&bi(t,i,m,v)&&bi(t,p,m,v)&&bi(t,p,o,v):bi(t,i,o)&&bi(t,i,m)&&bi(t,p,m)&&bi(t,p,o)}function _l(t,e){return bi(t,e[0],e[1])}function HF(t,e){return bi(t,e[0],e[1],e[2])}function bi(t,e,i,o){return e>=t.xmin&&e<=t.xmax&&i>=t.ymin&&i<=t.ymax&&(o==null||!t.hasZ||o>=t.zmin&&o<=t.zmax)}function WF(t,e){return p1[1]=e.y,p1[0]=e.x,JF(t,p1)}function JF(t,e){return hS(t.rings,e)}function hS(t,e){if(!t)return!1;if(ZF(t))return L_(!1,t,e);let i=!1;for(let o=0,h=t.length;o<h;o++)i=L_(i,t[o],e);return i}function ZF(t){return!Array.isArray(t[0][0])}function L_(t,e,i){const[o,h]=i;let p=t,m=0;for(let v=0,w=e.length;v<w;v++){m++,m===w&&(m=0);const[A,$]=e[v],[M,P]=e[m];($<h&&P>=h||P<h&&$>=h)&&A+(h-$)/(P-$)*(M-A)<o&&(p=!p)}return p}function YF(t,e){return lS(t,e)}function KF(t,e){const i=t.hasZ&&e.hasZ;let o,h,p;if(t.xmin<=e.xmin){if(o=e.xmin,t.xmax<o)return!1}else if(o=t.xmin,e.xmax<o)return!1;if(t.ymin<=e.ymin){if(h=e.ymin,t.ymax<h)return!1}else if(h=t.ymin,e.ymax<h)return!1;if(i&&e.hasZ){if(t.zmin<=e.zmin){if(p=e.zmin,t.zmax<p)return!1}else if(p=t.zmin,e.zmax<p)return!1}return!0}function XF(t,e){const{points:i,hasZ:o}=e,h=o?HF:_l;for(const p of i)if(h(t,p))return!0;return!1}const Zo=[0,0],Yo=[0,0],Ko=[0,0],Xo=[0,0],QF=[Zo,Yo,Ko,Xo],cS=[[Ko,Zo],[Zo,Yo],[Yo,Xo],[Xo,Ko]];function tU(t,e){return eU(t,e.rings)}function eU(t,e){Zo[0]=t.xmin,Zo[1]=t.ymax,Yo[0]=t.xmax,Yo[1]=t.ymax,Ko[0]=t.xmin,Ko[1]=t.ymin,Xo[0]=t.xmax,Xo[1]=t.ymin;for(const i of QF)if(hS(e,i))return!0;for(const i of e){if(!i.length)continue;let o=i[0];if(_l(t,o))return!0;for(let h=1;h<i.length;h++){const p=i[h];if(_l(t,p)||uS(o,p,cS))return!0;o=p}}return!1}function iU(t,e){Zo[0]=t.xmin,Zo[1]=t.ymax,Yo[0]=t.xmax,Yo[1]=t.ymax,Ko[0]=t.xmin,Ko[1]=t.ymin,Xo[0]=t.xmax,Xo[1]=t.ymin;const i=e.paths;for(const o of i){if(!i.length)continue;let h=o[0];if(_l(t,h))return!0;for(let p=1;p<o.length;p++){const m=o[p];if(_l(t,m)||uS(h,m,cS))return!0;h=m}}return!1}const ti=[0,0];function rU(t){for(let e=0;e<t.length;e++){const i=t[e];for(let h=0;h<i.length-1;h++){const p=i[h],m=i[h+1];for(let v=e+1;v<t.length;v++)for(let w=0;w<t[v].length-1;w++){const A=t[v][w],$=t[v][w+1];if(hg(p,m,A,$,ti)&&!(ti[0]===p[0]&&ti[1]===p[1]||ti[0]===A[0]&&ti[1]===A[1]||ti[0]===m[0]&&ti[1]===m[1]||ti[0]===$[0]&&ti[1]===$[1]))return!0}}const o=i.length;if(!(o<=4))for(let h=0;h<o-3;h++){let p=o-1;h===0&&(p=o-2);const m=i[h],v=i[h+1];for(let w=h+2;w<p;w++){const A=i[w],$=i[w+1];if(hg(m,v,A,$,ti)&&!(ti[0]===m[0]&&ti[1]===m[1]||ti[0]===A[0]&&ti[1]===A[1]||ti[0]===v[0]&&ti[1]===v[1]||ti[0]===$[0]&&ti[1]===$[1]))return!0}}}return!1}function uS(t,e,i){for(let o=0;o<i.length;o++)if(hg(t,e,i[o][0],i[o][1]))return!0;return!1}function hg(t,e,i,o,h){const[p,m]=t,[v,w]=e,[A,$]=i,[M,P]=o,R=M-A,B=p-A,G=v-p,H=P-$,Z=m-$,X=w-m,Q=H*G-R*X;if(Q===0)return!1;const rt=(R*Z-H*B)/Q,et=(G*Z-X*B)/Q;return rt>=0&&rt<=1&&et>=0&&et<=1&&(h&&(h[0]=p+rt*(v-p),h[1]=m+rt*(w-m)),!0)}function nU(t){switch(t){case"esriGeometryEnvelope":case"extent":return KF;case"esriGeometryMultipoint":case"multipoint":return XF;case"esriGeometryPoint":case"point":return YF;case"esriGeometryMultiPatch":case"multipatch":case"esriGeometryPolygon":case"polygon":return tU;case"esriGeometryPolyline":case"polyline":return iU}}var Xi;function sU(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}function Xn(t,e,i){return e==null?i:i==null?e:t(e,i)}let Ze=Xi=class extends la{constructor(...t){super(...t),this.type="extent",this.xmin=0,this.ymin=0,this.mmin=void 0,this.zmin=void 0,this.xmax=0,this.ymax=0,this.mmax=void 0,this.zmax=void 0}normalizeCtorArgs(t,e,i,o,h){return sU(t)?{spatialReference:t,xmin:0,ymin:0,xmax:0,ymax:0}:typeof t=="object"?(t.spatialReference=t.spatialReference==null?Pe.WGS84:t.spatialReference,t):{xmin:t,ymin:e,xmax:i,ymax:o,spatialReference:h??Pe.WGS84}}static fromBounds(t,e){return new Xi({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}static fromPoint(t){return new Xi({xmin:t.x,ymin:t.y,zmin:t.z,xmax:t.x,ymax:t.y,zmax:t.z,spatialReference:t.spatialReference})}get cache(){return this.commitProperty("xmin"),this.commitProperty("ymin"),this.commitProperty("zmin"),this.commitProperty("mmin"),this.commitProperty("xmax"),this.commitProperty("ymax"),this.commitProperty("zmax"),this.commitProperty("mmax"),this.commitProperty("spatialReference"),{}}get center(){const t=new He({x:.5*(this.xmin+this.xmax),y:.5*(this.ymin+this.ymax),spatialReference:this.spatialReference});return this.hasZ&&(t.z=.5*(this.zmin+this.zmax)),this.hasM&&(t.m=.5*(this.mmin+this.mmax)),t}get extent(){return this.clone()}get hasM(){return this.mmin!=null&&this.mmax!=null}get hasZ(){return this.zmin!=null&&this.zmax!=null}get height(){return Math.abs(this.ymax-this.ymin)}get width(){return Math.abs(this.xmax-this.xmin)}centerAt(t){const e=this.center;return t.z!=null&&this.hasZ?this.offset(t.x-e.x,t.y-e.y,t.z-e.z):this.offset(t.x-e.x,t.y-e.y)}clone(){const t=new Xi;return t.xmin=this.xmin,t.ymin=this.ymin,t.xmax=this.xmax,t.ymax=this.ymax,t.spatialReference=this.spatialReference,this.zmin!=null&&(t.zmin=this.zmin,t.zmax=this.zmax),this.mmin!=null&&(t.mmin=this.mmin,t.mmax=this.mmax),t}contains(t){if(!t)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Md(e,i)&&(t=e.isWebMercator?d1(t):nd(t,!0)),t.type==="point"?lS(this,t):t.type==="extent"&&qF(this,t)}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;return e&&i&&!e.equals(i)&&Md(e,i)&&(t=e.isWebMercator?d1(t):nd(t,!0)),this.xmin===t.xmin&&this.ymin===t.ymin&&this.zmin===t.zmin&&this.mmin===t.mmin&&this.xmax===t.xmax&&this.ymax===t.ymax&&this.zmax===t.zmax&&this.mmax===t.mmax}expand(t){const e=.5*(1-t),i=this.width*e,o=this.height*e;if(this.xmin+=i,this.ymin+=o,this.xmax-=i,this.ymax-=o,this.hasZ){const h=(this.zmax-this.zmin)*e;this.zmin+=h,this.zmax-=h}if(this.hasM){const h=(this.mmax-this.mmin)*e;this.mmin+=h,this.mmax-=h}return this}intersects(t){if(t==null)return!1;t.type==="mesh"&&(t=t.extent);const e=this.spatialReference,i=t.spatialReference;return e&&i&&!qo(e,i)&&Md(e,i)&&(t=e.isWebMercator?d1(t):nd(t,!0)),nU(t.type)(this,t)}normalize(){const t=this._normalize(!1,!0);return Array.isArray(t)?t:[t]}offset(t,e,i){return this.xmin+=t,this.ymin+=e,this.xmax+=t,this.ymax+=e,i!=null&&(this.zmin+=i,this.zmax+=i),this}shiftCentralMeridian(){return this._normalize(!0)}union(t){return this===t||(this.xmin=Math.min(this.xmin,t.xmin),this.ymin=Math.min(this.ymin,t.ymin),this.xmax=Math.max(this.xmax,t.xmax),this.ymax=Math.max(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Xn(Math.min,this.zmin,t.zmin),this.zmax=Xn(Math.max,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Xn(Math.min,this.mmin,t.mmin),this.mmax=Xn(Math.max,this.mmax,t.mmax))),this}intersection(t){return this===t?this:t!=null&&this.intersects(t)?(this.xmin=Math.max(this.xmin,t.xmin),this.ymin=Math.max(this.ymin,t.ymin),this.xmax=Math.min(this.xmax,t.xmax),this.ymax=Math.min(this.ymax,t.ymax),(this.hasZ||t.hasZ)&&(this.zmin=Xn(Math.max,this.zmin,t.zmin),this.zmax=Xn(Math.min,this.zmax,t.zmax)),(this.hasM||t.hasM)&&(this.mmin=Xn(Math.max,this.mmin,t.mmin),this.mmax=Xn(Math.min,this.mmax,t.mmax)),this):null}toJSON(t){return this.write({},t)}_shiftCM(t=oc(this.spatialReference)){if(!t||!this.spatialReference)return this;const e=this.spatialReference,i=this._getCM(t);if(i){const o=e.isWebMercator?nd(i):i;this.xmin-=i.x,this.xmax-=i.x,e.isWebMercator||(o.x=m1(o.x,t).x),this.spatialReference=new Pe(Nr((e.isWGS84?t.altTemplate:null)??t.wkTemplate,{Central_Meridian:o.x}))}return this}_getCM(t){let e=null;const[i,o]=t.valid,h=this.xmin,p=this.xmax;return h>=i&&h<=o&&p>=i&&p<=o||(e=this.center),e}_normalize(t,e,i){const o=this.spatialReference;if(!o)return this;const h=i??oc(o);if(h==null)return this;const p=this._getParts(h).map(w=>w.extent);if(p.length<2)return p[0]||this;if(p.length>2)return t?this._shiftCM(h):this.set({xmin:h.valid[0],xmax:h.valid[1]});if(t)return this._shiftCM(h);if(e)return p;let m=!0,v=!0;return p.forEach(w=>{w.hasZ||(m=!1),w.hasM||(v=!1)}),{rings:p.map(w=>{const A=[[w.xmin,w.ymin],[w.xmin,w.ymax],[w.xmax,w.ymax],[w.xmax,w.ymin],[w.xmin,w.ymin]];if(m){const $=(w.zmax-w.zmin)/2;for(let M=0;M<A.length;M++)A[M].push($)}if(v){const $=(w.mmax-w.mmin)/2;for(let M=0;M<A.length;M++)A[M].push($)}return A}),hasZ:m,hasM:v,spatialReference:o}}_getParts(t){let e=this.cache._parts;if(!e){e=[];const{ymin:h,ymax:p,spatialReference:m}=this,v=this.width,w=this.xmin,A=this.xmax;let $;t=t||oc(m);const[M,P]=t.valid;$=m1(this.xmin,t);const R=$.x,B=$.frameId;$=m1(this.xmax,t);const G=$.x,H=$.frameId,Z=R===G&&v>0;if(v>2*P){const X=new Xi(w<A?R:G,h,P,p,m),Q=new Xi(M,h,w<A?G:R,p,m),rt=new Xi(0,h,P,p,m),et=new Xi(M,h,0,p,m),nt=[],bt=[];X.contains(rt)&&nt.push(B),X.contains(et)&&bt.push(B),Q.contains(rt)&&nt.push(H),Q.contains(et)&&bt.push(H);for(let gt=B+1;gt<H;gt++)nt.push(gt),bt.push(gt);e.push({extent:X,frameIds:[B]},{extent:Q,frameIds:[H]},{extent:rt,frameIds:nt},{extent:et,frameIds:bt})}else R>G||Z?e.push({extent:new Xi(R,h,P,p,m),frameIds:[B]},{extent:new Xi(M,h,G,p,m),frameIds:[H]}):e.push({extent:new Xi(R,h,G,p,m),frameIds:[B]});this.cache._parts=e}const i=this.hasZ,o=this.hasM;if(i||o){const h={};i&&(h.zmin=this.zmin,h.zmax=this.zmax),o&&(h.mmin=this.mmin,h.mmax=this.mmax);for(let p=0;p<e.length;p++)e[p].extent.set(h)}return e}};function m1(t,e){const[i,o]=e.valid,h=2*o;let p,m=0;return t>o?(p=Math.ceil(Math.abs(t-o)/h),t-=p*h,m=p):t<i&&(p=Math.ceil(Math.abs(t-i)/h),t+=p*h,m=-p),{x:t,frameId:m}}C([E({readOnly:!0})],Ze.prototype,"cache",null),C([E({readOnly:!0})],Ze.prototype,"center",null),C([E({readOnly:!0})],Ze.prototype,"extent",null),C([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ze.prototype,"hasM",null),C([E({readOnly:!0,json:{write:{enabled:!1,overridePolicy:null}}})],Ze.prototype,"hasZ",null),C([E({readOnly:!0})],Ze.prototype,"height",null),C([E({readOnly:!0})],Ze.prototype,"width",null),C([E({type:Number,json:{type:[Number,String],write:{enabled:!0,allowNull:!0}}})],Ze.prototype,"xmin",void 0),C([E({type:Number,json:{write:!0}})],Ze.prototype,"ymin",void 0),C([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ze.prototype,"mmin",void 0),C([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ze.prototype,"zmin",void 0),C([E({type:Number,json:{write:!0}})],Ze.prototype,"xmax",void 0),C([E({type:Number,json:{write:!0}})],Ze.prototype,"ymax",void 0),C([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasM}}}}})],Ze.prototype,"mmax",void 0),C([E({type:Number,json:{origins:{"web-scene":{write:!1}},write:{overridePolicy(){return{enabled:this.hasZ}}}}})],Ze.prototype,"zmax",void 0),Ze=Xi=C([Y("esri.geometry.Extent")],Ze),Ze.prototype.toJSON.isDefaultToJSON=!0;const Wi=Ze;function xl(t,e,i=!1){let{hasM:o,hasZ:h}=t;Array.isArray(e)?e.length!==4||o||h?e.length===3&&i&&!o?(h=!0,o=!1):e.length===3&&o&&h&&(o=!1,h=!1):(o=!0,h=!0):(h=!h&&e.hasZ&&(!o||e.hasM),o=!o&&e.hasM&&(!h||e.hasZ)),t.hasZ=h,t.hasM=o}var cg;function D_(t){return(e,i)=>e==null?i:i==null?e:t(e,i)}function oU(t){return t&&(t.declaredClass==="esri.geometry.SpatialReference"||t.wkid!=null)}let es=cg=class extends la{constructor(...t){super(...t),this.points=[],this.type="multipoint"}normalizeCtorArgs(t,e){var h;if(!t&&!e)return{};const i={};Array.isArray(t)?(i.points=t,i.spatialReference=e):oU(t)?i.spatialReference=t:(t.points&&(i.points=t.points),t.spatialReference&&(i.spatialReference=t.spatialReference),t.hasZ&&(i.hasZ=t.hasZ),t.hasM&&(i.hasM=t.hasM));const o=(h=i.points)==null?void 0:h[0];return o&&(i.hasZ===void 0&&i.hasM===void 0?(i.hasZ=o.length>2,i.hasM=!1):i.hasZ===void 0?i.hasZ=o.length>3:i.hasM===void 0&&(i.hasM=o.length>3)),i}get cache(){return this.commitProperty("points"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const t=this.points;if(!t.length)return null;const e=new Wi,i=this.hasZ,o=this.hasM,h=i?3:2,p=t[0],m=D_(Math.min),v=D_(Math.max);let w,A,$,M,[P,R]=p,[B,G]=p;for(let H=0,Z=t.length;H<Z;H++){const X=t[H],[Q,rt]=X;if(P=m(P,Q),R=m(R,rt),B=v(B,Q),G=v(G,rt),i&&X.length>2){const et=X[2];w=m(w,et),$=v($,et)}if(o&&X.length>h){const et=X[h];A=m(A,et),M=v(M,et)}}return e.xmin=P,e.ymin=R,e.xmax=B,e.ymax=G,e.spatialReference=this.spatialReference,i?(e.zmin=w,e.zmax=$):(e.zmin=void 0,e.zmax=void 0),o?(e.mmin=A,e.mmax=M):(e.mmin=void 0,e.mmax=void 0),e}writePoints(t,e){e.points=at(this.points)}addPoint(t){return xl(this,t),Array.isArray(t)?this.points.push(t):this.points.push(t.toArray()),this.notifyChange("points"),this}clone(){const t={points:at(this.points),spatialReference:this.spatialReference};return this.hasZ&&(t.hasZ=!0),this.hasM&&(t.hasM=!0),new cg(t)}getPoint(t){if(!this._validateInputs(t))return null;const e=this.points[t],i={x:e[0],y:e[1],spatialReference:this.spatialReference};let o=2;return this.hasZ&&(i.z=e[2],o=3),this.hasM&&(i.m=e[o]),new He(i)}removePoint(t){if(!this._validateInputs(t))return null;const e=new He(this.points.splice(t,1)[0],this.spatialReference);return this.notifyChange("points"),e}setPoint(t,e){return this._validateInputs(t)?(xl(this,e),Array.isArray(e)||(e=e.toArray()),this.points[t]=e,this.notifyChange("points"),this):this}toJSON(t){return this.write({},t)}_validateInputs(t){return t!=null&&t>=0&&t<this.points.length}};C([E({readOnly:!0})],es.prototype,"cache",null),C([E()],es.prototype,"extent",null),C([E({type:[[Number]],json:{write:{isRequired:!0}}})],es.prototype,"points",void 0),C([Ft("points")],es.prototype,"writePoints",null),es=cg=C([Y("esri.geometry.Multipoint")],es),es.prototype.toJSON.isDefaultToJSON=!0;const sp=es;function xit(t){const e=[];for(t.reset();t.nextPath();){const i=[];for(;t.nextPoint();)i.push([t.x,t.y]);e.push(i)}return t.reset(),e}function aU(t){const e=[];for(;t.nextPoint();)e.push([t.x,t.y]);return t.seekPathStart(),e}var sf;(function(t){t[t.X=0]="X",t[t.Y=1]="Y",t[t.Z=2]="Z"})(sf||(sf={}));function Sit(t){if(!t)return null;if(Array.isArray(t))return t;const e=t.hasZ,i=t.hasM;if(t.type==="point")return i&&e?[t.x,t.y,t.z,t.m]:e?[t.x,t.y,t.z]:i?[t.x,t.y,t.m]:[t.x,t.y];if(t.type==="polygon")return t.rings.slice();if(t.type==="polyline")return t.paths.slice();if(t.type==="multipoint")return t.points.slice();if(t.type==="extent"){const o=t.clone().normalize();if(!o)return null;let h=!1,p=!1;return o.forEach(m=>{m.hasZ&&(h=!0),m.hasM&&(p=!0)}),o.map(m=>{const v=[[m.xmin,m.ymin],[m.xmin,m.ymax],[m.xmax,m.ymax],[m.xmax,m.ymin],[m.xmin,m.ymin]];if(h&&m.hasZ){const w=.5*(m.zmax-m.zmin);for(let A=0;A<v.length;A++)v[A].push(w)}if(p&&m.hasM){const w=.5*(m.mmax-m.mmin);for(let A=0;A<v.length;A++)v[A].push(w)}return v})}return null}function op(t,e){const i=e[0]-t[0],o=e[1]-t[1];if(t.length>2&&e.length>2){const h=t[2]-e[2];return Math.sqrt(i*i+o*o+h*h)}return Math.sqrt(i*i+o*o)}function dS(t,e,i){const o=t[0]+i*(e[0]-t[0]),h=t[1]+i*(e[1]-t[1]);return t.length>2&&e.length>2?[o,h,t[2]+i*(e[2]-t[2])]:[o,h]}function Cit(t,e,i,o){return lU(t,e,i[o],i[o+1])}function lU(t,e,i,o){const[h,p]=e,[m,v]=i,[w,A]=o,$=w-m,M=A-v,P=$*$+M*M,R=(h-m)*$+(p-v)*M,B=Math.min(1,Math.max(0,R/P));return t[0]=m+$*B,t[1]=v+M*B,t}function Ait(t,e,i,o,h,p){let m=i,v=o,w=h-m,A=p-v;if(w!==0||A!==0){const $=((t-m)*w+(e-v)*A)/(w*w+A*A);$>1?(m=h,v=p):$>0&&(m+=w*$,v+=A*$)}return w=t-m,A=e-v,w*w+A*A}function fS(t,e){return dS(t,e,.5)}function Tit(t){const e=t.length;let i=0;for(let o=0;o<e-1;++o)i+=op(t[o],t[o+1]);return i}function Eit(t,e){if(e<=0)return t[0];const i=t.length;let o=0;for(let h=0;h<i-1;++h){const p=op(t[h],t[h+1]);if(e-o<p){const m=(e-o)/p;return dS(t[h],t[h+1],m)}o+=p}return t[i-1]}function pS(t,e=sf.X,i=sf.Y){let o=0;const h=t.length;let p=t[0];for(let m=1;m<h;m++){const v=t[m];o+=(v[e]-p[e])*(v[i]+p[i]),p=v}if(!mS(t)){const m=t[0];o+=(m[e]-p[e])*(m[i]+p[i])}return o>=0}function mS(t){const e=t.length;return e<3||au(t[0],t[e-1])}function $it(t){"rings"in t&&(hU(t),cU(t))}function hU(t){if(!("rings"in t))return!1;let e=!1;for(const i of t.rings)mS(i)||(i.push(i[0].slice()),e=!0);return e}function cU(t){if(!("rings"in t)||t.rings.length===0||pS(t.rings[0]))return!1;for(const e of t.rings)e.reverse();return!0}function Iit(t){return t.type!=="polygon"&&t.type!=="polyline"||uU(t.type==="polygon"?t.rings:t.paths,t.spatialReference),t}function uU(t,e){const i=oc(e);if(!i)return;const o=i.valid[0],h=i.valid[1],p=h-o;for(const m of t){let v=1/0,w=-1/0;for(const $ of m){const M=dU($[0],o,h);v=Math.min(v,M),w=Math.max(w,M),$[0]=M}const A=w-v;p-A<A&&m.forEach($=>{$[0]<0&&($[0]+=p)})}}function dU(t,e,i){const o=i-e;return t<e?i-(e-t)%o:t>i?e+(t-e)%o:t}function kit(t,e){if(t===e)return!0;if(t.type!==e.type)return!1;if(t.type==="point"||t.type==="mesh"||t.type==="extent")return!0;if(t.type==="multipoint")return t.points.length===e.points.length;const[i,o]=t.type==="polyline"?[t.paths,e.paths]:[t.rings,e.rings];return i.length===o.length&&i.every((h,p)=>h.length===o[p].length)}function Mit(t){return t?t.hasZ?[t.xmax-t.xmin/2,t.ymax-t.ymin/2,t.zmax-t.zmin/2]:[t.xmax-t.xmin/2,t.ymax-t.ymin/2]:null}function fU(t){return t?pU(t.rings,t.hasZ??!1):null}function pU(t,e){if(!(t!=null&&t.length))return null;const i=[],o=[],h=e?[1/0,-1/0,1/0,-1/0,1/0,-1/0]:[1/0,-1/0,1/0,-1/0];for(let p=0,m=t.length;p<m;p++){const v=gS(t[p],e,h);v&&o.push(v)}if(o.sort((p,m)=>{let v=p[2]-m[2];return v===0&&e&&(v=p[4]-m[4]),v}),o.length&&(i[0]=o[0][0],i[1]=o[0][1],e&&(i[2]=o[0][3]),(i[0]<h[0]||i[0]>h[1]||i[1]<h[2]||i[1]>h[3]||e&&(i[2]<h[4]||i[2]>h[5]))&&(i.length=0)),!i.length){const p=t[0]&&t[0].length?mU(t[0],e):null;if(!p)return null;i[0]=p[0],i[1]=p[1],e&&p.length>2&&(i[2]=p[2])}return i}function gS(t,e,i){let o=0,h=0,p=0,m=0,v=0;const w=t.length?t[0][0]:0,A=t.length?t[0][1]:0,$=t.length&&e?t[0][2]:0;for(let P=0;P<t.length;P++){const R=t[P],B=t[(P+1)%t.length],[G,H,Z]=R,X=G-w,Q=H-A,[rt,et,nt]=B,bt=rt-w,gt=et-A,At=X*gt-bt*Q;if(m+=At,o+=(X+bt)*At,h+=(Q+gt)*At,e&&R.length>2&&B.length>2){const wt=Z-$,$t=nt-$,Ht=X*$t-bt*wt;p+=(wt+$t)*Ht,v+=Ht}G<i[0]&&(i[0]=G),G>i[1]&&(i[1]=G),H<i[2]&&(i[2]=H),H>i[3]&&(i[3]=H),e&&(Z<i[4]&&(i[4]=Z),Z>i[5]&&(i[5]=Z))}if(m>0&&(m*=-1),v>0&&(v*=-1),!m)return null;m*=.5,v*=.5;const M=[o/(6*m)+w,h/(6*m)+A,m];return e&&(i[4]===i[5]||v===0?(M[3]=(i[4]+i[5])/2,M[4]=0):(M[3]=p/(6*v)+$,M[4]=v)),M}function Oit(t,e){let i=0,o=0,h=0;t.nextPoint();const p=t.pathSize?t.x:0,m=t.pathSize?t.y:0;for(let v=0;v<t.pathSize;v++){t.seekInPath(v);const w=[t.x,t.y];t.seekInPath((v+1)%t.pathSize);const A=[t.x,t.y],[$,M]=w,P=$-p,R=M-m,[B,G]=A,H=B-p,Z=G-m,X=P*Z-H*R;h+=X,i+=(P+H)*X,o+=(R+Z)*X,$<e[0]&&(e[0]=$),$>e[1]&&(e[1]=$),M<e[2]&&(e[2]=M),M>e[3]&&(e[3]=M)}return h>0&&(h*=-1),h?(h*=.5,[i/(6*h)+p,o/(6*h)+m,h]):null}function mU(t,e){const i=e?[0,0,0]:[0,0],o=e?[0,0,0]:[0,0];let h=0,p=0,m=0,v=0;for(let w=0,A=t.length;w<A-1;w++){const $=t[w],M=t[w+1];if($&&M){i[0]=$[0],i[1]=$[1],o[0]=M[0],o[1]=M[1],e&&$.length>2&&M.length>2&&(i[2]=$[2],o[2]=M[2]);const P=op(i,o);if(P){h+=P;const R=fS($,M);p+=P*R[0],m+=P*R[1],e&&R.length>2&&(v+=P*R[2])}}}return h>0?e?[p/h,m/h,v/h]:[p/h,m/h]:t.length?t[0]:null}function gU(t){const{hasZ:e,totalSize:i}=t;if(i===0)return null;const o=[],h=[],p=e?[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY]:[Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.POSITIVE_INFINITY,Number.NEGATIVE_INFINITY];for(t.reset();t.nextPath();){const m=gS(aU(t),t.hasZ,p);m&&h.push(m)}if(h.sort((m,v)=>{let w=m[2]-v[2];return w===0&&e&&(w=m[4]-v[4]),w}),h.length&&(o[0]=h[0][0],o[1]=h[0][1],e&&(o[2]=h[0][3]),(o[0]<p[0]||o[0]>p[1]||o[1]<p[2]||o[1]>p[3]||e&&(o[2]<p[4]||o[2]>p[5]))&&(o.length=0)),!o.length){t.reset(),t.nextPath();const m=t.pathSize?yU(t):null;if(!m)return null;o[0]=m[0],o[1]=m[1],e&&m.length>2&&(o[2]=m[2])}return o}function yU(t){const{hasZ:e}=t,i=e?[0,0,0]:[0,0],o=e?[0,0,0]:[0,0];let h=0,p=0,m=0,v=0;if(t.nextPoint()){let w=t.x,A=t.y,$=t.z;for(;t.nextPoint();){const M=t.x,P=t.y,R=t.z;i[0]=w,i[1]=A,o[0]=M,o[1]=P,e&&(i[2]=$,o[2]=R);const B=op(i,o);if(B){h+=B;const G=fS(i,o);p+=B*G[0],m+=B*G[1],e&&G.length>2&&(v+=B*G[2])}w=M,A=P,$=R}}return h>0?e?[p/h,m/h,v/h]:[p/h,m/h]:t.pathSize?(t.seekPathStart(),t.nextPoint(),[t.x,t.y]):null}const bU=1e-6;function Pit(t){let e=0;for(t.reset();t.nextPath();)e+=t.getCurrentRingArea();if(e<bU){const h=gU(t);return h?[h[0],h[1]]:null}const i=[0,0];if(t.reset(),!t.nextPath()||!t.nextPoint())return null;const o=[t.x,t.y];for(t.reset();t.nextPath();)wU(i,o,t);return i[0]*=1/e,i[1]*=1/e,i[0]+=o[0],i[1]+=o[1],i}const vU=1/3;function wU(t,e,i){if(!t||!i||i.pathSize<3)return null;i.nextPoint();const o=i.x,h=i.y;i.nextPoint();let p,m=i.x-o,v=i.y-h,w=0,A=0;for(;i.nextPoint();)w=i.x-o,A=i.y-h,p=.5*vU*(w*v-A*m),t[0]+=p*(m+w),t[1]+=p*(v+A),m=w,v=A;const $=i.getCurrentRingArea(),M=[o,h];return M[0]-=e[0],M[1]-=e[1],M[0]*=$,M[1]*=$,t[0]+=M[0],t[1]+=M[1],t}function Gl(t=CU){return[t[0],t[1],t[2],t[3]]}function yS(t,e){return t!==e&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]),t}function Nit(t,e,i,o,h=Gl()){return h[0]=t,h[1]=e,h[2]=i,h[3]=o,h}function Rit(t,e=Gl()){return e[0]=t.xmin,e[1]=t.ymin,e[2]=t.xmax,e[3]=t.ymax,e}function Lit(t,e){return new Wi({xmin:t[0],ymin:t[1],xmax:t[2],ymax:t[3],spatialReference:e})}function Dit(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function zit(t,e,i){if(e!=null)if("length"in e)ug(e)?(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[2]),i[3]=Math.max(t[3],e[3])):e.length!==2&&e.length!==3||(i[0]=Math.min(t[0],e[0]),i[1]=Math.min(t[1],e[1]),i[2]=Math.max(t[2],e[0]),i[3]=Math.max(t[3],e[1]));else switch(e.type){case"extent":i[0]=Math.min(t[0],e.xmin),i[1]=Math.min(t[1],e.ymin),i[2]=Math.max(t[2],e.xmax),i[3]=Math.max(t[3],e.ymax);break;case"point":i[0]=Math.min(t[0],e.x),i[1]=Math.min(t[1],e.y),i[2]=Math.max(t[2],e.x),i[3]=Math.max(t[3],e.y)}else yS(i,t)}function jit(t,e,i=t){const o=e.length;let h=t[0],p=t[1],m=t[2],v=t[3];for(let w=0;w<o;w++){const A=e[w];h=Math.min(h,A[0]),p=Math.min(p,A[1]),m=Math.max(m,A[0]),v=Math.max(v,A[1])}return i[0]=h,i[1]=p,i[2]=m,i[3]=v,i}function Fit(t){for(let e=0;e<4;e++)if(!isFinite(t[e]))return!1;return!0}function _U(t){return t==null||t[0]>=t[2]?0:t[2]-t[0]}function xU(t){return t==null||t[1]>=t[3]?0:t[3]-t[1]}function Uit(t){return _U(t)*xU(t)}function Bit(t,e=[0,0]){return e[0]=(t[0]+t[2])/2,e[1]=(t[1]+t[3])/2,e}function Vit(t,e){return SU(t,e.x,e.y)}function SU(t,e,i){return e>=t[0]&&i>=t[1]&&e<=t[2]&&i<=t[3]}function Git(t,e){return Math.max(e[0],t[0])<=Math.min(e[2],t[2])&&Math.max(e[1],t[1])<=Math.min(e[3],t[3])}function qit(t,e){return e[0]>=t[0]&&e[2]<=t[2]&&e[1]>=t[1]&&e[3]<=t[3]}function Hit(t,e,i,o=t){return o[0]=t[0]+e,o[1]=t[1]+i,o[2]=t[2]+e,o[3]=t[3]+i,o}function Wit(t){return t?yS(t,z_):Gl(z_)}function ug(t){return t!=null&&t.length===4}function Jit(t,e){return ug(t)&&ug(e)?t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]:t===e}const z_=[1/0,1/0,-1/0,-1/0],CU=[0,0,0,0];function bS(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function vS(t){return t.points!==void 0}function wS(t){return t.x!==void 0&&t.y!==void 0}function _S(t){return t.paths!==void 0}function xS(t){return t.rings!==void 0}function SS(t){function e(i,o){return i==null?o:o==null?i:t(i,o)}return e}const Cs=SS(Math.min),As=SS(Math.max);function Zit(t,e){return _S(e)?Sl(t,e.paths,!1,!1):xS(e)?Sl(t,e.rings,!1,!1):vS(e)?Vv(t,e.points,!1,!1,!1,!1):bS(e)?CS(t,e):(wS(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.x,t[3]=e.y),t)}function Yit(t){let e,i,o,h;for(t.reset(),e=o=1/0,i=h=-1/0;t.nextPath();){const p=AU(t);e=Math.min(p[0],e),o=Math.min(p[1],o),i=Math.max(p[2],i),h=Math.max(p[3],h)}return Gl([e,o,i,h])}function AU(t){let e,i,o,h;for(e=o=1/0,i=h=-1/0;t.nextPoint();)e=Math.min(t.x,e),o=Math.min(t.y,o),i=Math.max(t.x,i),h=Math.max(t.y,h);return Gl([e,o,i,h])}function Kit(t,e){return _S(e)?Sl(t,e.paths,!0,!1):xS(e)?Sl(t,e.rings,!0,!1):vS(e)?Vv(t,e.points,!0,!1,!0,!1):bS(e)?CS(t,e,!0,!1,!0,!1):(wS(e)&&(t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.x,t[4]=e.y,t[5]=e.z),t)}function Sl(t,e,i,o){const h=i?3:2;if(!e.length||!e[0].length)return null;let p,m,v,w,[A,$]=e[0][0],[M,P]=e[0][0];for(let R=0;R<e.length;R++){const B=e[R];for(let G=0;G<B.length;G++){const H=B[G],[Z,X]=H;if(A=Cs(A,Z),$=Cs($,X),M=As(M,Z),P=As(P,X),i&&H.length>2){const Q=H[2];p=Cs(p,Q),m=As(m,Q)}if(o&&H.length>h){const Q=H[h];v=Cs(p,Q),w=As(m,Q)}}}return i?o?(t[0]=A,t[1]=$,t[2]=p,t[3]=v,t[4]=M,t[5]=P,t[6]=m,t[7]=w,t.length=8,t):(t[0]=A,t[1]=$,t[2]=p,t[3]=M,t[4]=P,t[5]=m,t.length=6,t):o?(t[0]=A,t[1]=$,t[2]=v,t[3]=M,t[4]=P,t[5]=w,t.length=6,t):(t[0]=A,t[1]=$,t[2]=M,t[3]=P,t.length=4,t)}function CS(t,e,i,o,h,p){const m=e.xmin,v=e.xmax,w=e.ymin,A=e.ymax;let $=e.zmin,M=e.zmax,P=e.mmin,R=e.mmax;return h?($=$||0,M=M||0,p?(P=P||0,R=R||0,t[0]=m,t[1]=w,t[2]=$,t[3]=P,t[4]=v,t[5]=A,t[6]=M,t[7]=R,t):(t[0]=m,t[1]=w,t[2]=$,t[3]=v,t[4]=A,t[5]=M,t)):p?(P=P||0,R=R||0,t[0]=m,t[1]=w,t[2]=P,t[3]=v,t[4]=A,t[5]=R,t):(t[0]=m,t[1]=w,t[2]=v,t[3]=A,t)}function Vv(t,e,i,o,h,p){const m=i?3:2,v=o&&p,w=i&&h;if(!e.length||!e[0].length)return null;let A,$,M,P,[R,B]=e[0],[G,H]=e[0];for(let Z=0;Z<e.length;Z++){const X=e[Z],[Q,rt]=X;if(R=Cs(R,Q),B=Cs(B,rt),G=As(G,Q),H=As(H,rt),w&&X.length>2){const et=X[2];A=Cs(A,et),$=As($,et)}if(v&&X.length>m){const et=X[m];M=Cs(A,et),P=As($,et)}}return h?(A=A||0,$=$||0,p?(M=M||0,P=P||0,t[0]=R,t[1]=B,t[2]=A,t[3]=M,t[4]=G,t[5]=H,t[6]=$,t[7]=P,t):(t[0]=R,t[1]=B,t[2]=A,t[3]=G,t[4]=H,t[5]=$,t)):p?(M=M||0,P=P||0,t[0]=R,t[1]=B,t[2]=M,t[3]=G,t[4]=H,t[5]=P,t):(t[0]=R,t[1]=B,t[2]=G,t[3]=H,t)}function TU(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function EU(t){return t.points!==void 0}function $U(t){return t.x!==void 0&&t.y!==void 0}function IU(t){return t.paths!==void 0}function kU(t){return t.rings!==void 0}const Gv=[];function AS(t,e,i,o){return{xmin:t,ymin:e,xmax:i,ymax:o}}function TS(t,e,i,o,h,p){return{xmin:t,ymin:e,zmin:i,xmax:o,ymax:h,zmax:p}}function ES(t,e,i,o,h,p){return{xmin:t,ymin:e,mmin:i,xmax:o,ymax:h,mmax:p}}function $S(t,e,i,o,h,p,m,v){return{xmin:t,ymin:e,zmin:i,mmin:o,xmax:h,ymax:p,zmax:m,mmax:v}}function qv(t,e=!1,i=!1){return e?i?$S(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]):TS(t[0],t[1],t[2],t[3],t[4],t[5]):i?ES(t[0],t[1],t[2],t[3],t[4],t[5]):AS(t[0],t[1],t[2],t[3])}function Xit(t){return t?TU(t)?t:$U(t)?OU(t):kU(t)?IS(t):IU(t)?kS(t):EU(t)?MU(t):null:null}function MU(t){const{hasZ:e,hasM:i,points:o}=t;return qv(Vv(Gv,o,e??!1,i??!1),e,i)}function OU(t){const{x:e,y:i,z:o,m:h}=t,p=h!=null;return o!=null?p?$S(e,i,o,h,e,i,o,h):TS(e,i,o,e,i,o):p?ES(e,i,h,e,i,h):AS(e,i,e,i)}function IS(t){const{hasZ:e,hasM:i,rings:o}=t,h=Sl(Gv,o,e??!1,i??!1);return h?qv(h,e,i):null}function kS(t){const{hasZ:e,hasM:i,paths:o}=t,h=Sl(Gv,o,e??!1,i??!1);return h?qv(h,e,i):null}var Pd;function j_(t){return!Array.isArray(t[0])}function PU(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function NU(t){var p,m;if(!t)return;let{rings:e,hasM:i,hasZ:o,spatialReference:h}=t;switch(e??(e=[]),PU(e)&&(e=[e]),(m=(p=e[0])==null?void 0:p[0])==null?void 0:m.length){case 4:o??(o=!0),i??(i=!0);break;case 3:o??(o=i!==!0),i??(i=!o);break;default:o??(o=!1),i??(i=!1)}return h??(h=Pe.WGS84),{...t,hasM:i,hasZ:o,rings:e,spatialReference:h}}let tn=Pd=class extends la{static fromExtent(t){const e=t.clone().normalize(),{spatialReference:i}=t;let o=!1,h=!1;for(const m of e)m.hasZ&&(o=!0),m.hasM&&(h=!0);const p={rings:e.map(m=>{const v=[[m.xmin,m.ymin],[m.xmin,m.ymax],[m.xmax,m.ymax],[m.xmax,m.ymin],[m.xmin,m.ymin]];if(o&&m.hasZ){const w=m.zmin+.5*(m.zmax-m.zmin);for(let A=0;A<v.length;A++)v[A].push(w)}if(h&&m.hasM){const w=m.mmin+.5*(m.mmax-m.mmin);for(let A=0;A<v.length;A++)v[A].push(w)}return v}),spatialReference:i};return o&&(p.hasZ=!0),h&&(p.hasM=!0),new Pd(p)}constructor(t){super(NU(t)),this.rings=[],this.type="polygon"}get cache(){return this.commitProperty("rings"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get centroid(){const t=fU(this);if(!t||isNaN(t[0])||isNaN(t[1])||this.hasZ&&isNaN(t[2]))return null;const e=new He;return e.x=t[0],e.y=t[1],e.spatialReference=this.spatialReference,this.hasZ&&(e.z=t[2]),e}get extent(){const{spatialReference:t}=this,e=IS(this);if(!e)return null;const i=new Wi(e);return i.spatialReference=t,i}get isSelfIntersecting(){return rU(this.rings)}writeRings(t,e){e.rings=at(this.rings)}addRing(t){if(!t)return;const e=this.rings,i=e.length;if(j_(t)){const o=[];for(let h=0,p=t.length;h<p;h++)o[h]=t[h].toArray();e[i]=o}else e[i]=t.slice();return this.notifyChange("rings"),this}clone(){const t=new Pd;return t.spatialReference=this.spatialReference,t.rings=at(this.rings),t.hasZ=this.hasZ,t.hasM=this.hasM,t}equals(t){if(this===t)return!0;if(t==null)return!1;const e=this.spatialReference,i=t.spatialReference;if(e!=null!=(i!=null)||e!=null&&i!=null&&!e.equals(i)||this.rings.length!==t.rings.length)return!1;const o=([h,p,m,v],[w,A,$,M])=>h===w&&p===A&&(m==null&&$==null||m===$)&&(v==null&&M==null||v===M);for(let h=0;h<this.rings.length;h++){const p=this.rings[h],m=t.rings[h];if(!au(p,m,o))return!1}return!0}contains(t){if(!t)return!1;const e=sS(t,this.spatialReference);return WF(this,e??t)}isClockwise(t){const e=j_(t)?t.map(i=>this.hasZ?this.hasM?[i.x,i.y,i.z,i.m]:[i.x,i.y,i.z]:[i.x,i.y]):t;return pS(e)}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.rings[t][e],o=this.hasZ,h=this.hasM;return o&&!h?new He(i[0],i[1],i[2],void 0,this.spatialReference):h&&!o?new He(i[0],i[1],void 0,i[2],this.spatialReference):o&&h?new He(i[0],i[1],i[2],i[3],this.spatialReference):new He(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(xl(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t].splice(e,0,i),this.notifyChange("rings"),this):this}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new He(this.rings[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("rings"),i}removeRing(t){if(!this._validateInputs(t,null))return null;const e=this.rings.splice(t,1)[0],i=this.spatialReference,o=e.map(h=>new He(h,i));return this.notifyChange("rings"),o}setPoint(t,e,i){return this._validateInputs(t,e)?(xl(this,i),Array.isArray(i)||(i=i.toArray()),this.rings[t][e]=i,this.notifyChange("rings"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.rings.length)return!1;if(e!=null){const o=this.rings[t];if(i&&(e<0||e>o.length)||!i&&(e<0||e>=o.length))return!1}return!0}toJSON(t){return this.write({},t)}};C([E({readOnly:!0})],tn.prototype,"cache",null),C([E({readOnly:!0})],tn.prototype,"centroid",null),C([E({readOnly:!0})],tn.prototype,"extent",null),C([E({readOnly:!0})],tn.prototype,"isSelfIntersecting",null),C([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],tn.prototype,"rings",void 0),C([Ft("rings")],tn.prototype,"writeRings",null),tn=Pd=C([Y("esri.geometry.Polygon")],tn);const Lc=tn;tn.prototype.toJSON.isDefaultToJSON=!0;var dg;function RU(t){return!Array.isArray(t[0])}function LU(t){var e;return typeof((e=t[0])==null?void 0:e[0])=="number"}function DU(t){var p,m;if(!t)return;let{paths:e,hasM:i,hasZ:o,spatialReference:h}=t;switch(e??(e=[]),LU(e)&&(e=[e]),(m=(p=e[0])==null?void 0:p[0])==null?void 0:m.length){case 4:o??(o=!0),i??(i=!0);break;case 3:o??(o=i!==!0),i??(i=!o);break;default:o??(o=!1),i??(i=!1)}return h??(h=Pe.WGS84),{...t,hasM:i,hasZ:o,paths:e,spatialReference:h}}let ms=dg=class extends la{constructor(t){super(DU(t)),this.paths=[],this.type="polyline"}get cache(){return this.commitProperty("paths"),this.commitProperty("hasZ"),this.commitProperty("hasM"),this.commitProperty("spatialReference"),{}}get extent(){const{spatialReference:t}=this,e=kS(this);if(!e)return null;const i=new Wi(e);return i.spatialReference=t,i}writePaths(t,e){e.paths=at(this.paths)}addPath(t){if(!t)return;const e=this.paths,i=e.length;if(RU(t)){const o=[];for(let h=0,p=t.length;h<p;h++)o[h]=t[h].toArray();e[i]=o}else e[i]=t.slice();return this.notifyChange("paths"),this}clone(){const t=new dg;return t.spatialReference=this.spatialReference,t.paths=at(this.paths),t.hasZ=this.hasZ,t.hasM=this.hasM,t}getPoint(t,e){if(!this._validateInputs(t,e))return null;const i=this.paths[t][e],o=this.hasZ,h=this.hasM;return o&&!h?new He(i[0],i[1],i[2],void 0,this.spatialReference):h&&!o?new He(i[0],i[1],void 0,i[2],this.spatialReference):o&&h?new He(i[0],i[1],i[2],i[3],this.spatialReference):new He(i[0],i[1],this.spatialReference)}insertPoint(t,e,i){return this._validateInputs(t,e,!0)?(xl(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t].splice(e,0,i),this.notifyChange("paths"),this):this}removePath(t){if(!this._validateInputs(t,null))return null;const e=this.paths.splice(t,1)[0],i=this.spatialReference,o=e.map(h=>new He(h,i));return this.notifyChange("paths"),o}removePoint(t,e){if(!this._validateInputs(t,e))return null;const i=new He(this.paths[t].splice(e,1)[0],this.spatialReference);return this.notifyChange("paths"),i}setPoint(t,e,i){return this._validateInputs(t,e)?(xl(this,i),Array.isArray(i)||(i=i.toArray()),this.paths[t][e]=i,this.notifyChange("paths"),this):this}_validateInputs(t,e,i=!1){if(t==null||t<0||t>=this.paths.length)return!1;if(e!=null){const o=this.paths[t];if(i&&(e<0||e>o.length)||!i&&(e<0||e>=o.length))return!1}return!0}toJSON(t){return this.write({},t)}};C([E({readOnly:!0})],ms.prototype,"cache",null),C([E({readOnly:!0})],ms.prototype,"extent",null),C([E({type:[[[Number]]],json:{write:{isRequired:!0}}})],ms.prototype,"paths",void 0),C([Ft("paths")],ms.prototype,"writePaths",null),ms=dg=C([Y("esri.geometry.Polyline")],ms);const ap=ms;ms.prototype.toJSON.isDefaultToJSON=!0;const zU=fr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon"}),Qit=fr()({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh"});function MS(t){return t.xmin!==void 0&&t.ymin!==void 0&&t.xmax!==void 0&&t.ymax!==void 0}function OS(t){return t.points!==void 0}function PS(t){return t.x!==void 0&&t.y!==void 0}function NS(t){return t.paths!==void 0}function RS(t){return t.rings!==void 0}function LS(t){return t==null?null:t instanceof la?t:PS(t)?He.fromJSON(t):NS(t)?ap.fromJSON(t):RS(t)?Lc.fromJSON(t):OS(t)?sp.fromJSON(t):MS(t)?Wi.fromJSON(t):null}function trt(t){return t?PS(t)?"esriGeometryPoint":NS(t)?"esriGeometryPolyline":RS(t)?"esriGeometryPolygon":MS(t)?"esriGeometryEnvelope":OS(t)?"esriGeometryMultipoint":null:null}const jU={esriGeometryPoint:He,esriGeometryPolyline:ap,esriGeometryPolygon:Lc,esriGeometryEnvelope:Wi,esriGeometryMultipoint:sp,esriGeometryMultiPatch:Lc};function ert(t){return t&&jU[t]||null}const DS={base:la,key:"type",typeMap:{extent:Wi,multipoint:sp,point:He,polyline:ap,polygon:Lc}};Rn(DS);const FU=()=>Rt.getLogger("esri.support.arcadeOnDemand");let g1;function Hv(){return g1||(g1=(async()=>{const t=await vt(()=>import("./arcadeUtils-B3Ydz9LH.js").then(e=>e.i),__vite__mapDeps([172,173,134,78,135,174,175,19,20,7,8,176,177,178,179,77]));return{arcade:t.arcade,arcadeUtils:t,Dictionary:t.Dictionary,Feature:t.arcadeFeature}})()),g1}const irt=(t,e,i)=>zS.create(t,e,i,null,["$feature","$view"],[]),rrt=(t,e,i,o)=>zS.create(t,e,i,o,["$feature","$view"],[]);let zS=class jS{constructor(e,i,o,h,p,m,v){this.services=null,this.script=e,this.evaluate=h;const w=Array.isArray(m)?m:m==null?void 0:m.fields;this.fields=w??[],this._syntaxTree=o,this._arcade=i,this._arcadeFeature=p,this._spatialReference=v,this._referencesGeometry=i.scriptTouchesGeometry(this._syntaxTree),this._referencesScale=this._arcade.referencesMember(this._syntaxTree,"scale")}static async create(e,i,o,h,p,m){const{arcade:v,Feature:w,Dictionary:A}=await Hv(),$=i instanceof Pe?i:Pe.fromJSON(i);let M;try{M=v.parseScript(e,m)}catch(gt){return FU().error(new kt("arcade-bad-expression","Failed to parse arcade script",{script:e,error:gt})),null}const P=p.reduce((gt,At)=>({...gt,[At]:null}),{});let R=null;h!=null&&(R=new A(h),R.immutable=!0,P.$config=null);const B=v.scriptUsesGeometryEngine(M),G=B&&v.enableGeometrySupport(),H=v.scriptUsesFeatureSet(M)&&v.enableFeatureSetSupport(),Z=v.scriptIsAsync(M),X=Z&&v.enableAsyncSupport(),Q={vars:P,spatialReference:$,useAsync:!!X};await Promise.all([G,H,X]);const rt=new Set;await v.loadDependentModules(rt,M,null,Z,B);const et=new A;et.immutable=!1,et.setField("scale",0);const nt=v.compileScript(M,Q),bt=(gt,At)=>{var $t;const wt=($t=gt.$view)==null?void 0:$t.timeZone;return"$view"in gt&&gt.$view&&(et.setField("scale",typeof gt.$view=="object"&&"scale"in gt.$view?gt.$view.scale:void 0),gt.$view=et),R&&(gt.$config=R),nt({vars:gt,spatialReference:$,services:At,timeZone:wt})};return new jS(e,v,M,bt,new w,o,$)}repurposeFeature(e){return e.geometry&&!e.geometry.spatialReference&&(e.geometry.spatialReference=this._spatialReference),this._arcadeFeature.repurposeFromGraphicLikeObject(e.geometry,e.attributes,{fields:this.fields}),this._arcadeFeature}referencesGeometry(){return this._referencesGeometry}referencesScale(){return this._referencesScale}};const UU=/^([0-9_])/,BU=/[^a-z0-9_\u0080-\uffff]+/gi;function nrt(t){return t==null?null:t.trim().replaceAll(BU,"_").replace(UU,"F$1")||null}const VU=["field","field2","field3","normalizationField","rotationInfo.field","proportionalSymbolInfo.field","proportionalSymbolInfo.normalizationField","colorInfo.field","colorInfo.normalizationField"],GU=["field","normalizationField"];function srt(t,e){if(t!=null&&e!=null){for(const i of Array.isArray(t)?t:[t])if(F_(VU,i,e),"visualVariables"in i&&i.visualVariables)for(const o of i.visualVariables)F_(GU,o,e)}}function F_(t,e,i){if(t)for(const o of t){const h=lu(o,e),p=h&&typeof h!="function"&&i.get(h);p&&Rl(o,p.name,e)}}function ort(t,e){var i;if(t!=null&&((i=e==null?void 0:e.fields)!=null&&i.length))if("startField"in t){const o=e.get(t.startField),h=e.get(t.endField);t.startField=(o==null?void 0:o.name)??null,t.endField=(h==null?void 0:h.name)??null}else{const o=e.get(t.startTimeField),h=e.get(t.endTimeField);t.startTimeField=(o==null?void 0:o.name)??null,t.endTimeField=(h==null?void 0:h.name)??null}}const y1=new Set;function Wv(t,e){return t&&e?(y1.clear(),Dc(y1,t,e),Array.from(y1).sort()):[]}function Dc(t,e,i){var o;if(i)if((o=e==null?void 0:e.fields)!=null&&o.length)if(i.includes("*"))for(const{name:h}of e.fields)t.add(h);else for(const h of i)lp(t,e,h);else{if(i.includes("*"))return t.clear(),void t.add("*");for(const h of i)h!=null&&t.add(h)}}function lp(t,e,i){if(typeof i=="string")if(e){const o=e.get(i);o&&t.add(o.name)}else t.add(i)}function art(t,e){return e==null||t==null?[]:e.includes("*")?(t.fields??[]).map(i=>i.name):e}function lrt(t,e,i=1){if(!e||!t)return[];if(e.includes("*"))return["*"];const o=Wv(t,e);return o.length/t.fields.length>=i?["*"]:o}async function Qo(t,e,i){var p;if(!i)return;const{arcadeUtils:o}=await Hv(),h=o.extractFieldNames(i,(p=e==null?void 0:e.fields)==null?void 0:p.map(m=>m.name));for(const m of h)lp(t,e,m)}async function FS(t,e,i){if(i&&i!=="1=1"){const o=await EF(i,e);if(!o.isStandardized)throw new kt("fieldUtils:collectFilterFields","Where clause is not standardized",{where:i});Dc(t,e,o.fieldNames)}}function hrt({displayField:t,fields:e}){return t||(e!=null&&e.length?b1(e,"name-or-title")||b1(e,"unique-identifier")||b1(e,"type-or-category")||qU(e):null)}function qU(t){for(const e of t){if(!(e!=null&&e.name))continue;const i=e.name.toLowerCase();if(i.includes("name")||i.includes("title"))return e.name}return null}function b1(t,e){for(const i of t)if(i!=null&&i.valueType&&i.valueType===e)return i.name;return null}async function crt(t,e){var o;if(!e)return;const i=(o=e.elevationInfo)==null?void 0:o.featureExpressionInfo;return i?i.collectRequiredFields(t,e.fieldsIndex):void 0}function HU(t,e,i){i.onStatisticExpression?Qo(t,e,i.onStatisticExpression.expression):t.add(i.onStatisticField)}async function urt(t,e,i){if(!e||!i||!("fields"in i))return;const o=[],h=i.popupTemplate;o.push(WU(t,e,h)),i.fields&&o.push(...i.fields.map(async p=>HU(t,e.fieldsIndex,p))),await Promise.all(o)}async function WU(t,e,i){const o=[];i!=null&&i.expressionInfos&&o.push(...i.expressionInfos.map(p=>Qo(t,e.fieldsIndex,p.expression)));const h=i==null?void 0:i.content;if(Array.isArray(h))for(const p of h)p.type==="expression"&&p.expressionInfo&&o.push(Qo(t,e.fieldsIndex,p.expressionInfo.expression));await Promise.all(o)}async function drt(t,e,i){e&&(e.timeInfo&&(i!=null&&i.timeExtent)&&Dc(t,e.fieldsIndex,[e.timeInfo.startField,e.timeInfo.endField]),e.floorInfo&&Dc(t,e.fieldsIndex,[e.floorInfo.floorField]),(i==null?void 0:i.where)!=null&&await FS(t,e.fieldsIndex,i.where))}async function frt(t,e,i){e&&i&&await Promise.all(i.map(o=>JU(t,e,o)))}async function JU(t,e,i){e&&i&&(i.valueExpression?await Qo(t,e.fieldsIndex,i.valueExpression):i.field&&lp(t,e.fieldsIndex,i.field))}function prt(t){return t?Wv(t.fieldsIndex,BS(t)):[]}function ZU(t){if(!t)return[];const e=t.geometryFieldsInfo;return e?Wv(t.fieldsIndex,[e.shapeAreaField,e.shapeLengthField]):[]}const YU=new Set(["oid","global-id","guid"]),KU=new Set(["oid","global-id"]),XU=[/^fnode_$/i,/^tnode_$/i,/^lpoly_$/i,/^rpoly_$/i,/^poly_$/i,/^shape$/i,/^shape_$/i,/^subclass$/i,/^subclass_$/i,/^rings_ok$/i,/^rings_nok$/i,/perimeter/i,/objectid/i,/_i$/i];function US(t){const e=new Set;Jv(t).forEach(o=>e.add(o)),ZU(t).forEach(o=>e.add(o.toLowerCase()));const i=t&&"infoFor3D"in t?t.infoFor3D:void 0;return i&&(Object.values(i.assetMapFieldRoles).forEach(o=>e.add(o.toLowerCase())),Object.values(i.transformFieldRoles).forEach(o=>e.add(o.toLowerCase()))),Array.from(e)}function BS(t){if(!t)return[];const e="editFieldsInfo"in t&&t.editFieldsInfo;if(!e)return[];const{creationDateField:i,creatorField:o,editDateField:h,editorField:p}=e;return[i,o,h,p].filter(Boolean)}function Jv(t){return BS(t).map(e=>e.toLowerCase())}function mrt(t,e){var i;return t.editable&&!YU.has(t.type)&&!Jv(e).includes(((i=t.name)==null?void 0:i.toLowerCase())??"")}function QU(t,e){var o;const i=((o=t.name)==null?void 0:o.toLowerCase())??"";return!((e==null?void 0:e.objectIdField)!=null&&i===e.objectIdField.toLowerCase()||(e==null?void 0:e.globalIdField)!=null&&i===e.globalIdField.toLowerCase()||US(e).includes(i)||KU.has(t.type)||XU.some(h=>h.test(i)))}async function grt(t,e){const{labelingInfo:i,fieldsIndex:o}=e;i!=null&&i.length&&await Promise.all(i.map(h=>tB(t,o,h)))}async function tB(t,e,i){if(!i)return;const o=i.getLabelExpression(),h=i.where;if(o.type==="arcade")await Qo(t,e,o.expression);else{const p=o.expression.match(/{[^}]*}/g);p&&p.forEach(m=>{lp(t,e,m.slice(1,-1))})}await FS(t,e,h)}function yrt(t){const e=t.defaultValue;return e!==void 0&&qS(t,e)?e:t.nullable?null:void 0}function brt(t){const e=typeof t=="string"?{type:t}:t;return of(e)?255:e.type==="esriFieldTypeDate"||e.type==="date"?8:void 0}function VS(t){return typeof t=="number"&&!isNaN(t)&&isFinite(t)}function eB(t){return t===null||VS(t)}function iB(t){return t===null||Number.isInteger(t)}function GS(t){return t!=null&&typeof t=="string"}function rB(t){return t===null||GS(t)}function nB(){return!0}function qS(t,e){let i;switch(t.type){case"date":case"integer":case"long":case"small-integer":case"big-integer":case"esriFieldTypeDate":case"esriFieldTypeInteger":case"esriFieldTypeLong":case"esriFieldTypeSmallInteger":case"esriFieldTypeBigInteger":i=t.nullable?iB:Number.isInteger;break;case"double":case"single":case"esriFieldTypeSingle":case"esriFieldTypeDouble":i=t.nullable?eB:VS;break;case"string":case"esriFieldTypeString":i=t.nullable?rB:GS;break;default:i=nB}return arguments.length===1?i:i(e)}const sB=["integer","small-integer","big-integer"],oB=["single","double"],aB=["esriFieldTypeInteger","esriFieldTypeSmallInteger","esriFieldTypeBigInteger"],lB=["esriFieldTypeSingle","esriFieldTypeDouble"],HS=new Set([...sB,...aB]),hB=new Set([...oB,...lB]),cB=Qx(HS,hB);function uB(t){return t!=null&&HS.has(t.type)}function ll(t){return t!=null&&cB.has(t.type)}function of(t){return t!=null&&(t.type==="string"||t.type==="esriFieldTypeString")}function dB(t){return t!=null&&(t.type==="date"||t.type==="esriFieldTypeDate")}function fg(t){return t!=null&&(t.type==="date-only"||t.type==="esriFieldTypeDateOnly")}function pg(t){return t!=null&&(t.type==="timestamp-offset"||t.type==="esriFieldTypeTimestampOffset")}function zc(t){return t!=null&&(t.type==="time-only"||t.type==="esriFieldTypeTimeOnly")}function vrt(t){return t!=null&&(t.type==="oid"||t.type==="esriFieldTypeOID")}function wrt(t){return t!=null&&(t.type==="global-id"||t.type==="esriFieldTypeGlobalID")}function _rt(t,e){return af(t,e)===null}var Cl,Al;function xrt(t){return t==null||typeof t=="number"&&isNaN(t)?null:t}function af(t,e){return t==null||t.nullable&&e===null?null:ll(t)&&!fB(t.type,Number(e))?Cl.OUT_OF_RANGE:qS(t,e)?t.domain?ag(t,e):null:Al.INVALID_TYPE}function fB(t,e){const i=typeof t=="string"?Zv(t):t;if(!i)return!1;const o=i.min,h=i.max;return i.isInteger?Number.isInteger(e)&&e>=o&&e<=h:e>=o&&e<=h}function pB(t,e){return Ha(t,e)||(ll(t)?Zv(t.type):void 0)}function Zv(t){switch(t){case"esriFieldTypeSmallInteger":case"small-integer":return mB;case"esriFieldTypeInteger":case"integer":return gB;case"esriFieldTypeBigInteger":case"big-integer":return yB;case"esriFieldTypeSingle":case"single":return bB;case"esriFieldTypeDouble":case"double":return vB}}(function(t){t.OUT_OF_RANGE="numeric-range-validation-error::out-of-range"})(Cl||(Cl={})),function(t){t.INVALID_TYPE="type-validation-error::invalid-type"}(Al||(Al={}));const mB={min:-32768,max:32767,isInteger:!0,rawMin:-32768,rawMax:32767},gB={min:-2147483648,max:2147483647,isInteger:!0,rawMin:-2147483648,rawMax:2147483647},yB={min:-Number.MAX_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER,isInteger:!0,rawMin:-Number.MAX_SAFE_INTEGER,rawMax:Number.MAX_SAFE_INTEGER},bB={min:-34e37,max:12e37,isInteger:!1,rawMin:-34e37,rawMax:12e37},vB={min:-Number.MAX_VALUE,max:Number.MAX_VALUE,isInteger:!1,rawMin:-Number.MAX_VALUE,rawMax:Number.MAX_VALUE};function Srt(t,e,i){switch(t){case js.INVALID_CODED_VALUE:return`Value ${i} is not in the coded domain - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case js.VALUE_OUT_OF_RANGE:return`Value ${i} is out of the range of valid values - field: ${e.name}, domain: ${JSON.stringify(e.domain)}`;case Al.INVALID_TYPE:return`Value ${i} is not a valid value for the field type - field: ${e.name}, type: ${e.type}, nullable: ${e.nullable}`;case Cl.OUT_OF_RANGE:{const{min:o,max:h}=Zv(e.type);return`Value ${i} is out of range for the number type - field: ${e.name}, type: ${e.type}, value range is ${o} to ${h}`}}}function wB(t,e){return!_B(t,e,null)}function _B(t,e,i){if(!(e!=null&&e.attributes)||!t)return!0;const o=new Set(Object.keys(e.attributes));let h=!1;for(const p of t)if(!o.has(p)&&(h=!0,i==null))break;return h}function U_(t){return!!t&&["raster.itempixelvalue","raster.servicepixelvalue"].some(e=>t.toLowerCase().startsWith(e))}function xB(t){const e=t==null?void 0:t.match(/{[^}]+}/g);return e?e.map(i=>i.slice(1,-1).split(":")[0].trim()):[]}function SB(t){return t&&typeof t.highlight=="function"}function CB(t,e,i){return t==null||t>=i&&(e===0||t<=e)}function Crt(t,e){if(e&&t){const{minScale:i,maxScale:o}=t;if(AB(i,o))return CB(e,i,o)}return!0}function AB(t,e){return t!=null&&t>0||e!=null&&e>0}function Art(t){return!(t!=null&&t.minScale)||!t.maxScale||t.minScale>=t.maxScale}function TB(t){return!!(t!=null&&typeof t=="object"&&"createQuery"in t&&t.createQuery&&"on"in t&&t.on)}const va="esri-column",vs={contentFull:`${va}__content--full`,sorter:`${va}__sorter`,headerContent:`${va}__header-content`,headerDescription:`${va}__header-description`,headerLabel:`${va}__header-label`,headerMenuIcon:`${va}__header-menu-icon`},Oe={action:"EsriFeatureTableActionColumn",attachments:"EsriFeatureTableAttachmentsColumn",relationship:"EsriFeatureTableRelationshipColumn"},EB=()=>vu({action:()=>vt(()=>import("./calcite-action-Bu7tqzqE.js"),__vite__mapDeps([180,181])),button:()=>vt(()=>import("./calcite-button-OwHWnVyW.js"),[]),dropdown:()=>vt(()=>import("./calcite-dropdown-D1HUwiNG.js"),__vite__mapDeps([182,183,184,185])),"dropdown-item":()=>vt(()=>import("./calcite-dropdown-item-DySVdsgQ.js"),__vite__mapDeps([186,187])),"dropdown-group":()=>vt(()=>import("./calcite-dropdown-group-BZ3GBpuF.js"),__vite__mapDeps([188,187])),icon:()=>vt(()=>import("./calcite-icon-B5wvyzgm.js"),[])}),$B=()=>Promise.all([vu({input:()=>vt(()=>import("./calcite-input-C30oMPBL.js"),__vite__mapDeps([189,190,169,191,170,192])),option:()=>vt(()=>import("./calcite-option-CrxQB5Nd.js"),[]),select:()=>vt(()=>import("./calcite-select-DI9ngo5E.js"),__vite__mapDeps([193,169,170])),"input-date-picker":()=>vt(()=>import("./calcite-input-date-picker-6-XYFwB7.js"),__vite__mapDeps([194,183,184,185,195,196,169,191,170,197,192])),"input-time-picker":()=>vt(()=>import("./calcite-input-time-picker-B8wBVmEV.js"),__vite__mapDeps([198,196,199,169,191,181,170,197,192,200,183,184,185,195,201]))}),EB()]),IB=()=>Promise.all([vu({"action-bar":()=>vt(()=>import("./calcite-action-bar-1uw53S87.js"),__vite__mapDeps([202,203,204,205,167,181,200,183,184,196,185,195,201]))}),$B()]);function jc(t){return t!=null&&typeof t=="object"&&"createQuery"in t&&"getField"in t&&"queryFeatureCount"in t&&"queryFeatures"in t&&"queryObjectIds"in t&&"capabilities"in t&&"fields"in t&&"fieldsIndex"in t&&"id"in t&&"load"in t&&"objectIdField"in t&&"type"in t&&"when"in t}function Yv(t){return jc(t)&&"queryAttachments"in t}function kB(t){return Yv(t)&&"addAttachment"in t&&"deleteAttachments"in t&&"updateAttachment"in t}function MB(t){return jc(t)&&"editingEnabled"in t&&"applyEdits"in t}function Ao(t){return jc(t)&&"relationships"in t&&"queryRelatedFeatures"in t&&"queryRelatedFeaturesCount"in t}function mg(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type==="map-image"}function OB(t,e,{relatedTableId:i}){var v,w,A,$;if(!(e!=null&&e.map))return;const o=t.type==="scene"&&t.associatedLayer?t.associatedLayer.url:t.url,h=M=>{var P;return!(!Ao(M)||M===t)&&(M.type==="sublayer"&&((P=M.layer)==null?void 0:P.url)===t.url?M.id===i:o===M.url&&M.layerId===i)};if(t.type==="sublayer"&&mg(t.parent)){const M=B=>Ao(B)&&B!==t&&B.id===i,P=t.parent,R=((v=P.sublayers)==null?void 0:v.find(M))||((w=P.subtables)==null?void 0:w.find(M));if(Ao(R))return R}const p=[...e.map.allLayers,...e.map.allTables];let m=null;for(const M of p)if(mg(M)){const P=((A=M.sublayers)==null?void 0:A.find(h))||(($=M.subtables)==null?void 0:$.find(h));if(P){m=P;break}}else if(h(M)){m=M;break}return Ao(m)?m:void 0}function PB(t,e){return t!=null&&Number.isInteger(t)&&t>-1&&t<e}function gg(t){return t==null||t.trim().length===0}function WS(t,e){return(t.relationships??[]).filter(i=>!(i.id===e&&i.cardinality==="one-to-one")).map(({id:i})=>({relationshipId:i}))}function JS(t,e){var i;return(i=t.relationships)==null?void 0:i.find(({id:o})=>o===e)}const NB=[{pattern:/^\s*(https?:\/\/([^\s]+))\s*$/i,target:"_blank",label:"{messages.view}"},{pattern:/^\s*(tel:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(mailto:([^\s]+))\s*$/i,label:"{hierPart}"},{pattern:/^\s*(arcgis-appstudio-player:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"App Studio Player"},{pattern:/^\s*(arcgis-collector:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Collector"},{pattern:/^\s*(arcgis-explorer:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Explorer"},{pattern:/^\s*(arcgis-navigator:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Navigator"},{pattern:/^\s*(arcgis-survey123:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Survey123"},{pattern:/^\s*(arcgis-trek2there:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Trek2There"},{pattern:/^\s*(arcgis-workforce:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Workforce"},{pattern:/^\s*(iform:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"iForm"},{pattern:/^\s*(flow:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"FlowFinity"},{pattern:/^\s*(lfmobile:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Laserfische"},{pattern:/^\s*(mspbi:\/\/([^\s]+))\s*$/i,label:"{messages.openInApp}",appName:"Microsoft Power Bi"}];function ZS(t,e){if(typeof e!="string"||!e)return e;const i=NB.find(w=>w.pattern.test(e));if(!i)return e;const o=e.match(i.pattern),h=o==null?void 0:o[2],p=Nr(Nr(i.label,{messages:t,hierPart:h}),{appName:i.appName}),m=i.target?` target="${i.target}"`:"",v=i.target==="_blank"?' rel="noreferrer"':"";return e.replace(i.pattern,`<a${m} href="$1"${v}>${p}</a>`)}let Pt=class extends Gf.EventedAccessor{constructor(e){super(e),this._menuIsOpen=!1,this.autoWidth=!1,this.cellValueFormatFunction=({root:i,rowData:o,value:h})=>{const{formatFunction:p}=this,m=ci.sanitize(h);if(p&&o){const{index:v,item:{attachments:w,feature:A,relatedRecords:$}}=o;return p({attachments:w,column:this,feature:A,index:v,relatedRecords:$,value:m,virtualIndex:this.getVirtualRowIndex(i)})}return m},this.description=null,this.direction=null,this.fieldName=null,this.flexGrow=1,this.footerRenderFunction=null,this.formatFunction=null,this.frozen=!1,this.frozenToEnd=!1,this.grid=null,this.headerRenderFunction=i=>{const{root:o}=i,h=this.createHeaderContent();this.removeCellContent(o),o.appendChild(h)},this.hidden=!1,this.icon=null,this.initialSortPriority=null,this.label=null,this.menuConfig=null,this.messages=null,this.messagesCommon=null,this.messagesURIUtils=null,this.renderFunction=({root:i,rowData:o})=>{const h=this.getCellValue(o),p=this.cellValueFormatFunction({root:i,rowData:o,value:h});let m=null;if(m=p instanceof HTMLElement?p:ZS(this.messagesURIUtils,p),this.removeCellContent(i),m instanceof HTMLElement)i.removeAttribute("title"),i.appendChild(m);else if(m!=null){const v=m.toString();i.innerHTML=v,i.title=v}},this.resizable=!0,this.sortable=!1,this.store=null,this.tableTimeZone=null,this.textAlign="start",this.textWrap=!1,this.timeZone=null,this.visibleElements=null,this.width=200}initialize(){const{fieldName:e}=this;this._set("sortElement",this.createSortElement()),this.sortElement.setAttribute("path",e),this.addHandles([Lt(()=>this.direction,i=>{const{sortElement:o}=this;this.sortable&&o&&(i?this.sortElement.direction!==i&&o.setAttribute("direction",i):o.removeAttribute("direction"))}),Lt(()=>this.timeZone,()=>{var i;return(i=this.grid)==null?void 0:i.requestContentUpdate()}),Lt(()=>this.hidden,()=>this.closeMenu()),Lt(()=>this.fieldName,i=>{const{sortElement:o}=this;o&&o.path!==i&&o.setAttribute("path",i)}),Lt(()=>this.effectiveLabel,i=>{const{sortElement:o}=this;o&&o.textContent!==i&&(o.setAttribute("title",i),o.textContent=i)})])}get _headerRequiresTextContainer(){return!(!this.sortable&&this.effectiveLabel===""&&this.effectiveDescription==null)}get customMenuItems(){var e,i;return((i=(e=this.menuConfig)==null?void 0:e.items)==null?void 0:i.map(({disabled:o,hidden:h,icon:p,iconClass:m,label:v,selected:w,clickFunction:A})=>this.createCalciteDropdownItem({disabled:o,hidden:h,iconClass:m,iconStart:p,selected:w,textContent:v,onclick:$=>A($)})))??[]}get defaultMenuItems(){var h;if(!this.sortable)return[];const e=this.messages,i=[],o=(h=this.visibleElements)==null?void 0:h.columnMenuItems;if((o==null?void 0:o.sortAscending)!==!1){const p=this.createCalciteDropdownItem({iconStart:"sort-ascending-arrow",textContent:e==null?void 0:e.sortAsc,onclick:()=>this.direction="asc"});i.push(p)}if((o==null?void 0:o.sortDescending)!==!1){const p=this.createCalciteDropdownItem({iconStart:"sort-descending-arrow",textContent:e==null?void 0:e.sortDesc,onclick:()=>this.direction="desc"});i.push(p)}return i}get effectiveDescription(){const{description:e}=this;return gg(e)?null:ci.sanitize(e)}get effectiveLabel(){return ci.sanitize(this.label||this.fieldName)}get iconNode(){const{icon:e}=this;return e?this.createCalciteIcon({icon:e}):null}set invalid(e){var i;this._set("invalid",e),(i=this.grid)==null||i.generateCellPartNames()}get invalid(){return this._get("invalid")??!1}get menu(){var v;const{customMenuItems:e,defaultMenuItems:i,menuConfig:o}=this,h=!!(o!=null&&o.open),p=this.createCalciteAction({icon:(o==null?void 0:o.icon)??"ellipsis",text:((v=this.messages)==null?void 0:v.menu)??"",slot:"trigger"}),m=document.createElement("calcite-dropdown");if(m.maxItems=(o==null?void 0:o.maxItems)??4,m.placement="top-end",m.overlayPositioning="fixed",m.scale=(o==null?void 0:o.scale)??"m",h&&(m.open=h,this._menuIsOpen=!0),m.appendChild(p),m.addEventListener("calciteDropdownOpen",()=>this._menuIsOpen=!0),m.addEventListener("calciteDropdownClose",()=>this._menuIsOpen=!1),m.onkeydown=this._stopPropagationOnSelect,m.addEventListener("mousewheel",w=>{w.stopPropagation()}),i.length){const w=m.appendChild(document.createElement("calcite-dropdown-group"));w.selectionMode="none",w.append(...i)}if(e.length){const w=m.appendChild(document.createElement("calcite-dropdown-group"));w.selectionMode=(o==null?void 0:o.selectionMode)??"none",w.append(...e)}return m}get menuItems(){return[...this.defaultMenuItems,...this.customMenuItems]}get menuIsOpen(){return this._menuIsOpen}get menuIsVisible(){var e;return!(((e=this.visibleElements)==null?void 0:e.columnMenus)===!1||!this.menuItems.length)}closeMenu(){this.menu.open=!1}createSortElement(){const{effectiveLabel:e,direction:i,fieldName:o,initialSortPriority:h}=this,p=document.createElement("vaadin-grid-sorter");return p.classList.add(vs.sorter),p.setAttribute("path",o),p.setAttribute("title",e),p.textContent=e,i&&p.setAttribute("direction",i),h!=null&&(p._initialOrder=h),p.addEventListener("direction-changed",()=>{this.direction!==p.direction&&this._set("direction",p.direction)}),p}createCalciteAction(e){const i=document.createElement("calcite-action"),{alignment:o,appearance:h,className:p,disabled:m,icon:v,label:w,scale:A,slot:$,text:M,textEnabled:P,onclick:R}=e;return i.alignment=o??"center",i.appearance=h??"transparent",i.className=p??"",i.disabled=!!m,i.icon=v??"",i.label=w??"",i.scale=A??"s",i.slot=$??"",i.text=i.title=M??"",i.textEnabled=!!P,i.onclick=R??null,i}createCalciteButton(e){const i=document.createElement("calcite-button"),{alignment:o,appearance:h,className:p,disabled:m,iconEnd:v,iconFlipRtl:w,kind:A,loading:$,onclick:M,scale:P,textContent:R,title:B,width:G}=e;return i.alignment=o??"center",i.className=p??"",i.scale=P??"s",i.appearance=h??"transparent",i.disabled=!!m,i.iconEnd=v??"",w&&(i.iconFlipRtl=w),i.kind=A??"brand",i.loading=!!$,i.textContent=R??"",B&&(i.title=B),i.width=G??"auto",i.onclick=M??null,i}createCalciteDropdownItem(e){const i=document.createElement("calcite-dropdown-item"),{disabled:o,hidden:h,iconClass:p,iconStart:m,textContent:v,onclick:w,selected:A}=e,$=v??"";if(p&&!m){const M=document.createElement("span"),P=document.createElement("span");P.classList.add(vs.headerMenuIcon,p),M.textContent=M.title=$,M.insertBefore(P,M.firstChild),i.appendChild(M)}else i.iconStart=m??"",i.textContent=i.title=$;return i.disabled=!!o,i.hidden=typeof h=="function"?h():!!h,i.selected=!!A,w&&(i.addEventListener("calciteDropdownItemSelect",w),i.onkeydown=this._stopPropagationOnSelect),i}createCalciteIcon(e){const{effectiveLabel:i}=this,{icon:o,scale:h,textLabel:p}=e,m=document.createElement("calcite-icon"),v=p??i;return m.icon=o,m.scale=h??"s",m.textLabel=v,m.title=v,m}createHeaderContent(){var m;const{effectiveDescription:e,effectiveLabel:i,iconNode:o}=this,h=document.createElement("div");if(h.classList.add(vs.headerContent),o&&h.appendChild(o),!this._headerRequiresTextContainer)return h;const p=h.appendChild(document.createElement("div"));return this.sortable?p.appendChild(this.sortElement):i!==""&&p.appendChild(this._createHeaderTextElement(i,vs.headerLabel)),e!=null&&((m=this.visibleElements)==null?void 0:m.columnDescriptions)!==!1&&p.appendChild(this._createHeaderTextElement(e,vs.headerDescription)),this.menuIsVisible&&h.appendChild(this.menu),h}getCellValue(e){var i;return(i=e==null?void 0:e.item.feature.attributes)==null?void 0:i[this.fieldName]}getVirtualRowIndex(e){var o;const i=(o=this.grid)==null?void 0:o.getRowContainingNode(e);return i!=null&&i.parentElement?[...i.parentElement.children].indexOf(i):-1}removeCellContent(e){if(e&&e.firstChild)try{for(;e!=null&&e.firstChild;)e==null||e.removeChild(e.firstChild)}catch{}}openMenu(){this.menuIsVisible&&(this.menu.open=!0,jv(this.menuItems[0]))}sort(){var e;this.sortable&&((e=this.sortElement)==null||e.click())}_stopPropagationOnSelect(e){e.key!=="Enter"&&e.key!==" "||e.stopPropagation()}_createHeaderTextElement(e,i){const o=document.createElement("span"),h=e??"";o.classList.add(i);const p=o.appendChild(document.createElement("span"));return p.textContent=h,p.setAttribute("title",h),o}};C([E()],Pt.prototype,"_headerRequiresTextContainer",null),C([E()],Pt.prototype,"_menuIsOpen",void 0),C([E()],Pt.prototype,"autoWidth",void 0),C([E()],Pt.prototype,"cellValueFormatFunction",void 0),C([E()],Pt.prototype,"customMenuItems",null),C([E()],Pt.prototype,"defaultMenuItems",null),C([E()],Pt.prototype,"description",void 0),C([E()],Pt.prototype,"direction",void 0),C([E()],Pt.prototype,"effectiveDescription",null),C([E()],Pt.prototype,"effectiveLabel",null),C([E({constructOnly:!0})],Pt.prototype,"fieldName",void 0),C([E()],Pt.prototype,"flexGrow",void 0),C([E()],Pt.prototype,"footerRenderFunction",void 0),C([E()],Pt.prototype,"formatFunction",void 0),C([E()],Pt.prototype,"frozen",void 0),C([E()],Pt.prototype,"frozenToEnd",void 0),C([E()],Pt.prototype,"grid",void 0),C([E()],Pt.prototype,"iconNode",null),C([E()],Pt.prototype,"invalid",null),C([E()],Pt.prototype,"headerRenderFunction",void 0),C([E()],Pt.prototype,"hidden",void 0),C([E()],Pt.prototype,"icon",void 0),C([E({constructOnly:!0})],Pt.prototype,"initialSortPriority",void 0),C([E()],Pt.prototype,"label",void 0),C([E()],Pt.prototype,"menu",null),C([E()],Pt.prototype,"menuItems",null),C([E()],Pt.prototype,"menuConfig",void 0),C([E()],Pt.prototype,"menuIsOpen",null),C([E()],Pt.prototype,"menuIsVisible",null),C([E()],Pt.prototype,"messages",void 0),C([E()],Pt.prototype,"messagesCommon",void 0),C([E()],Pt.prototype,"messagesURIUtils",void 0),C([E()],Pt.prototype,"renderFunction",void 0),C([E()],Pt.prototype,"resizable",void 0),C([E()],Pt.prototype,"sortable",void 0),C([E({readOnly:!0})],Pt.prototype,"sortElement",void 0),C([E()],Pt.prototype,"store",void 0),C([E()],Pt.prototype,"tableTimeZone",void 0),C([E()],Pt.prototype,"textAlign",void 0),C([E()],Pt.prototype,"textWrap",void 0),C([E()],Pt.prototype,"timeZone",void 0),C([E()],Pt.prototype,"visibleElements",void 0),C([E()],Pt.prototype,"width",void 0),Pt=C([Y("esri.widgets.FeatureTable.Grid.Column")],Pt);const ql=Pt,RB={action:"esri-column__action"};let gi=class extends ql{constructor(e){super(e),this.autoWidth=!1,this.callback=()=>{},this.fieldName=Oe.action,this.flexGrow=0,this.frozenToEnd=!0,this.disabled=null,this.headerRenderFunction=()=>{},this.icon="pencil",this.renderFunction=({root:i,rowData:o})=>{if(!o)return;const{index:h,item:{feature:p}}=o,{callback:m,disabled:v,icon:w,effectiveLabel:A}=this,$=v instanceof Function?v({feature:p,index:h}):!!v,M=R=>{R.stopPropagation(),m({index:h,feature:p,native:R})};if(i.firstChild){const R=i.firstChild;return R.disabled=$,R.icon=w,R.text=A,void(R.onclick=M)}const P=this.createCalciteAction({alignment:"center",className:`${RB.action} ${vs.contentFull}`,disabled:$,icon:w,text:A,onclick:M});this.removeCellContent(i),i.appendChild(P)},this.resizable=!1,this.sortable=!1,this.width="50px"}};C([E({readOnly:!0})],gi.prototype,"autoWidth",void 0),C([E()],gi.prototype,"callback",void 0),C([E({readOnly:!0})],gi.prototype,"fieldName",void 0),C([E({readOnly:!0})],gi.prototype,"flexGrow",void 0),C([E()],gi.prototype,"frozenToEnd",void 0),C([E()],gi.prototype,"disabled",void 0),C([E()],gi.prototype,"headerRenderFunction",void 0),C([E()],gi.prototype,"icon",void 0),C([E()],gi.prototype,"renderFunction",void 0),C([E({readOnly:!0})],gi.prototype,"resizable",void 0),C([E({readOnly:!0})],gi.prototype,"sortable",void 0),C([E({readOnly:!0})],gi.prototype,"width",void 0),gi=C([Y("esri.widgets.FeatureTable.ActionColumn")],gi);const LB=gi;let yg=class{constructor(e){this._observable=new L7,this._map=new Map(e)}get size(){return Ct(this._observable),this._map.size}clear(){this._map.size>0&&(this._map.clear(),this._observable.notify())}delete(e){const i=this._map.delete(e);return i&&this._observable.notify(),i}entries(){return Ct(this._observable),this._map.entries()}forEach(e,i){Ct(this._observable),this._map.forEach((o,h)=>e.call(i,o,h,this),i)}get(e){return Ct(this._observable),this._map.get(e)}has(e){return Ct(this._observable),this._map.has(e)}keys(){return Ct(this._observable),this._map.keys()}set(e,i){return this._map.set(e,i),this._observable.notify(),this}values(){return Ct(this._observable),this._map.values()}[Symbol.iterator](){return Ct(this._observable),this._map[Symbol.iterator]()}get[Symbol.toStringTag](){return this._map[Symbol.toStringTag]}};const B_="esri-attachments-column",V_={contentContainer:`${B_}__content`,showAttachmentsButton:`${B_}__button`};let Be=class extends ql{constructor(e){super(e),this._buttonElements=new yg,this._thumbnailElements=new yg,this.attachmentsViewEnabled=!0,this.cellValueFormatFunction=({root:i,rowData:o})=>{const{_showAttachmentsViewEnabled:h,formatFunction:p}=this,m=this.getCellValue(o);if(p&&o){const{index:B,item:{attachments:G,feature:H,relatedRecords:Z}}=o;return p({attachments:G,column:this,feature:H,index:B,relatedRecords:Z,value:m,virtualIndex:this.getVirtualRowIndex(i)})}if(!o)return m;const{index:v,item:{attachments:w,objectId:A}}=o,$=`(${m})`;if(!this.thumbnailsEnabled&&!h)return m;const M=document.createElement("span");M.textContent=M.title=$;let P=null;if(this.thumbnailsEnabled&&(P=this._createOrSyncThumbnails(A,w??[])),this._showAttachmentsViewEnabled){const B=document.createElement("div");P&&B.appendChild(P),B.appendChild(M);const G=this._createOrSyncShowAttachmentsButton(A,v);return G.appendChild(B),G}const R=document.createElement("div");return R.classList.add(V_.contentContainer),P&&R.appendChild(P),R.appendChild(M),R},this.icon="attachment",this.layer=null,this.onShowAttachments=null,this.sortable=!1,this.store=null,this.textAlign="center",this.thumbnailAppearance="image",this.thumbnailCount=8,this.thumbnailIconScale="m",this.thumbnailsEnabled=!0}get _showAttachmentsViewEnabled(){return!(!this.attachmentsViewEnabled||!this.onShowAttachments)}get _supportsResize(){var e;return!!((e=this.store)!=null&&e.supportsResizeAttachments)}get effectiveLabel(){var e;return ci.sanitize(this.label??(((e=this.messages)==null?void 0:e.attachments)||this.fieldName))}getCellValue(e){var i,o;return((o=(i=e==null?void 0:e.item)==null?void 0:i.attachments)==null?void 0:o.length)??0}_createOrSyncThumbnails(e,i){const o=document.createElement("div"),h=this._thumbnailElements.get(e);return h!=null&&h.length&&h.length===i.length?h.forEach(p=>o.appendChild(p)):this._thumbnailElements.set(e,this._createThumbnailElements(i,o)),o}_createOrSyncShowAttachmentsButton(e,i){var p;const o=this._buttonElements.get(e);if(o)return o.textContent="",o.onclick=m=>this._onShowAttachmentsClick({index:i,objectId:e,event:m}),o;const h=this.createCalciteButton({alignment:"icon-end-space-between",className:`${V_.showAttachmentsButton} ${vs.contentFull}`,iconEnd:"chevron-right",iconFlipRtl:"both",scale:this.thumbnailIconScale,textContent:"",title:(p=this.messages)==null?void 0:p.viewAttachments,width:"full",onclick:m=>this._onShowAttachmentsClick({index:i,objectId:e,event:m})});return this._buttonElements.set(e,h),h}_createThumbnailAnchor({name:e,url:i},o){const h=document.createElement("a");return h.href=`${i}`,h.download=e,h.rel="noreferrer",h.target="_blank",h.appendChild(o),h}_createThumbnailElements(e,i){const{thumbnailAppearance:o,thumbnailCount:h,thumbnailIconScale:p}=this,m=[],v=Math.min(h,e.length),w=!this.onShowAttachments,A=o==="image";for(let $=0;$<v;$++){const M=e[$],{name:P,contentType:R}=M,B=q8(R)&&A?this._createThumbnailImage(M):this.createCalciteIcon({icon:H8(R),scale:p,textLabel:P}),G=w?this._createThumbnailAnchor(M,B):B;i&&i.appendChild(G),m.push(G)}return m}_createThumbnailImage(e){var v;const{name:i,size:o,url:h}=e,p=document.createElement("img"),m=`${h}${h!=null&&h.includes("?")?"&":"?"}${this._supportsResize?"w=24":""}&fs=${o}`;return p.alt=((v=this.messages)==null?void 0:v.attachmentThumbnail)??i,p.src=m,p.title=i,p}_onShowAttachmentsClick({index:e,objectId:i,event:o}){var h;o.preventDefault(),o.stopPropagation(),(h=this.onShowAttachments)==null||h.call(this,{index:e,objectId:i})}};C([E()],Be.prototype,"_showAttachmentsViewEnabled",null),C([E()],Be.prototype,"_buttonElements",void 0),C([E()],Be.prototype,"_supportsResize",null),C([E()],Be.prototype,"_thumbnailElements",void 0),C([E()],Be.prototype,"attachmentsViewEnabled",void 0),C([E()],Be.prototype,"cellValueFormatFunction",void 0),C([E()],Be.prototype,"effectiveLabel",null),C([E()],Be.prototype,"icon",void 0),C([E()],Be.prototype,"layer",void 0),C([E()],Be.prototype,"onShowAttachments",void 0),C([E({readOnly:!0})],Be.prototype,"sortable",void 0),C([E()],Be.prototype,"store",void 0),C([E()],Be.prototype,"textAlign",void 0),C([E()],Be.prototype,"thumbnailAppearance",void 0),C([E()],Be.prototype,"thumbnailCount",void 0),C([E()],Be.prototype,"thumbnailIconScale",void 0),C([E()],Be.prototype,"thumbnailsEnabled",void 0),Be=C([Y("esri.widgets.FeatureTable.AttachmentsColumn")],Be);const G_=Be;var bg;let Ts=bg=class extends St{constructor(t){super(t),this.name=null,this.code=null}clone(){return new bg({name:this.name,code:this.code})}};C([E({type:String,json:{write:!0}})],Ts.prototype,"name",void 0),C([E({type:[String,Number],json:{write:!0}})],Ts.prototype,"code",void 0),Ts=bg=C([Y("esri.layers.support.CodedValue")],Ts);function Mt(t,e={}){const i=t instanceof cr?t:new cr(t,e),{alwaysWriteDefaults:o,default:h,ignoreUnknown:p=!0,name:m,nonNullable:v,readOnly:w=!1}=e;return E({type:p?i.apiValues:String,json:{type:i.jsonValues,default:h,name:m,read:!w&&{reader:i.read},write:{writer:i.write,alwaysWriteDefaults:o}},nonNullable:v,readOnly:w})}const DB=new cr({inherited:"inherited",codedValue:"coded-value",range:"range"});let xh=class extends St{constructor(e){super(e),this.name=null,this.type=null}};C([E({type:String,json:{write:!0}})],xh.prototype,"name",void 0),C([Mt(DB)],xh.prototype,"type",void 0),xh=C([Y("esri.layers.support.Domain")],xh);const hp=xh;var vg;let Sh=vg=class extends hp{constructor(t){super(t),this.codedValues=null,this.type="coded-value"}getName(t){let e=null;if(this.codedValues){const i=String(t);this.codedValues.some(o=>(String(o.code)===i&&(e=o.name),!!e))}return e}clone(){return new vg({codedValues:at(this.codedValues),name:this.name})}};C([E({type:[Ts],json:{write:!0}})],Sh.prototype,"codedValues",void 0),C([Mt({codedValue:"coded-value"})],Sh.prototype,"type",void 0),Sh=vg=C([Y("esri.layers.support.CodedValueDomain")],Sh);const Fc=Sh;function zB(t){return typeof t=="object"&&t!=null&&"loaded"in t&&t.loaded===!0&&"type"in t}function jB(t){var e,i;return!(!zB(t)||!((i=(e=Rv(t))==null?void 0:e.operations)!=null&&i.supportsEditing)||"editingEnabled"in t&&!Dz(t)||Nv(t))}const FB="not-loaded",UB="loading",BB="failed",q_="loaded",YS=t=>{let e=class extends t{constructor(...i){super(...i),this._loadController=null,this.loadError=null,this.loadStatus="not-loaded",this._set("loadWarnings",[]),this.addResolvingPromise(new Promise(o=>{const h=this.load.bind(this);this.load=p=>{const m=new Promise((v,w)=>{const A=ON(p,w);this.destroyed&&w(new kt("load:instance-destroyed",`Instance of '${this.declaredClass||this.constructor.name}' is already destroyed`,{instance:this})),this.when(v,w).finally(()=>{A&&A.remove()})});if(this.loadStatus===FB){this._set("loadStatus",UB);const v=this._loadController=new AbortController;h({signal:v.signal})}return o(),m}})),this.when(()=>{this._set("loadStatus",q_),this._loadController=null},o=>{this._set("loadStatus",BB),this._set("loadError",o),this._loadController=null})}destroy(){this._loadController&&(this._loadController=kx(this._loadController),this._promiseProps.abort()),this._set("loadError",null),this._set("loadWarnings",[])}get loaded(){return this.loadStatus===q_}get loadWarnings(){return this._get("loadWarnings")}load(){return null}cancelLoad(){var i;return this.isFulfilled()||(this._set("loadError",new kt("load:cancelled","Cancelled")),(i=this._loadController)==null||i.abort(),this._promiseProps.abort()),this}};return C([E({readOnly:!0})],e.prototype,"loaded",null),C([E({readOnly:!0})],e.prototype,"loadError",void 0),C([E({clonable:!1})],e.prototype,"loadStatus",void 0),C([E({type:[Ec],readOnly:!0})],e.prototype,"loadWarnings",null),e=C([Y("esri.core.Loadable")],e),e};let Ch=class extends YS(Km){};Ch=C([Y("esri.core.Loadable")],Ch),function(t){function e(i){return!(!i||!i.load)}t.LoadableMixin=YS,t.isLoadable=e}(Ch||(Ch={}));const cp=Ch;async function VB(t,e){return await t.load(),GB(t,e)}async function GB(t,e){const i=[],o=(...p)=>{for(const m of p)m!=null&&(Array.isArray(m)?o(...m):Tt.isCollection(m)?m.forEach(v=>o(v)):cp.isLoadable(m)&&i.push(m))};e(o);let h=null;if(await OD(i,async p=>{const m=await RD(qB(p)?p.loadAll():p.load());m.ok!==!1||h||(h=m)}),h)throw h.error;return t}function qB(t){return"loadAll"in t&&typeof t.loadAll=="function"}let sd;function HB(t){return sd&&!sd.destroyed||(sd=t()),sd}var wg;const WB=new cr({avgRating:"avg-rating",numRatings:"num-ratings",numComments:"num-comments",numViews:"num-views"});let Qi=wg=class extends me{constructor(t){super(t),this.categories=null,this.disableExtraQuery=!1,this.extent=null,this.filter=null,this.num=10,this.query=null,this.sortField=null,this.start=1}get sortOrder(){return this._get("sortOrder")||"asc"}set sortOrder(t){t!=="asc"&&t!=="desc"||this._set("sortOrder",t)}clone(){return new wg({categories:this.categories?at(this.categories):null,disableExtraQuery:this.disableExtraQuery,extent:this.extent?this.extent.clone():null,filter:this.filter,num:this.num,query:this.query,sortField:this.sortField,sortOrder:this.sortOrder,start:this.start})}toRequestOptions(t,e){let i=[];this.categories&&(i=this.categories.map(m=>Array.isArray(m)?JSON.stringify(m):m));let o="";if(this.extent){const m=sS(this.extent,Pe.WGS84);m!=null&&(o=`${m.xmin},${m.ymin},${m.xmax},${m.ymax}`)}let h=this.query;!this.disableExtraQuery&&t.extraQuery&&(h="("+h+")"+t.extraQuery);const p={categories:i,bbox:o,q:h,filter:this.filter,num:this.num,sortField:null,sortOrder:null,start:this.start};return this.sortField&&(p.sortField=this.sortField.split(",").map(m=>WB.toJSON(m.trim())).join(","),p.sortOrder=this.sortOrder),{query:{...e,...p}}}};C([E()],Qi.prototype,"categories",void 0),C([E()],Qi.prototype,"disableExtraQuery",void 0),C([E({type:Wi})],Qi.prototype,"extent",void 0),C([E()],Qi.prototype,"filter",void 0),C([E()],Qi.prototype,"num",void 0),C([E()],Qi.prototype,"query",void 0),C([E()],Qi.prototype,"sortField",void 0),C([E()],Qi.prototype,"sortOrder",null),C([E()],Qi.prototype,"start",void 0),Qi=wg=C([Y("esri.portal.PortalQueryParams")],Qi);const nn=Qi;var _g;let Ve=_g=class extends St{constructor(t){super(t),this.access=null,this.created=null,this.description=null,this.id=null,this.isInvitationOnly=!1,this.modified=null,this.owner=null,this.portal=null,this.snippet=null,this.sortField=null,this.sortOrder=null,this.sourceJSON=null,this.tags=null,this.title=null}get thumbnailUrl(){var i;const t=this.url,e=this.thumbnail;return t&&e&&this.portal?(i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`):null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?t+"/community/groups/"+this.id:null}fetchCategorySchema(t){return this.portal.request(this.url+"/categorySchema",t).then(e=>{const i=e.categorySchema||[];return i.some(o=>o.source==="contentCategorySetsGroupQuery.LivingAtlas")?this._fetchCategorySchemaSet("LivingAtlas",t):i})}fetchMembers(t){return this.portal.request(this.url+"/users",t)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}toJSON(){throw new kt("internal:not-yet-implemented","PortalGroup.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new _g({sourceJSON:t});return e.read(t),e}queryItems(t,e){let i=Pi(nn,t);const o=this.portal;return parseFloat(o.currentVersion)>5?(i=i||new nn,o.queryPortal(`/content/groups/${this.id}/search`,i,"PortalItem",e)):(i=i?i.clone():new nn,i.query="group:"+this.id+(i.query?" "+i.query:""),o.queryItems(i,e))}_fetchCategorySchemaSet(t,e){const i=this.portal;return i.fetchSelf(i.authMode,!0,e).then(o=>{const h=o.contentCategorySetsGroupQuery;if(h){const p=new nn({disableExtraQuery:!0,num:1,query:h});return i.queryGroups(p,e)}throw new kt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery value not found")}).then(o=>{if(o.total){const h=o.results[0],p=new nn({num:1,query:`typekeywords:"${t}"`});return h.queryItems(p,e)}throw new kt("portal-group:fetchCategorySchema","contentCategorySetsGroupQuery group not found")}).then(o=>o.total?o.results[0].fetchData("json",e).then(h=>{const p=h==null?void 0:h.categorySchema;return p!=null&&p.length?p:[]}):[])}};C([E()],Ve.prototype,"access",void 0),C([E({type:Date})],Ve.prototype,"created",void 0),C([E()],Ve.prototype,"description",void 0),C([E()],Ve.prototype,"id",void 0),C([E()],Ve.prototype,"isInvitationOnly",void 0),C([E({type:Date})],Ve.prototype,"modified",void 0),C([E()],Ve.prototype,"owner",void 0),C([E()],Ve.prototype,"portal",void 0),C([E()],Ve.prototype,"snippet",void 0),C([E()],Ve.prototype,"sortField",void 0),C([E()],Ve.prototype,"sortOrder",void 0),C([E()],Ve.prototype,"sourceJSON",void 0),C([E()],Ve.prototype,"tags",void 0),C([E()],Ve.prototype,"thumbnail",void 0),C([E({readOnly:!0})],Ve.prototype,"thumbnailUrl",null),C([E()],Ve.prototype,"title",void 0),C([E({readOnly:!0})],Ve.prototype,"url",null),Ve=_g=C([Y("esri.portal.PortalGroup")],Ve);const xg=Ve;let ro=class extends me{constructor(e){super(e),this.nextQueryParams=null,this.queryParams=null,this.results=null,this.total=null}};C([E()],ro.prototype,"nextQueryParams",void 0),C([E()],ro.prototype,"queryParams",void 0),C([E()],ro.prototype,"results",void 0),C([E()],ro.prototype,"total",void 0),ro=C([Y("esri.portal.PortalQueryResult")],ro);const JB=ro;let dn=class extends St{constructor(e){super(e),this.created=null,this.id=null,this.portal=null,this.title=null,this.username=null}get url(){var i;const e=(i=this.portal)==null?void 0:i.restUrl;return e?`${e}/content/users/${this.username}/${this.id}`:null}toJSON(){throw new kt("internal:not-yet-implemented","PortalFolder.toJSON is not yet implemented")}};C([E({type:Date})],dn.prototype,"created",void 0),C([E()],dn.prototype,"id",void 0),C([E()],dn.prototype,"portal",void 0),C([E()],dn.prototype,"title",void 0),C([E({readOnly:!0})],dn.prototype,"url",null),C([E()],dn.prototype,"username",void 0),dn=C([Y("esri.portal.PortalFolder")],dn);const ZB=dn;var Sg;let ye=Sg=class extends St{constructor(t){super(t),this.access=null,this.created=null,this.culture=null,this.description=null,this.email=null,this.fullName=null,this.modified=null,this.orgId=null,this.portal=null,this.preferredView=null,this.privileges=null,this.region=null,this.role=null,this.roleId=null,this.sourceJSON=null,this.units=null,this.username=null,this.userLicenseTypeId=null,this.userType=null}get thumbnailUrl(){const t=this.url,e=this.thumbnail;return t&&e?this.portal.normalizeUrl(`${t}/info/${e}?f=json`):null}get userContentUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/content/users/${this.username}`:null}get url(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t?`${t}/community/users/${this.username}`:null}addItem(t){const e=t&&t.item,i=t==null?void 0:t.data,o=t==null?void 0:t.folder,h={method:"post"};e&&(h.query=e.createPostQuery(),i!=null&&(typeof i=="string"?h.query.text=i:typeof i=="object"&&(h.query.text=JSON.stringify(i))));let p=this.userContentUrl;return o&&(p+="/"+(typeof o=="string"?o:o.id)),this.portal.request(p+"/addItem",h).then(m=>(e.id=m.id,e.portal=this.portal,e.loaded?e.reload():e.load()))}async deleteItem(t,e=!1){let i=this.userContentUrl;t.ownerFolder&&(i+="/"+t.ownerFolder);const o=e?{permanentDelete:!0}:{};await this.portal.request(i+`/items/${t.id}/delete`,{method:"post",query:o}),t.id=null,t.portal=null}async deleteItems(t,e=!1){t=t.slice();const i=this.userContentUrl+"/deleteItems",o=[],h=t.map(p=>p.id);if(h.length){const p={method:"post",query:{items:h.join(","),permanentDelete:e}},m=await this.portal.request(i,p);for(const v of m.results){const w=t.find(M=>v.itemId===M.id),A=v.success;let $=null;A?(w.id=null,w.portal=null):v.error&&($=new kt("portal:delete-item-failed",v.error.message,v.error)),o.push({item:w,success:A,error:$})}}return o}fetchFolders(){const t={query:{num:1}};return this.portal.request(this.userContentUrl??"",t).then(e=>{let i;return i=e&&e.folders?e.folders.map(o=>{const h=ZB.fromJSON(o);return h.portal=this.portal,h}):[],i})}fetchGroups(){return this.portal.request(this.url??"").then(t=>{let e;return e=t&&t.groups?t.groups.map(i=>{const o=xg.fromJSON(i);return o.portal=this.portal,o}):[],e})}async fetchItems(t){t??(t={});let e=this.userContentUrl??"";t.folder&&(e+="/"+t.folder.id);const{default:i}=await vt(()=>Promise.resolve().then(()=>eC),void 0),o={folders:!1,inRecycleBin:!!t.inRecycleBin||null,foldersContent:!(t.folder||!t.includeSubfolderItems)||null,num:t.num||10,start:t.start||1,sortField:t.sortField||"created",sortOrder:t.sortOrder||"asc"},h=await this.portal.request(e,{query:o});let p;return h!=null&&h.items?(p=h.items.map(m=>{const v=i.fromJSON(m);return v.portal=this.portal,v}),await Promise.all(p.map(m=>m.load())),{items:p,nextStart:h.nextStart,total:h.total}):{items:[],nextStart:-1,total:0}}fetchTags(){return this.portal.request(this.url+"/tags").then(t=>t.tags)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}queryFavorites(t){return this.favGroupId?(this._favGroup||(this._favGroup=new xg({id:this.favGroupId,portal:this.portal})),this._favGroup.queryItems(t)):Promise.reject(new kt("internal:unknown","Unknown internal error",{internalError:"Unknown favGroupId"}))}async restoreItem(t,e){const i=this.userContentUrl,o=e?{folderID:typeof e=="string"?e:e.id}:null;await this.portal.request(i+`/items/${t.id}/restore`,{method:"post",query:o})}toJSON(){throw new kt("internal:not-yet-implemented","PortalUser.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");const e=new Sg({sourceJSON:t});return e.read(t),e}};C([E()],ye.prototype,"access",void 0),C([E({type:Date})],ye.prototype,"created",void 0),C([E()],ye.prototype,"culture",void 0),C([E()],ye.prototype,"description",void 0),C([E()],ye.prototype,"email",void 0),C([E()],ye.prototype,"favGroupId",void 0),C([E()],ye.prototype,"fullName",void 0),C([E({type:Date})],ye.prototype,"modified",void 0),C([E()],ye.prototype,"orgId",void 0),C([E()],ye.prototype,"portal",void 0),C([E()],ye.prototype,"preferredView",void 0),C([E()],ye.prototype,"privileges",void 0),C([E()],ye.prototype,"region",void 0),C([E()],ye.prototype,"role",void 0),C([E()],ye.prototype,"roleId",void 0),C([E()],ye.prototype,"sourceJSON",void 0),C([E()],ye.prototype,"thumbnail",void 0),C([E({readOnly:!0})],ye.prototype,"thumbnailUrl",null),C([E()],ye.prototype,"units",void 0),C([E({readOnly:!0})],ye.prototype,"userContentUrl",null),C([E({readOnly:!0})],ye.prototype,"url",null),C([E()],ye.prototype,"username",void 0),C([E()],ye.prototype,"userLicenseTypeId",void 0),C([E()],ye.prototype,"userType",void 0),ye=Sg=C([Y("esri.portal.PortalUser")],ye);const KS=ye;var Di;let hh;const H_={PortalGroup:()=>Promise.resolve({default:xg}),PortalItem:()=>vt(()=>Promise.resolve().then(()=>eC),void 0),PortalUser:()=>Promise.resolve({default:KS})};let ht=Di=class extends Bf(cp){constructor(t){super(t),this._esriIdCredentialCreateHandle=null,this.access=null,this.allSSL=!1,this.authMode="auto",this.authorizedCrossOriginDomains=null,this.basemapGalleryGroupQuery=null,this.basemapGalleryGroupQuery3D=null,this.bingKey=null,this.canListApps=!1,this.canListData=!1,this.canListPreProvisionedItems=!1,this.canProvisionDirectPurchase=!1,this.canSearchPublic=!0,this.canShareBingPublic=!1,this.canSharePublic=!1,this.canSignInArcGIS=!1,this.canSignInIDP=!1,this.colorSetsGroupQuery=null,this.commentsEnabled=!1,this.created=null,this.culture=null,this.customBaseUrl=null,this.default3DBasemapQuery=null,this.defaultBasemap=null,this.defaultDevBasemap=null,this.defaultExtent=null,this.defaultVectorBasemap=null,this.description=null,this.devBasemapGalleryGroupQuery=null,this.eueiEnabled=null,this.featuredGroups=null,this.featuredItemsGroupQuery=null,this.galleryTemplatesGroupQuery=null,this.layoutGroupQuery=null,this.livingAtlasGroupQuery=null,this.hasCategorySchema=!1,this.hasClassificationSchema=!1,this.helperServices=null,this.homePageFeaturedContent=null,this.homePageFeaturedContentCount=null,this.httpPort=null,this.httpsPort=null,this.id=null,this.ipCntryCode=null,this.isPortal=!1,this.isReadOnly=!1,this.layerTemplatesGroupQuery=null,this.maxTokenExpirationMinutes=null,this.modified=null,this.name=null,this.portalHostname=null,this.portalMode=null,this.portalProperties=null,this.region=null,this.recycleBinEnabled=!1,this.rotatorPanels=null,this.showHomePageDescription=!1,this.sourceJSON=null,this.supportsHostedServices=!1,this.symbolSetsGroupQuery=null,this.templatesGroupQuery=null,this.units=null,this.url=$e.portalUrl,this.urlKey=null,this.user=null,this.use3dBasemaps=!0,this.useStandardizedQuery=!1,this.useVectorBasemaps=!1,this.vectorBasemapGalleryGroupQuery=null}normalizeCtorArgs(t){return typeof t=="string"?{url:t}:t}destroy(){W_.unregister(this),this.defaultBasemap=ko(this.defaultBasemap),this.defaultDevBasemap=ko(this.defaultDevBasemap),this.defaultVectorBasemap=ko(this.defaultVectorBasemap),this._esriIdCredentialCreateHandle=Ul(this._esriIdCredentialCreateHandle)}readAuthorizedCrossOriginDomains(t){if(t)for(const e of t)$e.request.trustedServers.includes(e)||$e.request.trustedServers.push(e);return t}readDefaultBasemap(t){return this._readBasemap(t)}readDefaultDevBasemap(t){return this._readBasemap(t)}readDefaultVectorBasemap(t){return this._readBasemap(t)}get extraQuery(){var i;const t=(i=this.user)==null?void 0:i.orgId,e=!t||this.canSearchPublic;return this.id&&!e?` AND orgid:${this.id}`:null}get isOrganization(){return!!this.access}get itemPageUrl(){return this.url?`${this.url}/home/item.html`:null}get restUrl(){let t=this.url;if(t){const e=t.indexOf("/sharing");t=e>0?t.slice(0,e):this.url.replace(/\/+$/,""),t+="/sharing/rest"}return t}get thumbnailUrl(){const t=this.restUrl,e=this.thumbnail;return t&&e?this._normalizeSSL(t+"/portals/self/resources/"+e):null}readUrlKey(t){return t&&t.toLowerCase()}readUser(t){let e=null;return t&&(e=KS.fromJSON(t),e.portal=this),e}load(t){const e=vt(()=>Promise.resolve().then(()=>yV),void 0).then(({default:i})=>{jo(t),hh=i}).then(()=>this.sourceJSON?this.sourceJSON:this.fetchSelf(this.authMode,!1,t)).then(i=>{var o;if(de){const h=de;this.credential=h.findCredential(this.restUrl),this.credential||this.authMode!==Di.AUTH_MODE_AUTO&&this.authMode!==Di.AUTH_MODE_NO_PROMPT||((o=this._esriIdCredentialCreateHandle)==null||o.remove(),this._esriIdCredentialCreateHandle=h.on("credential-create",YB(new WeakRef(this))),W_.register(this,this._esriIdCredentialCreateHandle,this))}this.sourceJSON=i,this.read(i)});return this.addResolvingPromise(e),Promise.resolve(this)}async createElevationLayers(){await this.load();const t=this._getHelperService("defaultElevationLayers"),e=(await vt(async()=>{const{default:i}=await import("./ElevationLayer-Dk15mDfu.js");return{default:i}},__vite__mapDeps([206,57,18,6,7,8,207,12,13,208,209,76,98,25,111,87,88,70,114,58,10,11,210,9]))).default;return t?t.map(i=>new e({id:i.id,url:i.url})):[]}async fetchBasemaps(t,e){const i=await this._fetchBasemaps(t,e);if((e==null?void 0:e.include3d)===!0&&this.use3dBasemaps!==!1){const o=await this._fetchBasemaps3D(t,e);i.unshift(...o)}return i}async fetchDefault3DBasemap(t){if(!this.default3DBasemapQuery||this.default3DBasemapQuery==="none")return null;const e=new nn;e.query=this.default3DBasemapQuery;const i=(await this.queryItems(e,t)).results.find(o=>o.type==="Web Scene");return i?new hh({portalItem:i}):null}fetchCategorySchema(t){return this.hasCategorySchema?this.request(this.restUrl+"/portals/self/categorySchema",t).then(e=>e.categorySchema):Ds(t)?Promise.reject(Oi()):Promise.resolve([])}fetchFeaturedGroups(t){const e=this.featuredGroups,i=new nn({num:100,sortField:"title"});if(e!=null&&e.length){const o=[];for(const h of e)o.push(`(title:"${h.title}" AND owner:${h.owner})`);return i.query=o.join(" OR "),this.queryGroups(i,t).then(h=>h.results)}return Ds(t)?Promise.reject(Oi()):Promise.resolve([])}fetchRegions(t){var i;const e=((i=this.user)==null?void 0:i.culture)||this.culture||hr();return this.request(this.restUrl+"/portals/regions",{...t,query:{culture:e}})}fetchSettings(t){var i;const e=((i=this.user)==null?void 0:i.culture)||this.culture||hr();return this.request(this.restUrl+"/portals/self/settings",{...t,query:{culture:e}})}static getDefault(){return HB(()=>new Di)}queryGroups(t,e){return this.queryPortal("/community/groups",t,"PortalGroup",e)}queryItems(t,e){return this.queryPortal("/search",t,"PortalItem",e)}queryUsers(t,e){return t.sortField||(t.sortField="username"),this.queryPortal("/community/users",t,"PortalUser",e)}fetchSelf(t=this.authMode,e=!1,i){const o=this.restUrl+"/portals/self",h={authMode:t,query:{culture:hr().toLowerCase()},withCredentials:!0,...i};return h.authMode==="auto"&&(h.authMode="no-prompt"),e&&(h.query.default=!0),this.request(o,h)}queryPortal(t,e,i,o){const h=Pi(nn,e),p=m=>this.request(this.restUrl+t,{...h.toRequestOptions(this),...o}).then(v=>{const w=h.clone();return w.start=v.nextStart,new JB({nextQueryParams:w,queryParams:h,total:v.total,results:Di._resultsToTypedArray(m,{portal:this},v,o)})}).then(v=>Promise.all(v.results.map(w=>typeof w.when=="function"?w.when():v)).then(()=>v,w=>(Mx(w),v)));return i&&H_[i]?H_[i]().then(({default:m})=>(jo(o),p(m))):p()}signIn(){if(this.authMode===Di.AUTH_MODE_ANONYMOUS||this.authMode===Di.AUTH_MODE_NO_PROMPT&&!de)return Promise.reject(new kt("portal:invalid-auth-mode",`Current "authMode"' is "${this.authMode}"`));if(this.loadStatus==="failed")return Promise.reject(this.loadError);const t=e=>Promise.resolve().then(()=>this.loadStatus==="not-loaded"?(e||(this.authMode="immediate"),this.load().then(()=>null)):this.loadStatus==="loading"?this.load().then(()=>this.credential?null:(this.credential=e,this.fetchSelf("immediate"))):this.user&&this.credential===e?null:(this.credential=e,this.fetchSelf("immediate"))).then(i=>{i&&(this.sourceJSON=i,this.read(i))});return de?de.getCredential(this.restUrl,{prompt:this.authMode!==Di.AUTH_MODE_NO_PROMPT}).then(e=>t(e)):t(this.credential)}normalizeUrl(t){var i;const e=(i=this.credential)==null?void 0:i.token;return this._normalizeSSL(e?t+(t.includes("?")?"&":"?")+"token="+e:t)}requestToTypedArray(t,e,i){return this.request(t,e).then(o=>{const h=Di._resultsToTypedArray(i,{portal:this},o);return Promise.all(h.map(p=>typeof p.when=="function"?p.when():o)).then(()=>h,()=>h)})}request(t,e={}){const i={f:"json",...e.query},{authMode:o=this.authMode===Di.AUTH_MODE_ANONYMOUS||this.authMode===Di.AUTH_MODE_NO_PROMPT?this.authMode:"auto",body:h=null,cacheBust:p=!1,method:m="auto",responseType:v="json",signal:w}=e,A={authMode:o,body:h,cacheBust:p,method:m,query:i,responseType:v,timeout:0,signal:w};return e.withCredentials&&(A.withCredentials=!0),ki(this._normalizeSSL(t),A).then($=>$.data)}toJSON(){throw new kt("internal:not-yet-implemented","Portal.toJSON is not yet implemented")}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new Di({sourceJSON:t})}_getHelperService(t){const e=this.helperServices&&this.helperServices[t];if(!e)throw new kt("portal:service-not-found",`The \`helperServices\` do not include an entry named "${t}"`);return e}async _fetchBasemaps(t,e){const i=new nn;i.query=t||($e.apiKey&&M7(this.url)?this.devBasemapGalleryGroupQuery:this.useVectorBasemaps?this.vectorBasemapGalleryGroupQuery:this.basemapGalleryGroupQuery),i.disableExtraQuery=!0;const o=await this.queryGroups(i,e);if(!o.total)return[];const h=o.results[0];i.num=100,i.query='type:"Web Map" -type:"Web Application"',i.sortField=h.sortField||"name",i.sortOrder=h.sortOrder||"desc";const p=await h.queryItems(i,e);return p.total?p.results.filter(m=>m.type==="Web Map").map(m=>new hh({portalItem:m})):[]}async _fetchBasemaps3D(t,e){const i=t||this.basemapGalleryGroupQuery3D;if(!i)return[];const o=new nn({query:i,disableExtraQuery:!0}),h=await this.queryGroups(o,e);if(!h.total)return[];const p=h.results[0];o.num=100,o.query='type:"Web Scene"',o.sortField=p.sortField||"name",o.sortOrder=p.sortOrder||"desc";const m=await p.queryItems(o,e);return m.total?m.results.filter(v=>v.type==="Web Scene").map(v=>new hh({portalItem:v})):[]}_normalizeSSL(t){return t.replace(/^http:/i,"https:").replace(":7080",":7443")}_readBasemap(t){if(t){const e=hh.fromJSON(t);return e.portalItem={portal:this},e}return null}static _resultsToTypedArray(t,e,i,o){let h;if(i){const p=o!=null?o.signal:null;h=i.listings||i.notifications||i.userInvitations||i.tags||i.items||i.groups||i.comments||i.provisions||i.results||i.relatedItems||i,(t||e)&&(h=h.map(m=>{const v=Object.assign(t?t.fromJSON(m):m,e);return typeof v.load=="function"&&v.load(p),v}))}else h=[];return h}};ht.AUTH_MODE_ANONYMOUS="anonymous",ht.AUTH_MODE_AUTO="auto",ht.AUTH_MODE_IMMEDIATE="immediate",ht.AUTH_MODE_NO_PROMPT="no-prompt",C([E()],ht.prototype,"access",void 0),C([E()],ht.prototype,"allSSL",void 0),C([E()],ht.prototype,"authMode",void 0),C([E()],ht.prototype,"authorizedCrossOriginDomains",void 0),C([Xt("authorizedCrossOriginDomains")],ht.prototype,"readAuthorizedCrossOriginDomains",null),C([E()],ht.prototype,"basemapGalleryGroupQuery",void 0),C([E({json:{name:"3DBasemapGalleryGroupQuery"}})],ht.prototype,"basemapGalleryGroupQuery3D",void 0),C([E()],ht.prototype,"bingKey",void 0),C([E()],ht.prototype,"canListApps",void 0),C([E()],ht.prototype,"canListData",void 0),C([E()],ht.prototype,"canListPreProvisionedItems",void 0),C([E()],ht.prototype,"canProvisionDirectPurchase",void 0),C([E()],ht.prototype,"canSearchPublic",void 0),C([E()],ht.prototype,"canShareBingPublic",void 0),C([E()],ht.prototype,"canSharePublic",void 0),C([E()],ht.prototype,"canSignInArcGIS",void 0),C([E()],ht.prototype,"canSignInIDP",void 0),C([E()],ht.prototype,"colorSetsGroupQuery",void 0),C([E()],ht.prototype,"commentsEnabled",void 0),C([E({type:Date})],ht.prototype,"created",void 0),C([E()],ht.prototype,"credential",void 0),C([E()],ht.prototype,"culture",void 0),C([E()],ht.prototype,"currentVersion",void 0),C([E()],ht.prototype,"customBaseUrl",void 0),C([E()],ht.prototype,"default3DBasemapQuery",void 0),C([E()],ht.prototype,"defaultBasemap",void 0),C([Xt("defaultBasemap")],ht.prototype,"readDefaultBasemap",null),C([E()],ht.prototype,"defaultDevBasemap",void 0),C([Xt("defaultDevBasemap")],ht.prototype,"readDefaultDevBasemap",null),C([E({type:Wi})],ht.prototype,"defaultExtent",void 0),C([E()],ht.prototype,"defaultVectorBasemap",void 0),C([Xt("defaultVectorBasemap")],ht.prototype,"readDefaultVectorBasemap",null),C([E()],ht.prototype,"description",void 0),C([E()],ht.prototype,"devBasemapGalleryGroupQuery",void 0),C([E()],ht.prototype,"eueiEnabled",void 0),C([E({readOnly:!0})],ht.prototype,"extraQuery",null),C([E()],ht.prototype,"featuredGroups",void 0),C([E()],ht.prototype,"featuredItemsGroupQuery",void 0),C([E()],ht.prototype,"galleryTemplatesGroupQuery",void 0),C([E()],ht.prototype,"layoutGroupQuery",void 0),C([E()],ht.prototype,"livingAtlasGroupQuery",void 0),C([E()],ht.prototype,"hasCategorySchema",void 0),C([E()],ht.prototype,"hasClassificationSchema",void 0),C([E()],ht.prototype,"helpBase",void 0),C([E()],ht.prototype,"helperServices",void 0),C([E()],ht.prototype,"helpMap",void 0),C([E()],ht.prototype,"homePageFeaturedContent",void 0),C([E()],ht.prototype,"homePageFeaturedContentCount",void 0),C([E()],ht.prototype,"httpPort",void 0),C([E()],ht.prototype,"httpsPort",void 0),C([E()],ht.prototype,"id",void 0),C([E()],ht.prototype,"ipCntryCode",void 0),C([E({readOnly:!0})],ht.prototype,"isOrganization",null),C([E()],ht.prototype,"isPortal",void 0),C([E()],ht.prototype,"isReadOnly",void 0),C([E({readOnly:!0})],ht.prototype,"itemPageUrl",null),C([E()],ht.prototype,"layerTemplatesGroupQuery",void 0),C([E()],ht.prototype,"maxTokenExpirationMinutes",void 0),C([E({type:Date})],ht.prototype,"modified",void 0),C([E()],ht.prototype,"name",void 0),C([E()],ht.prototype,"portalHostname",void 0),C([E()],ht.prototype,"portalMode",void 0),C([E()],ht.prototype,"portalProperties",void 0),C([E()],ht.prototype,"region",void 0),C([E()],ht.prototype,"recycleBinEnabled",void 0),C([E({readOnly:!0})],ht.prototype,"restUrl",null),C([E()],ht.prototype,"rotatorPanels",void 0),C([E()],ht.prototype,"showHomePageDescription",void 0),C([E()],ht.prototype,"sourceJSON",void 0),C([E()],ht.prototype,"staticImagesUrl",void 0),C([E({json:{name:"2DStylesGroupQuery"}})],ht.prototype,"stylesGroupQuery2d",void 0),C([E({json:{name:"stylesGroupQuery"}})],ht.prototype,"stylesGroupQuery3d",void 0),C([E()],ht.prototype,"supportsHostedServices",void 0),C([E()],ht.prototype,"symbolSetsGroupQuery",void 0),C([E()],ht.prototype,"templatesGroupQuery",void 0),C([E()],ht.prototype,"thumbnail",void 0),C([E({readOnly:!0})],ht.prototype,"thumbnailUrl",null),C([E()],ht.prototype,"units",void 0),C([E()],ht.prototype,"url",void 0),C([E()],ht.prototype,"urlKey",void 0),C([Xt("urlKey")],ht.prototype,"readUrlKey",null),C([E()],ht.prototype,"user",void 0),C([Xt("user")],ht.prototype,"readUser",null),C([E()],ht.prototype,"use3dBasemaps",void 0),C([E()],ht.prototype,"useStandardizedQuery",void 0),C([E()],ht.prototype,"useVectorBasemaps",void 0),C([E()],ht.prototype,"vectorBasemapGalleryGroupQuery",void 0),ht=Di=C([Y("esri.portal.Portal")],ht);const Fs=ht,W_=new FinalizationRegistry(t=>{t.remove()});function YB(t){const e=de;return()=>{const i=t.deref();i&&e.findCredential(i.restUrl)&&i.signIn().catch(()=>{})}}let fn=class extends me{constructor(e){super(e),this.portalItem=null}normalizeCtorArgs(e){return e!=null&&e.portalItem&&e.path?{...e,path:J_(e.path,e.portalItem)}:e}set path(e){e!=null&&qi(e)?Rt.getLogger(this).error("portalitemresource:invalid-path","A portal item resource path must be relative"):this._set("path",e)}_castPath(e){return J_(e,this.portalItem)}get url(){return this.portalItem&&this.path?`${this.portalItem.itemUrl}/resources/${this.path}`:null}get cdnUrl(){return this.portalItem&&this.path?`${this.portalItem.itemCdnUrl}/resources/${this.path}`:null}get itemRelativeUrl(){return this.portalItem&&this.path?`./resources/${this.path}`:null}fetch(e="json",i){const o=this.cdnUrl;if(o==null)throw new kt("portal-item-resource:fetch","Portal item resource does not refer to a valid item or path");return this.portalItem.portal.request(o,{responseType:e,query:{token:this.portalItem.apiKey,_ts:i!=null&&i.cacheBust?Date.now():null},signal:i==null?void 0:i.signal})}async update(e,i){const{addOrUpdateResources:o}=await vt(()=>import("./resourceUtils-CZ2sBo5I.js"),[]);return await o(this.portalItem,[{resource:this,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"update",i),this}hasPath(){return this.path!=null}};function J_(t,e){return t==null?t:(t=t.replace(/^\/+/,""),e!=null&&qi(t)&&(t=_v(t,e.itemUrl)),t==null?void 0:t.replace(/^\/+/,"").replace(/^(\.\/)?resources\//,""))}C([E()],fn.prototype,"portalItem",void 0),C([E({type:String,value:null})],fn.prototype,"path",null),C([Lr("path")],fn.prototype,"_castPath",null),C([E({type:String,readOnly:!0})],fn.prototype,"url",null),C([E({type:String,readOnly:!0})],fn.prototype,"cdnUrl",null),C([E({type:String,readOnly:!0})],fn.prototype,"itemRelativeUrl",null),fn=C([Y("esri.portal.PortalItemResource")],fn);const KB=fn;let Ah=class extends me{constructor(e){super(e),this.created=null,this.rating=null}};C([E()],Ah.prototype,"created",void 0),C([E()],Ah.prototype,"rating",void 0),Ah=C([Y("esri.portal.PortalRating")],Ah);const v1=Ah;function _u(t,e){var o;const i=(o=e==null?void 0:e.url)==null?void 0:o.path;if(t&&i&&(t=sa(t,i,{preserveProtocolRelative:!0}),e.portalItem&&e.readResourcePaths)){const h=_v(t,e.portalItem.itemUrl);h!=null&&XB.test(h)&&e.readResourcePaths.push(e.portalItem.resourceFromPath(h).path)}return(t=Cg(t,e==null?void 0:e.portal))&&dp.test(t)?Xv(t):t}function up(t,e,i=Bc.YES){var h,p;if((t=t&&dp.test(t)?QS(t):t)==null)return t;!qi(t)&&(e!=null&&e.blockedRelativeUrls)&&e.blockedRelativeUrls.push(t);let o=sa(t);if(e){const m=((h=e.verifyItemRelativeUrls)==null?void 0:h.rootPath)||((p=e.url)==null?void 0:p.path);if(m){const v=Cg(m,e.portal),w=Cg(o,e.portal);o=_v(w,v,v),o!=null&&o!==w&&o!==t&&e.verifyItemRelativeUrls&&e.verifyItemRelativeUrls.writtenUrls.push(o)}}return o=XS(o,e==null?void 0:e.portal),qi(o)&&(o=Ms(o)),e!=null&&e.resources&&(e!=null&&e.portalItem)&&!qi(o)&&!oa(o)&&i===Bc.YES&&e.resources.toKeep.push({resource:e.portalItem.resourceFromPath(o),compress:!1}),o}function Kv(t,e,i){return _u(t,i)}function Uc(t,e,i,o){const h=up(t,o);h!==void 0&&(e[i]=h)}const dp=/\/items\/([^/]+)\/resources\/(.*)/,XB=/^\.\/resources\//;function QB(t){const e=(t==null?void 0:t.match(dp))??null;return(e==null?void 0:e[1])??null}function tV(t){const e=(t==null?void 0:t.match(dp))??null;if(e==null)return null;const i=e[2],o=i.lastIndexOf("/");if(o===-1){const{path:m,extension:v}=e_(i);return{prefix:null,filename:m,extension:v}}const{path:h,extension:p}=e_(i.slice(o+1));return{prefix:i.slice(0,o),filename:h,extension:p}}function XS(t,e){return e&&!e.isPortal&&e.urlKey&&e.customBaseUrl?Lm(t,`${e.urlKey}.${e.customBaseUrl}`,e.portalHostname):t}function Cg(t,e){if(!e||e.isPortal||!e.urlKey||!e.customBaseUrl)return t;const i=`${e.urlKey}.${e.customBaseUrl}`,o=yv();return bl(o,`${o.scheme}://${i}`)?Lm(t,e.portalHostname,i):Lm(t,i,e.portalHostname)}function Xv(t){if(!t)return t||null;let e=t;return e&&de&&!de.findCredential(e)&&(e=S7(e),e=e.replace(/^https?:\/\/www\.arcgis\.com/,"https://cdn.arcgis.com"),e=e.replace(/^https?:\/\/devext\.arcgis\.com/,"https://cdndev.arcgis.com"),e=e.replace(/^https?:\/\/qaext\.arcgis\.com/,"https://cdnqa.arcgis.com")),e}function QS(t){if(!t)return t||null;let e=t;return e=e.replace(/^https?:\/\/cdn\.arcgis\.com/,"https://www.arcgis.com"),e=e.replace(/^https?:\/\/cdndev\.arcgis\.com/,"https://devext.arcgis.com"),e=e.replace(/^https?:\/\/cdnqa\.arcgis\.com/,"https://qaext.arcgis.com"),e&&de&&!de.findCredential(e)&&(e=S7(e)),e}var Bc;(function(t){t[t.YES=0]="YES",t[t.NO=1]="NO"})(Bc||(Bc={}));const Lrt=Object.freeze(Object.defineProperty({__proto__:null,get MarkKeep(){return Bc},ensureMainOnlineDomain:XS,fromCDNUrl:QS,fromJSON:_u,itemIdFromResourceUrl:QB,prefixAndFilenameFromResourceUrl:tV,read:Kv,toCDNUrl:Xv,toJSON:up,write:Uc},Symbol.toStringTag,{value:"Module"}));var no;const eV=new Set(["3DTiles Service","CSV","Feature Collection","Feature Service","Feed","GeoJson","Group Layer","Image Service","KML","Map Service","Media Layer","Scene Service","Stream Service","Vector Tile Service","WFS","WMS","WMTS"]),iV=new Set(["KML","GeoJson","CSV"]);let Ot=no=class extends Bf(cp){static from(t){return cv(no,t)}constructor(t){super(t),this.access=null,this.accessInformation=null,this.apiKey=null,this.applicationProxies=null,this.avgRating=null,this.categories=null,this.classification=null,this.created=null,this.culture=null,this.description=null,this.extent=null,this.groupCategories=null,this.id=null,this.isOrgItem=!1,this.itemControl=null,this.licenseInfo=null,this.modified=null,this.name=null,this.numComments=null,this.numRatings=null,this.numViews=null,this.owner=null,this.ownerFolder=null,this.portal=null,this.screenshots=null,this.size=null,this.snippet=null,this.sourceJSON=null,this.sourceUrl=null,this.spatialReference=null,this.tags=null,this.title=null,this.type=null,this.typeKeywords=null,this.url=null}destroy(){this.portal=null}get displayName(){const t=this.type,e=this.typeKeywords||[];let i=t;return t==="Feature Service"||t==="Feature Collection"?i=e.includes("Table")?"Table":e.includes("Route Layer")?"Route Layer":e.includes("Markup")?"Markup":"Feature Layer":t==="Image Service"?i=e.includes("Elevation 3D Layer")?"Elevation Layer":e.includes("Tiled Imagery")?"Tiled Imagery Layer":"Imagery Layer":t==="Scene Service"?i="Scene Layer":t==="Video Service"?i="Video Layer":t==="Scene Package"?i="Scene Layer Package":t==="Stream Service"?i="Feature Layer":t==="Geoprocessing Service"?i=e.includes("Web Tool")?"Tool":"Geoprocessing Service":t==="Geoenrichment Service"?i="GeoEnrichment Service":t==="Geocoding Service"?i="Locator":t==="Microsoft Powerpoint"?i="Microsoft PowerPoint":t==="GeoJson"?i="GeoJSON":t==="Globe Service"?i="Globe Layer":t==="Vector Tile Service"?i="Tile Layer":t==="netCDF"?i="NetCDF":t==="Map Service"?i=e.includes("Spatiotemporal")||!e.includes("Hosted Service")&&!e.includes("Tiled")||e.includes("Relational")?"Map Image Layer":"Tile Layer":t!=null&&t.toLowerCase().includes("add in")?i=t.replaceAll(/(add in)/gi,"Add-In"):t==="datastore catalog service"?i="Big Data File Share":t==="Compact Tile Package"?i="Tile Package (tpkx)":t==="Raster function template"?i="Raster Function Template":t==="OGCFeatureServer"?i="OGC Feature Layer":t==="web mapping application"&&e.includes("configurableApp")?i="Instant App":t==="Insights Page"?i="Insights Report":t==="Excalibur Imagery Project"?i="Excalibur Project":t==="3DTiles Service"?i="3D tiles layer":t==="3DTiles Package"&&(i="3D tiles package"),i}readExtent(t){return t&&t.length?new Wi(t[0][0],t[0][1],t[1][0],t[1][1]):null}get iconUrl(){var R;const t=((R=this.type)==null?void 0:R.toLowerCase())||"",e=this.typeKeywords||[],i="esri/images/portal/",o="16";let h,p=!1,m=!1,v=!1,w=!1,A=!1,$=!1,M=!1,P=!1;return t.indexOf("service")>0||t==="feature collection"||t==="kml"||t==="wms"||t==="wmts"||t==="wfs"?(p=e.includes("Hosted Service"),t==="feature service"||t==="feature collection"||t==="kml"||t==="wfs"?(m=e.includes("Table"),v=e.includes("Route Layer"),w=e.includes("Markup"),A=e.includes("Spatiotemporal"),$=e.includes("UtilityNetwork"),h=A&&m?"spatiotemporaltable":m?"table":v?"routelayer":w?"markup":A?"spatiotemporal":$?"utilitynetwork":p?"featureshosted":"features"):t==="map service"||t==="wms"||t==="wmts"?(A=e.includes("Spatiotemporal"),M=e.includes("Relational"),h=A||M?"mapimages":p||e.includes("Tiled")||t==="wmts"?"maptiles":"mapimages"):h=t==="scene service"?e.includes("Line")?"sceneweblayerline":e.includes("3DObject")?"sceneweblayermultipatch":e.includes("Point")?"sceneweblayerpoint":e.includes("IntegratedMesh")?"sceneweblayermesh":e.includes("PointCloud")?"sceneweblayerpointcloud":e.includes("Polygon")?"sceneweblayerpolygon":e.includes("Building")?"sceneweblayerbuilding":e.includes("Voxel")?"sceneweblayervoxel":"sceneweblayer":t==="image service"?e.includes("Elevation 3D Layer")?"elevationlayer":e.includes("Tiled Imagery")?"tiledimagerylayer":"imagery":t==="stream service"?"streamlayer":t==="vector tile service"?"vectortile":t==="datastore catalog service"?"datastorecollection":t==="geocoding service"?"geocodeservice":t==="video service"?e.includes("Live Stream")?"livestreamvideolayer":"videolayer":t==="geoprocessing service"?e.includes("Web Tool")?"tool":"layers":t==="geodata service"?"geodataservice":t==="3dtiles service"?e.includes("3DObject")?"3dobjecttileslayer":e.includes("IntegratedMesh")?"integratedmeshtileslayer":"3dtileslayer":"layers"):t==="web map"||t==="cityengine web scene"?h="maps":t==="web scene"?h=e.includes("ViewingMode-Local")?"webscenelocal":"websceneglobal":t==="web mapping application"&&e.includes("configurableApp")?h="instantapps":t==="web mapping application"||t==="mobile application"||t==="application"||t==="operation view"||t==="desktop application"?h="apps":t==="map document"||t==="map package"||t==="published map"||t==="scene document"||t==="globe document"||t==="basemap package"||t==="mobile basemap package"||t==="mobile map package"||t==="project package"||t==="project template"||t==="pro map"||t==="layout"||t==="layer"&&e.includes("ArcGIS Pro")||t==="explorer map"&&e.indexOf("Explorer Document")?h="mapsgray":t==="service definition"||t==="shapefile"||t==="cad drawing"||t==="geojson"||t==="netcdf"||t==="administrative report"?h="datafiles":t==="360 vr experience"?h="360vr":t==="explorer add in"||t==="desktop add in"||t==="windows viewer add in"||t==="windows viewer configuration"?h="appsgray":t==="arcgis pro add in"||t==="arcgis pro configuration"?h="addindesktop":t==="pdf"?h="pdf":t==="microsoft word"?h="word":t==="microsoft excel"?h="excel":t==="microsoft powerpoint"?h="ppt":t==="rule package"||t==="file geodatabase"||t==="sqlite geodatabase"||t==="csv collection"||t==="kml collection"||t==="windows mobile package"||t==="map template"||t==="desktop application template"||t==="gml"||t==="arcpad package"||t==="code sample"||t==="document link"||t==="earth configuration"||t==="operations dashboard add in"||t==="rules package"||t==="workflow manager package"||t==="explorer map"&&e.includes("Explorer Mapping Application")||e.includes("Document")?h="datafilesgray":t==="network analysis service"||t==="geoprocessing service"||t==="geodata service"||t==="geometry service"||t==="geoprocessing package"||t==="locator package"||t==="geoprocessing sample"||t==="workflow manager service"?h="toolsgray":t==="layer"||t==="layer package"||t==="explorer layer"?h="layersgray":t==="analysis model"?h="analysismodel":t==="scene package"?h="scenepackage":t==="3dtiles package"?h="3dtileslayerpackage":t==="3dtiles service"?h="3dtileslayer":t==="mobile scene package"?h="mobilescenepackage":t==="tile package"||t==="compact tile package"?h="tilepackage":t==="task file"?h="taskfile":t==="report template"?h="report-template":t==="statistical data collection"?h="statisticaldatacollection":t==="insights workbook"?h="workbook":t==="insights model"?h="insightsmodel":t==="insights page"?h="insightspage":t==="insights theme"?h="insightstheme":t==="hub initiative"?h="hubinitiative":t==="hub page"?h="hubpage":t==="hub site application"?h="hubsite":t==="hub event"?h="hubevent":t==="hub project"?h="hubproject":t==="relational database connection"?h="relationaldatabaseconnection":t==="big data file share"?h="datastorecollection":t==="image collection"?h="imagecollection":t==="desktop style"?h="desktopstyle":t==="style"?h=e.includes("Dictionary")?"dictionarystyle":"style":t==="dashboard"?h="dashboard":t==="raster function template"?h="rasterprocessingtemplate":t==="vector tile package"?h="vectortilepackage":t==="ortho mapping project"?h="orthomappingproject":t==="ortho mapping template"?h="orthomappingtemplate":t==="solution"?h="solutions":t==="geopackage"?h="geopackage":t==="deep learning package"?h="deeplearningpackage":t==="real time analytic"?h="realtimeanalytics":t==="reality mapping project"?h="realitymappingproject":t==="big data analytic"?h="bigdataanalytics":t==="feed"?h="feed":t==="excalibur imagery project"?h="excaliburimageryproject":t==="notebook"?h="notebook":t==="storymap"?h="storymap":t==="survey123 add in"?h="survey123addin":t==="mission"?h="mission":t==="mission report"?h="missionreport":t==="mission template"?h="missiontemplate":t==="quickcapture project"?h="quickcaptureproject":t==="pro report"?h="proreport":t==="pro report template"?h="proreporttemplate":t==="urban model"?h="urbanmodel":t==="urban project"?h="urbanproject":t==="web experience"?h="experiencebuilder":t==="web experience template"?h="webexperiencetemplate":t==="experience builder widget"?h="experiencebuilderwidget":t==="experience builder widget package"?h="experiencebuilderwidgetpackage":t==="workflow"?h="workflow":t==="kernel gateway connection"?h="kernelgatewayconnection":t==="insights script"?h="insightsscript":t==="hub initiative template"?h="hubinitiativetemplate":t==="storymap theme"?h="storymaptheme":t==="knowledge graph"?h="knowledgegraph":t==="knowledge graph layer"?h="knowledgegraphlayer":t==="knowledge studio project"?h="knowledgestudio":t==="native application"?h="nativeapp":t==="native application installer"?h="nativeappinstaller":t==="web link chart"?h="linkchart":t==="knowledge graph web investigation"?h="investigation":t==="ogcfeatureserver"?h="features":t==="pro presentation"?h="propresentation":t==="pro project"?h="proproject":t==="insights workbook package"?h="insightsworkbookpackage":t==="apache parquet"?h="apacheparquet":t==="notebook code snippet library"?h="notebookcodesnippets":t==="suitability model"?h="suitabilitymodel":t==="esri classifier definition"?h="classifierdefinition":t==="esri classification schema"?h="classificationschema":t==="insights data engineering workbook"?h="dataengineeringworkbook":t==="insights data engineering model"?h="dataengineeringmodel":t==="deep learning studio project"?h="deeplearningproject":t==="discussion"?h="discussion":t==="allsource project"?h="allsourceproject":t==="api key"?h="apikey":t==="data pipeline"?h="datapipelines":t==="group layer"?(P=e.includes("Map"),h=P?"layergroup2d":"layergroup"):h=t==="media layer"?"onlinemedialayer":t==="form"?e.includes("Survey123")?"survey":"datafilesgray":t==="csv"?"csv":t==="image"?"image":"maps",h?ne(i+h+o+".png"):null}get isLayer(){return this.type!=null&&eV.has(this.type)}get itemCdnUrl(){return Xv(this.itemUrl)}get itemPageUrl(){var e;const t=(e=this.portal)==null?void 0:e.itemPageUrl;return t&&this.id?`${t}?id=${this.id}`:null}get itemUrl(){var e;const t=(e=this.portal)==null?void 0:e.restUrl;return t&&this.id?`${t}/content/items/${this.id}`:null}get thumbnailUrl(){var i;const t=this.itemUrl,e=this.thumbnail;return t&&e?((i=this.portal)==null?void 0:i.normalizeUrl(`${t}/info/${e}?f=json`))??null:null}get userItemUrl(){var i,o,h;const t=(i=this.portal)==null?void 0:i.restUrl;if(!t)return null;const e=this.owner||((h=(o=this.portal)==null?void 0:o.user)==null?void 0:h.username);return e?`${t}/content/users/${this.ownerFolder?`${e}/${this.ownerFolder}`:e}/items/${this.id}`:null}load(t){const e=this.portal??(this.portal=Fs.getDefault()),i=e.load(t).then(()=>this.sourceJSON?this.sourceJSON:this.id&&this.itemUrl?e.request(this.itemUrl,{signal:t!=null?t.signal:null,query:{token:this.apiKey}}):{}).then(o=>{this.sourceJSON=o,this.read(o)});return this.addResolvingPromise(i),Promise.resolve(this)}async addRating(t){const e={method:"post",query:{}};return t instanceof v1&&(t=t.rating),t==null||isNaN(t)||typeof t!="number"||(e.query.rating=t),this.portal?(await this.portal.request(this.itemUrl+"/addRating",e),new v1({rating:t,created:new Date})):null}clone(){const t={access:this.access,accessInformation:this.accessInformation,applicationProxies:at(this.applicationProxies),avgRating:this.avgRating,categories:at(this.categories),classification:at(this.classification),created:at(this.created),culture:this.culture,description:this.description,extent:at(this.extent),groupCategories:at(this.groupCategories),id:this.id,itemControl:this.itemControl,licenseInfo:this.licenseInfo,modified:at(this.modified),name:this.name,numComments:this.numComments,numRatings:this.numRatings,numViews:this.numViews,owner:this.owner,ownerFolder:this.ownerFolder,portal:this.portal,screenshots:at(this.screenshots),size:this.size,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:at(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:at(this.typeKeywords),url:this.url};this.loaded&&(t.loadStatus="loaded");const e=new no({sourceJSON:this.sourceJSON}).set(t);return e._set("isOrgItem",this.isOrgItem),e}createPostQuery(){var e;const t=this.toJSON();for(const i of["tags","typeKeywords","categories"])t[i]=(e=t[i])==null?void 0:e.join(", ");for(const i of["extent","classification"]){const o=t[i];o&&(t[i]=JSON.stringify(o))}return t}async deleteRating(){await this.portal.request(this.itemUrl+"/deleteRating",{method:"post"})}fetchData(t="json",e){return this.portal.request(this.itemUrl+"/data",{responseType:t,...e,query:{token:this.apiKey}})}async fetchRating(t){const e=await this.portal.request(this.itemUrl+"/rating",{query:{token:this.apiKey},...t});return e.rating!=null?(e.created=new Date(e.created),new v1(e)):null}fetchRelatedItems(t,e){return this.portal.requestToTypedArray(this.itemUrl+"/relatedItems",{query:{...t,token:this.apiKey},...e},no)}getThumbnailUrl(t){let e=this.thumbnailUrl;return e&&t&&(e+=`&w=${t}`),e}reload(){return this.portal.request(this.itemUrl??"",{cacheBust:!0,query:{token:this.apiKey}}).then(t=>(this.applicationProxies&&!Object.hasOwn(t,"appProxies")&&(this.applicationProxies=null),this.sourceJSON=t,this.read(t),this))}update(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t==null?void 0:t.data,i={method:"post"};i.query=this.createPostQuery();for(const o in i.query)i.query[o]===null&&(i.query[o]="");return i.query.clearEmptyFields=!0,e!=null&&(typeof e=="string"?i.query.text=e:typeof e=="object"&&(i.query.text=JSON.stringify(e))),this.portal.request(`${this.userItemUrl}/update`,i).then(()=>this.reload())}):Promise.reject(new kt("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async copy(t){if(!this.id)throw new kt("portal:item-does-not-exist","The item does not exist yet");await this.load();const{portal:e,itemUrl:i}=this;await e.signIn();const{copyResources:o,folder:h,tags:p,title:m}=t||{},v={method:"post",query:{copyPrivateResources:o==="all",folder:typeof h=="string"?h:h==null?void 0:h.id,includeResources:!!o,tags:p==null?void 0:p.join(","),title:m}},{itemId:w}=await e.request(`${i}/copy`,v);return new no({id:w,portal:e})}updateThumbnail(t){return this.id?this.load().then(()=>this.portal.signIn()).then(()=>{const e=t.thumbnail,i=t.filename,o={method:"post"};if(typeof e=="string")oa(e)?o.query={data:e}:o.query={url:sa(e)},i!=null&&(o.query.filename=i);else{const h=new FormData;i!=null?h.append("file",e,i):h.append("file",e),o.body=h}return this.portal.request(`${this.userItemUrl}/updateThumbnail`,o).then(()=>this.reload())}):Promise.reject(new kt("portal:item-does-not-exist","The item does not exist yet and cannot be updated"))}async fetchResources(t={},e){const{fetchResources:i}=await vt(()=>import("./resourceUtils-CZ2sBo5I.js"),[]);return i(this,t,e)}async addResource(t,e,i){const{addOrUpdateResources:o}=await vt(()=>import("./resourceUtils-CZ2sBo5I.js"),[]);return t.portalItem=this,await o(this,[{resource:t,content:e,compress:i==null?void 0:i.compress,access:i==null?void 0:i.access}],"add",i),t}async removeResource(t,e){const{removeResource:i}=await vt(()=>import("./resourceUtils-CZ2sBo5I.js"),[]);if(t.portalItem&&t.portalItem.itemUrl!==this.itemUrl)throw new kt("removeresource:portal-item-mismatch","The portal item associated with the provided resource does not match the item");return i(this,t,e)}async removeAllResources(t){const{removeAllResources:e}=await vt(()=>import("./resourceUtils-CZ2sBo5I.js"),[]);return e(this,t)}resourceFromPath(t){return new KB({portalItem:this,path:t})}toJSON(){var i,o;const t=this.extent,e={accessInformation:this.accessInformation,categories:at(this.categories),classification:at(this.classification),created:(i=this.created)==null?void 0:i.getTime(),description:this.description,extent:t&&[[t.xmin,t.ymin],[t.xmax,t.ymax]],id:this.id,isOrgItem:this.isOrgItem,licenseInfo:this.licenseInfo,modified:(o=this.modified)==null?void 0:o.getTime(),name:this.name,owner:this.owner,ownerFolder:this.ownerFolder,snippet:this.snippet,sourceUrl:this.sourceUrl,spatialReference:this.spatialReference,tags:at(this.tags),thumbnail:this.thumbnail,title:this.title,type:this.type,typeKeywords:at(this.typeKeywords),url:this.url};return ZM(e)}static fromJSON(t){if(!t)return null;if(t.declaredClass)throw new Error("JSON object is already hydrated");return new no({sourceJSON:t})}_getPostQuery(){const t=this.toJSON();for(const e in t)e==="tags"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="typeKeywords"&&t[e]!==null&&(t[e]=t[e].join(", ")),e==="extent"&&t[e]&&(t[e]=JSON.stringify(t[e]));return t}};C([E({type:["private","shared","org","public"]})],Ot.prototype,"access",void 0),C([E()],Ot.prototype,"accessInformation",void 0),C([E({type:String})],Ot.prototype,"apiKey",void 0),C([E({json:{read:{source:"appProxies"}}})],Ot.prototype,"applicationProxies",void 0),C([E()],Ot.prototype,"avgRating",void 0),C([E()],Ot.prototype,"categories",void 0),C([E()],Ot.prototype,"classification",void 0),C([E({type:Date})],Ot.prototype,"created",void 0),C([E()],Ot.prototype,"culture",void 0),C([E()],Ot.prototype,"description",void 0),C([E({readOnly:!0})],Ot.prototype,"displayName",null),C([E({type:Wi})],Ot.prototype,"extent",void 0),C([Xt("extent")],Ot.prototype,"readExtent",null),C([E()],Ot.prototype,"groupCategories",void 0),C([E({readOnly:!0})],Ot.prototype,"iconUrl",null),C([E()],Ot.prototype,"id",void 0),C([E({readOnly:!0})],Ot.prototype,"isLayer",null),C([E({type:Boolean,readOnly:!0})],Ot.prototype,"isOrgItem",void 0),C([E()],Ot.prototype,"itemControl",void 0),C([E({readOnly:!0})],Ot.prototype,"itemPageUrl",null),C([E({readOnly:!0})],Ot.prototype,"itemUrl",null),C([E()],Ot.prototype,"licenseInfo",void 0),C([E({type:Date})],Ot.prototype,"modified",void 0),C([E()],Ot.prototype,"name",void 0),C([E()],Ot.prototype,"numComments",void 0),C([E()],Ot.prototype,"numRatings",void 0),C([E()],Ot.prototype,"numViews",void 0),C([E()],Ot.prototype,"owner",void 0),C([E()],Ot.prototype,"ownerFolder",void 0),C([E({type:Fs})],Ot.prototype,"portal",void 0),C([E()],Ot.prototype,"screenshots",void 0),C([E()],Ot.prototype,"size",void 0),C([E()],Ot.prototype,"snippet",void 0),C([E()],Ot.prototype,"sourceJSON",void 0),C([E({type:String})],Ot.prototype,"sourceUrl",void 0),C([E({type:String})],Ot.prototype,"spatialReference",void 0),C([E()],Ot.prototype,"tags",void 0),C([E()],Ot.prototype,"thumbnail",void 0),C([E({readOnly:!0})],Ot.prototype,"thumbnailUrl",null),C([E()],Ot.prototype,"title",void 0),C([E()],Ot.prototype,"type",void 0),C([E()],Ot.prototype,"typeKeywords",void 0),C([E({type:String,json:{read(t,e){var i;if(iV.has(e.type)){const o=(i=this.portal)==null?void 0:i.restUrl;t||(t=o&&this.id?`${o}/content/items/${this.id}/data`:null)}return t}}})],Ot.prototype,"url",void 0),C([E({readOnly:!0})],Ot.prototype,"userItemUrl",null),Ot=no=C([Y("esri.portal.PortalItem")],Ot);const tC=Ot,eC=Object.freeze(Object.defineProperty({__proto__:null,default:tC},Symbol.toStringTag,{value:"Module"}));async function rV(t){if(!t)return;const e=t.includes("-vector")?t.slice(0,t.indexOf("-vector")):t.includes("-3d")?t.slice(0,t.indexOf("-3d")):t,i=await Ga("esri/t9n/basemaps");return i[t]||i[e]}const nV={satellite:{id:"satellite",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/satellite.jpg")},baseMapLayers:[{id:"satellite-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1}]},hybrid:{id:"hybrid",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/hybrid.jpg")},baseMapLayers:[{id:"hybrid-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Imagery",showLegend:!1,visibility:!0,opacity:1},{id:"hybrid-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/30d6b8271e1849cd9c3042060001f425/resources/styles/root.json",layerType:"VectorTileLayer",title:"Hybrid Reference Layer",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},terrain:{id:"terrain",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/terrain.jpg")},baseMapLayers:[{id:"terrain-base-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Terrain Base",showLegend:!1,visibility:!0,opacity:1},{id:"terrain-reference-layer",url:"//services.arcgisonline.com/ArcGIS/rest/services/Reference/World_Reference_Overlay/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Reference Overlay",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},oceans:{id:"oceans",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/oceans.jpg")},baseMapLayers:[{id:"oceans-base-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Base",showLegend:!1,visibility:!0,opacity:1},{id:"oceans-reference-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Ocean/World_Ocean_Reference/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Ocean Reference",isReference:!0,showLegend:!1,visibility:!0,opacity:1}]},osm:{id:"osm",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/osm.jpg")},baseMapLayers:[{id:"osm-base-layer",layerType:"OpenStreetMap",title:"Open Street Map",showLegend:!1,visibility:!0,opacity:1}]},"dark-gray-vector":{id:"dark-gray-vector",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/dark-gray-vector.jpg")},baseMapLayers:[{id:"dark-gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/5e9b3685f4c24d8781073dd928ebda50/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Base",visibility:!0,opacity:1},{id:"dark-gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/747cb7a5329c478cbe6981076cc879c5/resources/styles/root.json",layerType:"VectorTileLayer",title:"Dark Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get"dark-gray"(){return{...this["dark-gray-vector"],id:"dark-gray"}},"gray-vector":{id:"gray-vector",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/gray-vector.jpg")},baseMapLayers:[{id:"gray-base-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/291da5eab3a0412593b66d384379f89f/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Base",visibility:!0,opacity:1},{id:"gray-reference-layer",styleUrl:"https://cdn.arcgis.com/sharing/rest/content/items/1768e8369a214dfab4e2167d5c5f2454/resources/styles/root.json",layerType:"VectorTileLayer",title:"Light Gray Reference",isReference:!0,visibility:!0,opacity:1}]},get gray(){return{...this["gray-vector"],id:"gray"}},"streets-vector":{id:"streets-vector",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/streets-vector.jpg")},baseMapLayers:[{id:"streets-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/de26a3cf4cc9451298ea173c4b324736/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets",visibility:!0,opacity:1}]},get streets(){return{...this["streets-vector"],id:"streets"}},"topo-vector":{id:"topo-vector",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/topo-vector.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"topo-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/7dc6cea0b1764a1f9af2e679f642f0f5/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Topo",visibility:!0,opacity:1}]},get topo(){return{...this["topo-vector"],id:"topo"}},"streets-night-vector":{id:"streets-night-vector",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/streets-night.jpg")},baseMapLayers:[{id:"streets-night-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/86f556a2d1fd468181855a35e344567f/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Night",visibility:!0,opacity:1}]},"streets-relief-vector":{id:"streets-relief-vector",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/streets-relief.jpg")},baseMapLayers:[{id:"world-hillshade-layer",url:"//services.arcgisonline.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer",layerType:"ArcGISTiledMapServiceLayer",title:"World Hillshade",showLegend:!1,visibility:!0,opacity:1},{id:"streets-relief-vector-base-layer",styleUrl:"//www.arcgis.com/sharing/rest/content/items/b266e6d17fc345b498345613930fbd76/resources/styles/root.json",title:"World Streets Relief",layerType:"VectorTileLayer",visibility:!0,opacity:1}]},"streets-navigation-vector":{id:"streets-navigation-vector",classic:!0,get thumbnailUrl(){return ne("esri/images/basemap/streets-navigation.jpg")},baseMapLayers:[{id:"streets-navigation-vector-base-layer",styleUrl:"//cdn.arcgis.com/sharing/rest/content/items/63c47b7177f946b49902c24129b87252/resources/styles/root.json",layerType:"VectorTileLayer",title:"World Streets Navigation",visibility:!0,opacity:1}]},"topo-3d":{id:"topo-3d",is3d:!0,get thumbnailUrl(){return ne("esri/images/basemap/topo-3d.png")},baseMapLayers:[{id:"topo-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/1e7d1784d1ef4b79ba6764d0bd6c3150/resources/styles/root.json",layerType:"VectorTileLayer",title:"Topographic",visibility:!0,opacity:1},{id:"topo-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"topo-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-3d":{id:"navigation-3d",is3d:!0,get thumbnailUrl(){return ne("esri/images/basemap/navigation-3d.jpg")},baseMapLayers:[{id:"navigation-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/ccc904ff872b4144b94934e55e32784b/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation",visibility:!0,opacity:1},{id:"navigation-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-3d":{id:"streets-3d",is3d:!0,get thumbnailUrl(){return ne("esri/images/basemap/streets-3d.png")},baseMapLayers:[{id:"streets-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/198298c4c64c4cb19de5b46aa00c198d/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"streets-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"streets-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"osm-3d":{id:"osm-3d",is3d:!0,get thumbnailUrl(){return ne("esri/images/basemap/osm-3d.png")},baseMapLayers:[{id:"osm-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/8628d259c9d14bdc848771c23c513940/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap",visibility:!0,opacity:1},{id:"osm-3d-trees",title:"Trees",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Trees_Thematic_v1/SceneServer",itemId:"f75fef56b2d944fe92ef9f7737b4f953",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"osm-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"gray-3d":{id:"gray-3d",is3d:!0,get thumbnailUrl(){return ne("esri/images/basemap/gray-3d.png")},baseMapLayers:[{id:"gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/01a14b466345455ba4176d2e6390db92/resources/styles/root.json",layerType:"VectorTileLayer",title:"Streets",visibility:!0,opacity:1},{id:"gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_DarkLabels_v1/SceneServer",itemId:"a84404ad39c64c328d0596e361ec459b",layerType:"ArcGISSceneServiceLayer"},{id:"gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"navigation-dark-3d":{id:"navigation-dark-3d",itemId:"5a1365328b4943f09a54cf5fd1205707",is3d:!0,baseMapLayers:[{id:"navigation-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/451a1777ab3f4bf095fae24a117439d9/resources/styles/root.json",layerType:"VectorTileLayer",title:"Navigation Dark"},{id:"navigation-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"navigation-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"streets-dark-3d":{id:"streets-dark-3d",itemId:"8a4efa2c20484ec9b4557895e65736ff",is3d:!0,baseMapLayers:[{id:"streets-dark-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/bc599b6d741a4ac084b7eea7bf8c5938/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Streets Night (for 3D)"},{id:"streets-dark-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"streets-dark-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"dark-gray-3d":{id:"dark-gray-3d",itemId:"a8b7322a5fe94002bb0f5e0eeb0c5c18",is3d:!0,baseMapLayers:[{id:"dark-gray-3d-base-layer",styleUrl:"https://www.arcgis.com/sharing/rest/content/items/4178f71acb934fb89f169e7d667c20c6/resources/styles/root.json",layerType:"VectorTileLayer",title:"OpenStreetMap Dark Gray Canvas (for 3D)"},{id:"dark-gray-3d-places-and-labels",title:"Places and Labels",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_LightLabels_v1/SceneServer/layers/0",itemId:"f364b70b012a4da5a4b5921e193eac4a",layerType:"ArcGISSceneServiceLayer"},{id:"dark-gray-3d-buildings",title:"Buildings",url:"https://basemaps3d.arcgis.com/arcgis/rest/services/OpenStreetMap3D_Buildings_v1/SceneServer",itemId:"ca0470dbbddb4db28bad74ed39949e25",layerType:"ArcGISSceneServiceLayer"}]},"arcgis-imagery":{get thumbnailUrl(){return ne("esri/images/basemap/hybrid.jpg")},title:"Imagery Hybrid",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-imagery-standard":{get thumbnailUrl(){return ne("esri/images/basemap/satellite.jpg")},title:"Imagery",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Imagery",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/World_Imagery/MapServer"}]},"arcgis-imagery-labels":{title:"Hybrid [Reference]",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Imagery:Labels",title:"Hybrid Reference Layer",isReference:!0}]},"arcgis-light-gray":{get thumbnailUrl(){return ne("esri/images/basemap/gray-vector.jpg")},title:"Light Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Base",title:"Light Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:LightGray:Labels",title:"Light Gray Canvas Labels",isReference:!0}]},"arcgis-dark-gray":{get thumbnailUrl(){return ne("esri/images/basemap/dark-gray.jpg")},title:"Dark Gray Canvas",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Base",title:"Dark Gray Canvas Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:DarkGray:Labels",title:"Dark Gray Canvas Labels",isReference:!0}]},"arcgis-navigation":{get thumbnailUrl(){return ne("esri/images/basemap/streets-navigation.jpg")},title:"Navigation",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Navigation",title:"World Navigation Map"}]},"arcgis-navigation-night":{title:"Navigation (Dark Mode)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:NavigationNight",title:"World Navigation Map (Dark Mode)"}]},"arcgis-streets":{get thumbnailUrl(){return ne("esri/images/basemap/streets-vector.jpg")},title:"Streets",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Streets",title:"World Street Map"}]},"arcgis-streets-night":{get thumbnailUrl(){return ne("esri/images/basemap/streets-night.jpg")},title:"Streets (Night)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsNight",title:"World Street Map (Night)"}]},"arcgis-streets-relief":{get thumbnailUrl(){return ne("esri/images/basemap/streets-relief.jpg")},title:"Streets (with Relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:StreetsRelief:Base",title:"World Street Map (with Relief)"}]},"arcgis-topographic":{get thumbnailUrl(){return ne("esri/images/basemap/topo.jpg")},title:"Topographic",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Topographic:Base",title:"World Topographic Map"}]},"arcgis-oceans":{get thumbnailUrl(){return ne("esri/images/basemap/oceans.jpg")},title:"Oceans",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Ocean Base",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Ocean/World_Ocean_Base/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Oceans:Labels",title:"World Ocean Reference",isReference:!0}]},"osm-standard":{title:"OpenStreetMap",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Standard",title:"OpenStreetMap"}]},"osm-standard-relief":{title:"OpenStreetMap (with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StandardRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-streets":{title:"OpenStreetMap (Streets)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:Streets",title:"OpenStreetMap (Streets)"}]},"osm-streets-relief":{title:"OpenStreetMap (Streets with relief)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:StreetsRelief:Base",layerType:"VectorTileLayer",title:"OpenStreetMap Relief Base"}]},"osm-light-gray":{title:"OpenStreetMap (Light Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Base",title:"OSM (Light Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:LightGray:Labels",title:"OSM (Light Gray Reference)",isReference:!0}]},"osm-dark-gray":{title:"OpenStreetMap (Dark Gray Canvas)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Base",title:"OSM (Dark Gray Base)"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/OSM:DarkGray:Labels",title:"OSM (Dark Gray Reference)",isReference:!0}]},"arcgis-terrain":{title:"Terrain with Labels",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Base",title:"World Terrain Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Terrain:Detail",title:"World Terrain Reference",isReference:!0}]},"arcgis-community":{title:"Community",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Community",title:"Community"}]},"arcgis-charted-territory":{title:"Charted Territory",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ChartedTerritory:Base",title:"Charted Territory"}]},"arcgis-colored-pencil":{title:"Colored Pencil",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ColoredPencil",title:"Colored Pencil"}]},"arcgis-nova":{title:"Nova",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Nova",title:"Nova"}]},"arcgis-modern-antique":{title:"Modern Antique",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:ModernAntique:Base",title:"Modern Antique"}]},"arcgis-midcentury":{title:"Mid-Century",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Midcentury",title:"Mid-Century"}]},"arcgis-newspaper":{title:"Newspaper",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:Newspaper",title:"Newspaper"}]},"arcgis-hillshade-light":{title:"Hillshade",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade/MapServer"}]},"arcgis-hillshade-dark":{title:"Hillshade (Dark)",baseMapLayers:[{layerType:"ArcGISTiledMapServiceLayer",showLegend:!1,title:"World Hillshade (Dark)",url:"https://ibasemaps-api.arcgis.com/arcgis/rest/services/Elevation/World_Hillshade_Dark/MapServer"}]},"arcgis-human-geography":{title:"Human Geography",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Base",title:"Human Geography Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Detail",title:"Human Geography Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeography:Label",title:"Human Geography Label",isReference:!0}]},"arcgis-human-geography-dark":{title:"Human Geography (Dark)",baseMapLayers:[{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Base",title:"Human Geography Dark Base"},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Detail",title:"Human Geography Dark Detail",isReference:!0},{layerType:"VectorTileLayer",styleUrl:"https://basemaps-api.arcgis.com/arcgis/rest/services/styles/ArcGIS:HumanGeographyDark:Label",title:"Human Geography Dark Label",isReference:!0}]}},sV=new Set(["ar","bs","ca","hr","cs","da","nl","en","et","fi","fr","de","el","he","hu","id","it","ja","ko","lv","lt","nb","pl","ro","ru","sr","es","sv","th","tr","uk","vi"]);let pn=class extends me{constructor(e){super(e),this.apiKey=null,this.id=null,this.language=null,this.places=null,this.serviceUrl="https://basemapstyles-api.arcgis.com/arcgis/rest/services/styles/v2/webmaps",this.worldview=null}getLanguageParamValue(){if(this.language)return this.language;const e=hr().toLowerCase();switch(e){case"pt-br":return"pt-BR";case"pt-pt":return"pt-PT";case"zh-cn":return"zh-CN";case"zh-hk":return"zh-HK";case"zh-tw":return"zh-TW"}const i=nO(e);return i==="pt"?"pt-BR":i&&sV.has(i)?i:"global"}};C([E()],pn.prototype,"apiKey",void 0),C([E()],pn.prototype,"id",void 0),C([E()],pn.prototype,"language",void 0),C([E()],pn.prototype,"places",void 0),C([E()],pn.prototype,"serviceUrl",void 0),C([E()],pn.prototype,"worldview",void 0),pn=C([Y("esri.support.BasemapStyle")],pn);const oV=pn,aV=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile","wms","wmts"]),lV=new Set(["catalog","csv","feature","geo-rss","geojson","group","imagery","imagery-tile","kml","knowledge-graph","map-image","map-notes","media","ogc-feature","oriented-imagery","route","stream","subtype-group","tile","unknown","unsupported","vector-tile","web-tile","wfs","wms","wmts"]);function hV(t){return t.layerContainerType==="basemap"?aV:t.layerContainerType==="operational-layers"?lV:null}function cV(t,e){if(e.restrictedWebMapWriting){const i=hV(e);return i==null||i.has(t.type)&&!Qf(t)}return!0}function uV(t,e){var i;if(e)if(Qf(t)){const o=lu("featureCollection.layers",e),h=(i=o==null?void 0:o[0])==null?void 0:i.layerDefinition;h&&Z_(t,h)}else t.type!=="group"&&Z_(t,e)}function Z_(t,e){"maxScale"in t&&(e.maxScale=j0(t.maxScale)??void 0),"minScale"in t&&(e.minScale=j0(t.minScale)??void 0)}function dV(t,e){if(uV(t,e),e&&(e.id=t.id,"blendMode"in t&&(e.blendMode=t.blendMode,e.blendMode==="normal"&&delete e.blendMode),e.opacity=j0(t.opacity)??void 0,e.title=t.title||"Layer",e.visibility=t.visible,"legendEnabled"in t&&t.type!=="wmts"))if(Qf(t)){const i=e.featureCollection;i&&(i.showLegend=t.legendEnabled)}else e.showLegend=t.legendEnabled}function Y_(t,e,i){if(!t.persistenceEnabled)return null;if(!("write"in t)||!t.write)return i!=null&&i.messages&&i.messages.push(new kt("layer:unsupported",`Layers (${t.title}, ${t.id}) of type '${t.declaredClass}' cannot be persisted`,{layer:t})),null;if(Qf(t)&&!t.isTable)e=t.resourceInfo;else if(cV(t,i)){const o={};return t.write(o,i)?o:null}return e!=null&&dV(t,e=at(e)),e}var Th;let fV=0,zi=Th=class extends Bf(cp){constructor(t){super(t),this.id=null,this.portalItem=null,this.spatialReference=null,this.style=null,this.thumbnailUrl=null,this.title="Basemap",this.id=Date.now().toString(16)+"-basemap-"+fV++,this.baseLayers=new Tt,this.referenceLayers=new Tt;const e=o=>{o.parent&&o.parent!==this&&"remove"in o.parent&&o.parent.remove(o),o.parent=this,o.type==="elevation"&&Rt.getLogger(this).error(`Layer '${o.title}, id:${o.id}' of type '${o.type}' is not supported as a basemap layer and will therefore be ignored.`)},i=o=>{o.parent=null};this.addHandles([this.baseLayers.on("after-add",o=>e(o.item)),this.referenceLayers.on("after-add",o=>e(o.item)),this.baseLayers.on("after-remove",o=>i(o.item)),this.referenceLayers.on("after-remove",o=>i(o.item))])}initialize(){this.when().catch(t=>{Rt.getLogger(this).error("#load()",`Failed to load basemap (title: '${this.title}', id: '${this.id}')`,t)}),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const t=this.baseLayers.toArray();for(const i of t)i.destroy();const e=this.referenceLayers.toArray();for(const i of e)i.destroy();this.baseLayers.destroy(),this.referenceLayers.destroy(),this.portalItem=ko(this.portalItem)}normalizeCtorArgs(t){return t&&"resourceInfo"in t&&(this._set("resourceInfo",t.resourceInfo),delete(t={...t}).resourceInfo),t}set baseLayers(t){this._set("baseLayers",Po(t,this._get("baseLayers")))}_writeBaseLayers(t,e,i){const o=[];t&&(i={...i,layerContainerType:"basemap"},this.baseLayers.forEach(h=>{const p=Y_(h,i.webmap?i.webmap.getLayerJSONFromResourceInfo(h):null,i);p!=null&&o.push(p)}),this.referenceLayers.forEach(h=>{const p=Y_(h,i.webmap?i.webmap.getLayerJSONFromResourceInfo(h):null,i);p!=null&&(h.type!=="scene"&&(p.isReference=!0),o.push(p))})),e.baseMapLayers=o}set referenceLayers(t){this._set("referenceLayers",Po(t,this._get("referenceLayers")))}writeTitle(t,e){e.title=t||"Basemap"}load(t){return this.addResolvingPromise(this._loadFromSource(t)),Promise.resolve(this)}loadAll(){return VB(this,t=>{t(this.baseLayers,this.referenceLayers)})}clone(){const t={id:this.id,title:this.title,portalItem:this.portalItem,baseLayers:this.baseLayers.map(e=>S0(e)?e.clone():e),referenceLayers:this.referenceLayers.map(e=>S0(e)?e.clone():e)};return this.loaded&&(t.loadStatus="loaded"),new Th({resourceInfo:this.resourceInfo}).set(t)}read(t,e){this.resourceInfo||this._set("resourceInfo",{data:t,context:e}),super.read(t,e)}write(t,e){var i;return t=t||{},e!=null&&e.origin||(e={origin:"web-map",...e}),super.write(t,e),!this.loaded&&((i=this.resourceInfo)!=null&&i.data.baseMapLayers)&&(t.baseMapLayers=this.resourceInfo.data.baseMapLayers.map(o=>{const h=at(o);return h.url&&on(h.url)&&(h.url=`https:${h.url}`),h.templateUrl&&on(h.templateUrl)&&(h.templateUrl=`https:${h.templateUrl}`),h})),t}async _loadFromSource(t){const{resourceInfo:e,portalItem:i,style:o}=this;jo(t);const h=[];if(e){const p=e.context?e.context.url:null;if(h.push(this._loadLayersFromJSON(e.data,p,t)),e.data.id&&!e.data.title){const m=e.data.id;h.push(rV(m).then(v=>{v&&this.read({title:v},e.context)}))}}else i?h.push(this._loadFromItem(i,t)):o&&h.push(this._loadFromStylesService(o,t));await Promise.all(h)}async _loadLayersFromJSON(t,e,i){var w,A;const o=(w=this.resourceInfo)==null?void 0:w.context,h=((A=this.portalItem)==null?void 0:A.portal)||(o==null?void 0:o.portal)||null,p=mV[(o==null?void 0:o.origin)||""]??"web-map",{populateOperationalLayers:m}=await vt(async()=>{const{populateOperationalLayers:$}=await import("./layersCreator-CNJ7O2pS.js");return{populateOperationalLayers:$}},__vite__mapDeps([211,212,213,25,214,58,10,11,122])),v=[];if(jo(i),t.baseMapLayers&&Array.isArray(t.baseMapLayers)){const $={context:{...o,origin:p,url:e,portal:h,layerContainerType:"basemap"},defaultLayerType:"DefaultTileLayer"},M=B=>p==="web-scene"&&B.layerType==="ArcGISSceneServiceLayer"||B.isReference,P=m(this.baseLayers,t.baseMapLayers.filter(B=>!M(B)),$);v.push(P);const R=m(this.referenceLayers,t.baseMapLayers.filter(M),$);v.push(R)}await Promise.allSettled(v)}async _loadFromItem(t,e){const i=await t.load(e),o=await i.fetchData("json",e),h=Ln(t.itemUrl??"");return this._set("resourceInfo",{data:o.baseMap??{},context:{origin:pV[t.type||""]??"web-map",portal:t.portal||Fs.getDefault(),url:h}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:o.spatialReference},this.resourceInfo.context),this.read({title:t.title,thumbnailUrl:t.thumbnailUrl},{origin:"portal-item",portal:t.portal||Fs.getDefault(),url:h}),this._loadLayersFromJSON(this.resourceInfo.data,h,e)}async _loadFromStylesService(t,e){const i=`${t.serviceUrl}/${t.id}`,o=(await ki(i,{query:{language:t.getLanguageParamValue(),places:t.places,worldview:t.worldview,token:t.apiKey},signal:e==null?void 0:e.signal})).data,h=Ln(i);if(this._set("resourceInfo",{data:o.baseMap??{},context:{origin:"web-map",url:h}}),this.read(this.resourceInfo.data,this.resourceInfo.context),this.read({spatialReference:o.spatialReference},this.resourceInfo.context),await this._loadLayersFromJSON(this.resourceInfo.data,h,e),t.apiKey)for(const p of[...this.baseLayers,...this.referenceLayers])"apiKey"in p&&(p.apiKey=t.apiKey)}static fromId(t){const e=nV[t];return e?e.itemId?new Th({portalItem:{id:e.itemId,portal:{url:"https://www.arcgis.com"}}}):Th.fromJSON(e,{origin:e.is3d?"web-scene":"web-map"}):null}};C([E({json:{write:{ignoreOrigin:!0,target:"baseMapLayers",writer(t,e,i,o){this._writeBaseLayers(t,e,o)}},origins:{"web-scene":{write:{ignoreOrigin:!0,target:{baseMapLayers:{type:Tt}},writer(t,e,i,o){this._writeBaseLayers(t,e,o)}}}}}})],zi.prototype,"baseLayers",null),C([E({type:String,json:{origins:{"web-scene":{write:!0}}}})],zi.prototype,"id",void 0),C([E({type:tC})],zi.prototype,"portalItem",void 0),C([E()],zi.prototype,"referenceLayers",null),C([E({readOnly:!0})],zi.prototype,"resourceInfo",void 0),C([E({type:Pe})],zi.prototype,"spatialReference",void 0),C([E({type:oV})],zi.prototype,"style",void 0),C([E()],zi.prototype,"thumbnailUrl",void 0),C([E({type:String,json:{origins:{"web-scene":{write:{isRequired:!0}}}}})],zi.prototype,"title",void 0),C([Ft("title")],zi.prototype,"writeTitle",null),zi=Th=C([Y("esri.Basemap")],zi);const pV={"Web Scene":"web-scene","Web Map":"web-map","Link Chart":"link-chart"},mV={"web-scene":"web-scene","web-map":"web-map","link-chart":"link-chart"},gV=zi,yV=Object.freeze(Object.defineProperty({__proto__:null,default:gV},Symbol.toStringTag,{value:"Module"})),lf={transparent:[0,0,0,0],black:[0,0,0,1],silver:[192,192,192,1],gray:[128,128,128,1],white:[255,255,255,1],maroon:[128,0,0,1],red:[255,0,0,1],purple:[128,0,128,1],fuchsia:[255,0,255,1],green:[0,128,0,1],lime:[0,255,0,1],olive:[128,128,0,1],yellow:[255,255,0,1],navy:[0,0,128,1],blue:[0,0,255,1],teal:[0,128,128,1],aqua:[0,255,255,1],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],blanchedalmond:[255,235,205,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],oldlace:[253,245,230,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],rebeccapurple:[102,51,153,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],whitesmoke:[245,245,245,1],yellowgreen:[154,205,50,1]};function bV(t){return!!lf[t]||!!lf[t.toLowerCase()]}function iC(t){return lf[t]??lf[t.toLowerCase()]}function zrt(t){return[...iC(t)]}function w1(t,e,i){i<0&&++i,i>1&&--i;const o=6*i;return o<1?t+(e-t)*o:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function vV(t,e,i,o=1){const h=(t%360+360)%360/360,p=i<=.5?i*(e+1):i+e-i*e,m=2*i-p;return[Math.round(255*w1(m,p,h+1/3)),Math.round(255*w1(m,p,h)),Math.round(255*w1(m,p,h-1/3)),o]}function jrt(t){const e=t.length>5,i=e?8:4,o=(1<<i)-1,h=e?1:17,p=e?t.length===9:t.length===5;let m=+("0x"+t.slice(1));if(isNaN(m))return null;const v=[0,0,0,1];let w;return p&&(w=m&o,m>>=i,v[3]=h*w/255),w=m&o,m>>=i,v[2]=h*w,w=m&o,m>>=i,v[1]=h*w,w=m&o,m>>=i,v[0]=h*w,v}const wV=/^-?(\d+(\.\d+)?)\s*((px)|(pt))?$/i,_V="screenUtils.toPt: input not recognized!",rC=96;function Frt(t){return t?t/72*rC:0}function ta(t){return t?72*t/rC:0}function Ie(t){if(typeof t=="string"){const e=t.match(wV);if(e){const i=Number(e[1]),o=e[3]&&e[3].toLowerCase(),h=t.charAt(0)==="-",p=o==="px"?ta(i):i;return h?-p:p}return console.warn(_V),null}return t}function xV(t=0,e=0){return{x:t,y:e}}function Urt(t){return t?xV(t.x,t.y):null}function Brt(t=0,e=0){return[t,e]}function Vrt(t=0,e=0,i=0){return[t,e,i]}function Grt(t){return t}function qrt(t){return t}function Hrt(t){return t}function Wrt(t,e){return e?(e[0]=t.x,e[1]=t.y,e.length>2&&(e[2]=0),e):[t.x,t.y]}function nC(){const t=new Float32Array(16);return t[0]=1,t[5]=1,t[10]=1,t[15]=1,t}function SV(t){const e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function CV(t,e,i,o,h,p,m,v,w,A,$,M,P,R,B,G){const H=new Float32Array(16);return H[0]=t,H[1]=e,H[2]=i,H[3]=o,H[4]=h,H[5]=p,H[6]=m,H[7]=v,H[8]=w,H[9]=A,H[10]=$,H[11]=M,H[12]=P,H[13]=R,H[14]=B,H[15]=G,H}function AV(t,e){return new Float32Array(t,e,16)}const TV=nC();Object.freeze(Object.defineProperty({__proto__:null,IDENTITY:TV,clone:SV,create:nC,createView:AV,fromValues:CV},Symbol.toStringTag,{value:"Module"}));function fp(){return[0,0,0]}function Qv(t){return[t[0],t[1],t[2]]}function Hl(t,e,i){return[t,e,i]}function EV(t,e,i){return[t,e,i]}function $V(t,e=fp()){const i=Math.min(3,t.length);for(let o=0;o<i;++o)e[o]=t[o];return e}function IV(t,e){return new Float64Array(t,e,3)}function sC(){return fp()}function oC(){return Hl(1,1,1)}function aC(){return Hl(1,0,0)}function lC(){return Hl(0,1,0)}function hC(){return Hl(0,0,1)}const kV=sC(),MV=oC(),OV=aC(),PV=lC(),NV=hC();Object.freeze(Object.defineProperty({__proto__:null,ONES:MV,UNIT_X:OV,UNIT_Y:PV,UNIT_Z:NV,ZEROS:kV,clone:Qv,create:fp,createView:IV,freeze:EV,fromArray:$V,fromValues:Hl,ones:oC,unitX:aC,unitY:lC,unitZ:hC,zeros:sC},Symbol.toStringTag,{value:"Module"}));let t2=1e-6;function Wl(){return t2}function RV(t){t2=t}const LV=Math.random,DV=Math.PI/180,zV=180/Math.PI;function jV(t){return t*DV}function FV(t){return t*zV}function UV(t,e){return Math.abs(t-e)<=t2*Math.max(1,Math.abs(t),Math.abs(e))}Object.freeze(Object.defineProperty({__proto__:null,RANDOM:LV,equals:UV,getEpsilon:Wl,setEpsilon:RV,toDegree:FV,toRadian:jV},Symbol.toStringTag,{value:"Module"}));function cC(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function BV(t,e,i,o,h,p,m,v,w,A,$,M,P,R,B,G,H){return t[0]=e,t[1]=i,t[2]=o,t[3]=h,t[4]=p,t[5]=m,t[6]=v,t[7]=w,t[8]=A,t[9]=$,t[10]=M,t[11]=P,t[12]=R,t[13]=B,t[14]=G,t[15]=H,t}function pp(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function VV(t,e){if(t===e){const i=e[1],o=e[2],h=e[3],p=e[6],m=e[7],v=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=i,t[6]=e[9],t[7]=e[13],t[8]=o,t[9]=p,t[11]=e[14],t[12]=h,t[13]=m,t[14]=v}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}function GV(t,e){return uC(t,e)||pp(t),t}function uC(t,e){const i=e[0],o=e[1],h=e[2],p=e[3],m=e[4],v=e[5],w=e[6],A=e[7],$=e[8],M=e[9],P=e[10],R=e[11],B=e[12],G=e[13],H=e[14],Z=e[15],X=i*v-o*m,Q=i*w-h*m,rt=i*A-p*m,et=o*w-h*v,nt=o*A-p*v,bt=h*A-p*w,gt=$*G-M*B,At=$*H-P*B,wt=$*Z-R*B,$t=M*H-P*G,Ht=M*Z-R*G,Ce=P*Z-R*H;let Vt=X*Ce-Q*Ht+rt*$t+et*wt-nt*At+bt*gt;return Vt?(Vt=1/Vt,t[0]=(v*Ce-w*Ht+A*$t)*Vt,t[1]=(h*Ht-o*Ce-p*$t)*Vt,t[2]=(G*bt-H*nt+Z*et)*Vt,t[3]=(P*nt-M*bt-R*et)*Vt,t[4]=(w*wt-m*Ce-A*At)*Vt,t[5]=(i*Ce-h*wt+p*At)*Vt,t[6]=(H*rt-B*bt-Z*Q)*Vt,t[7]=($*bt-P*rt+R*Q)*Vt,t[8]=(m*Ht-v*wt+A*gt)*Vt,t[9]=(o*wt-i*Ht-p*gt)*Vt,t[10]=(B*nt-G*rt+Z*X)*Vt,t[11]=(M*rt-$*nt-R*X)*Vt,t[12]=(v*At-m*$t-w*gt)*Vt,t[13]=(i*$t-o*At+h*gt)*Vt,t[14]=(G*Q-B*et-H*X)*Vt,t[15]=($*et-M*Q+P*X)*Vt,t):null}function qV(t,e){const i=e[0],o=e[1],h=e[2],p=e[3],m=e[4],v=e[5],w=e[6],A=e[7],$=e[8],M=e[9],P=e[10],R=e[11],B=e[12],G=e[13],H=e[14],Z=e[15];return t[0]=v*(P*Z-R*H)-M*(w*Z-A*H)+G*(w*R-A*P),t[1]=-(o*(P*Z-R*H)-M*(h*Z-p*H)+G*(h*R-p*P)),t[2]=o*(w*Z-A*H)-v*(h*Z-p*H)+G*(h*A-p*w),t[3]=-(o*(w*R-A*P)-v*(h*R-p*P)+M*(h*A-p*w)),t[4]=-(m*(P*Z-R*H)-$*(w*Z-A*H)+B*(w*R-A*P)),t[5]=i*(P*Z-R*H)-$*(h*Z-p*H)+B*(h*R-p*P),t[6]=-(i*(w*Z-A*H)-m*(h*Z-p*H)+B*(h*A-p*w)),t[7]=i*(w*R-A*P)-m*(h*R-p*P)+$*(h*A-p*w),t[8]=m*(M*Z-R*G)-$*(v*Z-A*G)+B*(v*R-A*M),t[9]=-(i*(M*Z-R*G)-$*(o*Z-p*G)+B*(o*R-p*M)),t[10]=i*(v*Z-A*G)-m*(o*Z-p*G)+B*(o*A-p*v),t[11]=-(i*(v*R-A*M)-m*(o*R-p*M)+$*(o*A-p*v)),t[12]=-(m*(M*H-P*G)-$*(v*H-w*G)+B*(v*P-w*M)),t[13]=i*(M*H-P*G)-$*(o*H-h*G)+B*(o*P-h*M),t[14]=-(i*(v*H-w*G)-m*(o*H-h*G)+B*(o*w-h*v)),t[15]=i*(v*P-w*M)-m*(o*P-h*M)+$*(o*w-h*v),t}function HV(t){const e=t[0],i=t[1],o=t[2],h=t[3],p=t[4],m=t[5],v=t[6],w=t[7],A=t[8],$=t[9],M=t[10],P=t[11],R=t[12],B=t[13],G=t[14],H=t[15];return(e*m-i*p)*(M*H-P*G)-(e*v-o*p)*($*H-P*B)+(e*w-h*p)*($*G-M*B)+(i*v-o*m)*(A*H-P*R)-(i*w-h*m)*(A*G-M*R)+(o*w-h*v)*(A*B-$*R)}function dC(t,e,i){const o=e[0],h=e[1],p=e[2],m=e[3],v=e[4],w=e[5],A=e[6],$=e[7],M=e[8],P=e[9],R=e[10],B=e[11],G=e[12],H=e[13],Z=e[14],X=e[15];let Q=i[0],rt=i[1],et=i[2],nt=i[3];return t[0]=Q*o+rt*v+et*M+nt*G,t[1]=Q*h+rt*w+et*P+nt*H,t[2]=Q*p+rt*A+et*R+nt*Z,t[3]=Q*m+rt*$+et*B+nt*X,Q=i[4],rt=i[5],et=i[6],nt=i[7],t[4]=Q*o+rt*v+et*M+nt*G,t[5]=Q*h+rt*w+et*P+nt*H,t[6]=Q*p+rt*A+et*R+nt*Z,t[7]=Q*m+rt*$+et*B+nt*X,Q=i[8],rt=i[9],et=i[10],nt=i[11],t[8]=Q*o+rt*v+et*M+nt*G,t[9]=Q*h+rt*w+et*P+nt*H,t[10]=Q*p+rt*A+et*R+nt*Z,t[11]=Q*m+rt*$+et*B+nt*X,Q=i[12],rt=i[13],et=i[14],nt=i[15],t[12]=Q*o+rt*v+et*M+nt*G,t[13]=Q*h+rt*w+et*P+nt*H,t[14]=Q*p+rt*A+et*R+nt*Z,t[15]=Q*m+rt*$+et*B+nt*X,t}function WV(t,e,i){const o=i[0],h=i[1],p=i[2];if(e===t)t[12]=e[0]*o+e[4]*h+e[8]*p+e[12],t[13]=e[1]*o+e[5]*h+e[9]*p+e[13],t[14]=e[2]*o+e[6]*h+e[10]*p+e[14],t[15]=e[3]*o+e[7]*h+e[11]*p+e[15];else{const m=e[0],v=e[1],w=e[2],A=e[3],$=e[4],M=e[5],P=e[6],R=e[7],B=e[8],G=e[9],H=e[10],Z=e[11];t[0]=m,t[1]=v,t[2]=w,t[3]=A,t[4]=$,t[5]=M,t[6]=P,t[7]=R,t[8]=B,t[9]=G,t[10]=H,t[11]=Z,t[12]=m*o+$*h+B*p+e[12],t[13]=v*o+M*h+G*p+e[13],t[14]=w*o+P*h+H*p+e[14],t[15]=A*o+R*h+Z*p+e[15]}return t}function JV(t,e,i){const o=i[0],h=i[1],p=i[2];return t[0]=e[0]*o,t[1]=e[1]*o,t[2]=e[2]*o,t[3]=e[3]*o,t[4]=e[4]*h,t[5]=e[5]*h,t[6]=e[6]*h,t[7]=e[7]*h,t[8]=e[8]*p,t[9]=e[9]*p,t[10]=e[10]*p,t[11]=e[11]*p,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function ZV(t,e,i,o){let h=o[0],p=o[1],m=o[2],v=Math.sqrt(h*h+p*p+m*m);if(v<=Wl())return void cC(t,e);v=1/v,h*=v,p*=v,m*=v;const w=Math.sin(i),A=Math.cos(i),$=1-A,M=e[0],P=e[1],R=e[2],B=e[3],G=e[4],H=e[5],Z=e[6],X=e[7],Q=e[8],rt=e[9],et=e[10],nt=e[11],bt=h*h*$+A,gt=p*h*$+m*w,At=m*h*$-p*w,wt=h*p*$-m*w,$t=p*p*$+A,Ht=m*p*$+h*w,Ce=h*m*$+p*w,Vt=p*m*$-h*w,Xe=m*m*$+A;t[0]=M*bt+G*gt+Q*At,t[1]=P*bt+H*gt+rt*At,t[2]=R*bt+Z*gt+et*At,t[3]=B*bt+X*gt+nt*At,t[4]=M*wt+G*$t+Q*Ht,t[5]=P*wt+H*$t+rt*Ht,t[6]=R*wt+Z*$t+et*Ht,t[7]=B*wt+X*$t+nt*Ht,t[8]=M*Ce+G*Vt+Q*Xe,t[9]=P*Ce+H*Vt+rt*Xe,t[10]=R*Ce+Z*Vt+et*Xe,t[11]=B*Ce+X*Vt+nt*Xe,e!==t&&(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15])}function YV(t,e,i){const o=Math.sin(i),h=Math.cos(i),p=e[4],m=e[5],v=e[6],w=e[7],A=e[8],$=e[9],M=e[10],P=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=p*h+A*o,t[5]=m*h+$*o,t[6]=v*h+M*o,t[7]=w*h+P*o,t[8]=A*h-p*o,t[9]=$*h-m*o,t[10]=M*h-v*o,t[11]=P*h-w*o,t}function KV(t,e,i){const o=Math.sin(i),h=Math.cos(i),p=e[0],m=e[1],v=e[2],w=e[3],A=e[8],$=e[9],M=e[10],P=e[11];return e!==t&&(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=p*h-A*o,t[1]=m*h-$*o,t[2]=v*h-M*o,t[3]=w*h-P*o,t[8]=p*o+A*h,t[9]=m*o+$*h,t[10]=v*o+M*h,t[11]=w*o+P*h,t}function XV(t,e,i){const o=Math.sin(i),h=Math.cos(i),p=e[0],m=e[1],v=e[2],w=e[3],A=e[4],$=e[5],M=e[6],P=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=p*h+A*o,t[1]=m*h+$*o,t[2]=v*h+M*o,t[3]=w*h+P*o,t[4]=A*h-p*o,t[5]=$*h-m*o,t[6]=M*h-v*o,t[7]=P*h-w*o,t}function QV(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}function tG(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function eG(t,e,i){if(e===0)return pp(t);let o=i[0],h=i[1],p=i[2],m=Math.sqrt(o*o+h*h+p*p);if(m<=Wl())return null;m=1/m,o*=m,h*=m,p*=m;const v=Math.sin(e),w=Math.cos(e),A=1-w;return t[0]=o*o*A+w,t[1]=h*o*A+p*v,t[2]=p*o*A-h*v,t[3]=0,t[4]=o*h*A-p*v,t[5]=h*h*A+w,t[6]=p*h*A+o*v,t[7]=0,t[8]=o*p*A+h*v,t[9]=h*p*A-o*v,t[10]=p*p*A+w,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function iG(t,e){const i=Math.sin(e),o=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=i,t[7]=0,t[8]=0,t[9]=-i,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function rG(t,e){const i=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=0,t[2]=-i,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=i,t[9]=0,t[10]=o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function nG(t,e){const i=Math.sin(e),o=Math.cos(e);return t[0]=o,t[1]=i,t[2]=0,t[3]=0,t[4]=-i,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fC(t,e,i){const o=e[0],h=e[1],p=e[2],m=e[3],v=o+o,w=h+h,A=p+p,$=o*v,M=o*w,P=o*A,R=h*w,B=h*A,G=p*A,H=m*v,Z=m*w,X=m*A;return t[0]=1-(R+G),t[1]=M+X,t[2]=P-Z,t[3]=0,t[4]=M-X,t[5]=1-($+G),t[6]=B+H,t[7]=0,t[8]=P+Z,t[9]=B-H,t[10]=1-($+R),t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function sG(t,e){const i=oG,o=-e[0],h=-e[1],p=-e[2],m=e[3],v=e[4],w=e[5],A=e[6],$=e[7],M=o*o+h*h+p*p+m*m;return M>0?(i[0]=2*(v*m+$*o+w*p-A*h)/M,i[1]=2*(w*m+$*h+A*o-v*p)/M,i[2]=2*(A*m+$*p+v*h-w*o)/M):(i[0]=2*(v*m+$*o+w*p-A*h),i[1]=2*(w*m+$*h+A*o-v*p),i[2]=2*(A*m+$*p+v*h-w*o)),fC(t,e,i),t}const oG=fp();function aG(t,e){return t[0]=e[12],t[1]=e[13],t[2]=e[14],t}function lG(t,e){const i=e[0],o=e[1],h=e[2],p=e[4],m=e[5],v=e[6],w=e[8],A=e[9],$=e[10];return t[0]=Math.sqrt(i*i+o*o+h*h),t[1]=Math.sqrt(p*p+m*m+v*v),t[2]=Math.sqrt(w*w+A*A+$*$),t}function hG(t,e){const i=e[0]+e[5]+e[10];let o=0;return i>0?(o=2*Math.sqrt(i+1),t[3]=.25*o,t[0]=(e[6]-e[9])/o,t[1]=(e[8]-e[2])/o,t[2]=(e[1]-e[4])/o):e[0]>e[5]&&e[0]>e[10]?(o=2*Math.sqrt(1+e[0]-e[5]-e[10]),t[3]=(e[6]-e[9])/o,t[0]=.25*o,t[1]=(e[1]+e[4])/o,t[2]=(e[8]+e[2])/o):e[5]>e[10]?(o=2*Math.sqrt(1+e[5]-e[0]-e[10]),t[3]=(e[8]-e[2])/o,t[0]=(e[1]+e[4])/o,t[1]=.25*o,t[2]=(e[6]+e[9])/o):(o=2*Math.sqrt(1+e[10]-e[0]-e[5]),t[3]=(e[1]-e[4])/o,t[0]=(e[8]+e[2])/o,t[1]=(e[6]+e[9])/o,t[2]=.25*o),t}function cG(t,e,i,o){const h=e[0],p=e[1],m=e[2],v=e[3],w=h+h,A=p+p,$=m+m,M=h*w,P=h*A,R=h*$,B=p*A,G=p*$,H=m*$,Z=v*w,X=v*A,Q=v*$,rt=o[0],et=o[1],nt=o[2];return t[0]=(1-(B+H))*rt,t[1]=(P+Q)*rt,t[2]=(R-X)*rt,t[3]=0,t[4]=(P-Q)*et,t[5]=(1-(M+H))*et,t[6]=(G+Z)*et,t[7]=0,t[8]=(R+X)*nt,t[9]=(G-Z)*nt,t[10]=(1-(M+B))*nt,t[11]=0,t[12]=i[0],t[13]=i[1],t[14]=i[2],t[15]=1,t}function uG(t,e,i,o,h){const p=e[0],m=e[1],v=e[2],w=e[3],A=p+p,$=m+m,M=v+v,P=p*A,R=p*$,B=p*M,G=m*$,H=m*M,Z=v*M,X=w*A,Q=w*$,rt=w*M,et=o[0],nt=o[1],bt=o[2],gt=h[0],At=h[1],wt=h[2],$t=(1-(G+Z))*et,Ht=(R+rt)*et,Ce=(B-Q)*et,Vt=(R-rt)*nt,Xe=(1-(P+Z))*nt,pr=(H+X)*nt,Ji=(B+Q)*bt,fe=(H-X)*bt,Bn=(1-(P+G))*bt;return t[0]=$t,t[1]=Ht,t[2]=Ce,t[3]=0,t[4]=Vt,t[5]=Xe,t[6]=pr,t[7]=0,t[8]=Ji,t[9]=fe,t[10]=Bn,t[11]=0,t[12]=i[0]+gt-($t*gt+Vt*At+Ji*wt),t[13]=i[1]+At-(Ht*gt+Xe*At+fe*wt),t[14]=i[2]+wt-(Ce*gt+pr*At+Bn*wt),t[15]=1,t}function dG(t,e){const i=e[0],o=e[1],h=e[2],p=e[3],m=i+i,v=o+o,w=h+h,A=i*m,$=o*m,M=o*v,P=h*m,R=h*v,B=h*w,G=p*m,H=p*v,Z=p*w;return t[0]=1-M-B,t[1]=$+Z,t[2]=P-H,t[3]=0,t[4]=$-Z,t[5]=1-A-B,t[6]=R+G,t[7]=0,t[8]=P+H,t[9]=R-G,t[10]=1-A-M,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function fG(t,e,i,o,h,p,m){const v=1/(i-e),w=1/(h-o),A=1/(p-m);return t[0]=2*p*v,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*p*w,t[6]=0,t[7]=0,t[8]=(i+e)*v,t[9]=(h+o)*w,t[10]=(m+p)*A,t[11]=-1,t[12]=0,t[13]=0,t[14]=m*p*2*A,t[15]=0,t}function pG(t,e,i,o,h){const p=1/Math.tan(e/2);let m;return t[0]=p/i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=p,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,h!=null&&h!==1/0?(m=1/(o-h),t[10]=(h+o)*m,t[14]=2*h*o*m):(t[10]=-1,t[14]=-2*o),t}function mG(t,e,i,o){const h=Math.tan(e.upDegrees*Math.PI/180),p=Math.tan(e.downDegrees*Math.PI/180),m=Math.tan(e.leftDegrees*Math.PI/180),v=Math.tan(e.rightDegrees*Math.PI/180),w=2/(m+v),A=2/(h+p);return t[0]=w,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=A,t[6]=0,t[7]=0,t[8]=-(m-v)*w*.5,t[9]=(h-p)*A*.5,t[10]=o/(i-o),t[11]=-1,t[12]=0,t[13]=0,t[14]=o*i/(i-o),t[15]=0,t}function gG(t,e,i,o,h,p,m){const v=1/(e-i),w=1/(o-h),A=1/(p-m);return t[0]=-2*v,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*w,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*A,t[11]=0,t[12]=(e+i)*v,t[13]=(h+o)*w,t[14]=(m+p)*A,t[15]=1,t}function yG(t,e,i,o){const h=e[0],p=e[1],m=e[2];let v=h-i[0],w=p-i[1],A=m-i[2];const $=Wl();if(Math.abs(v)<$&&Math.abs(w)<$&&Math.abs(A)<$)return void pp(t);let M=1/Math.sqrt(v*v+w*w+A*A);v*=M,w*=M,A*=M;const P=o[0],R=o[1],B=o[2];let G=R*A-B*w,H=B*v-P*A,Z=P*w-R*v;M=Math.sqrt(G*G+H*H+Z*Z),M?(M=1/M,G*=M,H*=M,Z*=M):(G=0,H=0,Z=0);let X=w*Z-A*H,Q=A*G-v*Z,rt=v*H-w*G;M=Math.sqrt(X*X+Q*Q+rt*rt),M?(M=1/M,X*=M,Q*=M,rt*=M):(X=0,Q=0,rt=0),t[0]=G,t[1]=X,t[2]=v,t[3]=0,t[4]=H,t[5]=Q,t[6]=w,t[7]=0,t[8]=Z,t[9]=rt,t[10]=A,t[11]=0,t[12]=-(G*h+H*p+Z*m),t[13]=-(X*h+Q*p+rt*m),t[14]=-(v*h+w*p+A*m),t[15]=1}function bG(t,e,i,o){const h=e[0],p=e[1],m=e[2],v=o[0],w=o[1],A=o[2];let $=h-i[0],M=p-i[1],P=m-i[2],R=$*$+M*M+P*P;R>0&&(R=1/Math.sqrt(R),$*=R,M*=R,P*=R);let B=w*P-A*M,G=A*$-v*P,H=v*M-w*$;return R=B*B+G*G+H*H,R>0&&(R=1/Math.sqrt(R),B*=R,G*=R,H*=R),t[0]=B,t[1]=G,t[2]=H,t[3]=0,t[4]=M*H-P*G,t[5]=P*B-$*H,t[6]=$*G-M*B,t[7]=0,t[8]=$,t[9]=M,t[10]=P,t[11]=0,t[12]=h,t[13]=p,t[14]=m,t[15]=1,t}function vG(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"}function wG(t){return Math.sqrt(t[0]**2+t[1]**2+t[2]**2+t[3]**2+t[4]**2+t[5]**2+t[6]**2+t[7]**2+t[8]**2+t[9]**2+t[10]**2+t[11]**2+t[12]**2+t[13]**2+t[14]**2+t[15]**2)}function _G(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t[2]=e[2]+i[2],t[3]=e[3]+i[3],t[4]=e[4]+i[4],t[5]=e[5]+i[5],t[6]=e[6]+i[6],t[7]=e[7]+i[7],t[8]=e[8]+i[8],t[9]=e[9]+i[9],t[10]=e[10]+i[10],t[11]=e[11]+i[11],t[12]=e[12]+i[12],t[13]=e[13]+i[13],t[14]=e[14]+i[14],t[15]=e[15]+i[15],t}function pC(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t[2]=e[2]-i[2],t[3]=e[3]-i[3],t[4]=e[4]-i[4],t[5]=e[5]-i[5],t[6]=e[6]-i[6],t[7]=e[7]-i[7],t[8]=e[8]-i[8],t[9]=e[9]-i[9],t[10]=e[10]-i[10],t[11]=e[11]-i[11],t[12]=e[12]-i[12],t[13]=e[13]-i[13],t[14]=e[14]-i[14],t[15]=e[15]-i[15],t}function xG(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*i,t[9]=e[9]*i,t[10]=e[10]*i,t[11]=e[11]*i,t[12]=e[12]*i,t[13]=e[13]*i,t[14]=e[14]*i,t[15]=e[15]*i,t}function SG(t,e,i,o){return t[0]=e[0]+i[0]*o,t[1]=e[1]+i[1]*o,t[2]=e[2]+i[2]*o,t[3]=e[3]+i[3]*o,t[4]=e[4]+i[4]*o,t[5]=e[5]+i[5]*o,t[6]=e[6]+i[6]*o,t[7]=e[7]+i[7]*o,t[8]=e[8]+i[8]*o,t[9]=e[9]+i[9]*o,t[10]=e[10]+i[10]*o,t[11]=e[11]+i[11]*o,t[12]=e[12]+i[12]*o,t[13]=e[13]+i[13]*o,t[14]=e[14]+i[14]*o,t[15]=e[15]+i[15]*o,t}function CG(t,e){return t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]&&t[3]===e[3]&&t[4]===e[4]&&t[5]===e[5]&&t[6]===e[6]&&t[7]===e[7]&&t[8]===e[8]&&t[9]===e[9]&&t[10]===e[10]&&t[11]===e[11]&&t[12]===e[12]&&t[13]===e[13]&&t[14]===e[14]&&t[15]===e[15]}function AG(t,e){if(t===e)return!0;const i=t[0],o=t[1],h=t[2],p=t[3],m=t[4],v=t[5],w=t[6],A=t[7],$=t[8],M=t[9],P=t[10],R=t[11],B=t[12],G=t[13],H=t[14],Z=t[15],X=e[0],Q=e[1],rt=e[2],et=e[3],nt=e[4],bt=e[5],gt=e[6],At=e[7],wt=e[8],$t=e[9],Ht=e[10],Ce=e[11],Vt=e[12],Xe=e[13],pr=e[14],Ji=e[15],fe=Wl();return Math.abs(i-X)<=fe*Math.max(1,Math.abs(i),Math.abs(X))&&Math.abs(o-Q)<=fe*Math.max(1,Math.abs(o),Math.abs(Q))&&Math.abs(h-rt)<=fe*Math.max(1,Math.abs(h),Math.abs(rt))&&Math.abs(p-et)<=fe*Math.max(1,Math.abs(p),Math.abs(et))&&Math.abs(m-nt)<=fe*Math.max(1,Math.abs(m),Math.abs(nt))&&Math.abs(v-bt)<=fe*Math.max(1,Math.abs(v),Math.abs(bt))&&Math.abs(w-gt)<=fe*Math.max(1,Math.abs(w),Math.abs(gt))&&Math.abs(A-At)<=fe*Math.max(1,Math.abs(A),Math.abs(At))&&Math.abs($-wt)<=fe*Math.max(1,Math.abs($),Math.abs(wt))&&Math.abs(M-$t)<=fe*Math.max(1,Math.abs(M),Math.abs($t))&&Math.abs(P-Ht)<=fe*Math.max(1,Math.abs(P),Math.abs(Ht))&&Math.abs(R-Ce)<=fe*Math.max(1,Math.abs(R),Math.abs(Ce))&&Math.abs(B-Vt)<=fe*Math.max(1,Math.abs(B),Math.abs(Vt))&&Math.abs(G-Xe)<=fe*Math.max(1,Math.abs(G),Math.abs(Xe))&&Math.abs(H-pr)<=fe*Math.max(1,Math.abs(H),Math.abs(pr))&&Math.abs(Z-Ji)<=fe*Math.max(1,Math.abs(Z),Math.abs(Ji))}function TG(t){const e=Wl(),i=t[0],o=t[1],h=t[2],p=t[4],m=t[5],v=t[6],w=t[8],A=t[9],$=t[10];return Math.abs(1-(i*i+p*p+w*w))<=e&&Math.abs(1-(o*o+m*m+A*A))<=e&&Math.abs(1-(h*h+v*v+$*$))<=e}function EG(t){return t[0]===1&&t[1]===0&&t[2]===0&&t[4]===0&&t[5]===1&&t[6]===0&&t[8]===0&&t[9]===0&&t[10]===1}const $G=dC,IG=pC;Object.freeze(Object.defineProperty({__proto__:null,add:_G,adjoint:qV,copy:cC,determinant:HV,equals:AG,exactEquals:CG,frob:wG,fromQuat:dG,fromQuat2:sG,fromRotation:eG,fromRotationTranslation:fC,fromRotationTranslationScale:cG,fromRotationTranslationScaleOrigin:uG,fromScaling:tG,fromTranslation:QV,fromXRotation:iG,fromYRotation:rG,fromZRotation:nG,frustum:fG,getRotation:hG,getScaling:lG,getTranslation:aG,hasIdentityRotation:EG,identity:pp,invert:uC,invertOrIdentity:GV,isOrthoNormal:TG,lookAt:yG,mul:$G,multiply:dC,multiplyScalar:xG,multiplyScalarAndAdd:SG,ortho:gG,perspective:pG,perspectiveFromFieldOfView:mG,rotate:ZV,rotateX:YV,rotateY:KV,rotateZ:XV,scale:JV,set:BV,str:vG,sub:IG,subtract:pC,targetTo:bG,translate:WV,transpose:VV},Symbol.toStringTag,{value:"Module"}));function Tl(t){return dB(t)||fg(t)||pg(t)}function mC(t,e){const{format:i,timeZoneOptions:o,fieldType:h}=e??{};let p,m;if(o&&({timeZone:p,timeZoneName:m}=nv(o.layerTimeZone,o.datesInUnknownTimezone,o.viewTimeZone,$i(i||"short-date-short-time"),h)),typeof t=="string"&&isNaN(Date.parse(h==="time-only"?`1970-01-01T${t}Z`:t)))return t;switch(h){case"date-only":{const v=$i(i||"short-date");return typeof t=="string"?vx(t,{...v}):Ii(t,{...v,timeZone:Pn})}case"time-only":{const v=$i(i||"short-time");return typeof t=="string"?wx(t,v):Ii(t,{...v,timeZone:Pn})}case"timestamp-offset":{if(!p&&typeof t=="string"&&new Date(t).toISOString()!==t)return t;const v=i||o?$i(i||"short-date-short-time"):void 0,w=v?{...v,timeZone:p,timeZoneName:m}:void 0;return typeof t=="string"?_x(t,w):Ii(t,w)}default:{const v=i||o?$i(i||"short-date-short-time"):void 0;return Ii(typeof t=="string"?new Date(t):t,v?{...v,timeZone:p,timeZoneName:m}:void 0)}}}function Jrt(t){}function Zrt(t){return()=>t}const kG=t=>t.type==="field",Yrt=t=>t.type==="group",Krt=t=>t.type==="text",Xrt=t=>t.type==="relationship",MG=t=>(t==null?void 0:t.type)==="field",gC=t=>(t==null?void 0:t.type)==="group",OG=t=>(t==null?void 0:t.type)==="relationship",Qrt=t=>t.type==="text",tnt=t=>!gC(t)&&t.group!=null,yC=t=>t.reduce((e,i)=>gC(i)?[...e,...i.inputs]:[...e,i],[]),ent=t=>yC(t).filter(MG),int=t=>yC(t).filter(OG),K_=t=>t!=null&&(Vc(t,"combo-box")||Vc(t,"radio-buttons")),Vc=(t,e)=>{var i;return t!=null&&((i=t.input)==null?void 0:i.type)===e},X_=t=>t!=null&&(Vc(t,"text-box")||Vc(t,"text-area")),rnt=({domain:t,inputType:e="text-box",dataType:i})=>i==="number"&&e==="text-box"&&(!t||t.type!=="coded-value");function PG(t){const{attributes:e,fieldsIndex:i,label:o,timeZone:h}=t;if(!e||typeof e!="object")return o;const p=Object.keys(e).filter(w=>ym(o,w)),m=p.map(w=>e[w]),v=p.map(w=>i.get(w)).filter(ml);return DG(o,LG({values:m,fields:v,timeZone:h}))}const hf="expression/",NG="expr/",RG="field/";function nnt(t){const[e,i]=t.split(hf);return e===""&&i?i:(Rt.getLogger("esri.widgets.FeatureForm/featureFormUtils").error("extractExpressionNameFromString:invalid-input",`The string ${t} is not a valid expression reference of the form '${hf}/expressionName'`),"")}function snt(t){return`${hf}${t}`}function ont(t){return`${RG}${t}`}function ant(t){return t.startsWith(hf)}function lnt(t){return t.startsWith(NG)}function LG(t){const{fields:e,values:i}=t,o=t.timeZone??void 0,h=e.map((p,m)=>{let v=i[m];if(p.domain&&p.domain.type==="coded-value"){const w=p.domain.codedValues.find(A=>A.code===v);w!=null&&w.name&&(v=w.name)}return(Tl(p)||zc(p))&&(v=sg(p,v,{timeZone:o,...X8(p)})),[p.name,v]});return Object.fromEntries(h)}function DG(t,e){return Nr(Nr(t,i=>`{${i.toLowerCase()}}`),Object.fromEntries(Object.entries(e).map(([i,o])=>[i.toLowerCase(),o])))}const bC=t=>{var i,o,h,p;const e={typeFieldName:null,types:[]};return t&&(t.type==="subtype-sublayer"?(e.typeFieldName=(i=t.parent)==null?void 0:i.subtypeField,e.types=((o=t.parent)==null?void 0:o.subtypes)??[]):t.type==="subtype-group"||t.type==="feature"&&((h=t.subtypes)!=null&&h.length)?(e.typeFieldName=t.subtypeField,e.types=t.subtypes??[]):"types"in t&&t.types&&(e.typeFieldName=t.typeIdField,e.types=t.types.map(({id:m,name:v,domains:w})=>({code:m,name:v,domains:w}))),e.typeFieldName!=null&&(e.typeFieldName=((p=t.getField(e.typeFieldName))==null?void 0:p.name)??e.typeFieldName)),e},zG=(t,e)=>{if(!t)return!0;const{operations:i}=t;switch(e){case"INSERT":return i.supportsAdd;case"UPDATE":case"DELETE":return i.supportsUpdate;default:return!0}};var El;(function(t){t.TOO_SHORT="length-validation-error::too-short",t.TOO_LONG="length-validation-error::too-long"})(El||(El={}));const Q_={type:"number"},t9={type:"number",intlOptions:{notation:"scientific"}};function e9(t){return t>=1e7||t<=-1e7}function jG(t,{validationErrors:e}){return t.max!=null&&t.min!=null?e.outsideRange:t.max!=null?e.outsideRangeMax:e.outsideRangeMin}const hnt=(t,e,i)=>{const{dataType:o,error:h,minLength:p,value:m,required:v}=t,w=e==null?void 0:e.validationErrors;if(!w||!h)return null;if(v&&m===null)return w.cannotBeNull;if(h===js.VALUE_OUT_OF_RANGE||h===Cl.OUT_OF_RANGE){const{field:A,range:$}=t,M={type:"date",intlOptions:{timeZone:A.type==="date"&&i?i:void 0,...X8(A)}},P=jG($,e);return en(P,$,{format:{max:o==="date"?M:$.max!=null&&e9($.max)?t9:Q_,min:o==="date"?M:$.min!=null&&e9($.min)?t9:Q_}})}return h===js.INVALID_CODED_VALUE?w.invalidCodedValue:h===Al.INVALID_TYPE?w.invalidType:h===El.TOO_SHORT?en(w.tooShort,{min:p}):(El.TOO_LONG,null)},cnt=t=>{var h;if(!t)return;const e=t.layer,i=e&&"geometryType"in e?e.geometryType:void 0,o=(h=t.geometry)==null?void 0:h.type;return o==="polyline"||i==="polyline"?"line":o==="mesh"||i==="mesh"||i==="multipatch"?"cube":o==="multipoint"||i==="multipoint"?"point":o||i||"table"},unt=t=>{var i;const e=[];if(t.formTemplate){const{description:o,title:h}=t.formTemplate;(i=t.fields)==null||i.forEach(p=>{const m=h&&ym(h,p.name),v=o&&ym(o,p.name);(m||v)&&e.push(p.name)})}return e};function dnt(t,e){var o;const i=e??("formTemplate"in t&&t.formTemplate);return i?(((o=i.elements)==null?void 0:o.filter(kG))??[]).some(({fieldName:h})=>!t.fieldsIndex.get(h)):!1}function FG(t,e){return t==null||e.onValue!==t&&e.offValue!==t}function fnt(t,e){var i;switch(e.objectType){case"any":return!0;case"null":return t==null;case"code":return t===((i=e.codedValue)==null?void 0:i.code);case"range":return t!=null&&e.minValue!=null&&e.maxValue!=null&&+t>=e.minValue&&+t<=e.maxValue;default:return e.objectType,!1}}function pnt(t,e,i){const o=f8(t),h=o==null?void 0:o.find(m=>m.code===i);if(!h)return!1;const p=o==null?void 0:o.find(m=>m.code===e);return!h6(h.defaultValues,p==null?void 0:p.defaultValues)&&Object.values(h.defaultValues).some(m=>m!=null)}var Ag;let Nd=Ag=class extends hp{constructor(t){super(t),this.type="inherited"}clone(){return new Ag}};C([Mt({inherited:"inherited"})],Nd.prototype,"type",void 0),Nd=Ag=C([Y("esri.layers.support.InheritedDomain")],Nd);const vC=Nd;var Tg;let Ta=Tg=class extends hp{constructor(t){super(t),this.maxValue=null,this.minValue=null,this.type="range"}clone(){return new Tg({maxValue:this.maxValue,minValue:this.minValue,name:this.name})}};C([E({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[1]}},write:{enabled:!1,overridePolicy(){return{enabled:this.maxValue!=null&&this.minValue==null}},target:"range",writer(t,e,i){e[i]=[this.minValue||0,t]}}}})],Ta.prototype,"maxValue",void 0),C([E({json:{type:[Number],read:{source:"range",reader:(t,e)=>{var i;return(i=e.range)==null?void 0:i[0]}},write:{target:"range",writer(t,e,i){e[i]=[t,this.maxValue||0]}}}})],Ta.prototype,"minValue",void 0),C([Mt({range:"range"})],Ta.prototype,"type",void 0),Ta=Tg=C([Y("esri.layers.support.RangeDomain")],Ta);const wC=Ta,UG="esri.widgets.Feature.support.featureUtils",Eg=()=>Rt.getLogger(UG),BG=/href=(""|'')/gi,VG=/(\{([^{\r\n]+)\})/g,GG=/'/g,_C=/^\s*expression\//i,qG=/(\n)/gi,HG=/[\u00A0-\u9999<>&]/gim,WG=/href\s*=\s*(?:"([^"]+)"|'([^']+)')/gi,JG=/^(?:mailto:|tel:)/,xC="relationships/",i9=$i("short-date-short-time");function mnt(t){if(t!=null)return(t.sourceLayer||t.layer)??void 0}async function gnt({type:t,value:e,event:i}){try{return typeof e=="function"?e(i):await e}catch(o){return void Eg().error("error",`An error occurred when calling the "${t}" function`,{error:o,graphic:i.graphic,value:e})}}function ynt(t=""){if(t)return!JG.test(t.trim().toLowerCase())}function ZG(t){return!!t&&_C.test(t)}function YG(t,e){if(!e||!ZG(e)||!t)return;const i=e.replace(_C,"").toLowerCase();return t.find(({name:o})=>o.toLowerCase()===i)}function bnt(t,e){const i=YG(e,t==null?void 0:t.fieldName);return i?i.title||null:t?t.label||t.fieldName:null}function KG(t,e){const i=e.get(t.toLowerCase());return`{${(i==null?void 0:i.fieldName)||t}}`}function XG(t){return t.replaceAll(BG,"")}function SC(t,e){const i=e2(e,t);return i?i.name:t}function vnt(t,e){return t&&t.map(i=>SC(i,e))}function e2(t,e){return t&&typeof t.getField=="function"&&e?t.getField(e)??null:null}function CC(t){return`${t}`.trim()}function wnt({attributes:t,globalAttributes:e,layer:i,text:o,expressionAttributes:h,fieldInfoMap:p}){return o?QG({formattedAttributes:e,template:nq(o,{...e,...h,...t},i),fieldInfoMap:p}):""}function QG({formattedAttributes:t,template:e,fieldInfoMap:i}){return CC(XG(Nr(Nr(e,o=>KG(o,i)),t)))}function tq(t,e,i=!1){const o=e[t];if(typeof o=="string"){const h="%27",p=(i?encodeURIComponent(o):o).replaceAll(GG,h);e[t]=p}}function eq(t,e=!1){const i={...t};return Object.keys(i).forEach(o=>tq(o,i,e)),i}function iq(t,e,i){const o=(e=CC(e))&&e[0]!=="{";return Nr(t,eq(i,o||!1))}function rq(t,e){return t.replaceAll(VG,(i,o,h)=>{const p=e2(e,h);return p?`{${p.name}}`:o})}function nq(t,e,i){const o=rq(t,i);return o&&o.replaceAll(WG,(h,p,m)=>iq(h,p||m,e))}function sq(t,e){if(typeof t=="string"&&e&&e.dateFormat==null&&(e.places!=null||e.digitSeparator!=null)){const i=Number(t);if(!isNaN(i))return i}return t}function AC(t){return t!=null&&typeof t=="object"&&"fieldsIndex"in t&&"geometryType"in t&&"getField"in t&&"load"in t&&"loaded"in t&&"objectIdField"in t&&"spatialReference"in t&&"type"in t&&(t.type==="feature"||t.type==="scene"||t.type==="subtype-sublayer"||t.type==="sublayer")&&"when"in t}function oq(t){return t!=null&&typeof t=="object"&&"createQuery"in t&&"queryFeatureCount"in t&&"queryObjectIds"in t&&"queryRelatedFeatures"in t&&"queryRelatedFeaturesCount"in t&&"relationships"in t}function aq(t){return!!(t&&typeof t=="object"&&"createQuery"in t&&"queryFeatureCount"in t&&"type"in t)&&(t.type==="subtype-sublayer"&&"parent"in t&&t.parent&&typeof t.parent=="object"?"globalIdField"in t.parent:"globalIdField"in t)}function i2(t){return AC(t)&&oq(t)}function _nt(t){return AC(t)&&aq(t)}function xnt(t){return!!t&&typeof t=="object"&&"sourceLayer"in t&&i2(t.sourceLayer)}function lq(t,e){var $;const{fieldInfos:i,fieldName:o,preventPlacesFormatting:h,layer:p,timeZone:m}=e,v=cq(i,o),w=e2(p,o);if(v&&!U_(o)){const M=w==null?void 0:w.type,P=($=v.format)==null?void 0:$.dateFormat;if(M==="date"||M==="date-only"||M==="time-only"||M==="timestamp-offset"||P)return mC(t,{format:P,fieldType:M,timeZoneOptions:{layerTimeZone:p&&"preferredTimeZone"in p?p.preferredTimeZone:null,viewTimeZone:m,datesInUnknownTimezone:!(!p||!("datesInUnknownTimezone"in p))&&!!p.datesInUnknownTimezone}})}const A=v==null?void 0:v.format;return typeof t=="string"&&U_(o)&&A?hq(t,A):typeof(t=sq(t,A))=="string"||t==null||A==null?TC(t):Hi(t,h?{...yl(A),minimumFractionDigits:0,maximumFractionDigits:20}:yl(A))}function hq(t,e){return t=t.trim(),/\d{2}-\d{2}/.test(t)?t:t.includes(",")?_1(t,",",", ",e):t.includes(";")?_1(t,";","; ",e):t.includes(" ")?_1(t," "," ",e):Hi(Number(t),yl(e))}function _1(t,e,i,o){return t.trim().split(e).map(h=>Hi(Number(h),yl(o))).join(i)}function cq(t,e){if(t!=null&&t.length&&e)return t.find(i=>{var o;return((o=i.fieldName)==null?void 0:o.toLowerCase())===e.toLowerCase()})}function uq({fieldName:t,graphic:e,layer:i}){if($C(t)||!i||typeof i.getFeatureType!="function")return null;const{typeIdField:o}=i;if(!o||t!==o)return null;const h=i.getFeatureType(e);return h?h.name:null}function dq({fieldName:t,value:e,graphic:i,layer:o}){if($C(t)||!o||typeof o.getFieldDomain!="function")return null;const h=i&&o.getFieldDomain(t,{feature:i});return h&&h.type==="coded-value"?h.getName(e):null}function Snt(t,e,i,o){const{creatorField:h,creationDateField:p,editorField:m,editDateField:v}=t;if(!e)return;const w=nv(o&&"preferredTimeZone"in o?o.preferredTimeZone:null,!(!o||!("datesInUnknownTimezone"in o))&&!!o.datesInUnknownTimezone,i,i9,"date"),A={...i9,...w},$=e[v];if(typeof $=="number"){const P=e[m];return{type:"edit",date:Ii($,A),user:P}}const M=e[p];if(typeof M=="number"){const P=e[h];return{type:"create",date:Ii(M,A),user:P}}return null}function Cnt(t,e){const i=new Map;if(!t)return i;for(const o of t){if(!o.fieldName)continue;const h=SC(o.fieldName,e);o.fieldName=h,i.set(h.toLowerCase(),o)}return i}function Ant(t){const e=[];if(!t)return e;const{fieldInfos:i,content:o}=t;return i&&e.push(...i),o&&Array.isArray(o)&&o.forEach(h=>{if(h.type==="fields"){const p=h==null?void 0:h.fieldInfos;p&&e.push(...p)}}),e}function Tnt(t){return t.replaceAll(HG,e=>`&#${e.charCodeAt(0)};`)}function TC(t){return typeof t=="string"?t.replaceAll(qG,'<br class="esri-text-new-line" />'):t}function EC(t){var M;const{value:e,fieldName:i,fieldInfos:o,fieldInfoMap:h,layer:p,graphic:m,timeZone:v}=t;if(e==null)return"";const w=dq({fieldName:i,value:e,graphic:m,layer:p});if(w)return w;const A=uq({fieldName:i,graphic:m,layer:p});if(A)return A;if(h.get(i.toLowerCase()))return lq(e,{fieldInfos:o||Array.from(h.values()),fieldName:i,layer:p,timeZone:v});const $=(M=p==null?void 0:p.fieldsIndex)==null?void 0:M.get(i);return $&&(Tl($)||zc($))?mC(e,{fieldType:$.type,timeZoneOptions:{layerTimeZone:p&&"preferredTimeZone"in p?p.preferredTimeZone:null,viewTimeZone:v,datesInUnknownTimezone:!(!p||!("datesInUnknownTimezone"in p))&&!!p.datesInUnknownTimezone}}):TC(e)}function Ent({fieldInfos:t,attributes:e,layer:i,graphic:o,fieldInfoMap:h,relatedInfos:p,timeZone:m}){const v={};return p==null||p.forEach(w=>gq({attributes:v,relatedInfo:w,fieldInfoMap:h,fieldInfos:t,layer:i,timeZone:m})),e&&Object.keys(e).forEach(w=>{const A=e[w];v[w]=EC({fieldName:w,fieldInfos:t,fieldInfoMap:h,layer:i,value:A,graphic:o,timeZone:m})}),v}async function fq(t,e){var $,M;const{layer:i,graphic:o,outFields:h,objectIds:p,returnGeometry:m,spatialReference:v}=t,w=p[0];if(typeof w!="number"&&typeof w!="string"){const P="Could not query required fields for the specified feature. The feature's ID is invalid.",R={layer:i,graphic:o,objectId:w,requiredFields:h};return Eg().warn(P,R),null}if(!((M=($=Rv(i))==null?void 0:$.operations)!=null&&M.supportsQuery)){const P="The specified layer cannot be queried. The following fields will not be available.",R={layer:i,graphic:o,requiredFields:h,returnGeometry:m};return Eg().warn(P,R),null}const A=i.createQuery();return A.objectIds=p,A.outFields=h!=null&&h.length?h:[i.objectIdField],A.returnGeometry=!!m,A.returnZ=!!m,A.returnM=!!m,A.outSpatialReference=v,(await i.queryFeatures(A,e)).features[0]}async function pq(t){var o;if(!((o=t.expressionInfos)!=null&&o.length))return!1;const e=await Hv(),{arcadeUtils:{hasGeometryFunctions:i}}=e;return i(t)}async function $nt({graphic:t,popupTemplate:e,layer:i,spatialReference:o},h){if(!i||!e||(typeof i.load=="function"&&await i.load(h),!t.attributes))return;const p=i.objectIdField,m=t.attributes[p];if(m==null)return;const v=[m],w=await e.getRequiredFields(i.fieldsIndex),A=wB(w,t),$=A?[]:w.includes(p)?w:[...w,p],M=e.returnGeometry||await pq(e);if(A&&!M)return;const P=await fq({layer:i,graphic:t,outFields:$,objectIds:v,returnGeometry:M,spatialReference:o},h);P&&(P.geometry&&(t.geometry=P.geometry),P.attributes&&(t.attributes={...t.attributes,...P.attributes}))}function $C(t=""){return!!t&&t.includes(xC)}function mq(t){return t?`${xC}${t.layerId}/${t.fieldName}`:""}function r9({attributes:t,graphic:e,relatedInfo:i,fieldInfos:o,fieldInfoMap:h,layer:p,timeZone:m}){t&&e&&i&&Object.keys(e.attributes).forEach(v=>{const w=mq({layerId:i.relation.id.toString(),fieldName:v}),A=e.attributes[v];t[w]=EC({fieldName:w,fieldInfos:o,fieldInfoMap:h,layer:p,value:A,graphic:e,timeZone:m})})}function gq({attributes:t,relatedInfo:e,fieldInfoMap:i,fieldInfos:o,layer:h,timeZone:p}){var m,v;t&&e&&((m=e.relatedFeatures)==null||m.forEach(w=>r9({attributes:t,graphic:w,relatedInfo:e,fieldInfoMap:i,fieldInfos:o,layer:h,timeZone:p})),(v=e.relatedStatsFeatures)==null||v.forEach(w=>r9({attributes:t,graphic:w,relatedInfo:e,fieldInfoMap:i,fieldInfos:o,layer:h,timeZone:p})))}const n9=t=>{if(!t)return!1;const e=t.toUpperCase();return e.includes("CURRENT_TIMESTAMP")||e.includes("CURRENT_DATE")||e.includes("CURRENT_TIME")},IC=({layer:t,method:e,query:i,definitionExpression:o})=>{var m,v;if(!((v=(m=t.capabilities)==null?void 0:m.query)!=null&&v.supportsCacheHint)||e==="attachments")return;const h=i.where!=null?i.where:null,p=i.geometry!=null?i.geometry:null;n9(o)||n9(h)||(p==null?void 0:p.type)==="extent"||i.resultType==="tile"||(i.cacheHint=!0)},Int=({query:t,layer:e,method:i})=>{IC({layer:e,method:i,query:t,definitionExpression:`${e.definitionExpression} ${e.serviceDefinitionExpression??""}`})},knt=({queryPayload:t,layer:e,method:i})=>{IC({layer:e,method:i,query:t,definitionExpression:`${e.definitionExpression} ${e.serviceDefinitionExpression??""}`})};function Mnt(t,e,i){var o,h;return t&&e&&i?e.type==="sublayer"?Ja({layers:(o=e.layer)==null?void 0:o.sublayers,map:t,relatedLayer:e,relationship:i})||Ja({layers:(h=e.layer)==null?void 0:h.subtables,map:t,relatedLayer:e,relationship:i}):Ja({layers:t.allLayers,map:t,relatedLayer:e,relationship:i})||Ja({layers:t.allTables,map:t,relatedLayer:e,relationship:i}):null}function Ont(t,e){var i;return t&&"utilityNetworks"in t&&e?(i=t.utilityNetworks)==null?void 0:i.find(o=>o.isUtilityLayer(e)):null}function s9(t,e){return t==null?void 0:t.allTables.find(i=>{var o;return i.type==="feature"&&i.layerId===e.id&&i.url===((o=e.layer)==null?void 0:o.url)})}function Ja({map:t,relationship:e,relationship:{relatedTableId:i},relatedLayer:o,layers:h}){var p;if(!h)return null;for(const m of h){if(m.type==="map-image"){const w=Ja({layers:m.sublayers,map:t,relatedLayer:o,relationship:e})||Ja({layers:m.subtables,map:t,relatedLayer:o,relationship:e});if(w)return w;continue}if(!i2(m))continue;if(o.type==="sublayer"){if(m!==o&&m.id===i)return m.isTable?s9(t,m):m;continue}const v=o.type==="scene"&&o.associatedLayer?o.associatedLayer.url:o.url;if(!v)return null;if(m.type!=="sublayer"){if(m!==o&&m.url===v&&m.layerId===i)return m}else if(m!==o&&((p=m.layer)==null?void 0:p.url)===v&&m.id===i)return m.isTable?s9(t,m):m}return null}function Pnt(t){const e=t.getObjectId();return e!=null?`oid:${e}`:`uid:${t.uid}`}let _i=class extends me{constructor(e){super(e),this.element=null,this.feature=null,this.layer=null,this.timeZone=null,this.type=null,this.visibilityExpressionExecutor=null}get description(){var e;return this.getFormattedLabel((e=this.element)==null?void 0:e.description)}get evaluatedVisibilityExpression(){const{visibilityExpressionExecutor:e}=this;return e!=null?!!e.lastEvaluatedValue:null}get label(){var e;return this.getFormattedLabel((e=this.element)==null?void 0:e.label)}get updating(){return!1}get visible(){return this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null}getFormattedLabel(e){const{feature:i,layer:o,timeZone:h}=this;return o==null||e==null?e:PG({label:e,attributes:i.attributes,fieldsIndex:o.fieldsIndex,timeZone:h})}};C([E({readOnly:!0})],_i.prototype,"description",null),C([E({constructOnly:!0})],_i.prototype,"element",void 0),C([E()],_i.prototype,"evaluatedVisibilityExpression",null),C([E()],_i.prototype,"feature",void 0),C([E()],_i.prototype,"label",null),C([E()],_i.prototype,"layer",void 0),C([E()],_i.prototype,"timeZone",void 0),C([E()],_i.prototype,"type",void 0),C([E()],_i.prototype,"updating",null),C([E()],_i.prototype,"visible",null),C([E()],_i.prototype,"visibilityExpressionExecutor",void 0),_i=C([Y("esri.widgets.FeatureForm.InputBase")],_i);const yq=_i;let is=class extends yq{constructor(e){super(e),this.arcadeEditType="NA",this.editableExpressionExecutor=null}get editable(){return!!this.layerAllowsEdits&&(this.evaluatedEditableExpression??!0)}get evaluatedEditableExpression(){const{editableExpressionExecutor:e}=this;return e!=null?!!e.lastEvaluatedValue:null}get layerAllowsEdits(){const{layer:e}=this;if(!e)return!1;const i=Rv(e),o=i==null?void 0:i.operations.supportsEditing,h=zG(i,this.arcadeEditType);return!(!o||!h)}};C([E()],is.prototype,"arcadeEditType",void 0),C([E()],is.prototype,"editable",null),C([E()],is.prototype,"editableExpressionExecutor",void 0),C([E()],is.prototype,"evaluatedEditableExpression",null),C([E()],is.prototype,"layerAllowsEdits",null),is=C([Y("esri.widgets.FeatureForm.EditableInput")],is);const bq=is;var nr;(function(t){t.Text="text",t.Number="number",t.Date="date",t.Unsupported="unsupported"})(nr||(nr={}));const o9="__internal-type-based-coded-value-domain__";let It=class extends bq{constructor(e){super(e),this._storedValue=null,this.error=null,this.preservesValueWhenHidden=!0,this.field=null,this.group=null,this.requiredExpressionExecutor=null,this.type="field",this._fieldInputWasVisibleDuringLifetime=!1,this.valueExpressionExecutor=null}initialize(){this.addHandles(Lt(()=>this.feature,()=>this._fieldInputWasVisibleDuringLifetime=!1,qf))}get _dateFormRange(){const{element:e,field:i}=this;if(this.dataType!=="date")return{};const o=e!=null&&e.domain?Ha(i,e.domain):null;if(!(e!=null&&e.input))return o??{};const h=e.input,{type:p}=h;let m={};if(p!=="date-picker"&&p!=="time-picker"&&p!=="datetimeoffset-picker"||(m=nS(i,h.max,h.min)),p==="datetime-picker"){const{max:A,min:$}=h;m={max:A!=null&&a9(A)?A.getTime():null,min:$!=null&&a9($)?$.getTime():null}}const{max:v,min:w}=m;if(o){const{max:A,min:$}=o,M=io(A)&&(v==null||v!=null&&A<v),P=io($)&&(w==null||w!=null&&$>w);return{max:M?A:v??null,min:P?$:w??null,rawMax:M?o.rawMax:(m==null?void 0:m.rawMax)??null,rawMin:P?o.rawMin:(m==null?void 0:m.rawMin)??null}}return{min:w,max:v,rawMax:(m==null?void 0:m.rawMax)??null,rawMin:(m==null?void 0:m.rawMin)??null}}get _dateRange(){const{_dateFormRange:e,field:i}=this;if(this.dataType!=="date")return{};const o=Ha(i);if(!o)return e;const{max:h,min:p,rawMax:m,rawMin:v}=e;if(i.type==="date"){const{max:w,min:A}=o;return{max:io(h)&&(w===null||w!=null&&h<w)?h:w??null,min:io(p)&&(A===null||A!=null&&p>A)?p:A??null}}if(i.type==="date-only"||i.type==="time-only"||i.type==="timestamp-offset"){const{max:w,min:A,rawMax:$,rawMin:M}=o,P=io(h)&&m&&(w==null||h<w);return{max:P?h:w,min:io(p)&&v&&(A==null||p>A)?p:A,rawMax:P?m:$,rawMin:P?v:M}}return{max:null,min:null}}get _configAllowsEdits(){var p,m;const{element:e,layer:i,name:o}=this;if(e!=null)return e.editableExpression?!!this.evaluatedEditableExpression:e.editable!==!1;if(i!=null&&i.userHasUpdateItemPrivileges)return!0;const h=i&&"popupTemplate"in i?(m=(p=i==null?void 0:i.popupTemplate)==null?void 0:p.fieldInfos)==null?void 0:m.find(({fieldName:v})=>v===o):null;return(h==null?void 0:h.isEditable)??!0}get _layerAndFieldAllowEdits(){var e;return this.layerAllowsEdits&&((e=this.field)==null?void 0:e.editable)}get _isVisibleByDefault(){const{field:e,layer:i}=this;return!!(e!=null&&e.visible)&&QU(e,i)}get _isEditTrackingField(){var e;return Jv(this.layer).includes((e=this.name)==null?void 0:e.toLowerCase())}get _shouldUseValueExpression(){return this._layerAndFieldAllowEdits&&!this._configAllowsEdits&&this.valueExpressionExecutor!=null}get isSubtypeField(){var i;const{layer:e}=this;if(e&&"subtypeField"in e){const{subtypeField:o,fieldsIndex:h}=e;return(((i=h.get(o))==null?void 0:i.name)??o)===this.name}return!1}get valueIsOutOfDomain(){const{domain:e,value:i,field:o}=this;return!(!e||i==null)&&ag(o,i,e)!==null}get dataType(){const{field:e}=this;return ll(e)?nr.Number:of(e)?nr.Text:Tl(e)||zc(e)?nr.Date:nr.Unsupported}get dateDataType(){if(this.dataType===nr.Date)return this.field.type!=="date"?"string":"number"}get domain(){var v;const{layer:e}=this,{typeFieldName:i,types:o}=bC(e);if(this.isSubtypeField&&"subtypes"in e&&e.subtypes)return new Fc({name:o9,codedValues:e.subtypes.map(({code:w,name:A})=>new Ts({code:w,name:A}))});if(i===this.name&&this.field.domain==null)return new Fc({name:o9,codedValues:o.map(({code:w,name:A})=>new Ts({code:w,name:A}))});const{feature:h}=this,p=e==null?void 0:e.getFieldDomain(this.name,{feature:h}),m=(v=this.element)==null?void 0:v.domain;return m!=null&&this._isDomainCompatible(m)?m:p}get editable(){return!!this._layerAndFieldAllowEdits&&(this.evaluatedEditableExpression??this._configAllowsEdits)}get evaluatedRequiredExpression(){const{requiredExpressionExecutor:e}=this;return e!=null?!!e.lastEvaluatedValue:null}get evaluatedValueExpression(){const{valueExpressionExecutor:e}=this;return e!=null?e.lastEvaluatedValue:null}get hint(){var e;return(e=this.element)==null?void 0:e.hint}get includeDate(){return!(this.dataType!==nr.Date||this.field.type==="time-only")}get includeTime(){var h;const{element:e,field:i}=this;if(this.dataType!==nr.Date)return!1;if(i.type==="time-only")return!0;if(i.type==="date-only")return!1;const o=((h=e==null?void 0:e.input)==null?void 0:h.type)==="datetime-picker"?e.input.includeTime:void 0;return o===void 0||o}get includeTimeOffset(){var i;if(this.field.type!=="timestamp-offset")return!1;const e=(i=this.element)==null?void 0:i.input;return!e||e.type==="datetimeoffset-picker"&&e.includeTimeOffset}set initialFeature(e){this._set("initialFeature",e),this.notifyChange("valid")}get inputType(){var e,i;return(i=(e=this.element)==null?void 0:e.input)==null?void 0:i.type}get hasInvalidSwitchValue(){const{element:e}=this,i=Vc(e,"switch")?e.input:null;return!i||FG(this.value,i)}get isRelationshipKeyField(){var o;const{field:e,layer:i}=this;return i2(i)&&!!((o=i.relationships)!=null&&o.some(h=>h.keyField===e.name))}get label(){var i;const{field:e}=this;return this.getFormattedLabel((i=this.element)==null?void 0:i.label)??e.alias??e.name}get maxLength(){if(this.dataType===nr.Date)return-1;const{field:i,element:o}=this,h=(i==null?void 0:i.length)??-1,p=X_(o)?o.input.maxLength:NaN;return p!=null&&!isNaN(p)&&p>=-1&&(h===-1||p<=h)?p:h}get minLength(){if(this.dataType===nr.Date)return-1;const{field:i,element:o}=this,h=(i==null?void 0:i.length)??-1,p=X_(o)?o.input.minLength:NaN;return p!=null&&!isNaN(p)&&p>=-1&&(h===-1||p<=h)?p:-1}get name(){var e;return(e=this.field)==null?void 0:e.name}get range(){const{domain:e,element:i,field:o}=this;if(this.dataType==="date")return this._dateRange;const h=Ha(o,e)||pB(o,e),p=(h==null?void 0:h.max)===Number.MAX_VALUE?null:(h==null?void 0:h.max)??null,m=(h==null?void 0:h.min)===-Number.MAX_VALUE?null:(h==null?void 0:h.min)??null;if(!(i!=null&&i.domain)||i.domain.type!=="range")return{max:p,min:m};const{max:v,min:w}=Ha(o)||{};return{max:v!=null&&(p===null||p!=null&&v<p)?v:p,min:w!=null&&(m===null||m!=null&&w>m)?w:m}}get required(){var m;const{editable:e,evaluatedRequiredExpression:i,field:o,visible:h,isSubtypeField:p}=this;return e?(o==null?void 0:o.nullable)===!1||p?!0:!(!h||((m=this.group)==null?void 0:m.visible)===!1||i==null)&&i:!1}set required(e){this._overrideIfSome("required",e)}get showNoValueOptionEnabled(){const{element:e}=this;return!this.required&&(!K_(e)||e.input.showNoValueOption)}get showNoValueLabel(){const{element:e}=this;return K_(e)?e.input.noValueOptionLabel:null}get submittable(){const{field:e,required:i,valid:o,value:h}=this;return(!i||h!=null)&&(!!o||this.initialFeature.getAttribute(e.name)===h)}get timeResolution(){var i;const e=(i=this.element)==null?void 0:i.input;if(e&&(e.type==="datetimeoffset-picker"||e.type==="time-picker"))return e.timeResolution??"minutes"}get timeStep(){return this.timeResolution!=null?IF.get(this.timeResolution):void 0}get updating(){const{editableExpressionExecutor:e,valueExpressionExecutor:i,visibilityExpressionExecutor:o,preservesValueWhenHidden:h}=this;return i!=null&&i.updating||e!=null&&e.updating||h===!1&&o!=null&&o.updating}get valid(){const e=this.editable?this._validate():null;return this._set("error",e),e===null}get value(){var e,i,o,h;if(this._fieldInputWasVisibleDuringLifetime=this._fieldInputWasVisibleDuringLifetime||this.visible&&((e=this.group)==null?void 0:e.visible)!==!1,this.preservesValueWhenHidden===!1&&this._fieldInputWasVisibleDuringLifetime&&(((i=this.visibilityExpressionExecutor)==null?void 0:i.lastEvaluatedValue)===!1||((h=(o=this.group)==null?void 0:o.visibilityExpressionExecutor)==null?void 0:h.lastEvaluatedValue)===!1))return this._storedValue!==null&&this.set("_storedValue",null),null;if(this._shouldUseValueExpression){const p=this.evaluatedValueExpression;return this.dataType===nr.Date?this._arcadeOutputToDateFieldValue(p):p!=null&&typeof p=="object"?p.toString():p}return this._storedValue}set value(e){this.notifyChange("evaluatedVisibilityExpression"),this.set("_storedValue",e)}get visible(){var e;return!this._isEditTrackingField&&(this.evaluatedVisibilityExpression!=null?this.evaluatedVisibilityExpression:this.element!=null&&((e=this.field)==null?void 0:e.visible)!==!1||this._isVisibleByDefault)}_arcadeOutputToDateFieldValue(e){const i=this.field.type;try{if(typeof e=="object"){if(e===null)throw new kt("feature-form:invalid-date-value");if(DF(e))return LF(e,i);if("getTime"in e&&typeof e.getTime=="function"&&i==="date")return parseInt(e.getTime(),10);if(i==="date-only"||i==="time-only"||i==="timestamp-offset")return e.toString()}else{if(typeof e=="string")return i==="date"?parseInt(e,10):e;if(typeof e=="number"&&i==="date")return e}throw new kt("feature-form:invalid-date-value")}catch{return i==="date"?NaN:""}}_isDomainCompatible(e){const{field:i}=this;if((e==null?void 0:e.type)==="coded-value"){const o=typeof e.codedValues[0].code;if(o==="string"&&of(i)||o==="number"&&ll(i))return!0}return!!((e==null?void 0:e.type)==="range"&&ll(i)||Tl(i)||zc(i))}_validate(){const{dataType:e,domain:i,field:o,initialFeature:h,minLength:p,range:m,required:v,valid:w,value:A,maxLength:$}=this,M=v&&A==null,P=w!==void 0;if(!M&&h.getAttribute(o.name)===A&&P)return null;if(M)return Al.INVALID_TYPE;if(e==="text"&&typeof A=="string"){if(p>-1&&A.length<p)return El.TOO_SHORT;if($>-1&&A.length>$)return El.TOO_LONG}return e!=="date"||A==null||tS({type:o.type,range:m,value:A})?i?A!==null||v?ag(o,A,i):null:af(o,A):Cl.OUT_OF_RANGE}};C([E()],It.prototype,"_dateFormRange",null),C([E()],It.prototype,"_dateRange",null),C([E()],It.prototype,"_storedValue",void 0),C([E()],It.prototype,"_configAllowsEdits",null),C([E()],It.prototype,"_layerAndFieldAllowEdits",null),C([E()],It.prototype,"_isVisibleByDefault",null),C([E()],It.prototype,"_isEditTrackingField",null),C([E()],It.prototype,"_shouldUseValueExpression",null),C([E()],It.prototype,"isSubtypeField",null),C([E()],It.prototype,"valueIsOutOfDomain",null),C([E()],It.prototype,"dataType",null),C([E()],It.prototype,"dateDataType",null),C([E()],It.prototype,"domain",null),C([E()],It.prototype,"editable",null),C([E({readOnly:!0})],It.prototype,"error",void 0),C([E({constructOnly:!0})],It.prototype,"preservesValueWhenHidden",void 0),C([E()],It.prototype,"evaluatedRequiredExpression",null),C([E()],It.prototype,"evaluatedValueExpression",null),C([E()],It.prototype,"field",void 0),C([E()],It.prototype,"group",void 0),C([E({readOnly:!0})],It.prototype,"hint",null),C([E()],It.prototype,"includeDate",null),C([E()],It.prototype,"includeTime",null),C([E()],It.prototype,"includeTimeOffset",null),C([E()],It.prototype,"initialFeature",null),C([E({readOnly:!0})],It.prototype,"inputType",null),C([E()],It.prototype,"hasInvalidSwitchValue",null),C([E()],It.prototype,"isRelationshipKeyField",null),C([E()],It.prototype,"label",null),C([E()],It.prototype,"maxLength",null),C([E()],It.prototype,"minLength",null),C([E({readOnly:!0})],It.prototype,"name",null),C([E()],It.prototype,"range",null),C([E()],It.prototype,"required",null),C([E()],It.prototype,"requiredExpressionExecutor",void 0),C([E()],It.prototype,"showNoValueOptionEnabled",null),C([E()],It.prototype,"submittable",null),C([E()],It.prototype,"timeResolution",null),C([E()],It.prototype,"timeStep",null),C([E({readOnly:!0})],It.prototype,"type",void 0),C([E()],It.prototype,"updating",null),C([E()],It.prototype,"valid",null),C([E({value:null})],It.prototype,"value",null),C([E()],It.prototype,"valueExpressionExecutor",void 0),C([E()],It.prototype,"visible",null),It=C([Y("esri.widgets.FeatureForm.FieldInput")],It);const a9=t=>t&&!Number.isNaN(t.valueOf()),vq=It,x1={showInput:"Enter",hideInput:"Escape"};let je=class extends ql{constructor(e){super(e),this.editInfo=null,this.cellValueValidatorFunction=({oldValue:i,value:o})=>i!==o,this.editable=!0,this.headerRenderFunction=i=>{const{root:o}=i,h=this.createHeaderContent();this.tableEditingEnabled&&!this.effectiveEditable&&h.prepend(this._lockIconNode),this.removeCellContent(o),o.appendChild(h)},this.inputRenderFunction=({root:i,column:o,rowData:h})=>{if(this.editInfo||!this.effectiveEditable||!h)return;const p=this.getCellValue(h),m=this.createInputElement({value:p});this._set("editInfo",{column:o,inputs:[m],root:i,rowData:h,oldValue:p});const v=document.createElement("div");v.appendChild(m),this.removeCellContent(i),i.appendChild(v),m.focus(),m instanceof HTMLInputElement&&m.select()},this.loadingMessage="",this.inputType="text",this.maxLength=null,this.onShowPromptCallback=()=>{},this.parseInputValueFunction=({inputs:i})=>i!=null&&i.length||i.length!==1||Array.isArray(i[0].value)?null:i[0].value,this.renderFunction=i=>{var M;const{root:o,rowData:h}=i,{editInfo:p}=this;if(p)return;const m=this.getCellValue(h),v=this.cellValueFormatFunction({root:o,rowData:h,value:m});let w=null;o.onclick=()=>o.focus(),o.ondblclick=()=>this.inputRenderFunction(i),o.ontouchend=()=>this.inputRenderFunction(i);const A=(M=this.grid)==null?void 0:M.getSlotElementByName(o.slot),$=A==null?void 0:A.parentElement;$&&!$.onkeydown&&($.onkeydown=P=>{P.key!==x1.showInput||this.editInfo||this.inputRenderFunction(i),P.key===x1.hideInput&&this.editInfo&&this.cancel()}),m!=null&&v!=null?o.title=v.toString():o.title&&o.removeAttribute("title"),w=v instanceof HTMLElement?v:ZS(this.messagesURIUtils,v),this.removeCellContent(o),w instanceof HTMLElement?o.appendChild(w):w!=null&&(o.innerHTML=w.toString())},this.required=!1,this.tableEditingEnabled=!1}get _lockIconNode(){var e;return this.createCalciteIcon({icon:"lock",textLabel:(e=this.messages)==null?void 0:e.editingPreventedColumn})}get effectiveEditable(){return this.tableEditingEnabled&&this.editable}get effectiveRequired(){return this.required}get editing(){return!!this.editInfo}get shouldShowPrompt(){return!1}cancel(){const{editInfo:e}=this;if(!e)return;const{column:i,root:o,rowData:h}=e;this.onEditComplete(),this.renderFunction({column:i,root:o,rowData:h})}createCalciteOption(e,i,o=!1){const h=document.createElement("calcite-option");return h.label=e,h.value=`${i}`,h.selected=o,h}createCalciteSelect(e,i){const{effectiveRequired:o,messages:h}=this;let p=!1;const m=i.map(({name:w,value:A})=>{const $=A===e;return $&&(p=!0),this.createCalciteOption(w,A,$)});if(e!=null&&e!==""&&!p){const w=e.toString(),A=this.createCalciteOption(w,w);m.unshift(A)}o||m.unshift(this.createCalciteOption(`<${h==null?void 0:h.noValue}>`,""));const v=document.createElement("calcite-select");return m.forEach(w=>v.appendChild(w)),v}createInputElement({value:e}){const{effectiveRequired:i,maxLength:o}=this,h=document.createElement("calcite-input");return o!=null&&(h.maxLength=o),h.required=i,h.value=e,h.addEventListener("calciteInputChange",()=>this.onInputBlur(h)),h.onkeydown=p=>{p.key===x1.hideInput&&this.onInputBlur(h,!0)},h.onblur=()=>this.onInputBlur(h),h}createDateComponent(){const e=document.createElement("calcite-input-date-picker");return e.focusTrapDisabled=!0,e.overlayPositioning="fixed",e}createTimeComponent(){const e=document.createElement("calcite-input-time-picker");return e.overlayPositioning="fixed",e.placement="auto-start",e.step=1,e}createTimeZoneComponent(){const e=document.createElement("calcite-input-time-zone");return e.maxItems=4,e.overlayPositioning="fixed",e}onEditComplete(){var e;this._set("editInfo",null),(e=this.grid)==null||e.generateCellPartNames()}onInputBlur(e,i=!1){e.onblur=null,i?this.cancel():this.submit()}async submit(){const{editInfo:e}=this;if(!e)return void this.cancel();const{inputs:i,rowData:o,oldValue:h}=e,p=this.parseInputValueFunction({inputs:i});if(!this.cellValueValidatorFunction({value:p,oldValue:h}))return void this.cancel();const{root:m}=e,v=o.item.objectId,{fieldName:w}=this;m.textContent=this.loadingMessage,this.shouldShowPrompt?this.onShowPromptCallback({column:this,objectId:v,oldValue:h,value:p}):await this.updateItems({objectId:v,updates:[{fieldName:w,value:p}]})}async updateItems(e){const{store:i}=this;if(i)try{await i.updateItem(e),this.onEditComplete()}catch{this.cancel()}else this.cancel()}};C([E()],je.prototype,"_lockIconNode",null),C([E({readOnly:!0})],je.prototype,"editInfo",void 0),C([E()],je.prototype,"cellValueValidatorFunction",void 0),C([E()],je.prototype,"editable",void 0),C([E()],je.prototype,"effectiveEditable",null),C([E()],je.prototype,"effectiveRequired",null),C([E()],je.prototype,"editing",null),C([E()],je.prototype,"headerRenderFunction",void 0),C([E()],je.prototype,"inputRenderFunction",void 0),C([E({constructOnly:!0})],je.prototype,"loadingMessage",void 0),C([E()],je.prototype,"inputType",void 0),C([E()],je.prototype,"maxLength",void 0),C([E()],je.prototype,"onShowPromptCallback",void 0),C([E()],je.prototype,"parseInputValueFunction",void 0),C([E()],je.prototype,"renderFunction",void 0),C([E()],je.prototype,"required",void 0),C([E()],je.prototype,"shouldShowPrompt",null),C([E()],je.prototype,"tableEditingEnabled",void 0),je=C([Y("esri.widgets.FeatureTable.Grid.EditorColumn")],je);const wq=je,_q={cancelEdit:"Escape"},l9="esri-column",h9={input:`${l9}__cell-input`,inputContainer:`${l9}__cell__input-container`},xq="__internal-type-based-coded-value-domain__",Sq=$i("short-date-short-time"),Cq=$i("short-date"),c9={useGrouping:!0,maximumFractionDigits:20};let Ut=class extends wq{constructor(e){super(e),this._activeFieldInput=null,this.cellValueFormatFunction=({root:i,rowData:o,value:h})=>{var w,A,$;const{formatFunction:p}=this;if(p&&o){const{index:M,item:{attachments:P,feature:R,relatedRecords:B}}=o;return p({attachments:P,column:this,feature:R,field:this.field,index:M,relatedRecords:B,value:ci.sanitize(h),virtualIndex:this.getVirtualRowIndex(i)})}if(h===null)return"&nbsp;";const{field:m}=this,v=this._getDomainForFeature((w=o==null?void 0:o.item)==null?void 0:w.feature);if(v){const M=this._getComputedDomain(h,v);if(m.type==="date"&&v.type==="range")return this._formatDateValueForDisplay(m,M);if(this._isNumericField&&v.type==="range"){const P=(A=this.template)==null?void 0:A.format,R=P?yl(P):c9;return Hi(parseFloat(h),R)}return M_.has(m.type)?v.type==="range"?ci.sanitize(sg(m,M)):ci.sanitize(M):M}if(m.type==="date"||M_.has(m.type))return this._formatDateValueForDisplay(m,h);if(this._isNumericField){const M=($=this.template)==null?void 0:$.format,P=M?yl(M):c9;return Hi(parseFloat(h),P)}return ci.sanitize(h)},this.cellValueValidatorFunction=({oldValue:i,value:o})=>{const{_effectiveRange:h,field:p}=this,{max:m,min:v}=h;if(this.effectiveRequired&&(o==null||o===""))return!1;if(this._isNumericField&&(af(p,o)||!rf({max:m,min:v,value:o})))return Rt.getLogger(this).warn("value-exceeds-valid-range","Field value exceeds valid range. Attempted edit was rejected."),!1;if(this._isAnyDateOrTimeField){const w=p.type;if(!tS({type:w,range:h,value:o}))return!1}return i!==o},this.field=null,this.formatFunction=null,this.inputRenderFunction=async({root:i,column:o,rowData:h})=>{var P,R;if(this.editInfo||!this.effectiveEditable)return;const p=this.getCellValue(h),{field:m}=this;if(m.type==="big-integer"&&af(m,p))return void Rt.getLogger(this).warn("value-exceeds-valid-range","Field value is beyond supported limit. Editing is disabled for this field value.");const v=h==null?void 0:h.item.feature;if(!v)return;this._activeFieldInput=this._setUpFieldInput(v,p);const w=document.createElement("div");w.classList.add(h9.inputContainer);const A=[],$=((P=this._effectiveDomain)==null?void 0:P.type)==="coded-value";if(this._isAnyDateOrTimeField&&!$){const B=document.createElement("div"),G=this._setUpDateComponents(p),H=this._setUpDateActionBar();G.forEach(Z=>B.appendChild(Z)),w.appendChild(B),w.appendChild(H),A.push(...G)}else{const B=this.createInputElement({value:p});w.appendChild(B),A.push(B)}this._set("editInfo",{column:o,inputs:A,root:i,rowData:h,oldValue:p}),this.removeCellContent(i),i.appendChild(w),this._syncRowEditingState(i,!0),(R=this.grid)==null||R.generateCellPartNames();const M=A[0];await jv(M),"selectText"in M&&await M.selectText()},this.layer=null,this.parseInputValueFunction=({inputs:i})=>{var A;const{editInfo:o,field:h,includeTime:p}=this;if(!o||!i.length)return null;const m=i[0];if(this._isAnyDateOrTimeField){const{timeZone:$}=this.effectiveTimeZoneOptions,M=o.oldValue??void 0;if(((A=this._effectiveDomain)==null?void 0:A.type)==="coded-value")return m.value!=null?parseFloat(m.value):null;switch(h.type){case"date-only":{const P=m.value;return P!==""?P:null}case"time-only":{const P=Q8(m.value);return P!==""?P:null}case"timestamp-offset":{const P=p?i[1]:void 0,R=i.at(-1);return NF({oldValue:M,dateComponent:m,timeComponent:P,timeZoneComponent:R,defaultTimeZone:$})}case"date":{const{max:P,min:R}=this._effectiveRange;return RF({oldValue:M,dateComponent:m,timeComponent:i[1],timeZone:$,max:P,min:R})}}return null}const v=m.value,{effectiveRequired:w}=this;return w||v!=null&&v!==""?this._isNumericField?parseFloat(v):this._isStringField?v.trim():v:null},this.sortable=!0,this.store=null,this.template=null,this.view=null}get _effectiveDomain(){var i;const e=(i=this._activeFieldInput)==null?void 0:i.feature;return e?this._getDomainForFeature(e):null}get _effectiveRange(){var e;return((e=this._activeFieldInput)==null?void 0:e.range)??{max:null,min:null}}get _isAnyDateOrTimeField(){const{field:e}=this;return Tl(e)||zc(e)}get _isIntegerField(){return uB(this.field)}get _isNumericField(){return ll(this.field)}get _isStringField(){return of(this.field)}get _isSubtypeField(){var i;const{layer:e}=this;if(e!=null&&e.subtypeField){const{subtypeField:o,fieldsIndex:h}=e;return(((i=h.get(o))==null?void 0:i.name)??o)===this.fieldName}return!1}get _isTypeIdField(){var i;const{layer:e}=this;if(e!=null&&e.typeIdField){const{typeIdField:o,fieldsIndex:h}=e;return(((i=h.get(o))==null?void 0:i.name)??o)===this.fieldName}return!1}get _normalizedTypeInfo(){return bC(this.layer)}get alias(){var e;return(e=this.field)==null?void 0:e.alias}get defaultValue(){var e;return(e=this.field)==null?void 0:e.defaultValue}get effectiveDescription(){const{description:e,field:i}=this,o=i.description,h=gg(e)?gg(o)?null:o:e;return h==null?null:ci.sanitize(h)}get effectiveEditable(){var w;const{editable:e,field:i,layer:o,tableEditingEnabled:h}=this;if(!i||!o)return!1;const p=jB(o),m=o.effectiveCapabilities??o.capabilities,v=(w=m==null?void 0:m.operations)==null?void 0:w.supportsUpdate;return!!(i.editable&&p&&v&&i.type!=="oid"&&h)&&e}get effectiveLabel(){return ci.sanitize(this.label||this.alias||this.fieldName)}get effectiveRequired(){var e;return!this.nullable||this._isSubtypeField||((e=this._activeFieldInput)==null?void 0:e.required)||this.required}get effectiveTimeZoneOptions(){const{layer:e,field:i}=this;if(!e||(i==null?void 0:i.type)!=="date"&&(i==null?void 0:i.type)!=="timestamp-offset")return{timeZone:void 0,timeZoneName:void 0};const{tableTimeZone:o,timeZone:h,view:p}=this;return nv(e.preferredTimeZone||null,!!e.datesInUnknownTimezone,h??o??(p==null?void 0:p.timeZone)??Fl,$i("short-time"),i.type)}get includeTime(){const{field:e,template:i}=this;return e.type==="time-only"||e.type!=="date-only"&&(!(i!=null&&i.input)||"includeTime"in i.input&&i.input.includeTime!==!1)}get loadingMessage(){var e;return((e=this.messages)==null?void 0:e.loading)||"..."}get maxLength(){const{field:e,template:i}=this,o=(e==null?void 0:e.length)??-1,h=i!=null&&i.input&&"maxLength"in i.input?i.input.maxLength:null;return h!=null&&!isNaN(h)&&h>=-1&&(o===-1||h<=o)?h:o}get minLength(){const{template:e,maxLength:i}=this,o=e!=null&&e.input&&"minLength"in e.input?e.input.minLength:null;return i&&o<=i?o:null}get name(){var e;return(e=this.field)==null?void 0:e.name}get nullable(){return this.field.nullable!==!1}get shouldShowPrompt(){return this._isSubtypeField}createInputElement({value:e}){const{_effectiveDomain:i,maxLength:o,minLength:h,effectiveRequired:p}=this;let m;if((i==null?void 0:i.type)==="coded-value")m=this.createCalciteSelect(e,i.codedValues.map(({code:v,name:w})=>({value:v,name:w}))),m.addEventListener("calciteSelectChange",()=>this.onInputBlur(m));else if(this._isNumericField){const{_effectiveRange:{max:v,min:w}}=this;m=document.createElement("calcite-input"),m.type="number",this._isIntegerField&&(m.step=1),v!=null&&(m.max=v),w!=null&&(m.min=w),m.status=rf({max:v,min:w,value:e})?"idle":"invalid"}else m=document.createElement("calcite-input"),m.addEventListener("calciteInputChange",()=>this.onInputBlur(m)),o>-1&&(m.maxLength=o),h>0&&(m.minLength=h);return m.classList.add(h9.input),m.required=p,m.value=e,m.onkeydown=v=>{v.key===_q.cancelEdit&&this.onInputBlur(m,!0)},m.onblur=()=>this.onInputBlur(m),m}onEditComplete(){var i;const e=(i=this.editInfo)==null?void 0:i.root;e&&this._syncRowEditingState(e,!1),this._activeFieldInput=null,super.onEditComplete()}_clearActiveEditValues(){var e,i;(i=(e=this.editInfo)==null?void 0:e.inputs)==null||i.forEach(o=>o.value="")}_setUpDateActionBar(){const{messagesCommon:e}=this,i=(e==null?void 0:e.cancel)??"",o=(e==null?void 0:e.clear)??"",h=(e==null?void 0:e.save)??"",p=document.createElement("calcite-action-bar");return p.expandDisabled=!0,p.layout="horizontal",p.appendChild(this.createCalciteAction({text:h,icon:"save",onclick:()=>this.submit()})),this.effectiveRequired||p.appendChild(this.createCalciteAction({text:o,icon:"trash",onclick:()=>{this._clearActiveEditValues(),this.submit()}})),p.appendChild(this.createCalciteAction({text:i,icon:"x",onclick:()=>this.cancel()})),p}_formatDateValueForDisplay(e,i){const{timeZone:o,timeZoneName:h}=this.effectiveTimeZoneOptions;return i!=null?sg(e,i,{...this._getDateFormatOptions(),timeZone:o,timeZoneName:h}):null}_setUpDateComponents(e){const{_effectiveRange:{max:i,min:o,rawMax:h,rawMin:p},field:m,effectiveRequired:v}=this,w=this._getDateFieldValuesForComponents(m,e),A=[];if(Tl(m)){const $=this.createDateComponent(),M=fg(m)||pg(m)?h:i,P=fg(m)||pg(m)?p:o,R=this._getDateFieldValuesForComponents(m,M??null),B=this._getDateFieldValuesForComponents(m,P??null);$.value=w.date??"",$.max=R.date??"",$.min=B.date??"",$.required=v,$.addEventListener("calciteInputDatePickerOpen",()=>this._onDateComponentOpen($)),A.push($)}if(this.includeTime){const $=this.createTimeComponent();$.value=w.time??"",$.required=v,$.addEventListener("calciteInputTimePickerOpen",()=>this._onDateComponentOpen($)),A.push($)}if(m.type==="timestamp-offset"){const $=this.createTimeZoneComponent();$.value=w.timeZoneOffset??"0",$.addEventListener("calciteInputTimeZoneOpen",()=>this._onDateComponentOpen($)),A.push($)}return A}_onDateComponentOpen(e){var i;(i=this.editInfo)==null||i.inputs.forEach(o=>{o!==e&&"open"in o&&(o.open=!1)})}_syncRowEditingState(e,i=!1){var h;const o=(h=this.grid)==null?void 0:h.getRowContainingNode(e);o&&(i?o.setAttribute("editing","true"):o.removeAttribute("editing"))}_getDateFieldValuesForComponents(e,i){switch(e.type){case"date":return PF(i,this.effectiveTimeZoneOptions.timeZone);case"date-only":return{date:i};case"time-only":return{time:i};case"timestamp-offset":return K8(i);default:return{}}}_setUpFieldInput(e,i){const{field:o,layer:h,effectiveTimeZoneOptions:{timeZone:p}}=this,m=new vq({feature:e,field:o,initialFeature:e.clone(),layer:h,timeZone:p});return m.set("value",i),m}_isDomainCompatible(e){if(!e)return!1;const{_isNumericField:i,_isStringField:o}=this,{type:h}=e;if(h==="coded-value"){const p=typeof e.codedValues[0].code;if(p==="string"&&o||p==="number"&&i)return!0}return!(h!=="range"||!i)}_getDomainForFeature(e){const{fieldName:i,layer:o,template:h}=this;if(!e||!(o!=null&&o.getFieldDomain)||o.type==="wfs"||o.type==="geojson"||o.type==="csv"||o.type==="knowledge-graph-sublayer")return null;if(h!=null&&h.domain&&this._isDomainCompatible(h.domain))return h.domain;const{types:p}=this._normalizedTypeInfo;return p.length&&(this._isSubtypeField||this._isTypeIdField&&this.field.domain==null)?new Fc({name:xq,codedValues:p.map(({code:m,name:v})=>new Ts({code:m,name:v}))}):o.getFieldDomain(i,{feature:e})}_getComputedDomain(e,i){if(!i)return null;if(i.type==="range")return e;if(i.type==="coded-value"){const o=i.codedValues.filter(h=>h.hasOwnProperty("code")&&h.code===e);return o&&o.length?o[0].name:e}return null}_getDateFormatOptions(){var o;const{template:e}=this,i=(o=e==null?void 0:e.format)==null?void 0:o.dateFormat;return i?$i(i):e!=null&&e.input&&"includeTime"in e.input&&e.input.includeTime===!1?Cq:Sq}};C([E()],Ut.prototype,"_effectiveDomain",null),C([E()],Ut.prototype,"_activeFieldInput",void 0),C([E()],Ut.prototype,"_effectiveRange",null),C([E()],Ut.prototype,"_isAnyDateOrTimeField",null),C([E()],Ut.prototype,"_isIntegerField",null),C([E()],Ut.prototype,"_isNumericField",null),C([E()],Ut.prototype,"_isStringField",null),C([E()],Ut.prototype,"_isSubtypeField",null),C([E()],Ut.prototype,"_isTypeIdField",null),C([E()],Ut.prototype,"_normalizedTypeInfo",null),C([E({readOnly:!0})],Ut.prototype,"alias",null),C([E()],Ut.prototype,"cellValueFormatFunction",void 0),C([E()],Ut.prototype,"cellValueValidatorFunction",void 0),C([E({readOnly:!0})],Ut.prototype,"defaultValue",null),C([E()],Ut.prototype,"effectiveDescription",null),C([E()],Ut.prototype,"effectiveEditable",null),C([E()],Ut.prototype,"effectiveLabel",null),C([E()],Ut.prototype,"effectiveRequired",null),C([E()],Ut.prototype,"effectiveTimeZoneOptions",null),C([E()],Ut.prototype,"field",void 0),C([E()],Ut.prototype,"formatFunction",void 0),C([E()],Ut.prototype,"includeTime",null),C([E()],Ut.prototype,"inputRenderFunction",void 0),C([E()],Ut.prototype,"layer",void 0),C([E({readOnly:!0})],Ut.prototype,"loadingMessage",null),C([E()],Ut.prototype,"maxLength",null),C([E()],Ut.prototype,"minLength",null),C([E({readOnly:!0})],Ut.prototype,"name",null),C([E({readOnly:!0})],Ut.prototype,"nullable",null),C([E()],Ut.prototype,"parseInputValueFunction",void 0),C([E()],Ut.prototype,"shouldShowPrompt",null),C([E()],Ut.prototype,"sortable",void 0),C([E()],Ut.prototype,"store",void 0),C([E()],Ut.prototype,"template",void 0),C([E()],Ut.prototype,"view",void 0),Ut=C([Y("esri.widgets.FeatureTable.FieldColumn")],Ut);const u9=Ut,Aq={showRecordsButton:"esri-column__show-related-records-button"};let Ye=class extends ql{constructor(e){super(e),this.flexGrow=1,this.icon="link",this.layer=null,this.relatedLayer=null,this.relationshipId=null,this.renderFunction=({root:i,rowData:o})=>{var rt;if(!o)return;const h=o.item,{layer:p,relatedLayer:m}=this;if(!(h!=null&&h.feature)||!Ao(p)||!Ao(m))return;const{messages:v}=this,{index:w}=o,{feature:A,objectId:$}=h,{collapsed:M,showRelatedTableCallback:P,relationshipId:R}=this,B=h.relatedRecords,G=((rt=B==null?void 0:B.find(et=>et.relationshipId===R))==null?void 0:rt.count)??0,H=!M&&P&&(v!=null&&v.recordsCount)?en(v.recordsCount,{count:G}):`${G}`,Z=et=>{var nt;et.preventDefault(),M||((nt=this.showRelatedTableCallback)==null||nt.call(this,{feature:A,index:w,layer:p,objectId:$,relatedLayer:m,relationshipId:R}))},X=M?"":"chevron-right";if(i.firstChild){const et=i.firstChild;return et.textContent=H,et.onclick=Z,void(et.iconEnd=X)}const Q=this.createCalciteButton({className:`${Aq.showRecordsButton} ${vs.contentFull}`,iconEnd:X,iconFlipRtl:"both",scale:"m",textContent:H,title:H,onclick:Z});this.removeCellContent(i),i.appendChild(Q)},this.resizable=!0,this.showRelatedTableCallback=null,this.textAlign="center",this.width="200px"}get _relationshipLabel(){var e;return this.label||((e=this.originRelationship)==null?void 0:e.name)||this.layer.title||""}get collapsed(){return this._get("collapsed")||!1}set collapsed(e){e?this.set({flexGrow:0,resizable:!1,width:"80px"}):this.set({flexGrow:1,resizable:!0,width:"200px"}),this._set("collapsed",e)}get effectiveLabel(){return this.collapsed?"":this._relationshipLabel}get iconNode(){const{icon:e}=this;return e?this.createCalciteIcon({icon:e,textLabel:this._relationshipLabel}):null}get originRelationship(){var i;const e=this.relationshipId;return(i=this.relatedLayer.relationships)==null?void 0:i.find(({id:o})=>o===e)}get relationship(){return JS(this.layer,this.relationshipId)}};C([E()],Ye.prototype,"_relationshipLabel",null),C([E()],Ye.prototype,"collapsed",null),C([E()],Ye.prototype,"effectiveLabel",null),C([E()],Ye.prototype,"flexGrow",void 0),C([E()],Ye.prototype,"icon",void 0),C([E()],Ye.prototype,"iconNode",null),C([E()],Ye.prototype,"layer",void 0),C([E()],Ye.prototype,"originRelationship",null),C([E()],Ye.prototype,"relatedLayer",void 0),C([E()],Ye.prototype,"relationship",null),C([E()],Ye.prototype,"relationshipId",void 0),C([E()],Ye.prototype,"renderFunction",void 0),C([E()],Ye.prototype,"resizable",void 0),C([E()],Ye.prototype,"showRelatedTableCallback",void 0),C([E()],Ye.prototype,"textAlign",void 0),C([E()],Ye.prototype,"width",void 0),Ye=C([Y("esri.widgets.FeatureTable.RelationshipColumn")],Ye);const S1=Ye;/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function ha(t,e="24.4.11"){Object.defineProperty(t,"version",{get(){return e}});const i=customElements.get(t.is);if(!i)customElements.define(t.is,t);else{const o=i.version;o&&t.version&&o===t.version?console.warn(`The component ${t.is} has been loaded twice`):console.error(`Tried to define ${t.is} version ${t.version} when version ${i.version} is already in use. Something will probably break.`)}}/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class Tq extends HTMLElement{static get is(){return"vaadin-lumo-styles"}}ha(Tq);/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Rd=globalThis,r2=Rd.ShadowRoot&&(Rd.ShadyCSS===void 0||Rd.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n2=Symbol(),d9=new WeakMap;let s2=class{constructor(e,i,o){if(this._$cssResult$=!0,o!==n2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=i}get styleSheet(){let e=this.o;const i=this.t;if(r2&&e===void 0){const o=i!==void 0&&i.length===1;o&&(e=d9.get(i)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),o&&d9.set(i,e))}return e}toString(){return this.cssText}};const Eq=t=>new s2(typeof t=="string"?t:t+"",void 0,n2),vi=(t,...e)=>{const i=t.length===1?t[0]:e.reduce((o,h,p)=>o+(m=>{if(m._$cssResult$===!0)return m.cssText;if(typeof m=="number")return m;throw Error("Value passed to 'css' function must be a 'css' function result: "+m+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(h)+t[p+1],t[0]);return new s2(i,t,n2)},kC=(t,e)=>{if(r2)t.adoptedStyleSheets=e.map(i=>i instanceof CSSStyleSheet?i:i.styleSheet);else for(const i of e){const o=document.createElement("style"),h=Rd.litNonce;h!==void 0&&o.setAttribute("nonce",h),o.textContent=i.cssText,t.appendChild(o)}},f9=r2?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let i="";for(const o of e.cssRules)i+=o.cssText;return Eq(i)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:$q,defineProperty:Iq,getOwnPropertyDescriptor:kq,getOwnPropertyNames:Mq,getOwnPropertySymbols:Oq,getPrototypeOf:Pq}=Object,Os=globalThis,p9=Os.trustedTypes,Nq=p9?p9.emptyScript:"",C1=Os.reactiveElementPolyfillSupport,cc=(t,e)=>t,$g={toAttribute(t,e){switch(e){case Boolean:t=t?Nq:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=t!==null;break;case Number:i=t===null?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch{i=null}}return i}},MC=(t,e)=>!$q(t,e),m9={attribute:!0,type:String,converter:$g,reflect:!1,hasChanged:MC};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),Os.litPropertyMetadata??(Os.litPropertyMetadata=new WeakMap);let Ea=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,i=m9){if(i.state&&(i.attribute=!1),this._$Ei(),this.elementProperties.set(e,i),!i.noAccessor){const o=Symbol(),h=this.getPropertyDescriptor(e,o,i);h!==void 0&&Iq(this.prototype,e,h)}}static getPropertyDescriptor(e,i,o){const{get:h,set:p}=kq(this.prototype,e)??{get(){return this[i]},set(m){this[i]=m}};return{get(){return h==null?void 0:h.call(this)},set(m){const v=h==null?void 0:h.call(this);p.call(this,m),this.requestUpdate(e,v,o)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??m9}static _$Ei(){if(this.hasOwnProperty(cc("elementProperties")))return;const e=Pq(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(cc("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(cc("properties"))){const i=this.properties,o=[...Mq(i),...Oq(i)];for(const h of o)this.createProperty(h,i[h])}const e=this[Symbol.metadata];if(e!==null){const i=litPropertyMetadata.get(e);if(i!==void 0)for(const[o,h]of i)this.elementProperties.set(o,h)}this._$Eh=new Map;for(const[i,o]of this.elementProperties){const h=this._$Eu(i,o);h!==void 0&&this._$Eh.set(h,i)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const i=[];if(Array.isArray(e)){const o=new Set(e.flat(1/0).reverse());for(const h of o)i.unshift(f9(h))}else e!==void 0&&i.push(f9(e));return i}static _$Eu(e,i){const o=i.attribute;return o===!1?void 0:typeof o=="string"?o:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(i=>this.enableUpdating=i),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(i=>i(this))}addController(e){var i;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((i=e.hostConnected)==null||i.call(e))}removeController(e){var i;(i=this._$EO)==null||i.delete(e)}_$E_(){const e=new Map,i=this.constructor.elementProperties;for(const o of i.keys())this.hasOwnProperty(o)&&(e.set(o,this[o]),delete this[o]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return kC(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(i=>{var o;return(o=i.hostConnected)==null?void 0:o.call(i)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(i=>{var o;return(o=i.hostDisconnected)==null?void 0:o.call(i)})}attributeChangedCallback(e,i,o){this._$AK(e,o)}_$EC(e,i){var p;const o=this.constructor.elementProperties.get(e),h=this.constructor._$Eu(e,o);if(h!==void 0&&o.reflect===!0){const m=(((p=o.converter)==null?void 0:p.toAttribute)!==void 0?o.converter:$g).toAttribute(i,o.type);this._$Em=e,m==null?this.removeAttribute(h):this.setAttribute(h,m),this._$Em=null}}_$AK(e,i){var p;const o=this.constructor,h=o._$Eh.get(e);if(h!==void 0&&this._$Em!==h){const m=o.getPropertyOptions(h),v=typeof m.converter=="function"?{fromAttribute:m.converter}:((p=m.converter)==null?void 0:p.fromAttribute)!==void 0?m.converter:$g;this._$Em=h,this[h]=v.fromAttribute(i,m.type),this._$Em=null}}requestUpdate(e,i,o){if(e!==void 0){if(o??(o=this.constructor.getPropertyOptions(e)),!(o.hasChanged??MC)(this[e],i))return;this.P(e,i,o)}this.isUpdatePending===!1&&(this._$ES=this._$ET())}P(e,i,o){this._$AL.has(e)||this._$AL.set(e,i),o.reflect===!0&&this._$Em!==e&&(this._$Ej??(this._$Ej=new Set)).add(e)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(i){Promise.reject(i)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var o;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[p,m]of this._$Ep)this[p]=m;this._$Ep=void 0}const h=this.constructor.elementProperties;if(h.size>0)for(const[p,m]of h)m.wrapped!==!0||this._$AL.has(p)||this[p]===void 0||this.P(p,this[p],m)}let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),(o=this._$EO)==null||o.forEach(h=>{var p;return(p=h.hostUpdate)==null?void 0:p.call(h)}),this.update(i)):this._$EU()}catch(h){throw e=!1,this._$EU(),h}e&&this._$AE(i)}willUpdate(e){}_$AE(e){var i;(i=this._$EO)==null||i.forEach(o=>{var h;return(h=o.hostUpdated)==null?void 0:h.call(o)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Ej&&(this._$Ej=this._$Ej.forEach(i=>this._$EC(i,this[i]))),this._$EU()}updated(e){}firstUpdated(e){}};Ea.elementStyles=[],Ea.shadowRootOptions={mode:"open"},Ea[cc("elementProperties")]=new Map,Ea[cc("finalized")]=new Map,C1==null||C1({ReactiveElement:Ea}),(Os.reactiveElementVersions??(Os.reactiveElementVersions=[])).push("2.0.4");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const uc=globalThis,cf=uc.trustedTypes,g9=cf?cf.createPolicy("lit-html",{createHTML:t=>t}):void 0,OC="$lit$",ws=`lit$${Math.random().toFixed(9).slice(2)}$`,PC="?"+ws,Rq=`<${PC}>`,ea=document,Gc=()=>ea.createComment(""),qc=t=>t===null||typeof t!="object"&&typeof t!="function",o2=Array.isArray,Lq=t=>o2(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",A1=`[ 	
\f\r]`,ch=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,y9=/-->/g,b9=/>/g,Xs=RegExp(`>|${A1}(?:([^\\s"'>=/]+)(${A1}*=${A1}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),v9=/'/g,w9=/"/g,NC=/^(?:script|style|textarea|title)$/i,$l=Symbol.for("lit-noChange"),ii=Symbol.for("lit-nothing"),_9=new WeakMap,To=ea.createTreeWalker(ea,129);function RC(t,e){if(!o2(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return g9!==void 0?g9.createHTML(e):e}const Dq=(t,e)=>{const i=t.length-1,o=[];let h,p=e===2?"<svg>":e===3?"<math>":"",m=ch;for(let v=0;v<i;v++){const w=t[v];let A,$,M=-1,P=0;for(;P<w.length&&(m.lastIndex=P,$=m.exec(w),$!==null);)P=m.lastIndex,m===ch?$[1]==="!--"?m=y9:$[1]!==void 0?m=b9:$[2]!==void 0?(NC.test($[2])&&(h=RegExp("</"+$[2],"g")),m=Xs):$[3]!==void 0&&(m=Xs):m===Xs?$[0]===">"?(m=h??ch,M=-1):$[1]===void 0?M=-2:(M=m.lastIndex-$[2].length,A=$[1],m=$[3]===void 0?Xs:$[3]==='"'?w9:v9):m===w9||m===v9?m=Xs:m===y9||m===b9?m=ch:(m=Xs,h=void 0);const R=m===Xs&&t[v+1].startsWith("/>")?" ":"";p+=m===ch?w+Rq:M>=0?(o.push(A),w.slice(0,M)+OC+w.slice(M)+ws+R):w+ws+(M===-2?v:R)}return[RC(t,p+(t[i]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),o]};let Ig=class LC{constructor({strings:e,_$litType$:i},o){let h;this.parts=[];let p=0,m=0;const v=e.length-1,w=this.parts,[A,$]=Dq(e,i);if(this.el=LC.createElement(A,o),To.currentNode=this.el.content,i===2||i===3){const M=this.el.content.firstChild;M.replaceWith(...M.childNodes)}for(;(h=To.nextNode())!==null&&w.length<v;){if(h.nodeType===1){if(h.hasAttributes())for(const M of h.getAttributeNames())if(M.endsWith(OC)){const P=$[m++],R=h.getAttribute(M).split(ws),B=/([.?@])?(.*)/.exec(P);w.push({type:1,index:p,name:B[2],strings:R,ctor:B[1]==="."?jq:B[1]==="?"?Fq:B[1]==="@"?Uq:mp}),h.removeAttribute(M)}else M.startsWith(ws)&&(w.push({type:6,index:p}),h.removeAttribute(M));if(NC.test(h.tagName)){const M=h.textContent.split(ws),P=M.length-1;if(P>0){h.textContent=cf?cf.emptyScript:"";for(let R=0;R<P;R++)h.append(M[R],Gc()),To.nextNode(),w.push({type:2,index:++p});h.append(M[P],Gc())}}}else if(h.nodeType===8)if(h.data===PC)w.push({type:2,index:p});else{let M=-1;for(;(M=h.data.indexOf(ws,M+1))!==-1;)w.push({type:7,index:p}),M+=ws.length-1}p++}}static createElement(e,i){const o=ea.createElement("template");return o.innerHTML=e,o}};function Il(t,e,i=t,o){var m,v;if(e===$l)return e;let h=o!==void 0?(m=i._$Co)==null?void 0:m[o]:i._$Cl;const p=qc(e)?void 0:e._$litDirective$;return(h==null?void 0:h.constructor)!==p&&((v=h==null?void 0:h._$AO)==null||v.call(h,!1),p===void 0?h=void 0:(h=new p(t),h._$AT(t,i,o)),o!==void 0?(i._$Co??(i._$Co=[]))[o]=h:i._$Cl=h),h!==void 0&&(e=Il(t,h._$AS(t,e.values),h,o)),e}let zq=class{constructor(e,i){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:i},parts:o}=this._$AD,h=((e==null?void 0:e.creationScope)??ea).importNode(i,!0);To.currentNode=h;let p=To.nextNode(),m=0,v=0,w=o[0];for(;w!==void 0;){if(m===w.index){let A;w.type===2?A=new a2(p,p.nextSibling,this,e):w.type===1?A=new w.ctor(p,w.name,w.strings,this,e):w.type===6&&(A=new Bq(p,this,e)),this._$AV.push(A),w=o[++v]}m!==(w==null?void 0:w.index)&&(p=To.nextNode(),m++)}return To.currentNode=ea,h}p(e){let i=0;for(const o of this._$AV)o!==void 0&&(o.strings!==void 0?(o._$AI(e,o,i),i+=o.strings.length-2):o._$AI(e[i])),i++}},a2=class DC{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,i,o,h){this.type=2,this._$AH=ii,this._$AN=void 0,this._$AA=e,this._$AB=i,this._$AM=o,this.options=h,this._$Cv=(h==null?void 0:h.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const i=this._$AM;return i!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=i.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,i=this){e=Il(this,e,i),qc(e)?e===ii||e==null||e===""?(this._$AH!==ii&&this._$AR(),this._$AH=ii):e!==this._$AH&&e!==$l&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):Lq(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==ii&&qc(this._$AH)?this._$AA.nextSibling.data=e:this.T(ea.createTextNode(e)),this._$AH=e}$(e){var p;const{values:i,_$litType$:o}=e,h=typeof o=="number"?this._$AC(e):(o.el===void 0&&(o.el=Ig.createElement(RC(o.h,o.h[0]),this.options)),o);if(((p=this._$AH)==null?void 0:p._$AD)===h)this._$AH.p(i);else{const m=new zq(h,this),v=m.u(this.options);m.p(i),this.T(v),this._$AH=m}}_$AC(e){let i=_9.get(e.strings);return i===void 0&&_9.set(e.strings,i=new Ig(e)),i}k(e){o2(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let o,h=0;for(const p of e)h===i.length?i.push(o=new DC(this.O(Gc()),this.O(Gc()),this,this.options)):o=i[h],o._$AI(p),h++;h<i.length&&(this._$AR(o&&o._$AB.nextSibling,h),i.length=h)}_$AR(e=this._$AA.nextSibling,i){var o;for((o=this._$AP)==null?void 0:o.call(this,!1,!0,i);e&&e!==this._$AB;){const h=e.nextSibling;e.remove(),e=h}}setConnected(e){var i;this._$AM===void 0&&(this._$Cv=e,(i=this._$AP)==null||i.call(this,e))}},mp=class{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,i,o,h,p){this.type=1,this._$AH=ii,this._$AN=void 0,this.element=e,this.name=i,this._$AM=h,this.options=p,o.length>2||o[0]!==""||o[1]!==""?(this._$AH=Array(o.length-1).fill(new String),this.strings=o):this._$AH=ii}_$AI(e,i=this,o,h){const p=this.strings;let m=!1;if(p===void 0)e=Il(this,e,i,0),m=!qc(e)||e!==this._$AH&&e!==$l,m&&(this._$AH=e);else{const v=e;let w,A;for(e=p[0],w=0;w<p.length-1;w++)A=Il(this,v[o+w],i,w),A===$l&&(A=this._$AH[w]),m||(m=!qc(A)||A!==this._$AH[w]),A===ii?e=ii:e!==ii&&(e+=(A??"")+p[w+1]),this._$AH[w]=A}m&&!h&&this.j(e)}j(e){e===ii?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}},jq=class extends mp{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===ii?void 0:e}},Fq=class extends mp{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==ii)}},Uq=class extends mp{constructor(e,i,o,h,p){super(e,i,o,h,p),this.type=5}_$AI(e,i=this){if((e=Il(this,e,i,0)??ii)===$l)return;const o=this._$AH,h=e===ii&&o!==ii||e.capture!==o.capture||e.once!==o.once||e.passive!==o.passive,p=e!==ii&&(o===ii||h);h&&this.element.removeEventListener(this.name,this,o),p&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var i;typeof this._$AH=="function"?this._$AH.call(((i=this.options)==null?void 0:i.host)??this.element,e):this._$AH.handleEvent(e)}},Bq=class{constructor(e,i,o){this.element=e,this.type=6,this._$AN=void 0,this._$AM=i,this.options=o}get _$AU(){return this._$AM._$AU}_$AI(e){Il(this,e)}};const T1=uc.litHtmlPolyfillSupport;T1==null||T1(Ig,a2),(uc.litHtmlVersions??(uc.litHtmlVersions=[])).push("3.2.1");const Vq=(t,e,i)=>{const o=(i==null?void 0:i.renderBefore)??e;let h=o._$litPart$;if(h===void 0){const p=(i==null?void 0:i.renderBefore)??null;o._$litPart$=h=new a2(e.insertBefore(Gc(),p),p,void 0,i??{})}return h._$AI(t),h};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */let hl=class extends Ea{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var i;const e=super.createRenderRoot();return(i=this.renderOptions).renderBefore??(i.renderBefore=e.firstChild),e}update(e){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=Vq(i,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return $l}};var $5;hl._$litElement$=!0,hl.finalized=!0,($5=globalThis.litElementHydrateSupport)==null||$5.call(globalThis,{LitElement:hl});const E1=globalThis.litElementPolyfillSupport;E1==null||E1({LitElement:hl});(globalThis.litElementVersions??(globalThis.litElementVersions=[])).push("4.1.1");/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Gq=t=>class extends t{static get properties(){return{_theme:{type:String,readOnly:!0}}}static get observedAttributes(){return[...super.observedAttributes,"theme"]}attributeChangedCallback(i,o,h){super.attributeChangedCallback(i,o,h),i==="theme"&&this._set_theme(h)}};/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const zC=[],kg=new Set,l2=new Set;function jC(t){return t&&Object.prototype.hasOwnProperty.call(t,"__themes")}function qq(t){return jC(customElements.get(t))}function Hq(t=[]){return[t].flat(1/0).filter(e=>e instanceof s2?!0:(console.warn("An item in styles is not of type CSSResult. Use `unsafeCSS` or `css`."),!1))}function FC(t,e){return(t||"").split(" ").some(i=>new RegExp(`^${i.split("*").join(".*")}$`,"u").test(e))}function UC(t){return t.map(e=>e.cssText).join(`
`)}const uf="vaadin-themable-mixin-style";function Wq(t,e){const i=document.createElement("style");i.id=uf,i.textContent=UC(t),e.content.appendChild(i)}function Jq(t){if(!t.shadowRoot)return;const e=t.constructor;if(t instanceof hl)[...t.shadowRoot.querySelectorAll("style")].forEach(i=>i.remove()),kC(t.shadowRoot,e.elementStyles);else{const i=t.shadowRoot.getElementById(uf),o=e.prototype._template;i.textContent=o.content.getElementById(uf).textContent}}function Zq(t){kg.forEach(e=>{const i=e.deref();i instanceof t?Jq(i):i||kg.delete(e)})}function BC(t){if(t.prototype instanceof hl)t.elementStyles=t.finalizeStyles(t.styles);else{const e=t.prototype._template;e.content.getElementById(uf).textContent=UC(t.getStylesForThis())}l2.forEach(e=>{const i=customElements.get(e);i!==t&&i.prototype instanceof t&&BC(i)})}function Yq(t,e){const i=t.__themes;return!i||!e?!1:i.some(o=>o.styles.some(h=>e.some(p=>p.cssText===h.cssText)))}function Gs(t,e,i={}){e=Hq(e),window.Vaadin&&window.Vaadin.styleModules?window.Vaadin.styleModules.registerStyles(t,e,i):zC.push({themeFor:t,styles:e,include:i.include,moduleId:i.moduleId}),t&&l2.forEach(o=>{if(FC(t,o)&&qq(o)){const h=customElements.get(o);Yq(h,e)?console.warn(`Registering styles that already exist for ${o}`):(!window.Vaadin||!window.Vaadin.suppressPostFinalizeStylesWarning)&&console.warn(`The custom element definition for "${o}" was finalized before a style module was registered. Ideally, import component specific style modules before importing the corresponding custom element. This warning can be suppressed by setting "window.Vaadin.suppressPostFinalizeStylesWarning = true".`),BC(h),Zq(h)}})}function Mg(){return window.Vaadin&&window.Vaadin.styleModules?window.Vaadin.styleModules.getAllThemes():zC}function Kq(t=""){let e=0;return t.startsWith("lumo-")||t.startsWith("material-")?e=1:t.startsWith("vaadin-")&&(e=2),e}function VC(t){const e=[];return t.include&&[].concat(t.include).forEach(i=>{const o=Mg().find(h=>h.moduleId===i);o?e.push(...VC(o),...o.styles):console.warn(`Included moduleId ${i} not found in style registry`)},t.styles),e}function Xq(t){const e=`${t}-default-theme`,i=Mg().filter(o=>o.moduleId!==e&&FC(o.themeFor,t)).map(o=>({...o,styles:[...VC(o),...o.styles],includePriority:Kq(o.moduleId)})).sort((o,h)=>h.includePriority-o.includePriority);return i.length>0?i:Mg().filter(o=>o.moduleId===e)}const h2=t=>class extends Gq(t){constructor(){super(),kg.add(new WeakRef(this))}static finalize(){if(super.finalize(),this.is&&l2.add(this.is),this.elementStyles)return;const i=this.prototype._template;!i||jC(this)||Wq(this.getStylesForThis(),i)}static finalizeStyles(i){const o=this.getStylesForThis();return i?[...[i].flat(1/0),...o]:o}static getStylesForThis(){const i=t.__themes||[],o=Object.getPrototypeOf(this.prototype),h=(o?o.constructor.__themes:[])||[];this.__themes=[...i,...h,...Xq(this.is)];const p=this.__themes.flatMap(m=>m.styles);return p.filter((m,v)=>v===p.lastIndexOf(m))}};/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const Qq=(t,...e)=>{const i=document.createElement("style");i.id=t,i.textContent=e.map(o=>o.toString()).join(`
`).replace(":host","html"),document.head.insertAdjacentElement("afterbegin",i)},Jl=(t,...e)=>{Qq(`lumo-${t}`,e)};/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const tH=vi`
  :host {
    /* Base (background) */
    --lumo-base-color: #fff;

    /* Tint */
    --lumo-tint-5pct: hsla(0, 0%, 100%, 0.3);
    --lumo-tint-10pct: hsla(0, 0%, 100%, 0.37);
    --lumo-tint-20pct: hsla(0, 0%, 100%, 0.44);
    --lumo-tint-30pct: hsla(0, 0%, 100%, 0.5);
    --lumo-tint-40pct: hsla(0, 0%, 100%, 0.57);
    --lumo-tint-50pct: hsla(0, 0%, 100%, 0.64);
    --lumo-tint-60pct: hsla(0, 0%, 100%, 0.7);
    --lumo-tint-70pct: hsla(0, 0%, 100%, 0.77);
    --lumo-tint-80pct: hsla(0, 0%, 100%, 0.84);
    --lumo-tint-90pct: hsla(0, 0%, 100%, 0.9);
    --lumo-tint: #fff;

    /* Shade */
    --lumo-shade-5pct: hsla(214, 61%, 25%, 0.05);
    --lumo-shade-10pct: hsla(214, 57%, 24%, 0.1);
    --lumo-shade-20pct: hsla(214, 53%, 23%, 0.16);
    --lumo-shade-30pct: hsla(214, 50%, 22%, 0.26);
    --lumo-shade-40pct: hsla(214, 47%, 21%, 0.38);
    --lumo-shade-50pct: hsla(214, 45%, 20%, 0.52);
    --lumo-shade-60pct: hsla(214, 43%, 19%, 0.6);
    --lumo-shade-70pct: hsla(214, 42%, 18%, 0.69);
    --lumo-shade-80pct: hsla(214, 41%, 17%, 0.83);
    --lumo-shade-90pct: hsla(214, 40%, 16%, 0.94);
    --lumo-shade: hsl(214, 35%, 15%);

    /* Contrast */
    --lumo-contrast-5pct: var(--lumo-shade-5pct);
    --lumo-contrast-10pct: var(--lumo-shade-10pct);
    --lumo-contrast-20pct: var(--lumo-shade-20pct);
    --lumo-contrast-30pct: var(--lumo-shade-30pct);
    --lumo-contrast-40pct: var(--lumo-shade-40pct);
    --lumo-contrast-50pct: var(--lumo-shade-50pct);
    --lumo-contrast-60pct: var(--lumo-shade-60pct);
    --lumo-contrast-70pct: var(--lumo-shade-70pct);
    --lumo-contrast-80pct: var(--lumo-shade-80pct);
    --lumo-contrast-90pct: var(--lumo-shade-90pct);
    --lumo-contrast: var(--lumo-shade);

    /* Text */
    --lumo-header-text-color: var(--lumo-contrast);
    --lumo-body-text-color: var(--lumo-contrast-90pct);
    --lumo-secondary-text-color: var(--lumo-contrast-70pct);
    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);
    --lumo-disabled-text-color: var(--lumo-contrast-30pct);

    /* Primary */
    --lumo-primary-color: hsl(214, 100%, 48%);
    --lumo-primary-color-50pct: hsla(214, 100%, 49%, 0.76);
    --lumo-primary-color-10pct: hsla(214, 100%, 60%, 0.13);
    --lumo-primary-text-color: hsl(214, 100%, 43%);
    --lumo-primary-contrast-color: #fff;

    /* Error */
    --lumo-error-color: hsl(3, 85%, 48%);
    --lumo-error-color-50pct: hsla(3, 85%, 49%, 0.5);
    --lumo-error-color-10pct: hsla(3, 85%, 49%, 0.1);
    --lumo-error-text-color: hsl(3, 89%, 42%);
    --lumo-error-contrast-color: #fff;

    /* Success */
    --lumo-success-color: hsl(145, 72%, 30%);
    --lumo-success-color-50pct: hsla(145, 72%, 31%, 0.5);
    --lumo-success-color-10pct: hsla(145, 72%, 31%, 0.1);
    --lumo-success-text-color: hsl(145, 85%, 25%);
    --lumo-success-contrast-color: #fff;

    /* Warning */
    --lumo-warning-color: hsl(48, 100%, 50%);
    --lumo-warning-color-10pct: hsla(48, 100%, 50%, 0.25);
    --lumo-warning-text-color: hsl(32, 100%, 30%);
    --lumo-warning-contrast-color: var(--lumo-shade-90pct);
  }

  /* forced-colors mode adjustments */
  @media (forced-colors: active) {
    html {
      --lumo-disabled-text-color: GrayText;
    }
  }
`;Jl("color-props",tH);const eH=vi`
  [theme~='dark'] {
    /* Base (background) */
    --lumo-base-color: hsl(214, 35%, 21%);

    /* Tint */
    --lumo-tint-5pct: hsla(214, 65%, 85%, 0.06);
    --lumo-tint-10pct: hsla(214, 60%, 80%, 0.14);
    --lumo-tint-20pct: hsla(214, 64%, 82%, 0.23);
    --lumo-tint-30pct: hsla(214, 69%, 84%, 0.32);
    --lumo-tint-40pct: hsla(214, 73%, 86%, 0.41);
    --lumo-tint-50pct: hsla(214, 78%, 88%, 0.5);
    --lumo-tint-60pct: hsla(214, 82%, 90%, 0.58);
    --lumo-tint-70pct: hsla(214, 87%, 92%, 0.69);
    --lumo-tint-80pct: hsla(214, 91%, 94%, 0.8);
    --lumo-tint-90pct: hsla(214, 96%, 96%, 0.9);
    --lumo-tint: hsl(214, 100%, 98%);

    /* Shade */
    --lumo-shade-5pct: hsla(214, 0%, 0%, 0.07);
    --lumo-shade-10pct: hsla(214, 4%, 2%, 0.15);
    --lumo-shade-20pct: hsla(214, 8%, 4%, 0.23);
    --lumo-shade-30pct: hsla(214, 12%, 6%, 0.32);
    --lumo-shade-40pct: hsla(214, 16%, 8%, 0.41);
    --lumo-shade-50pct: hsla(214, 20%, 10%, 0.5);
    --lumo-shade-60pct: hsla(214, 24%, 12%, 0.6);
    --lumo-shade-70pct: hsla(214, 28%, 13%, 0.7);
    --lumo-shade-80pct: hsla(214, 32%, 13%, 0.8);
    --lumo-shade-90pct: hsla(214, 33%, 13%, 0.9);
    --lumo-shade: hsl(214, 33%, 13%);

    /* Contrast */
    --lumo-contrast-5pct: var(--lumo-tint-5pct);
    --lumo-contrast-10pct: var(--lumo-tint-10pct);
    --lumo-contrast-20pct: var(--lumo-tint-20pct);
    --lumo-contrast-30pct: var(--lumo-tint-30pct);
    --lumo-contrast-40pct: var(--lumo-tint-40pct);
    --lumo-contrast-50pct: var(--lumo-tint-50pct);
    --lumo-contrast-60pct: var(--lumo-tint-60pct);
    --lumo-contrast-70pct: var(--lumo-tint-70pct);
    --lumo-contrast-80pct: var(--lumo-tint-80pct);
    --lumo-contrast-90pct: var(--lumo-tint-90pct);
    --lumo-contrast: var(--lumo-tint);

    /* Text */
    --lumo-header-text-color: var(--lumo-contrast);
    --lumo-body-text-color: var(--lumo-contrast-90pct);
    --lumo-secondary-text-color: var(--lumo-contrast-70pct);
    --lumo-tertiary-text-color: var(--lumo-contrast-50pct);
    --lumo-disabled-text-color: var(--lumo-contrast-30pct);

    /* Primary */
    --lumo-primary-color: hsl(214, 90%, 48%);
    --lumo-primary-color-50pct: hsla(214, 90%, 70%, 0.69);
    --lumo-primary-color-10pct: hsla(214, 90%, 55%, 0.13);
    --lumo-primary-text-color: hsl(214, 90%, 77%);
    --lumo-primary-contrast-color: #fff;

    /* Error */
    --lumo-error-color: hsl(3, 79%, 49%);
    --lumo-error-color-50pct: hsla(3, 75%, 62%, 0.5);
    --lumo-error-color-10pct: hsla(3, 75%, 62%, 0.14);
    --lumo-error-text-color: hsl(3, 100%, 80%);

    /* Success */
    --lumo-success-color: hsl(145, 72%, 30%);
    --lumo-success-color-50pct: hsla(145, 92%, 51%, 0.5);
    --lumo-success-color-10pct: hsla(145, 92%, 51%, 0.1);
    --lumo-success-text-color: hsl(145, 85%, 46%);

    /* Warning */
    --lumo-warning-color: hsl(43, 100%, 48%);
    --lumo-warning-color-10pct: hsla(40, 100%, 50%, 0.2);
    --lumo-warning-text-color: hsl(45, 100%, 60%);
    --lumo-warning-contrast-color: var(--lumo-shade-90pct);
  }

  html {
    color: var(--lumo-body-text-color);
    background-color: var(--lumo-base-color);
    color-scheme: light;
  }

  [theme~='dark'] {
    color: var(--lumo-body-text-color);
    background-color: var(--lumo-base-color);
    color-scheme: dark;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    color: var(--lumo-header-text-color);
  }

  a:where(:any-link) {
    color: var(--lumo-primary-text-color);
  }

  a:not(:any-link) {
    color: var(--lumo-disabled-text-color);
  }

  blockquote {
    color: var(--lumo-secondary-text-color);
  }

  code,
  pre {
    background-color: var(--lumo-contrast-10pct);
    border-radius: var(--lumo-border-radius-m);
  }
  pre code {
    background: transparent;
  }
`;Gs("",eH,{moduleId:"lumo-color"});/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const iH=vi`
  @font-face {
    font-family: 'lumo-icons';
    src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAABEgAAsAAAAAIjQAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABHU1VCAAABCAAAADsAAABUIIslek9TLzIAAAFEAAAAQwAAAFZAIUuKY21hcAAAAYgAAAD4AAADrsCU8d5nbHlmAAACgAAAC2cAABeAWri7U2hlYWQAAA3oAAAAMAAAADZa/6SsaGhlYQAADhgAAAAdAAAAJAbpA35obXR4AAAOOAAAABAAAACspBAAAGxvY2EAAA5IAAAAWAAAAFh57oA4bWF4cAAADqAAAAAfAAAAIAFKAXBuYW1lAAAOwAAAATEAAAIuUUJZCHBvc3QAAA/0AAABKwAAAelm8SzVeJxjYGRgYOBiMGCwY2BycfMJYeDLSSzJY5BiYGGAAJA8MpsxJzM9kYEDxgPKsYBpDiBmg4gCACY7BUgAeJxjYGS+yDiBgZWBgamKaQ8DA0MPhGZ8wGDIyAQUZWBlZsAKAtJcUxgcXjG+0mIO+p/FEMUcxDANKMwIkgMABn8MLQB4nO3SWW6DMABF0UtwCEnIPM/zhLK8LqhfXRybSP14XUYtHV9hGYQwQBNIo3cUIPkhQeM7rib1ekqnXg981XuC1qvy84lzojleh3puxL0hPjGjRU473teloEefAUNGjJkwZcacBUtWrNmwZceeA0dOnLlw5cadB09elPGhGf+j0NTI/65KfXerT6JhqKnpRKtgOpuqaTrtKjPUlqHmhto21I7pL6i6hlqY3q7qGWrfUAeGOjTUkaGODXViqFNDnRnq3FAXhro01JWhrg11Y6hbQ90Z6t5QD4Z6NNSToZ4N9WKoV0O9GerdUB+G+jTUl6GWRvkL24BkEXictVh9bFvVFb/nxvbz+7Rf/N6zHcd2bCfP+Wic1Z9N0jpNHCD9SNqqoVBgbQoMjY+pjA4hNnWa2pV1rHSIif0DGkyT2k10Kmu1Cag6huj4ZpqYBHSqJsTEJgZCG3TaVBFv595nO3ZIv4RIrPPuvefe884599zzO/cRF8G/tgn6CFFImNgkR0ggX8wlspbhSSWSdrC5ozd30s2dw5afzvgtyz9/zG9t1hV4RtF1pXolowvtzc2z6L2aYUQM45jKH9WDTvd1LRDoDASYWhfTzTyvboXz6uZX4ARX5wrF39y+HM2+CJ8d0pkyqBIqoze3D12ez4DrFoYzxI8dWwMrDlZ2DMqQAR9AROsJU+2smlTPaTTco52BVxXa2a2+I8vvqd2dVHm1LoPeTn/AZPRYGthDYOeZjBjKoFsVGulR3lGU95SeCK44oHU7MhWUGUKZDT3oSUcG2GWuh+EDDfUYA/jhIhl0TOsJNYSEu7mQmi3UzfXwZKA4BsVsHLXQYGgJW95qEtpJ1VcW9HiTriZBlFEqxsDjA09yCNUoQxxwd7KWSTt2y3GTKifkqHRCoWZc3m11Wa/dKdFgXD4kSYfkeJBKd8KMz7J8dZn/cGRCcLGDnA2Ge3bKzcvlnTDNthFWLH7Xt80ua5FMjA4WKelWv5Xo16vHuYzpRbJhhdVlftuRK0VlR27D9lu5TF0DPBi60OrHNO0AfP/uRWvhn/U3LXICE+nh+3IHPUJ8JE6GyBjZQLbjGchlrSgYngF8zyrIF4NJD3atUcgWsWunGN/UHX5B5/yg7uF87Nqp4Gf52F3gH73DjEZNRoqCKAr9giQJp5rGJABpiVE2htNhW9R8nw0jqYjCYcY4LIjwYNScf4WN06IZnZCEqsI4cFaQbo4Z1TsZBx40YhXkHOecaYE5oY37IIQ+iJJ+UsDYSun5MuRSBRZRUUhlY2DqOGajOR6zrSU/5My6l2DnusH1GQgnw5BZP7iuYM/ahcfQ7Z8y51ddfutvuwNqWQ0cBYr8fj0U0vsHpwerVaB2sWhXT2NExi2r1KUE2tUuVMnkepVQrxTmpQrZTG4iu8he8iPyM3KcPE/+RP5KPoE2CEAKclCBzXATxkYOtUY/o961PWRqsj0chRrHFBbtrjP9/P0ven5pcbRdpL94vfsy33e5+izuwz3nFLFPVNayPZx/jdG1fOChflFRvYzsW6L18efgLrSWIgvcqnGJYi4skO4xREURjbDuxKke5v0T3Mrzkt2fi31uyZlLLrqIpEuXXsMlgw442Jb0GAxjS1DM20kBoCzHLXm/jEm0IltdcvU0fEW24jgiwwRjVd9u4NJHcIyoHJcwvyVqgqj5hqBJ1ZWSJryh9p56UWhX1XbhRbW2ZopuZWsQd5y8mEQ8M+C6xjRYxZbDKWf5AgY+Qq/l6wSPk16zDFjowYuu+wjx13mfkxbyDDxadYT/LijZyI0THB+6yfLaWsRcO82zo9mWTNtpO18qlorZoIVMwSN40tky5DOQ1MCIAe24mvlsuwIIxPb10+uXDQ4uWz/9m3rj+ql7p6bufZARuPVq5tXtsn6KwfP8Jy0TeWOyNhUJN6mhX5rkUTtUppQWEMNTqEdaCGKFYKJaQrCE4JtDLYOlNEKmO5kBTPGY2A0N2sY3+dVlo1N9ycBsIGtOjQ2p/tlZvzo0ur4v6cOh8NTospB7U/X40KahoU3bGIH97dnwmtHlYffVG3R1YOwKM2vNhrPhCT5zk64sG53oS4b31aYjqe/B7+kQiXBN+b6h21hNUPMq29B8CU4elINdygMPKF1B+WBTG7Z9ZshpN/xwEuuDQZR+nuoo4CDaAiiwXmLpmukMQyPf/JMclqgL1ixZQ/nnP2VbdUODFGt2fgBvL123rlLYu/6A9ckb7F3K0/CyBMEu6aQoPscroCcacVehvyQyCZAsizsWWBkoLC+WAiWnOksLKaeuQDzGuqSk42aiYTiJ4zf9afl17SrqaTO1f+XlZAfIuYcq7/IqYMaMrksOJ6vHkOCPDq943xcCnHqVD9pHFRpMqSPXrIua1WNs+tOz1U+ciTCDpPk+c4QYJIHnYhxP/kVPAq+ahFpVhPcHp8qyarhiF+HsBU9Hrl+UZa876fbKipL0KqB6OdUveErgtOI97fZ63ae9SvWU6k2w1JfwqnUbHsYcFCJFrC/W12zIMMirWYEHxMPs6LGYSdkSZ5TsNP9PCpwnWC3HKZ1lydNjWHC2Mn3l6vL0dHn1ldP3LTSrX+vKrBqv7KmMr8p0SR6P1NqF63or6XRlIyO90f7+kf7+myOhvt4tq7f09oUiTc2/dycGgqFQcCDRLYmi1NL7fk0CknVMxEg/cdfs/TnpJMNkgqwj17B8beVazSrVbU4lG67IZYOCnWrYy3yBR9cyWcChywos3LJBEdhhFoAdYjiw0rLGm0xU5OzoGm5/ZfmHjVZpNNg6SznzGKDdwv2cCtVn6Eaxo12cfxLprpVtTcZ6hVx6dow7Yq7e8LXO8PY9Jgjoze9yCtU5FNbegcKkQMdCbt9au/te4Ebe0jkc0ukUL32eYnTpNs20h0KpUOhZPYwVcfhZnfdqeCvDfXiuCbAoYWcXERPc/mDQD3/hdF+wK4i/xv3kYfprIpAuMkk2kW3kdtS0kBIKpZwp8KxmsCyfM1MFzAss9LBkDxRyThiaqTLwKYKJVTwmWTudMyz+yks09346MDh4m72yOxCKrt1XMlQ1qPVlTEVVQ1ofdK/sCWjtZu9qGwZ8YZ9PPWlo1IV3eW3+U0aXblP39zrt+JPf6UhEQ1rUjNBULN+utyuaDNW34kpAVuSOeMTyWbSNWnooFu+QFNWQ4d/Ox4IPWx41fP/fB/Rjeoz08ezPA9TysMtmnOXfGN7Ui3xIYLDALrlDLOP09qtJuY2OeL0+QZXdRnR1nxRVBF/SOyKKPpcrn9mWzH4rH9IidE+PTNU2182+hOgSItrE1slByS24vaLvJpxOqe4Pduf3HJkZ+jLqUz9rRzB7p8gKcgWZwV1L8JtUS5Z2JxZSOCuBoMTQihMzLbCPA0KqGMAljRQjONklW/wjnXKy8vxT/Elvm3/KiMUMOoV0/vnDYlhec0SMKtt3/kKMyOt33tj2bqxQLsTjSGLl+EAsNhCnTyRGktW55EgCn/A4PlnWn+Mg8bgZrWqHxTbPwMuyy1u5YeZF2SUM7JRhddwRgiRuxpmgJmxn9ZW7XpcF3ViX/ar6ptRpGJ0S9Adg4qhb9sI3vbL7qNJV/y4i07t5TZBiho1imFoMz3gED+CtjYUxvP4SOxov4bFoNPg5aR1e+G4UgDPoedJTpogyCJ7oYvRqoVS0MQAy+CoNEdTDUjok5ZHZL/WtjV7rFj3PKQE3iKp7ou+rIxN3b9LB1dGjeT4cvKo3FrnWpYpuaFd/h3dtV8UeKN1Y9hpR3dt4p0H/zKuPQq0kZQUIIpuDfoiETsnIk+gCWMJZUXHtE8V9LkUc2TE8vOMbO4ax/MACabzyaGXc7u3FBr11ThBdB8SIeMAlCntG2KThHSPsaj2Dc9KNyY2a0KZ7ODaTHoRiFkeYz+shZBpCS4X6471KKKnuHd84edfk5F37d1XO5bbkcltu2ZLNbvnPXiUVAnVvprJrP+NObryjxrllS65md6Tm6wzFHRR4dY3QUUjb7MgxaIixU8hspi98fl/Xc+IB4iU66eCVL9YfAfahiSUt4TONS8x0D8W7u8vd3fGWx6OXlM/U1IoU/s61PGhpyXRFa3eReq2qG56lvmYtXavCC1iN7lbiBpWxXHU+cSlztVLVz0tVN600fVsLxaVDknhYioeoXP3t4lqV1r79MAw0GCI1FTL1YIGzPL1MMlJ9ZsN9P7lvA2yr9ZFUzwzPrVgxN/x/SS+chwB4nGNgZGBgAOLPrYdY4vltvjJwM78AijDUqG5oRND/XzNPZboF5HIwMIFEAU/lC+J4nGNgZGBgDvqfBSRfMAAB81QGRgZUoA0AVvYDbwAAAHicY2BgYGB+MTQwAM8EJo8AAAAAAE4AmgDoAQoBLAFOAXABmgHEAe4CGgKcAugEmgS8BNYE8gUOBSoFegXQBf4GRAZmBrYHGAeQCBgIUghqCP4JRgm+CdoKBAo+CoQKugr0C1QLmgvAeJxjYGRgYNBmTGEQZQABJiDmAkIGhv9gPgMAGJQBvAB4nG2RPU7DMBiG3/QP0UoIBGJh8QILavozdmRo9w7d09RpUzlx5LgVvQMn4BAcgoEzcAgOwVvzSZVQbcnf48fvFysJgGt8IcJxROiG9TgauODuj5ukG+EW+UG4jR4ehTv0Q+EunjER7uEWmk+IWpc0d3gVbuAKb8JN+nfhFvlDuI17fAp36L+Fu1jgR7iHp+jF7Arbz1Nb1nO93pnEncSJFtrVuS3VKB6e5EyX2iVer9TyoOr9eux9pjJnCzW1pdfGWFU5u9WpjzfeV5PBIBMfp7aAwQ4FLPrIkbKWqDHn+67pDRK4s4lzbsEux5qHvcIIMb/nueSMyTKkE3jWFdNLHLjW2PPmMa1Hxn3GjGW/wjT0HtOG09JU4WxLk9LH2ISuiv9twJn9y8fh9uIXI+BknAAAAHicbY7ZboMwEEW5CVBCSLrv+76kfJRjTwHFsdGAG+Xvy5JUfehIHp0rnxmNN/D6ir3/a4YBhvARIMQOIowQY4wEE0yxiz3s4wCHOMIxTnCKM5zjApe4wjVucIs73OMBj3jCM17wije84wMzfHqJ0EVmUkmmJo77oOmrHvfIRZbXsTCZplTZldlgb3TYGVHProwFs11t1A57tcON2rErR3PBqcwF1/6ctI6k0GSU4JHMSS6WghdJQ99sTbfuN7QLJ9vQ37dNrgyktnIxlDYLJNuqitpRbYWKFNuyDT6pog6oOYKHtKakeakqKjHXpPwlGRcsC+OqxLIiJpXqoqqDMreG2l5bv9Ri3TRX+c23DZna9WFFgmXuO6Ps1Jm/w6ErW8N3FbHn/QC444j0AA==)
      format('woff');
    font-weight: normal;
    font-style: normal;
  }

  html {
    --lumo-icons-align-center: '\\ea01';
    --lumo-icons-align-left: '\\ea02';
    --lumo-icons-align-right: '\\ea03';
    --lumo-icons-angle-down: '\\ea04';
    --lumo-icons-angle-left: '\\ea05';
    --lumo-icons-angle-right: '\\ea06';
    --lumo-icons-angle-up: '\\ea07';
    --lumo-icons-arrow-down: '\\ea08';
    --lumo-icons-arrow-left: '\\ea09';
    --lumo-icons-arrow-right: '\\ea0a';
    --lumo-icons-arrow-up: '\\ea0b';
    --lumo-icons-bar-chart: '\\ea0c';
    --lumo-icons-bell: '\\ea0d';
    --lumo-icons-calendar: '\\ea0e';
    --lumo-icons-checkmark: '\\ea0f';
    --lumo-icons-chevron-down: '\\ea10';
    --lumo-icons-chevron-left: '\\ea11';
    --lumo-icons-chevron-right: '\\ea12';
    --lumo-icons-chevron-up: '\\ea13';
    --lumo-icons-clock: '\\ea14';
    --lumo-icons-cog: '\\ea15';
    --lumo-icons-cross: '\\ea16';
    --lumo-icons-download: '\\ea17';
    --lumo-icons-dropdown: '\\ea18';
    --lumo-icons-edit: '\\ea19';
    --lumo-icons-error: '\\ea1a';
    --lumo-icons-eye: '\\ea1b';
    --lumo-icons-eye-disabled: '\\ea1c';
    --lumo-icons-menu: '\\ea1d';
    --lumo-icons-minus: '\\ea1e';
    --lumo-icons-ordered-list: '\\ea1f';
    --lumo-icons-phone: '\\ea20';
    --lumo-icons-photo: '\\ea21';
    --lumo-icons-play: '\\ea22';
    --lumo-icons-plus: '\\ea23';
    --lumo-icons-redo: '\\ea24';
    --lumo-icons-reload: '\\ea25';
    --lumo-icons-search: '\\ea26';
    --lumo-icons-undo: '\\ea27';
    --lumo-icons-unordered-list: '\\ea28';
    --lumo-icons-upload: '\\ea29';
    --lumo-icons-user: '\\ea2a';
  }
`;Jl("font-icons",iH);/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const rH=vi`
  :host {
    --lumo-size-xs: 1.625rem;
    --lumo-size-s: 1.875rem;
    --lumo-size-m: 2.25rem;
    --lumo-size-l: 2.75rem;
    --lumo-size-xl: 3.5rem;

    /* Icons */
    --lumo-icon-size-s: 1.25em;
    --lumo-icon-size-m: 1.5em;
    --lumo-icon-size-l: 2.25em;
    /* For backwards compatibility */
    --lumo-icon-size: var(--lumo-icon-size-m);
  }
`;Jl("sizing-props",rH);/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const nH=vi`
  :host {
    /* Square */
    --lumo-space-xs: 0.25rem;
    --lumo-space-s: 0.5rem;
    --lumo-space-m: 1rem;
    --lumo-space-l: 1.5rem;
    --lumo-space-xl: 2.5rem;

    /* Wide */
    --lumo-space-wide-xs: calc(var(--lumo-space-xs) / 2) var(--lumo-space-xs);
    --lumo-space-wide-s: calc(var(--lumo-space-s) / 2) var(--lumo-space-s);
    --lumo-space-wide-m: calc(var(--lumo-space-m) / 2) var(--lumo-space-m);
    --lumo-space-wide-l: calc(var(--lumo-space-l) / 2) var(--lumo-space-l);
    --lumo-space-wide-xl: calc(var(--lumo-space-xl) / 2) var(--lumo-space-xl);

    /* Tall */
    --lumo-space-tall-xs: var(--lumo-space-xs) calc(var(--lumo-space-xs) / 2);
    --lumo-space-tall-s: var(--lumo-space-s) calc(var(--lumo-space-s) / 2);
    --lumo-space-tall-m: var(--lumo-space-m) calc(var(--lumo-space-m) / 2);
    --lumo-space-tall-l: var(--lumo-space-l) calc(var(--lumo-space-l) / 2);
    --lumo-space-tall-xl: var(--lumo-space-xl) calc(var(--lumo-space-xl) / 2);
  }
`;Jl("spacing-props",nH);/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const sH=vi`
  :host {
    /* Border radius */
    --lumo-border-radius-s: 0.25em; /* Checkbox, badge, date-picker year indicator, etc */
    --lumo-border-radius-m: var(--lumo-border-radius, 0.25em); /* Button, text field, menu overlay, etc */
    --lumo-border-radius-l: 0.5em; /* Dialog, notification, etc */

    /* Shadow */
    --lumo-box-shadow-xs: 0 1px 4px -1px var(--lumo-shade-50pct);
    --lumo-box-shadow-s: 0 2px 4px -1px var(--lumo-shade-20pct), 0 3px 12px -1px var(--lumo-shade-30pct);
    --lumo-box-shadow-m: 0 2px 6px -1px var(--lumo-shade-20pct), 0 8px 24px -4px var(--lumo-shade-40pct);
    --lumo-box-shadow-l: 0 3px 18px -2px var(--lumo-shade-20pct), 0 12px 48px -6px var(--lumo-shade-40pct);
    --lumo-box-shadow-xl: 0 4px 24px -3px var(--lumo-shade-20pct), 0 18px 64px -8px var(--lumo-shade-40pct);

    /* Clickable element cursor */
    --lumo-clickable-cursor: default;
  }
`;vi`
  html {
    /* Button */
    --vaadin-button-background: var(--lumo-contrast-5pct);
    --vaadin-button-border: none;
    --vaadin-button-border-radius: var(--lumo-border-radius-m);
    --vaadin-button-font-size: var(--lumo-font-size-m);
    --vaadin-button-font-weight: 500;
    --vaadin-button-height: var(--lumo-size-m);
    --vaadin-button-margin: var(--lumo-space-xs) 0;
    --vaadin-button-min-width: calc(var(--vaadin-button-height) * 2);
    --vaadin-button-padding: 0 calc(var(--vaadin-button-height) / 3 + var(--lumo-border-radius-m) / 2);
    --vaadin-button-text-color: var(--lumo-primary-text-color);
    --vaadin-button-primary-background: var(--lumo-primary-color);
    --vaadin-button-primary-border: none;
    --vaadin-button-primary-font-weight: 600;
    --vaadin-button-primary-text-color: var(--lumo-primary-contrast-color);
    --vaadin-button-tertiary-background: transparent !important;
    --vaadin-button-tertiary-text-color: var(--lumo-primary-text-color);
    --vaadin-button-tertiary-font-weight: 500;
    --vaadin-button-tertiary-padding: 0 calc(var(--vaadin-button-height) / 6);
    /* Checkbox */
    --vaadin-checkbox-background: var(--lumo-contrast-20pct);
    --vaadin-checkbox-background-hover: var(--lumo-contrast-30pct);
    --vaadin-checkbox-border-radius: var(--lumo-border-radius-s);
    --vaadin-checkbox-checkmark-char: var(--lumo-icons-checkmark);
    --vaadin-checkbox-checkmark-char-indeterminate: '';
    --vaadin-checkbox-checkmark-color: var(--lumo-primary-contrast-color);
    --vaadin-checkbox-checkmark-size: calc(var(--vaadin-checkbox-size) + 2px);
    --vaadin-checkbox-label-color: var(--lumo-body-text-color);
    --vaadin-checkbox-label-font-size: var(--lumo-font-size-m);
    --vaadin-checkbox-label-padding: var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs) var(--lumo-space-xs);
    --vaadin-checkbox-size: calc(var(--lumo-size-m) / 2);
    /* Radio button */
    --vaadin-radio-button-background: var(--lumo-contrast-20pct);
    --vaadin-radio-button-background-hover: var(--lumo-contrast-30pct);
    --vaadin-radio-button-dot-color: var(--lumo-primary-contrast-color);
    --vaadin-radio-button-dot-size: 3px;
    --vaadin-radio-button-label-color: var(--lumo-body-text-color);
    --vaadin-radio-button-label-font-size: var(--lumo-font-size-m);
    --vaadin-radio-button-label-padding: var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs)
      var(--lumo-space-xs);
    --vaadin-radio-button-size: calc(var(--lumo-size-m) / 2);
    --vaadin-selection-color: var(--lumo-primary-color);
    --vaadin-selection-color-text: var(--lumo-primary-text-color);
    --vaadin-input-field-border-radius: var(--lumo-border-radius-m);
    --vaadin-focus-ring-color: var(--lumo-primary-color-50pct);
    --vaadin-focus-ring-width: 2px;
    /* Label */
    --vaadin-input-field-label-color: var(--lumo-secondary-text-color);
    --vaadin-input-field-focused-label-color: var(--lumo-primary-text-color);
    --vaadin-input-field-hovered-label-color: var(--lumo-body-text-color);
    --vaadin-input-field-label-font-size: var(--lumo-font-size-s);
    --vaadin-input-field-label-font-weight: 500;
    /* Helper */
    --vaadin-input-field-helper-color: var(--lumo-secondary-text-color);
    --vaadin-input-field-helper-font-size: var(--lumo-font-size-xs);
    --vaadin-input-field-helper-font-weight: 400;
    --vaadin-input-field-helper-spacing: 0.4em;
    /* Error message */
    --vaadin-input-field-error-color: var(--lumo-error-text-color);
    --vaadin-input-field-error-font-size: var(--lumo-font-size-xs);
    --vaadin-input-field-error-font-weight: 400;
    /* Input field */
    --vaadin-input-field-background: var(--lumo-contrast-10pct);
    --vaadin-input-field-icon-color: var(--lumo-contrast-60pct);
    --vaadin-input-field-icon-size: var(--lumo-icon-size-m);
    --vaadin-input-field-invalid-background: var(--lumo-error-color-10pct);
    --vaadin-input-field-invalid-hover-highlight: var(--lumo-error-color-50pct);
    --vaadin-input-field-height: var(--lumo-size-m);
    --vaadin-input-field-hover-highlight: var(--lumo-contrast-50pct);
    --vaadin-input-field-placeholder-color: var(--lumo-secondary-text-color);
    --vaadin-input-field-readonly-border: 1px dashed var(--lumo-contrast-30pct);
    --vaadin-input-field-value-color: var(--lumo-body-text-color);
    --vaadin-input-field-value-font-size: var(--lumo-font-size-m);
    --vaadin-input-field-value-font-weight: 400;
  }
`;Jl("style-props",sH);/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const oH=vi`
  :host {
    /* prettier-ignore */
    --lumo-font-family: -apple-system, BlinkMacSystemFont, 'Roboto', 'Segoe UI', Helvetica, Arial, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';

    /* Font sizes */
    --lumo-font-size-xxs: 0.75rem;
    --lumo-font-size-xs: 0.8125rem;
    --lumo-font-size-s: 0.875rem;
    --lumo-font-size-m: 1rem;
    --lumo-font-size-l: 1.125rem;
    --lumo-font-size-xl: 1.375rem;
    --lumo-font-size-xxl: 1.75rem;
    --lumo-font-size-xxxl: 2.5rem;

    /* Line heights */
    --lumo-line-height-xs: 1.25;
    --lumo-line-height-s: 1.375;
    --lumo-line-height-m: 1.625;
  }
`,aH=vi`
  body,
  :host {
    font-family: var(--lumo-font-family);
    font-size: var(--lumo-font-size-m);
    line-height: var(--lumo-line-height-m);
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  small,
  [theme~='font-size-s'] {
    font-size: var(--lumo-font-size-s);
    line-height: var(--lumo-line-height-s);
  }

  [theme~='font-size-xs'] {
    font-size: var(--lumo-font-size-xs);
    line-height: var(--lumo-line-height-xs);
  }

  :where(h1, h2, h3, h4, h5, h6) {
    font-weight: 600;
    line-height: var(--lumo-line-height-xs);
    margin-block: 0;
  }

  :where(h1) {
    font-size: var(--lumo-font-size-xxxl);
  }

  :where(h2) {
    font-size: var(--lumo-font-size-xxl);
  }

  :where(h3) {
    font-size: var(--lumo-font-size-xl);
  }

  :where(h4) {
    font-size: var(--lumo-font-size-l);
  }

  :where(h5) {
    font-size: var(--lumo-font-size-m);
  }

  :where(h6) {
    font-size: var(--lumo-font-size-xs);
    text-transform: uppercase;
    letter-spacing: 0.03em;
  }

  p,
  blockquote {
    margin-top: 0.5em;
    margin-bottom: 0.75em;
  }

  a {
    text-decoration: none;
  }

  a:where(:any-link):hover {
    text-decoration: underline;
  }

  hr {
    display: block;
    align-self: stretch;
    height: 1px;
    border: 0;
    padding: 0;
    margin: var(--lumo-space-s) calc(var(--lumo-border-radius-m) / 2);
    background-color: var(--lumo-contrast-10pct);
  }

  blockquote {
    border-left: 2px solid var(--lumo-contrast-30pct);
  }

  b,
  strong {
    font-weight: 600;
  }

  /* RTL specific styles */
  blockquote[dir='rtl'] {
    border-left: none;
    border-right: 2px solid var(--lumo-contrast-30pct);
  }
`;Gs("",aH,{moduleId:"lumo-typography"});Jl("typography-props",oH);Gs("vaadin-grid",vi`
    :host {
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-m);
      line-height: var(--lumo-line-height-s);
      color: var(--lumo-body-text-color);
      background-color: var(--lumo-base-color);
      box-sizing: border-box;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
      /* For internal use only */
      --_lumo-grid-border-color: var(--lumo-contrast-20pct);
      --_lumo-grid-secondary-border-color: var(--lumo-contrast-10pct);
      --_lumo-grid-border-width: 1px;
      --_lumo-grid-selected-row-color: var(--lumo-primary-color-10pct);
    }

    /* No (outer) border */

    :host(:not([theme~='no-border'])) {
      border: var(--_lumo-grid-border-width) solid var(--_lumo-grid-border-color);
    }

    :host([disabled]) {
      opacity: 0.7;
    }

    /* Cell styles */

    [part~='cell'] {
      min-height: var(--lumo-size-m);
      background-color: var(--vaadin-grid-cell-background, var(--lumo-base-color));
      cursor: default;
      --_cell-padding: var(--vaadin-grid-cell-padding, var(--_cell-default-padding));
      --_cell-default-padding: var(--lumo-space-xs) var(--lumo-space-m);
    }

    [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      cursor: inherit;
      padding: var(--_cell-padding);
    }

    /* Apply row borders by default and introduce the "no-row-borders" variant */
    :host(:not([theme~='no-row-borders'])) [part~='cell']:not([part~='details-cell']) {
      border-top: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Hide first body row top border */
    :host(:not([theme~='no-row-borders'])) [part~='first-row'] [part~='cell']:not([part~='details-cell']) {
      border-top: 0;
      min-height: calc(var(--lumo-size-m) - var(--_lumo-grid-border-width));
    }

    /* Focus-ring */

    [part~='row'] {
      position: relative;
    }

    [part~='row']:focus,
    [part~='focused-cell']:focus {
      outline: none;
    }

    :host([navigating]) [part~='row']:focus::before,
    :host([navigating]) [part~='focused-cell']:focus::before {
      content: '';
      position: absolute;
      inset: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }

    :host([navigating]) [part~='row']:focus::before {
      transform: translateX(calc(-1 * var(--_grid-horizontal-scroll-position)));
      z-index: 3;
    }

    /* Drag and Drop styles */
    :host([dragover])::after {
      content: '';
      position: absolute;
      z-index: 100;
      inset: 0;
      pointer-events: none;
      box-shadow: inset 0 0 0 var(--_focus-ring-width) var(--_focus-ring-color);
    }

    [part~='row'][dragover] {
      z-index: 100 !important;
    }

    [part~='row'][dragover] [part~='cell'] {
      overflow: visible;
    }

    [part~='row'][dragover] [part~='cell']::after {
      content: '';
      position: absolute;
      inset: 0;
      height: calc(var(--_lumo-grid-border-width) + 2px);
      pointer-events: none;
      background: var(--lumo-primary-color-50pct);
    }

    [part~='row'][dragover] [part~='cell'][last-frozen]::after {
      right: -1px;
    }

    :host([theme~='no-row-borders']) [dragover] [part~='cell']::after {
      height: 2px;
    }

    [part~='row'][dragover='below'] [part~='cell']::after {
      top: 100%;
      bottom: auto;
      margin-top: -1px;
    }

    :host([all-rows-visible]) [part~='last-row'][dragover='below'] [part~='cell']::after {
      height: 1px;
    }

    [part~='row'][dragover='above'] [part~='cell']::after {
      top: auto;
      bottom: 100%;
      margin-bottom: -1px;
    }

    [part~='row'][details-opened][dragover='below'] [part~='cell']:not([part~='details-cell'])::after,
    [part~='row'][details-opened][dragover='above'] [part~='details-cell']::after {
      display: none;
    }

    [part~='row'][dragover][dragover='on-top'] [part~='cell']::after {
      height: 100%;
      opacity: 0.5;
    }

    [part~='row'][dragstart] [part~='cell'] {
      border: none !important;
      box-shadow: none !important;
    }

    [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    #scroller [part~='row'][dragstart]:not([dragstart=''])::after {
      display: block;
      position: absolute;
      left: var(--_grid-drag-start-x);
      top: var(--_grid-drag-start-y);
      z-index: 100;
      content: attr(dragstart);
      align-items: center;
      justify-content: center;
      box-sizing: border-box;
      padding: calc(var(--lumo-space-xs) * 0.8);
      color: var(--lumo-error-contrast-color);
      background-color: var(--lumo-error-color);
      border-radius: var(--lumo-border-radius-m);
      font-family: var(--lumo-font-family);
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
      font-weight: 500;
      text-transform: initial;
      letter-spacing: initial;
      min-width: calc(var(--lumo-size-s) * 0.7);
      text-align: center;
    }

    /* Headers and footers */

    [part~='header-cell'],
    [part~='footer-cell'],
    [part~='reorder-ghost'] {
      font-size: var(--lumo-font-size-s);
      font-weight: 500;
    }

    [part~='footer-cell'] {
      font-weight: 400;
    }

    [part~='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-xl);
    }

    /* Header borders */

    /* Hide first header row top border */
    :host(:not([theme~='no-row-borders'])) [part~='row']:first-child [part~='header-cell'] {
      border-top: 0;
    }

    /* Hide header row top border if previous row is hidden */
    [part~='row'][hidden] + [part~='row'] [part~='header-cell'] {
      border-top: 0;
    }

    [part~='row']:last-child [part~='header-cell'] {
      border-bottom: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part~='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='top']) [part~='row']:last-child [part~='header-cell'] {
      border-bottom-color: var(--_lumo-grid-border-color);
    }

    /* Footer borders */

    [part~='row']:first-child [part~='footer-cell'] {
      border-top: var(--_lumo-grid-border-width) solid transparent;
    }

    :host(:not([theme~='no-row-borders'])) [part~='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-secondary-border-color);
    }

    /* Overflow uses a stronger border color */
    :host([overflow~='bottom']) [part~='row']:first-child [part~='footer-cell'] {
      border-top-color: var(--_lumo-grid-border-color);
    }

    /* Column reordering */

    :host([reordering]) [part~='cell'] {
      background: linear-gradient(var(--lumo-shade-20pct), var(--lumo-shade-20pct)) var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='allowed'] {
      background: var(--lumo-base-color);
    }

    :host([reordering]) [part~='cell'][reorder-status='dragging'] {
      background: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct)) var(--lumo-base-color);
    }

    [part~='reorder-ghost'] {
      opacity: 0.85;
      box-shadow: var(--lumo-box-shadow-s);
      /* TODO Use the same styles as for the cell element (reorder-ghost copies styles from the cell element) */
      padding: var(--lumo-space-s) var(--lumo-space-m) !important;
    }

    /* Column resizing */

    [part='resize-handle'] {
      --_resize-handle-width: 3px;
      width: var(--_resize-handle-width);
      background-color: var(--lumo-primary-color-50pct);
      opacity: 0;
      transition: opacity 0.2s;
    }

    [part='resize-handle']::before {
      transform: translateX(calc(-50% + var(--_resize-handle-width) / 2));
      width: var(--lumo-size-s);
    }

    :host(:not([reordering])) *:not([column-resizing]) [part~='cell']:hover [part='resize-handle'],
    [part='resize-handle']:active {
      opacity: 1;
      transition-delay: 0.15s;
    }

    /* Column borders */

    :host([theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    /* Frozen columns */

    [last-frozen] {
      border-right: var(--_lumo-grid-border-width) solid transparent;
      overflow: hidden;
    }

    :host([overflow~='start']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-right-color: var(--_lumo-grid-border-color);
    }

    [first-frozen-to-end] {
      border-left: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([overflow~='end']) [part~='cell'][first-frozen-to-end]:not([part~='details-cell']) {
      border-left-color: var(--_lumo-grid-border-color);
    }

    /* Row stripes */

    :host([theme~='row-stripes']) [part~='even-row'] [part~='body-cell'],
    :host([theme~='row-stripes']) [part~='even-row'] [part~='details-cell'] {
      background-image: linear-gradient(var(--lumo-contrast-5pct), var(--lumo-contrast-5pct));
      background-repeat: repeat-x;
    }

    /* Selected row */

    /* Raise the selected rows above unselected rows (so that box-shadow can cover unselected rows) */
    :host(:not([reordering])) [part~='row'][selected] {
      z-index: 1;
    }

    :host(:not([reordering])) [part~='row'][selected] [part~='body-cell']:not([part~='details-cell']) {
      background-image: linear-gradient(var(--_lumo-grid-selected-row-color), var(--_lumo-grid-selected-row-color));
      background-repeat: repeat;
    }

    /* Cover the border of an unselected row */
    :host(:not([theme~='no-row-borders'])) [part~='row'][selected] [part~='cell']:not([part~='details-cell']) {
      box-shadow: 0 var(--_lumo-grid-border-width) 0 0 var(--_lumo-grid-selected-row-color);
    }

    /* Compact */

    :host([theme~='compact']) [part~='row']:only-child [part~='header-cell'] {
      min-height: var(--lumo-size-m);
    }

    :host([theme~='compact']) [part~='cell'] {
      min-height: var(--lumo-size-s);
      --_cell-default-padding: var(--lumo-space-xs) var(--lumo-space-s);
    }

    :host([theme~='compact']) [part~='first-row'] [part~='cell']:not([part~='details-cell']) {
      min-height: calc(var(--lumo-size-s) - var(--_lumo-grid-border-width));
    }

    /* Wrap cell contents */

    :host([theme~='wrap-cell-content']) [part~='cell'] ::slotted(vaadin-grid-cell-content) {
      white-space: normal;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][last-column] {
      border-radius: var(--lumo-border-radius-s) 0 0 var(--lumo-border-radius-s);
    }

    :host([dir='rtl']) [part~='row'][dragstart] [part~='cell'][first-column] {
      border-radius: 0 var(--lumo-border-radius-s) var(--lumo-border-radius-s) 0;
    }

    :host([dir='rtl'][theme~='column-borders']) [part~='cell']:not([last-column]):not([part~='details-cell']) {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid var(--_lumo-grid-secondary-border-color);
    }

    :host([dir='rtl']) [last-frozen] {
      border-right: none;
      border-left: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([dir='rtl']) [first-frozen-to-end] {
      border-left: none;
      border-right: var(--_lumo-grid-border-width) solid transparent;
    }

    :host([dir='rtl'][overflow~='start']) [part~='cell'][last-frozen]:not([part~='details-cell']) {
      border-left-color: var(--_lumo-grid-border-color);
    }

    :host([dir='rtl'][overflow~='end']) [part~='cell'][first-frozen-to-end]:not([part~='details-cell']) {
      border-right-color: var(--_lumo-grid-border-color);
    }
  `,{moduleId:"lumo-grid"});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(t,e){return t};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let lH=/(url\()([^)]*)(\))/g,hH=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/,od,Ri;function dc(t,e){if(t&&hH.test(t)||t==="//")return t;if(od===void 0){od=!1;try{const i=new URL("b","http://a");i.pathname="c%20d",od=i.href==="http://a/c%20d"}catch{}}if(e||(e=document.baseURI||window.location.href),od)try{return new URL(t,e).href}catch{return t}return Ri||(Ri=document.implementation.createHTMLDocument("temp"),Ri.base=Ri.createElement("base"),Ri.head.appendChild(Ri.base),Ri.anchor=Ri.createElement("a"),Ri.body.appendChild(Ri.anchor)),Ri.base.href=e,Ri.anchor.href=t,Ri.anchor.href||t}function c2(t,e){return t.replace(lH,function(i,o,h,p){return o+"'"+dc(h.replace(/["']/g,""),e)+"'"+p})}function u2(t){return t.substring(0,t.lastIndexOf("/")+1)}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const cH=!window.ShadyDOM||!window.ShadyDOM.inUse;!window.ShadyCSS||window.ShadyCSS.nativeCss;const uH=cH&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const t=new CSSStyleSheet;t.replaceSync("");const e=document.createElement("div");return e.attachShadow({mode:"open"}),e.shadowRoot.adoptedStyleSheets=[t],e.shadowRoot.adoptedStyleSheets[0]===t}catch{return!1}})();let dH=window.Polymer&&window.Polymer.rootPath||u2(document.baseURI||window.location.href),df=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;window.Polymer&&window.Polymer.setPassiveTouchGestures;let Og=window.Polymer&&window.Polymer.strictTemplatePolicy||!1,fH=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1,pH=window.Polymer&&window.Polymer.legacyOptimizations||!1,mH=window.Polymer&&window.Polymer.legacyWarnings||!1,gH=window.Polymer&&window.Polymer.syncInitialRender||!1,Pg=window.Polymer&&window.Polymer.legacyUndefined||!1,yH=window.Polymer&&window.Polymer.orderedComputed||!1,x9=window.Polymer&&window.Polymer.removeNestedTemplates||!1,bH=window.Polymer&&window.Polymer.fastDomIf||!1;window.Polymer&&window.Polymer.suppressTemplateNotifications;window.Polymer&&window.Polymer.legacyNoObservedAttributes;let vH=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let wH=0;const si=function(t){let e=t.__mixinApplications;e||(e=new WeakMap,t.__mixinApplications=e);let i=wH++;function o(h){let p=h.__mixinSet;if(p&&p[i])return h;let m=e,v=m.get(h);if(!v){v=t(h),m.set(h,v);let w=Object.create(v.__mixinSet||p||null);w[i]=!0,v.__mixinSet=w}return v}return o};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let d2={},GC={};function S9(t,e){d2[t]=GC[t.toLowerCase()]=e}function C9(t){return d2[t]||GC[t.toLowerCase()]}function _H(t){t.querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}class Hc extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,i){if(e){let o=C9(e);return o&&i?o.querySelector(i):o}return null}attributeChangedCallback(e,i,o,h){i!==o&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,i=dc(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=u2(i)}return this.__assetpath}register(e){if(e=e||this.id,e){if(Og&&C9(e)!==void 0)throw S9(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,S9(e,this),_H(this)}}}Hc.prototype.modules=d2;customElements.define("dom-module",Hc);/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const xH="link[rel=import][type~=css]",SH="include",A9="shady-unscoped";function qC(t){return Hc.import(t)}function T9(t){let e=t.body?t.body:t;const i=c2(e.textContent,t.baseURI),o=document.createElement("style");return o.textContent=i,o}function CH(t){const e=t.trim().split(/\s+/),i=[];for(let o=0;o<e.length;o++)i.push(...AH(e[o]));return i}function AH(t){const e=qC(t);if(!e)return console.warn("Could not find style data in module named",t),[];if(e._styles===void 0){const i=[];i.push(...WC(e));const o=e.querySelector("template");o&&i.push(...HC(o,e.assetpath)),e._styles=i}return e._styles}function HC(t,e){if(!t._styles){const i=[],o=t.content.querySelectorAll("style");for(let h=0;h<o.length;h++){let p=o[h],m=p.getAttribute(SH);m&&i.push(...CH(m).filter(function(v,w,A){return A.indexOf(v)===w})),e&&(p.textContent=c2(p.textContent,e)),i.push(p)}t._styles=i}return t._styles}function TH(t){let e=qC(t);return e?WC(e):[]}function WC(t){const e=[],i=t.querySelectorAll(xH);for(let o=0;o<i.length;o++){let h=i[o];if(h.import){const p=h.import,m=h.hasAttribute(A9);if(m&&!p._unscopedStyle){const v=T9(p);v.setAttribute(A9,""),p._unscopedStyle=v}else p._style||(p._style=T9(p));e.push(m?p._unscopedStyle:p._style)}}return e}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const No=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?t=>ShadyDOM.patch(t):t=>t;/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function Ng(t){return t.indexOf(".")>=0}function ca(t){let e=t.indexOf(".");return e===-1?t:t.slice(0,e)}function EH(t,e){return t.indexOf(e+".")===0}function ff(t,e){return e.indexOf(t+".")===0}function pf(t,e,i){return e+i.slice(t.length)}function Eh(t){if(Array.isArray(t)){let e=[];for(let i=0;i<t.length;i++){let o=t[i].toString().split(".");for(let h=0;h<o.length;h++)e.push(o[h])}return e.join(".")}else return t}function JC(t){return Array.isArray(t)?Eh(t).split("."):t.toString().split(".")}function Ti(t,e,i){let o=t,h=JC(e);for(let p=0;p<h.length;p++){if(!o)return;let m=h[p];o=o[m]}return i&&(i.path=h.join(".")),o}function E9(t,e,i){let o=t,h=JC(e),p=h[h.length-1];if(h.length>1){for(let m=0;m<h.length-1;m++){let v=h[m];if(o=o[v],!o)return}o[p]=i}else o[e]=i;return h.join(".")}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const mf={},$H=/-[a-z]/g,IH=/([A-Z])/g;function ZC(t){return mf[t]||(mf[t]=t.indexOf("-")<0?t:t.replace($H,e=>e[1].toUpperCase()))}function gp(t){return mf[t]||(mf[t]=t.replace(IH,"-$1").toLowerCase())}/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let kH=0,YC=0,cl=[],MH=0,Rg=!1,KC=document.createTextNode("");new window.MutationObserver(OH).observe(KC,{characterData:!0});function OH(){Rg=!1;const t=cl.length;for(let e=0;e<t;e++){let i=cl[e];if(i)try{i()}catch(o){setTimeout(()=>{throw o})}}cl.splice(0,t),YC+=t}const PH={run(t){return Rg||(Rg=!0,KC.textContent=MH++),cl.push(t),kH++},cancel(t){const e=t-YC;if(e>=0){if(!cl[e])throw new Error("invalid async handle: "+t);cl[e]=null}}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const NH=PH,XC=si(t=>{class e extends t{static createProperties(o){const h=this.prototype;for(let p in o)p in h||h._createPropertyAccessor(p)}static attributeNameForProperty(o){return o.toLowerCase()}static typeForProperty(o){}_createPropertyAccessor(o,h){this._addPropertyToAttributeMap(o),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[o]||(this.__dataHasAccessor[o]=!0,this._definePropertyAccessor(o,h))}_addPropertyToAttributeMap(o){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let h=this.__dataAttributes[o];return h||(h=this.constructor.attributeNameForProperty(o),this.__dataAttributes[h]=o),h}_definePropertyAccessor(o,h){Object.defineProperty(this,o,{get(){return this.__data[o]},set:h?function(){}:function(p){this._setPendingProperty(o,p,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let o in this.__dataHasAccessor)this.hasOwnProperty(o)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[o]=this[o],delete this[o])}_initializeInstanceProperties(o){Object.assign(this,o)}_setProperty(o,h){this._setPendingProperty(o,h)&&this._invalidateProperties()}_getProperty(o){return this.__data[o]}_setPendingProperty(o,h,p){let m=this.__data[o],v=this._shouldPropertyChange(o,h,m);return v&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(o in this.__dataOld)&&(this.__dataOld[o]=m),this.__data[o]=h,this.__dataPending[o]=h),v}_isPropertyPending(o){return!!(this.__dataPending&&this.__dataPending.hasOwnProperty(o))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,NH.run(()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())}))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const o=this.__data,h=this.__dataPending,p=this.__dataOld;this._shouldPropertiesChange(o,h,p)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(o,h,p)),this.__dataCounter--}_shouldPropertiesChange(o,h,p){return!!h}_propertiesChanged(o,h,p){}_shouldPropertyChange(o,h,p){return p!==h&&(p===p||h===h)}attributeChangedCallback(o,h,p,m){h!==p&&this._attributeToProperty(o,p),super.attributeChangedCallback&&super.attributeChangedCallback(o,h,p,m)}_attributeToProperty(o,h,p){if(!this.__serializing){const m=this.__dataAttributes,v=m&&m[o]||o;this[v]=this._deserializeValue(h,p||this.constructor.typeForProperty(v))}}_propertyToAttribute(o,h,p){this.__serializing=!0,p=arguments.length<3?this[o]:p,this._valueToNodeAttribute(this,p,h||this.constructor.attributeNameForProperty(o)),this.__serializing=!1}_valueToNodeAttribute(o,h,p){const m=this._serializeValue(h);(p==="class"||p==="name"||p==="slot")&&(o=No(o)),m===void 0?o.removeAttribute(p):o.setAttribute(p,m===""&&window.trustedTypes?window.trustedTypes.emptyScript:m)}_serializeValue(o){switch(typeof o){case"boolean":return o?"":void 0;default:return o!=null?o.toString():void 0}}_deserializeValue(o,h){switch(h){case Boolean:return o!==null;case Number:return Number(o);default:return o}}}return e});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const QC={};let ad=HTMLElement.prototype;for(;ad;){let t=Object.getOwnPropertyNames(ad);for(let e=0;e<t.length;e++)QC[t[e]]=!0;ad=Object.getPrototypeOf(ad)}const RH=window.trustedTypes?t=>trustedTypes.isHTML(t)||trustedTypes.isScript(t)||trustedTypes.isScriptURL(t):()=>!1;function LH(t,e){if(!QC[e]){let i=t[e];i!==void 0&&(t.__data?t._setPendingProperty(e,i):(t.__dataProto?t.hasOwnProperty(JSCompiler_renameProperty("__dataProto",t))||(t.__dataProto=Object.create(t.__dataProto)):t.__dataProto={},t.__dataProto[e]=i))}}const DH=si(t=>{const e=XC(t);class i extends e{static createPropertiesForAttributes(){let h=this.observedAttributes;for(let p=0;p<h.length;p++)this.prototype._createPropertyAccessor(ZC(h[p]))}static attributeNameForProperty(h){return gp(h)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(h){for(let p in h)this._setProperty(p,h[p])}_ensureAttribute(h,p){const m=this;m.hasAttribute(h)||this._valueToNodeAttribute(m,p,h)}_serializeValue(h){switch(typeof h){case"object":if(h instanceof Date)return h.toString();if(h){if(RH(h))return h;try{return JSON.stringify(h)}catch{return""}}default:return super._serializeValue(h)}}_deserializeValue(h,p){let m;switch(p){case Object:try{m=JSON.parse(h)}catch{m=h}break;case Array:try{m=JSON.parse(h)}catch{m=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${h}`)}break;case Date:m=isNaN(h)?String(h):Number(h),m=new Date(m);break;default:m=super._deserializeValue(h,p);break}return m}_definePropertyAccessor(h,p){LH(this,h),super._definePropertyAccessor(h,p)}_hasAccessor(h){return this.__dataHasAccessor&&this.__dataHasAccessor[h]}_isPropertyPending(h){return!!(this.__dataPending&&h in this.__dataPending)}}return i});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const zH={"dom-if":!0,"dom-repeat":!0};let $9=!1,I9=!1;function jH(){if(!$9){$9=!0;const t=document.createElement("textarea");t.placeholder="a",I9=t.placeholder===t.textContent}return I9}function FH(t){jH()&&t.localName==="textarea"&&t.placeholder&&t.placeholder===t.textContent&&(t.textContent=null)}const UH=(()=>{const t=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:e=>e});return(e,i,o)=>{const h=i.getAttribute(o);if(t&&o.startsWith("on-")){e.setAttribute(o,t.createScript(h,o));return}e.setAttribute(o,h)}})();function BH(t){let e=t.getAttribute("is");if(e&&zH[e]){let i=t;for(i.removeAttribute("is"),t=i.ownerDocument.createElement(e),i.parentNode.replaceChild(t,i),t.appendChild(i);i.attributes.length;){const{name:o}=i.attributes[0];UH(t,i,o),i.removeAttribute(o)}}return t}function tA(t,e){let i=e.parentInfo&&tA(t,e.parentInfo);if(i){for(let o=i.firstChild,h=0;o;o=o.nextSibling)if(e.parentIndex===h++)return o}else return t}function VH(t,e,i,o){o.id&&(e[o.id]=i)}function GH(t,e,i){if(i.events&&i.events.length)for(let o=0,h=i.events,p;o<h.length&&(p=h[o]);o++)t._addMethodEventListenerToNode(e,p.name,p.value,t)}function qH(t,e,i,o){i.templateInfo&&(e._templateInfo=i.templateInfo,e._parentTemplateInfo=o)}function HH(t,e,i){return t=t._methodHost||t,function(h){t[i]?t[i](h,h.detail):console.warn("listener method `"+i+"` not defined")}}const WH=si(t=>{class e extends t{static _parseTemplate(o,h){if(!o._templateInfo){let p=o._templateInfo={};p.nodeInfoList=[],p.nestedTemplate=!!h,p.stripWhiteSpace=h&&h.stripWhiteSpace||o.hasAttribute&&o.hasAttribute("strip-whitespace"),this._parseTemplateContent(o,p,{parent:null})}return o._templateInfo}static _parseTemplateContent(o,h,p){return this._parseTemplateNode(o.content,h,p)}static _parseTemplateNode(o,h,p){let m=!1,v=o;return v.localName=="template"&&!v.hasAttribute("preserve-content")?m=this._parseTemplateNestedTemplate(v,h,p)||m:v.localName==="slot"&&(h.hasInsertionPoint=!0),FH(v),v.firstChild&&this._parseTemplateChildNodes(v,h,p),v.hasAttributes&&v.hasAttributes()&&(m=this._parseTemplateNodeAttributes(v,h,p)||m),m||p.noted}static _parseTemplateChildNodes(o,h,p){if(!(o.localName==="script"||o.localName==="style"))for(let m=o.firstChild,v=0,w;m;m=w){if(m.localName=="template"&&(m=BH(m)),w=m.nextSibling,m.nodeType===Node.TEXT_NODE){let $=w;for(;$&&$.nodeType===Node.TEXT_NODE;)m.textContent+=$.textContent,w=$.nextSibling,o.removeChild($),$=w;if(h.stripWhiteSpace&&!m.textContent.trim()){o.removeChild(m);continue}}let A={parentIndex:v,parentInfo:p};this._parseTemplateNode(m,h,A)&&(A.infoIndex=h.nodeInfoList.push(A)-1),m.parentNode&&v++}}static _parseTemplateNestedTemplate(o,h,p){let m=o,v=this._parseTemplate(m,h);return(v.content=m.content.ownerDocument.createDocumentFragment()).appendChild(m.content),p.templateInfo=v,!0}static _parseTemplateNodeAttributes(o,h,p){let m=!1,v=Array.from(o.attributes);for(let w=v.length-1,A;A=v[w];w--)m=this._parseTemplateNodeAttribute(o,h,p,A.name,A.value)||m;return m}static _parseTemplateNodeAttribute(o,h,p,m,v){return m.slice(0,3)==="on-"?(o.removeAttribute(m),p.events=p.events||[],p.events.push({name:m.slice(3),value:v}),!0):m==="id"?(p.id=v,!0):!1}static _contentForTemplate(o){let h=o._templateInfo;return h&&h.content||o.content}_stampTemplate(o,h){o&&!o.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(o),h=h||this.constructor._parseTemplate(o);let p=h.nodeInfoList,m=h.content||o.content,v=document.importNode(m,!0);v.__noInsertionPoint=!h.hasInsertionPoint;let w=v.nodeList=new Array(p.length);v.$={};for(let A=0,$=p.length,M;A<$&&(M=p[A]);A++){let P=w[A]=tA(v,M);VH(this,v.$,P,M),qH(this,P,M,h),GH(this,P,M)}return v=v,v}_addMethodEventListenerToNode(o,h,p,m){m=m||o;let v=HH(m,h,p);return this._addEventListenerToNode(o,h,v),v}_addEventListenerToNode(o,h,p){o.addEventListener(h,p)}_removeEventListenerFromNode(o,h,p){o.removeEventListener(h,p)}}return e});/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */let Wc=0;const Jc=[],se={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},eA="__computeInfo",JH=/[A-Z]/;function $1(t,e,i){let o=t[e];if(!o)o=t[e]={};else if(!t.hasOwnProperty(e)&&(o=t[e]=Object.create(t[e]),i))for(let h in o){let p=o[h],m=o[h]=Array(p.length);for(let v=0;v<p.length;v++)m[v]=p[v]}return o}function $h(t,e,i,o,h,p){if(e){let m=!1;const v=Wc++;for(let w in i){let A=h?ca(w):w,$=e[A];if($)for(let M=0,P=$.length,R;M<P&&(R=$[M]);M++)(!R.info||R.info.lastRun!==v)&&(!h||f2(w,R.trigger))&&(R.info&&(R.info.lastRun=v),R.fn(t,w,i,o,R.info,h,p),m=!0)}return m}return!1}function ZH(t,e,i,o,h,p,m,v){let w=!1,A=m?ca(o):o,$=e[A];if($)for(let M=0,P=$.length,R;M<P&&(R=$[M]);M++)(!R.info||R.info.lastRun!==i)&&(!m||f2(o,R.trigger))&&(R.info&&(R.info.lastRun=i),R.fn(t,o,h,p,R.info,m,v),w=!0);return w}function f2(t,e){if(e){let i=e.name;return i==t||!!(e.structured&&EH(i,t))||!!(e.wildcard&&ff(i,t))}else return!0}function k9(t,e,i,o,h){let p=typeof h.method=="string"?t[h.method]:h.method,m=h.property;p?p.call(t,t.__data[m],o[m]):h.dynamicFn||console.warn("observer method `"+h.method+"` not defined")}function YH(t,e,i,o,h){let p=t[se.NOTIFY],m,v=Wc++;for(let A in e)e[A]&&(p&&ZH(t,p,v,A,i,o,h)||h&&KH(t,A,i))&&(m=!0);let w;m&&(w=t.__dataHost)&&w._invalidateProperties&&w._invalidateProperties()}function KH(t,e,i){let o=ca(e);if(o!==e){let h=gp(o)+"-changed";return iA(t,h,i[e],e),!0}return!1}function iA(t,e,i,o){let h={value:i,queueProperty:!0};o&&(h.path=o),No(t).dispatchEvent(new CustomEvent(e,{detail:h}))}function XH(t,e,i,o,h,p){let v=(p?ca(e):e)!=e?e:null,w=v?Ti(t,v):t.__data[e];v&&w===void 0&&(w=i[e]),iA(t,h.eventName,w,v)}function QH(t,e,i,o,h){let p,m=t.detail,v=m&&m.path;v?(o=pf(i,o,v),p=m&&m.value):p=t.currentTarget[i],p=h?!p:p,(!e[se.READ_ONLY]||!e[se.READ_ONLY][o])&&e._setPendingPropertyOrPath(o,p,!0,!!v)&&(!m||!m.queueProperty)&&e._invalidateProperties()}function tW(t,e,i,o,h){let p=t.__data[e];df&&(p=df(p,h.attrName,"attribute",t)),t._propertyToAttribute(e,h.attrName,p)}function eW(t,e,i,o){let h=t[se.COMPUTE];if(h)if(yH){Wc++;const p=rW(t),m=[];for(let w in e)M9(w,h,m,p,o);let v;for(;v=m.shift();)rA(t,"",e,i,v)&&M9(v.methodInfo,h,m,p,o);Object.assign(i,t.__dataOld),Object.assign(e,t.__dataPending),t.__dataPending=null}else{let p=e;for(;$h(t,h,p,i,o);)Object.assign(i,t.__dataOld),Object.assign(e,t.__dataPending),p=t.__dataPending,t.__dataPending=null}}const iW=(t,e,i)=>{let o=0,h=e.length-1,p=-1;for(;o<=h;){const m=o+h>>1,v=i.get(e[m].methodInfo)-i.get(t.methodInfo);if(v<0)o=m+1;else if(v>0)h=m-1;else{p=m;break}}p<0&&(p=h+1),e.splice(p,0,t)},M9=(t,e,i,o,h)=>{const p=h?ca(t):t,m=e[p];if(m)for(let v=0;v<m.length;v++){const w=m[v];w.info.lastRun!==Wc&&(!h||f2(t,w.trigger))&&(w.info.lastRun=Wc,iW(w.info,i,o))}};function rW(t){let e=t.constructor.__orderedComputedDeps;if(!e){e=new Map;const i=t[se.COMPUTE];let{counts:o,ready:h,total:p}=nW(t),m;for(;m=h.shift();){e.set(m,e.size);const v=i[m];v&&v.forEach(w=>{const A=w.info.methodInfo;--p,--o[A]===0&&h.push(A)})}p!==0&&console.warn(`Computed graph for ${t.localName} incomplete; circular?`),t.constructor.__orderedComputedDeps=e}return e}function nW(t){const e=t[eA],i={},o=t[se.COMPUTE],h=[];let p=0;for(let m in e){const v=e[m];p+=i[m]=v.args.filter(w=>!w.literal).length+(v.dynamicFn?1:0)}for(let m in o)e[m]||h.push(m);return{counts:i,ready:h,total:p}}function rA(t,e,i,o,h){let p=Lg(t,e,i,o,h);if(p===Jc)return!1;let m=h.methodInfo;return t.__dataHasAccessor&&t.__dataHasAccessor[m]?t._setPendingProperty(m,p,!0):(t[m]=p,!1)}function sW(t,e,i){let o=t.__dataLinkedPaths;if(o){let h;for(let p in o){let m=o[p];ff(p,e)?(h=pf(p,m,e),t._setPendingPropertyOrPath(h,i,!0,!0)):ff(m,e)&&(h=pf(m,p,e),t._setPendingPropertyOrPath(h,i,!0,!0))}}}function I1(t,e,i,o,h,p,m){i.bindings=i.bindings||[];let v={kind:o,target:h,parts:p,literal:m,isCompound:p.length!==1};if(i.bindings.push(v),cW(v)){let{event:A,negate:$}=v.parts[0];v.listenerEvent=A||gp(h)+"-changed",v.listenerNegate=$}let w=e.nodeInfoList.length;for(let A=0;A<v.parts.length;A++){let $=v.parts[A];$.compoundIndex=A,oW(t,e,v,$,w)}}function oW(t,e,i,o,h){if(!o.literal)if(i.kind==="attribute"&&i.target[0]==="-")console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let p=o.dependencies,m={index:h,binding:i,part:o,evaluator:t};for(let v=0;v<p.length;v++){let w=p[v];typeof w=="string"&&(w=sA(w),w.wildcard=!0),t._addTemplatePropertyEffect(e,w.rootProperty,{fn:aW,info:m,trigger:w})}}}function aW(t,e,i,o,h,p,m){let v=m[h.index],w=h.binding,A=h.part;if(p&&A.source&&e.length>A.source.length&&w.kind=="property"&&!w.isCompound&&v.__isPropertyEffectsClient&&v.__dataHasAccessor&&v.__dataHasAccessor[w.target]){let $=i[e];e=pf(A.source,w.target,e),v._setPendingPropertyOrPath(e,$,!1,!0)&&t._enqueueClient(v)}else{let $=h.evaluator._evaluateBinding(t,A,e,i,o,p);$!==Jc&&lW(t,v,w,A,$)}}function lW(t,e,i,o,h){if(h=hW(e,h,i,o),df&&(h=df(h,i.target,i.kind,e)),i.kind=="attribute")t._valueToNodeAttribute(e,h,i.target);else{let p=i.target;e.__isPropertyEffectsClient&&e.__dataHasAccessor&&e.__dataHasAccessor[p]?(!e[se.READ_ONLY]||!e[se.READ_ONLY][p])&&e._setPendingProperty(p,h)&&t._enqueueClient(e):t._setUnmanagedPropertyToNode(e,p,h)}}function hW(t,e,i,o){if(i.isCompound){let h=t.__dataCompoundStorage[i.target];h[o.compoundIndex]=e,e=h.join("")}return i.kind!=="attribute"&&(i.target==="textContent"||i.target==="value"&&(t.localName==="input"||t.localName==="textarea"))&&(e=e??""),e}function cW(t){return!!t.target&&t.kind!="attribute"&&t.kind!="text"&&!t.isCompound&&t.parts[0].mode==="{"}function uW(t,e){let{nodeList:i,nodeInfoList:o}=e;if(o.length)for(let h=0;h<o.length;h++){let p=o[h],m=i[h],v=p.bindings;if(v)for(let w=0;w<v.length;w++){let A=v[w];dW(m,A),fW(m,t,A)}m.__dataHost=t}}function dW(t,e){if(e.isCompound){let i=t.__dataCompoundStorage||(t.__dataCompoundStorage={}),o=e.parts,h=new Array(o.length);for(let m=0;m<o.length;m++)h[m]=o[m].literal;let p=e.target;i[p]=h,e.literal&&e.kind=="property"&&(p==="className"&&(t=No(t)),t[p]=e.literal)}}function fW(t,e,i){if(i.listenerEvent){let o=i.parts[0];t.addEventListener(i.listenerEvent,function(h){QH(h,e,i.target,o.source,o.negate)})}}function O9(t,e,i,o,h,p){p=e.static||p&&(typeof p!="object"||p[e.methodName]);let m={methodName:e.methodName,args:e.args,methodInfo:h,dynamicFn:p};for(let v=0,w;v<e.args.length&&(w=e.args[v]);v++)w.literal||t._addPropertyEffect(w.rootProperty,i,{fn:o,info:m,trigger:w});return p&&t._addPropertyEffect(e.methodName,i,{fn:o,info:m}),m}function Lg(t,e,i,o,h){let p=t._methodHost||t,m=p[h.methodName];if(m){let v=t._marshalArgs(h.args,e,i);return v===Jc?Jc:m.apply(p,v)}else h.dynamicFn||console.warn("method `"+h.methodName+"` not defined")}const pW=[],nA="(?:[a-zA-Z_$][\\w.:$\\-*]*)",mW="(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)",gW="(?:'(?:[^'\\\\]|\\\\.)*')",yW='(?:"(?:[^"\\\\]|\\\\.)*")',bW="(?:"+gW+"|"+yW+")",P9="(?:("+nA+"|"+mW+"|"+bW+")\\s*)",vW="(?:"+P9+"(?:,\\s*"+P9+")*)",wW="(?:\\(\\s*(?:"+vW+"?)\\)\\s*)",_W="("+nA+"\\s*"+wW+"?)",xW="(\\[\\[|{{)\\s*",SW="(?:]]|}})",CW="(?:(!)\\s*)?",AW=xW+CW+_W+SW,N9=new RegExp(AW,"g");function R9(t){let e="";for(let i=0;i<t.length;i++){let o=t[i].literal;e+=o||""}return e}function k1(t){let e=t.match(/([^\s]+?)\(([\s\S]*)\)/);if(e){let o={methodName:e[1],static:!0,args:pW};if(e[2].trim()){let h=e[2].replace(/\\,/g,"&comma;").split(",");return TW(h,o)}else return o}return null}function TW(t,e){return e.args=t.map(function(i){let o=sA(i);return o.literal||(e.static=!1),o},this),e}function sA(t){let e=t.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:e,value:"",literal:!1},o=e[0];switch(o==="-"&&(o=e[1]),o>="0"&&o<="9"&&(o="#"),o){case"'":case'"':i.value=e.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(e),i.literal=!0;break}return i.literal||(i.rootProperty=ca(e),i.structured=Ng(e),i.structured&&(i.wildcard=e.slice(-2)==".*",i.wildcard&&(i.name=e.slice(0,-2)))),i}function L9(t,e,i){let o=Ti(t,i);return o===void 0&&(o=e[i]),o}function oA(t,e,i,o){const h={indexSplices:o};Pg&&!t._overrideLegacyUndefined&&(e.splices=h),t.notifyPath(i+".splices",h),t.notifyPath(i+".length",e.length),Pg&&!t._overrideLegacyUndefined&&(h.indexSplices=[])}function uh(t,e,i,o,h,p){oA(t,e,i,[{index:o,addedCount:h,removed:p,object:e,type:"splice"}])}function EW(t){return t[0].toUpperCase()+t.substring(1)}const $W=si(t=>{const e=WH(DH(t));class i extends e{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return se}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(dh.length){let h=dh[dh.length-1];h._enqueueClient(this),this.__dataHost=h}}_initializeProtoProperties(h){this.__data=Object.create(h),this.__dataPending=Object.create(h),this.__dataOld={}}_initializeInstanceProperties(h){let p=this[se.READ_ONLY];for(let m in h)(!p||!p[m])&&(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[m]=this.__dataPending[m]=h[m])}_addPropertyEffect(h,p,m){this._createPropertyAccessor(h,p==se.READ_ONLY);let v=$1(this,p,!0)[h];v||(v=this[p][h]=[]),v.push(m)}_removePropertyEffect(h,p,m){let v=$1(this,p,!0)[h],w=v.indexOf(m);w>=0&&v.splice(w,1)}_hasPropertyEffect(h,p){let m=this[p];return!!(m&&m[h])}_hasReadOnlyEffect(h){return this._hasPropertyEffect(h,se.READ_ONLY)}_hasNotifyEffect(h){return this._hasPropertyEffect(h,se.NOTIFY)}_hasReflectEffect(h){return this._hasPropertyEffect(h,se.REFLECT)}_hasComputedEffect(h){return this._hasPropertyEffect(h,se.COMPUTE)}_setPendingPropertyOrPath(h,p,m,v){if(v||ca(Array.isArray(h)?h[0]:h)!==h){if(!v){let w=Ti(this,h);if(h=E9(this,h,p),!h||!super._shouldPropertyChange(h,p,w))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(h,p,m))return sW(this,h,p),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[h])return this._setPendingProperty(h,p,m);this[h]=p}return!1}_setUnmanagedPropertyToNode(h,p,m){(m!==h[p]||typeof m=="object")&&(p==="className"&&(h=No(h)),h[p]=m)}_setPendingProperty(h,p,m){let v=this.__dataHasPaths&&Ng(h),w=v?this.__dataTemp:this.__data;return this._shouldPropertyChange(h,p,w[h])?(this.__dataPending||(this.__dataPending={},this.__dataOld={}),h in this.__dataOld||(this.__dataOld[h]=this.__data[h]),v?this.__dataTemp[h]=p:this.__data[h]=p,this.__dataPending[h]=p,(v||this[se.NOTIFY]&&this[se.NOTIFY][h])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[h]=m),!0):!1}_setProperty(h,p){this._setPendingProperty(h,p,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(h){this.__dataPendingClients=this.__dataPendingClients||[],h!==this&&this.__dataPendingClients.push(h)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let h=this.__dataPendingClients;if(h){this.__dataPendingClients=null;for(let p=0;p<h.length;p++){let m=h[p];m.__dataEnabled?m.__dataPending&&m._flushProperties():m._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(h,p){for(let m in h)(p||!this[se.READ_ONLY]||!this[se.READ_ONLY][m])&&this._setPendingPropertyOrPath(m,h[m],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(h,p,m){let v=this.__dataHasPaths;this.__dataHasPaths=!1;let w;eW(this,p,m,v),w=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(p,m,v),this._flushClients(),$h(this,this[se.REFLECT],p,m,v),$h(this,this[se.OBSERVE],p,m,v),w&&YH(this,w,p,m,v),this.__dataCounter==1&&(this.__dataTemp={})}_propagatePropertyChanges(h,p,m){this[se.PROPAGATE]&&$h(this,this[se.PROPAGATE],h,p,m),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,h,p,m)}_runEffectsForTemplate(h,p,m,v){const w=(A,$)=>{$h(this,h.propertyEffects,A,m,$,h.nodeList);for(let M=h.firstChild;M;M=M.nextSibling)this._runEffectsForTemplate(M,A,m,$)};h.runEffects?h.runEffects(w,p,v):w(p,v)}linkPaths(h,p){h=Eh(h),p=Eh(p),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[h]=p}unlinkPaths(h){h=Eh(h),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[h]}notifySplices(h,p){let m={path:""},v=Ti(this,h,m);oA(this,v,m.path,p)}get(h,p){return Ti(p||this,h)}set(h,p,m){m?E9(m,h,p):(!this[se.READ_ONLY]||!this[se.READ_ONLY][h])&&this._setPendingPropertyOrPath(h,p,!0)&&this._invalidateProperties()}push(h,...p){let m={path:""},v=Ti(this,h,m),w=v.length,A=v.push(...p);return p.length&&uh(this,v,m.path,w,p.length,[]),A}pop(h){let p={path:""},m=Ti(this,h,p),v=!!m.length,w=m.pop();return v&&uh(this,m,p.path,m.length,0,[w]),w}splice(h,p,m,...v){let w={path:""},A=Ti(this,h,w);p<0?p=A.length-Math.floor(-p):p&&(p=Math.floor(p));let $;return arguments.length===2?$=A.splice(p):$=A.splice(p,m,...v),(v.length||$.length)&&uh(this,A,w.path,p,v.length,$),$}shift(h){let p={path:""},m=Ti(this,h,p),v=!!m.length,w=m.shift();return v&&uh(this,m,p.path,0,0,[w]),w}unshift(h,...p){let m={path:""},v=Ti(this,h,m),w=v.unshift(...p);return p.length&&uh(this,v,m.path,0,p.length,[]),w}notifyPath(h,p){let m;if(arguments.length==1){let v={path:""};p=Ti(this,h,v),m=v.path}else Array.isArray(h)?m=Eh(h):m=h;this._setPendingPropertyOrPath(m,p,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(h,p){this._addPropertyEffect(h,se.READ_ONLY),p&&(this["_set"+EW(h)]=function(m){this._setProperty(h,m)})}_createPropertyObserver(h,p,m){let v={property:h,method:p,dynamicFn:!!m};this._addPropertyEffect(h,se.OBSERVE,{fn:k9,info:v,trigger:{name:h}}),m&&this._addPropertyEffect(p,se.OBSERVE,{fn:k9,info:v,trigger:{name:p}})}_createMethodObserver(h,p){let m=k1(h);if(!m)throw new Error("Malformed observer expression '"+h+"'");O9(this,m,se.OBSERVE,Lg,null,p)}_createNotifyingProperty(h){this._addPropertyEffect(h,se.NOTIFY,{fn:XH,info:{eventName:gp(h)+"-changed",property:h}})}_createReflectedProperty(h){let p=this.constructor.attributeNameForProperty(h);p[0]==="-"?console.warn("Property "+h+" cannot be reflected to attribute "+p+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(h,se.REFLECT,{fn:tW,info:{attrName:p}})}_createComputedProperty(h,p,m){let v=k1(p);if(!v)throw new Error("Malformed computed expression '"+p+"'");const w=O9(this,v,se.COMPUTE,rA,h,m);$1(this,eA)[h]=w}_marshalArgs(h,p,m){const v=this.__data,w=[];for(let A=0,$=h.length;A<$;A++){let{name:M,structured:P,wildcard:R,value:B,literal:G}=h[A];if(!G)if(R){const H=ff(M,p),Z=L9(v,m,H?p:M);B={path:H?p:M,value:Z,base:H?Ti(v,M):Z}}else B=P?L9(v,m,M):v[M];if(Pg&&!this._overrideLegacyUndefined&&B===void 0&&h.length>1)return Jc;w[A]=B}return w}static addPropertyEffect(h,p,m){this.prototype._addPropertyEffect(h,p,m)}static createPropertyObserver(h,p,m){this.prototype._createPropertyObserver(h,p,m)}static createMethodObserver(h,p){this.prototype._createMethodObserver(h,p)}static createNotifyingProperty(h){this.prototype._createNotifyingProperty(h)}static createReadOnlyProperty(h,p){this.prototype._createReadOnlyProperty(h,p)}static createReflectedProperty(h){this.prototype._createReflectedProperty(h)}static createComputedProperty(h,p,m){this.prototype._createComputedProperty(h,p,m)}static bindTemplate(h){return this.prototype._bindTemplate(h)}_bindTemplate(h,p){let m=this.constructor._parseTemplate(h),v=this.__preBoundTemplateInfo==m;if(!v)for(let w in m.propertyEffects)this._createPropertyAccessor(w);if(p)if(m=Object.create(m),m.wasPreBound=v,!this.__templateInfo)this.__templateInfo=m;else{const w=h._parentTemplateInfo||this.__templateInfo,A=w.lastChild;m.parent=w,w.lastChild=m,m.previousSibling=A,A?A.nextSibling=m:w.firstChild=m}else this.__preBoundTemplateInfo=m;return m}static _addTemplatePropertyEffect(h,p,m){let v=h.hostProps=h.hostProps||{};v[p]=!0;let w=h.propertyEffects=h.propertyEffects||{};(w[p]=w[p]||[]).push(m)}_stampTemplate(h,p){p=p||this._bindTemplate(h,!0),dh.push(this);let m=super._stampTemplate(h,p);if(dh.pop(),p.nodeList=m.nodeList,!p.wasPreBound){let v=p.childNodes=[];for(let w=m.firstChild;w;w=w.nextSibling)v.push(w)}return m.templateInfo=p,uW(this,p),this.__dataClientsReady&&(this._runEffectsForTemplate(p,this.__data,null,!1),this._flushClients()),m}_removeBoundDom(h){const p=h.templateInfo,{previousSibling:m,nextSibling:v,parent:w}=p;m?m.nextSibling=v:w&&(w.firstChild=v),v?v.previousSibling=m:w&&(w.lastChild=m),p.nextSibling=p.previousSibling=null;let A=p.childNodes;for(let $=0;$<A.length;$++){let M=A[$];No(No(M).parentNode).removeChild(M)}}static _parseTemplateNode(h,p,m){let v=e._parseTemplateNode.call(this,h,p,m);if(h.nodeType===Node.TEXT_NODE){let w=this._parseBindings(h.textContent,p);w&&(h.textContent=R9(w)||" ",I1(this,p,m,"text","textContent",w),v=!0)}return v}static _parseTemplateNodeAttribute(h,p,m,v,w){let A=this._parseBindings(w,p);if(A){let $=v,M="property";JH.test(v)?M="attribute":v[v.length-1]=="$"&&(v=v.slice(0,-1),M="attribute");let P=R9(A);return P&&M=="attribute"&&(v=="class"&&h.hasAttribute("class")&&(P+=" "+h.getAttribute(v)),h.setAttribute(v,P)),M=="attribute"&&$=="disable-upgrade$"&&h.setAttribute(v,""),h.localName==="input"&&$==="value"&&h.setAttribute($,""),h.removeAttribute($),M==="property"&&(v=ZC(v)),I1(this,p,m,M,v,A,P),!0}else return e._parseTemplateNodeAttribute.call(this,h,p,m,v,w)}static _parseTemplateNestedTemplate(h,p,m){let v=e._parseTemplateNestedTemplate.call(this,h,p,m);const w=h.parentNode,A=m.templateInfo,$=w.localName==="dom-if",M=w.localName==="dom-repeat";x9&&($||M)&&(w.removeChild(h),m=m.parentInfo,m.templateInfo=A,m.noted=!0,v=!1);let P=A.hostProps;if(bH&&$)P&&(p.hostProps=Object.assign(p.hostProps||{},P),x9||(m.parentInfo.noted=!0));else{let R="{";for(let B in P){let G=[{mode:R,source:B,dependencies:[B],hostProp:!0}];I1(this,p,m,"property","_host_"+B,G)}}return v}static _parseBindings(h,p){let m=[],v=0,w;for(;(w=N9.exec(h))!==null;){w.index>v&&m.push({literal:h.slice(v,w.index)});let A=w[1][0],$=!!w[2],M=w[3].trim(),P=!1,R="",B=-1;A=="{"&&(B=M.indexOf("::"))>0&&(R=M.substring(B+2),M=M.substring(0,B),P=!0);let G=k1(M),H=[];if(G){let{args:Z,methodName:X}=G;for(let rt=0;rt<Z.length;rt++){let et=Z[rt];et.literal||H.push(et)}let Q=p.dynamicFns;(Q&&Q[X]||G.static)&&(H.push(X),G.dynamicFn=!0)}else H.push(M);m.push({source:M,mode:A,negate:$,customEvent:P,signature:G,dependencies:H,event:R}),v=N9.lastIndex}if(v&&v<h.length){let A=h.substring(v);A&&m.push({literal:A})}return m.length?m:null}static _evaluateBinding(h,p,m,v,w,A){let $;return p.signature?$=Lg(h,m,v,w,p.signature):m!=p.source?$=Ti(h,p.source):A&&Ng(m)?$=Ti(h,m):$=h.__data[m],p.negate&&($=!$),$}}return i}),dh=[];/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*//**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function IW(t){const e={};for(let i in t){const o=t[i];e[i]=typeof o=="function"?{type:o}:o}return e}const kW=si(t=>{const e=XC(t);function i(p){const m=Object.getPrototypeOf(p);return m.prototype instanceof h?m:null}function o(p){if(!p.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",p))){let m=null;if(p.hasOwnProperty(JSCompiler_renameProperty("properties",p))){const v=p.properties;v&&(m=IW(v))}p.__ownProperties=m}return p.__ownProperties}class h extends e{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){this.prototype;const m=this._properties;this.__observedAttributes=m?Object.keys(m).map(v=>this.prototype._addPropertyToAttributeMap(v)):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const m=i(this);m&&m.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const m=o(this);m&&this.createProperties(m)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const m=i(this);this.__properties=Object.assign({},m&&m._properties,o(this))}return this.__properties}static typeForProperty(m){const v=this._properties[m];return v&&v.type}_initializeProperties(){this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return h});/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */const MW="3.5.2",D9=window.ShadyCSS&&window.ShadyCSS.cssBuild,OW=si(t=>{const e=kW($W(t));function i(w){if(!w.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",w))){w.__propertyDefaults=null;let A=w._properties;for(let $ in A){let M=A[$];"value"in M&&(w.__propertyDefaults=w.__propertyDefaults||{},w.__propertyDefaults[$]=M)}}return w.__propertyDefaults}function o(w){return w.hasOwnProperty(JSCompiler_renameProperty("__ownObservers",w))||(w.__ownObservers=w.hasOwnProperty(JSCompiler_renameProperty("observers",w))?w.observers:null),w.__ownObservers}function h(w,A,$,M){$.computed&&($.readOnly=!0),$.computed&&(w._hasReadOnlyEffect(A)?console.warn(`Cannot redefine computed property '${A}'.`):w._createComputedProperty(A,$.computed,M)),$.readOnly&&!w._hasReadOnlyEffect(A)?w._createReadOnlyProperty(A,!$.computed):$.readOnly===!1&&w._hasReadOnlyEffect(A)&&console.warn(`Cannot make readOnly property '${A}' non-readOnly.`),$.reflectToAttribute&&!w._hasReflectEffect(A)?w._createReflectedProperty(A):$.reflectToAttribute===!1&&w._hasReflectEffect(A)&&console.warn(`Cannot make reflected property '${A}' non-reflected.`),$.notify&&!w._hasNotifyEffect(A)?w._createNotifyingProperty(A):$.notify===!1&&w._hasNotifyEffect(A)&&console.warn(`Cannot make notify property '${A}' non-notify.`),$.observer&&w._createPropertyObserver(A,$.observer,M[$.observer]),w._addPropertyToAttributeMap(A)}function p(w,A,$,M){if(!D9){const P=A.content.querySelectorAll("style"),R=HC(A),B=TH($),G=A.content.firstElementChild;for(let Z=0;Z<B.length;Z++){let X=B[Z];X.textContent=w._processStyleText(X.textContent,M),A.content.insertBefore(X,G)}let H=0;for(let Z=0;Z<R.length;Z++){let X=R[Z],Q=P[H];Q!==X?(X=X.cloneNode(!0),Q.parentNode.insertBefore(X,Q)):H++,X.textContent=w._processStyleText(X.textContent,M)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(A,$),vH&&D9&&uH){const P=A.content.querySelectorAll("style");if(P){let R="";Array.from(P).forEach(B=>{R+=B.textContent,B.parentNode.removeChild(B)}),w._styleSheet=new CSSStyleSheet,w._styleSheet.replaceSync(R)}}}function m(w){let A=null;if(w&&(!Og||fH)&&(A=Hc.import(w,"template"),Og&&!A))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${w}`);return A}class v extends e{static get polymerElementVersion(){return MW}static _finalizeClass(){e._finalizeClass.call(this);const A=o(this);A&&this.createObservers(A,this._properties),this._prepareTemplate()}static _prepareTemplate(){let A=this.template;A&&(typeof A=="string"?(console.error("template getter must return HTMLTemplateElement"),A=null):pH||(A=A.cloneNode(!0))),this.prototype._template=A}static createProperties(A){for(let $ in A)h(this.prototype,$,A[$],A)}static createObservers(A,$){const M=this.prototype;for(let P=0;P<A.length;P++)M._createMethodObserver(A[P],$)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){let A=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;typeof A=="function"&&(A=A()),this._template=A!==void 0?A:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&m(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(A){this._template=A}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const A=this.importMeta;if(A)this._importPath=u2(A.url);else{const $=Hc.import(this.is);this._importPath=$&&$.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=dH,this.importPath=this.constructor.importPath;let A=i(this.constructor);if(A)for(let $ in A){let M=A[$];if(this._canApplyPropertyDefault($)){let P=typeof M.value=="function"?M.value.call(this):M.value;this._hasAccessor($)?this._setPendingProperty($,P,!0):this[$]=P}}}_canApplyPropertyDefault(A){return!this.hasOwnProperty(A)}static _processStyleText(A,$){return c2(A,$)}static _finalizeTemplate(A){const $=this.prototype._template;if($&&!$.__polymerFinalized){$.__polymerFinalized=!0;const M=this.importPath,P=M?dc(M):"";p(this,$,A,P),this.prototype._bindTemplate($)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(A){const $=No(this);if($.attachShadow)return A?($.shadowRoot||($.attachShadow({mode:"open",shadyUpgradeFragment:A}),$.shadowRoot.appendChild(A),this.constructor._styleSheet&&($.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),gH&&window.ShadyDOM&&window.ShadyDOM.flushInitial($.shadowRoot),$.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(A){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,A)}resolveUrl(A,$){return!$&&this.importPath&&($=dc(this.importPath)),dc(A,$)}static _parseTemplateContent(A,$,M){return $.dynamicFns=$.dynamicFns||this._properties,e._parseTemplateContent.call(this,A,$,M)}static _addTemplatePropertyEffect(A,$,M){return mH&&!($ in this._properties)&&!(M.info.part.signature&&M.info.part.signature.static)&&!M.info.part.hostProp&&!A.nestedTemplate&&console.warn(`Property '${$}' used in template but not declared in 'properties'; attribute will not be observed.`),e._addTemplatePropertyEffect.call(this,A,$,M)}}return v});/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const z9=window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:t=>t});class aA{constructor(e,i){hA(e,i);const o=i.reduce((h,p,m)=>h+lA(p)+e[m+1],e[0]);this.value=o.toString()}toString(){return this.value}}function lA(t){if(t instanceof aA)return t.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${t}`)}function PW(t){if(t instanceof HTMLTemplateElement)return t.innerHTML;if(t instanceof aA)return lA(t);throw new Error(`non-template value passed to Polymer's html function: ${t}`)}const p2=function(e,...i){hA(e,i);const o=document.createElement("template");let h=i.reduce((p,m,v)=>p+PW(m)+e[v+1],e[0]);return z9&&(h=z9.createHTML(h)),o.innerHTML=h,o},hA=(t,e)=>{if(!Array.isArray(t)||!Array.isArray(t.raw)||e.length!==t.length-1)throw new TypeError("Invalid call to the html template tag")};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const xu=OW(HTMLElement);/**
 * @license
 * Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */let j9=0,cA=0;const ul=[];let Dg=!1;function NW(){Dg=!1;const t=ul.length;for(let e=0;e<t;e++){const i=ul[e];if(i)try{i()}catch(o){setTimeout(()=>{throw o})}}ul.splice(0,t),cA+=t}const Ps={after(t){return{run(e){return window.setTimeout(e,t)},cancel(e){window.clearTimeout(e)}}},run(t,e){return window.setTimeout(t,e)},cancel(t){window.clearTimeout(t)}},Us={run(t){return window.requestAnimationFrame(t)},cancel(t){window.cancelAnimationFrame(t)}},uA={run(t){return window.requestIdleCallback?window.requestIdleCallback(t):window.setTimeout(t,16)},cancel(t){window.cancelIdleCallback?window.cancelIdleCallback(t):window.clearTimeout(t)}},an={run(t){Dg||(Dg=!0,queueMicrotask(()=>NW())),ul.push(t);const e=j9;return j9+=1,e},cancel(t){const e=t-cA;if(e>=0){if(!ul[e])throw new Error(`invalid async handle: ${t}`);ul[e]=null}}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const Zc=new Set;class xe{static debounce(e,i,o){return e instanceof xe?e._cancelAsync():e=new xe,e.setConfig(i,o),e}constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,i){this._asyncModule=e,this._callback=i,this._timer=this._asyncModule.run(()=>{this._timer=null,Zc.delete(this),this._callback()})}cancel(){this.isActive()&&(this._cancelAsync(),Zc.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return this._timer!=null}}function dA(t){Zc.add(t)}function RW(){const t=!!Zc.size;return Zc.forEach(e=>{try{e.flush()}catch(i){setTimeout(()=>{throw i})}}),t}const Ih=()=>{let t;do t=RW();while(t)};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const mn=[];function zg(t,e,i=t.getAttribute("dir")){e?t.setAttribute("dir",e):i!=null&&t.removeAttribute("dir")}function jg(){return document.documentElement.getAttribute("dir")}function LW(){const t=jg();mn.forEach(e=>{zg(e,t)})}const DW=new MutationObserver(LW);DW.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]});const m2=t=>class extends t{static get properties(){return{dir:{type:String,value:"",reflectToAttribute:!0,converter:{fromAttribute:i=>i||"",toAttribute:i=>i===""?null:i}}}}get __isRTL(){return this.getAttribute("dir")==="rtl"}connectedCallback(){super.connectedCallback(),(!this.hasAttribute("dir")||this.__restoreSubscription)&&(this.__subscribe(),zg(this,jg(),null))}attributeChangedCallback(i,o,h){if(super.attributeChangedCallback(i,o,h),i!=="dir")return;const p=jg(),m=h===p&&mn.indexOf(this)===-1,v=!h&&o&&mn.indexOf(this)===-1;m||v?(this.__subscribe(),zg(this,p,h)):h!==p&&o===p&&this.__unsubscribe()}disconnectedCallback(){super.disconnectedCallback(),this.__restoreSubscription=mn.includes(this),this.__unsubscribe()}_valueToNodeAttribute(i,o,h){h==="dir"&&o===""&&!i.hasAttribute("dir")||super._valueToNodeAttribute(i,o,h)}_attributeToProperty(i,o,h){i==="dir"&&!o?this.dir="":super._attributeToProperty(i,o,h)}__subscribe(){mn.includes(this)||mn.push(this)}__unsubscribe(){mn.includes(this)&&mn.splice(mn.indexOf(this),1)}};/**
 * @license
 * Copyright (c) 2023 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function g2(t,e){return t.split(".").reduce((i,o)=>i?i[o]:void 0,e)}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function fA(t){if(window.Vaadin&&window.Vaadin.templateRendererCallback){window.Vaadin.templateRendererCallback(t);return}t.querySelector("template")&&console.warn(`WARNING: <template> inside <${t.localName}> is no longer supported. Import @vaadin/polymer-legacy-adapter/template-renderer.js to enable compatibility.`)}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function pA(t,e){return e?e.closest(t)||pA(t,e.getRootNode().host):null}function y2(t){return t?new Set(t.split(" ")):new Set}function yp(t){return t?[...t].join(" "):""}function bp(t,e,i){const o=y2(t.getAttribute(e));o.add(i),t.setAttribute(e,yp(o))}function b2(t,e,i){const o=y2(t.getAttribute(e));if(o.delete(i),o.size===0){t.removeAttribute(e);return}t.setAttribute(e,yp(o))}function zW(t){return t.nodeType===Node.TEXT_NODE&&t.textContent.trim()===""}/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function kl(t){return t.__cells||Array.from(t.querySelectorAll('[part~="cell"]:not([part~="details-cell"])'))}function Mi(t,e){[...t.children].forEach(e)}function Ml(t,e){kl(t).forEach(e),t.__detailsCell&&e(t.__detailsCell)}function mA(t,e,i){let o=1;t.forEach(h=>{o%10===0&&(o+=1),h._order=i+o*e,o+=1})}function vp(t,e,i){switch(typeof i){case"boolean":t.toggleAttribute(e,i);break;case"string":t.setAttribute(e,i);break;default:t.removeAttribute(e);break}}function Bs(t,e,i){e||e===""?bp(t,"part",i):b2(t,"part",i)}function Es(t,e,i){t.forEach(o=>{Bs(o,i,e)})}function fc(t,e){const i=kl(t);Object.entries(e).forEach(([o,h])=>{vp(t,o,h);const p=`${o}-row`;Bs(t,h,p),Es(i,`${p}-cell`,h)})}function F9(t,e){const i=kl(t);Object.entries(e).forEach(([o,h])=>{const p=t.getAttribute(o);if(vp(t,o,h),p){const m=`${o}-${p}-row`;Bs(t,!1,m),Es(i,`${m}-cell`,!1)}if(h){const m=`${o}-${h}-row`;Bs(t,h,m),Es(i,`${m}-cell`,h)}})}function xo(t,e,i,o,h){vp(t,e,i),h&&Bs(t,!1,h),Bs(t,i,o||`${e}-cell`)}class Ns{constructor(e,i){this.__host=e,this.__callback=i,this.__currentSlots=[],this.__onMutation=this.__onMutation.bind(this),this.__observer=new MutationObserver(this.__onMutation),this.__observer.observe(e,{childList:!0}),this.__initialCallDebouncer=xe.debounce(this.__initialCallDebouncer,an,()=>this.__onMutation())}disconnect(){this.__observer.disconnect(),this.__initialCallDebouncer.cancel(),this.__toggleSlotChangeListeners(!1)}flush(){this.__onMutation()}__toggleSlotChangeListeners(e){this.__currentSlots.forEach(i=>{e?i.addEventListener("slotchange",this.__onMutation):i.removeEventListener("slotchange",this.__onMutation)})}__onMutation(){const e=!this.__currentColumns;this.__currentColumns||(this.__currentColumns=[]);const i=Ns.getColumns(this.__host),o=i.filter(v=>!this.__currentColumns.includes(v)),h=this.__currentColumns.filter(v=>!i.includes(v)),p=this.__currentColumns.some((v,w)=>v!==i[w]);this.__currentColumns=i,this.__toggleSlotChangeListeners(!1),this.__currentSlots=[...this.__host.children].filter(v=>v instanceof HTMLSlotElement),this.__toggleSlotChangeListeners(!0),(e||o.length||h.length||p)&&this.__callback(o,h)}static __isColumnElement(e){return e.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/u.test(e.localName)}static getColumns(e){const i=[],o=e._isColumnElement||Ns.__isColumnElement;return[...e.children].forEach(h=>{o(h)?i.push(h):h instanceof HTMLSlotElement&&[...h.assignedElements({flatten:!0})].filter(p=>o(p)).forEach(p=>i.push(p))}),i}}/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const gA=t=>class extends t{static get properties(){return{resizable:{type:Boolean,sync:!0,value(){if(this.localName==="vaadin-grid-column-group")return;const i=this.parentNode;return i&&i.localName==="vaadin-grid-column-group"&&i.resizable||!1}},frozen:{type:Boolean,value:!1,sync:!0},frozenToEnd:{type:Boolean,value:!1,sync:!0},rowHeader:{type:Boolean,value:!1,sync:!0},hidden:{type:Boolean,value:!1,sync:!0},header:{type:String,sync:!0},textAlign:{type:String,sync:!0},headerPartName:{type:String,sync:!0},footerPartName:{type:String,sync:!0},_lastFrozen:{type:Boolean,value:!1,sync:!0},_bodyContentHidden:{type:Boolean,value:!1,sync:!0},_firstFrozenToEnd:{type:Boolean,value:!1,sync:!0},_order:{type:Number,sync:!0},_reorderStatus:{type:Boolean,sync:!0},_emptyCells:Array,_headerCell:Object,_footerCell:Object,_grid:Object,__initialized:{type:Boolean,value:!0},headerRenderer:{type:Function,sync:!0},_headerRenderer:{type:Function,computed:"_computeHeaderRenderer(headerRenderer, header, __initialized)",sync:!0},footerRenderer:{type:Function,sync:!0},_footerRenderer:{type:Function,computed:"_computeFooterRenderer(footerRenderer, __initialized)",sync:!0},__gridColumnElement:{type:Boolean,value:!0}}}static get observers(){return["_widthChanged(width, _headerCell, _footerCell, _cells)","_frozenChanged(frozen, _headerCell, _footerCell, _cells)","_frozenToEndChanged(frozenToEnd, _headerCell, _footerCell, _cells)","_flexGrowChanged(flexGrow, _headerCell, _footerCell, _cells)","_textAlignChanged(textAlign, _cells, _headerCell, _footerCell)","_orderChanged(_order, _headerCell, _footerCell, _cells)","_lastFrozenChanged(_lastFrozen)","_firstFrozenToEndChanged(_firstFrozenToEnd)","_onRendererOrBindingChanged(_renderer, _cells, _bodyContentHidden, path)","_onHeaderRendererOrBindingChanged(_headerRenderer, _headerCell, path, header)","_onFooterRendererOrBindingChanged(_footerRenderer, _footerCell)","_resizableChanged(resizable, _headerCell)","_reorderStatusChanged(_reorderStatus, _headerCell, _footerCell, _cells)","_hiddenChanged(hidden, _headerCell, _footerCell, _cells)","_rowHeaderChanged(rowHeader, _cells)","__headerFooterPartNameChanged(_headerCell, _footerCell, headerPartName, footerPartName)"]}get _grid(){return this._gridValue||(this._gridValue=this._findHostGrid()),this._gridValue}get _allCells(){return[].concat(this._cells||[]).concat(this._emptyCells||[]).concat(this._headerCell).concat(this._footerCell).filter(i=>i)}connectedCallback(){super.connectedCallback(),requestAnimationFrame(()=>{this._grid&&this._allCells.forEach(i=>{i._content.parentNode||this._grid.appendChild(i._content)})})}disconnectedCallback(){super.disconnectedCallback(),requestAnimationFrame(()=>{this._grid||this._allCells.forEach(i=>{i._content.parentNode&&i._content.parentNode.removeChild(i._content)})}),this._gridValue=void 0}ready(){super.ready(),fA(this)}_findHostGrid(){let i=this;for(;i&&!/^vaadin.*grid(-pro)?$/u.test(i.localName);)i=i.assignedSlot?i.assignedSlot.parentNode:i.parentNode;return i||void 0}_renderHeaderAndFooter(){this._renderHeaderCellContent(this._headerRenderer,this._headerCell),this._renderFooterCellContent(this._footerRenderer,this._footerCell)}_flexGrowChanged(i){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("flexGrow"),this._allCells.forEach(o=>{o.style.flexGrow=i})}_orderChanged(i){this._allCells.forEach(o=>{o.style.order=i})}_widthChanged(i){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("width"),this._allCells.forEach(o=>{o.style.width=i})}_frozenChanged(i){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozen",i),this._allCells.forEach(o=>{xo(o,"frozen",i)}),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_frozenToEndChanged(i){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("frozenToEnd",i),this._allCells.forEach(o=>{this._grid&&o.parentElement===this._grid.$.sizer||xo(o,"frozen-to-end",i)}),this._grid&&this._grid._frozenCellsChanged&&this._grid._frozenCellsChanged()}_lastFrozenChanged(i){this._allCells.forEach(o=>{xo(o,"last-frozen",i)}),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._lastFrozen=i)}_firstFrozenToEndChanged(i){this._allCells.forEach(o=>{this._grid&&o.parentElement===this._grid.$.sizer||xo(o,"first-frozen-to-end",i)}),this.parentElement&&this.parentElement._columnPropChanged&&(this.parentElement._firstFrozenToEnd=i)}_rowHeaderChanged(i,o){o&&o.forEach(h=>{h.setAttribute("role",i?"rowheader":"gridcell")})}_generateHeader(i){return i.substr(i.lastIndexOf(".")+1).replace(/([A-Z])/gu,"-$1").toLowerCase().replace(/-/gu," ").replace(/^./u,o=>o.toUpperCase())}_reorderStatusChanged(i){const o=this.__previousReorderStatus,h=o?`reorder-${o}-cell`:"",p=`reorder-${i}-cell`;this._allCells.forEach(m=>{xo(m,"reorder-status",i,p,h)}),this.__previousReorderStatus=i}_resizableChanged(i,o){i===void 0||o===void 0||o&&[o].concat(this._emptyCells).forEach(h=>{if(h){const p=h.querySelector('[part~="resize-handle"]');if(p&&h.removeChild(p),i){const m=document.createElement("div");m.setAttribute("part","resize-handle"),h.appendChild(m)}}})}_textAlignChanged(i){if(i===void 0||this._grid===void 0)return;if(["start","end","center"].indexOf(i)===-1){console.warn('textAlign can only be set as "start", "end" or "center"');return}let o;getComputedStyle(this._grid).direction==="ltr"?i==="start"?o="left":i==="end"&&(o="right"):i==="start"?o="right":i==="end"&&(o="left"),this._allCells.forEach(h=>{h._content.style.textAlign=i,getComputedStyle(h._content).textAlign!==i&&(h._content.style.textAlign=o)})}_hiddenChanged(i){this.parentElement&&this.parentElement._columnPropChanged&&this.parentElement._columnPropChanged("hidden",i),!!i!=!!this._previousHidden&&this._grid&&(i===!0&&this._allCells.forEach(o=>{o._content.parentNode&&o._content.parentNode.removeChild(o._content)}),this._grid._debouncerHiddenChanged=xe.debounce(this._grid._debouncerHiddenChanged,Us,()=>{this._grid&&this._grid._renderColumnTree&&this._grid._renderColumnTree(this._grid._columnTree)}),this._grid._debounceUpdateFrozenColumn&&this._grid._debounceUpdateFrozenColumn(),this._grid._resetKeyboardNavigation&&this._grid._resetKeyboardNavigation()),this._previousHidden=i}_runRenderer(i,o,h){const p=h&&h.item&&!o.parentElement.hidden;if(!(p||i===this._headerRenderer||i===this._footerRenderer))return;const v=[o._content,this];p&&v.push(h),i.apply(this,v)}__renderCellsContent(i,o){this.hidden||!this._grid||o.forEach(h=>{if(!h.parentElement)return;const p=this._grid.__getRowModel(h.parentElement);i&&(h._renderer!==i&&this._clearCellContent(h),h._renderer=i,this._runRenderer(i,h,p))})}_clearCellContent(i){i._content.innerHTML="",delete i._content._$litPart$}_renderHeaderCellContent(i,o){!o||!i||(this.__renderCellsContent(i,[o]),this._grid&&o.parentElement&&this._grid.__debounceUpdateHeaderFooterRowVisibility(o.parentElement))}_onHeaderRendererOrBindingChanged(i,o,...h){this._renderHeaderCellContent(i,o)}__headerFooterPartNameChanged(i,o,h,p){[{cell:i,partName:h},{cell:o,partName:p}].forEach(({cell:m,partName:v})=>{if(m){const w=m.__customParts||[];m.part.remove(...w),m.__customParts=v?v.trim().split(" "):[],m.part.add(...m.__customParts)}})}_renderBodyCellsContent(i,o){!o||!i||this.__renderCellsContent(i,o)}_onRendererOrBindingChanged(i,o,...h){this._renderBodyCellsContent(i,o)}_renderFooterCellContent(i,o){!o||!i||(this.__renderCellsContent(i,[o]),this._grid&&o.parentElement&&this._grid.__debounceUpdateHeaderFooterRowVisibility(o.parentElement))}_onFooterRendererOrBindingChanged(i,o){this._renderFooterCellContent(i,o)}__setTextContent(i,o){i.textContent!==o&&(i.textContent=o)}__textHeaderRenderer(){this.__setTextContent(this._headerCell._content,this.header)}_defaultHeaderRenderer(){this.path&&this.__setTextContent(this._headerCell._content,this._generateHeader(this.path))}_defaultRenderer(i,o,{item:h}){this.path&&this.__setTextContent(i,g2(this.path,h))}_defaultFooterRenderer(){}_computeHeaderRenderer(i,o){return i||(o!=null?this.__textHeaderRenderer:this._defaultHeaderRenderer)}_computeRenderer(i){return i||this._defaultRenderer}_computeFooterRenderer(i){return i||this._defaultFooterRenderer}},jW=t=>class extends gA(m2(t)){static get properties(){return{width:{type:String,value:"100px",sync:!0},flexGrow:{type:Number,value:1,sync:!0},renderer:{type:Function,sync:!0},_renderer:{type:Function,computed:"_computeRenderer(renderer, __initialized)",sync:!0},path:{type:String,sync:!0},autoWidth:{type:Boolean,value:!1},_focusButtonMode:{type:Boolean,value:!1},_cells:{type:Array,sync:!0}}}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class yA extends jW(xu){static get is(){return"vaadin-grid-column"}}ha(yA);/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const v2=si(t=>typeof t.prototype.addController=="function"?t:class extends t{constructor(){super(),this.__controllers=new Set}connectedCallback(){super.connectedCallback(),this.__controllers.forEach(i=>{i.hostConnected&&i.hostConnected()})}disconnectedCallback(){super.disconnectedCallback(),this.__controllers.forEach(i=>{i.hostDisconnected&&i.hostDisconnected()})}addController(i){this.__controllers.add(i),this.$!==void 0&&this.isConnected&&i.hostConnected&&i.hostConnected()}removeController(i){this.__controllers.delete(i)}}),FW=/\/\*[\*!]\s+vaadin-dev-mode:start([\s\S]*)vaadin-dev-mode:end\s+\*\*\//i,Ld=window.Vaadin&&window.Vaadin.Flow&&window.Vaadin.Flow.clients;function UW(){function t(){return!0}return bA(t)}function BW(){try{return VW()?!0:GW()?Ld?!qW():!UW():!1}catch{return!1}}function VW(){return localStorage.getItem("vaadin.developmentmode.force")}function GW(){return["localhost","127.0.0.1"].indexOf(window.location.hostname)>=0}function qW(){return!!(Ld&&Object.keys(Ld).map(e=>Ld[e]).filter(e=>e.productionMode).length>0)}function bA(t,e){if(typeof t!="function")return;const i=FW.exec(t.toString());if(i)try{t=new Function(i[1])}catch(o){console.log("vaadin-development-mode-detector: uncommentAndRun() failed",o)}return t(e)}window.Vaadin=window.Vaadin||{};const U9=function(t,e){if(window.Vaadin.developmentMode)return bA(t,e)};window.Vaadin.developmentMode===void 0&&(window.Vaadin.developmentMode=BW());function HW(){/*! vaadin-dev-mode:start
  (function () {
'use strict';

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) {
  return typeof obj;
} : function (obj) {
  return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
};

var classCallCheck = function (instance, Constructor) {
  if (!(instance instanceof Constructor)) {
    throw new TypeError("Cannot call a class as a function");
  }
};

var createClass = function () {
  function defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  return function (Constructor, protoProps, staticProps) {
    if (protoProps) defineProperties(Constructor.prototype, protoProps);
    if (staticProps) defineProperties(Constructor, staticProps);
    return Constructor;
  };
}();

var getPolymerVersion = function getPolymerVersion() {
  return window.Polymer && window.Polymer.version;
};

var StatisticsGatherer = function () {
  function StatisticsGatherer(logger) {
    classCallCheck(this, StatisticsGatherer);

    this.now = new Date().getTime();
    this.logger = logger;
  }

  createClass(StatisticsGatherer, [{
    key: 'frameworkVersionDetectors',
    value: function frameworkVersionDetectors() {
      return {
        'Flow': function Flow() {
          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {
            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {
              return window.Vaadin.Flow.clients[key];
            }).filter(function (client) {
              return client.getVersionInfo;
            }).map(function (client) {
              return client.getVersionInfo().flow;
            });
            if (flowVersions.length > 0) {
              return flowVersions[0];
            }
          }
        },
        'Vaadin Framework': function VaadinFramework() {
          if (window.vaadin && window.vaadin.clients) {
            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {
              return client.getVersionInfo;
            }).map(function (client) {
              return client.getVersionInfo().vaadinVersion;
            });
            if (frameworkVersions.length > 0) {
              return frameworkVersions[0];
            }
          }
        },
        'AngularJs': function AngularJs() {
          if (window.angular && window.angular.version && window.angular.version) {
            return window.angular.version.full;
          }
        },
        'Angular': function Angular() {
          if (window.ng) {
            var tags = document.querySelectorAll("[ng-version]");
            if (tags.length > 0) {
              return tags[0].getAttribute("ng-version");
            }
            return "Unknown";
          }
        },
        'Backbone.js': function BackboneJs() {
          if (window.Backbone) {
            return window.Backbone.VERSION;
          }
        },
        'React': function React() {
          var reactSelector = '[data-reactroot], [data-reactid]';
          if (!!document.querySelector(reactSelector)) {
            // React does not publish the version by default
            return "unknown";
          }
        },
        'Ember': function Ember() {
          if (window.Em && window.Em.VERSION) {
            return window.Em.VERSION;
          } else if (window.Ember && window.Ember.VERSION) {
            return window.Ember.VERSION;
          }
        },
        'jQuery': function (_jQuery) {
          function jQuery() {
            return _jQuery.apply(this, arguments);
          }

          jQuery.toString = function () {
            return _jQuery.toString();
          };

          return jQuery;
        }(function () {
          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {
            return jQuery.prototype.jquery;
          }
        }),
        'Polymer': function Polymer() {
          var version = getPolymerVersion();
          if (version) {
            return version;
          }
        },
        'LitElement': function LitElement() {
          var version = window.litElementVersions && window.litElementVersions[0];
          if (version) {
            return version;
          }
        },
        'LitHtml': function LitHtml() {
          var version = window.litHtmlVersions && window.litHtmlVersions[0];
          if (version) {
            return version;
          }
        },
        'Vue.js': function VueJs() {
          if (window.Vue) {
            return window.Vue.version;
          }
        }
      };
    }
  }, {
    key: 'getUsedVaadinElements',
    value: function getUsedVaadinElements(elements) {
      var version = getPolymerVersion();
      var elementClasses = void 0;
      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.
      // Check all locations calling the method getEntries() in
      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106
      // Currently it is only used by BootstrapHandler.
      if (version && version.indexOf('2') === 0) {
        // Polymer 2: components classes are stored in window.Vaadin
        elementClasses = Object.keys(window.Vaadin).map(function (c) {
          return window.Vaadin[c];
        }).filter(function (c) {
          return c.is;
        });
      } else {
        // Polymer 3: components classes are stored in window.Vaadin.registrations
        elementClasses = window.Vaadin.registrations || [];
      }
      elementClasses.forEach(function (klass) {
        var version = klass.version ? klass.version : "0.0.0";
        elements[klass.is] = { version: version };
      });
    }
  }, {
    key: 'getUsedVaadinThemes',
    value: function getUsedVaadinThemes(themes) {
      ['Lumo', 'Material'].forEach(function (themeName) {
        var theme;
        var version = getPolymerVersion();
        if (version && version.indexOf('2') === 0) {
          // Polymer 2: themes are stored in window.Vaadin
          theme = window.Vaadin[themeName];
        } else {
          // Polymer 3: themes are stored in custom element registry
          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');
        }
        if (theme && theme.version) {
          themes[themeName] = { version: theme.version };
        }
      });
    }
  }, {
    key: 'getFrameworks',
    value: function getFrameworks(frameworks) {
      var detectors = this.frameworkVersionDetectors();
      Object.keys(detectors).forEach(function (framework) {
        var detector = detectors[framework];
        try {
          var version = detector();
          if (version) {
            frameworks[framework] = { version: version };
          }
        } catch (e) {}
      });
    }
  }, {
    key: 'gather',
    value: function gather(storage) {
      var storedStats = storage.read();
      var gatheredStats = {};
      var types = ["elements", "frameworks", "themes"];

      types.forEach(function (type) {
        gatheredStats[type] = {};
        if (!storedStats[type]) {
          storedStats[type] = {};
        }
      });

      var previousStats = JSON.stringify(storedStats);

      this.getUsedVaadinElements(gatheredStats.elements);
      this.getFrameworks(gatheredStats.frameworks);
      this.getUsedVaadinThemes(gatheredStats.themes);

      var now = this.now;
      types.forEach(function (type) {
        var keys = Object.keys(gatheredStats[type]);
        keys.forEach(function (key) {
          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {
            storedStats[type][key] = { firstUsed: now };
          }
          // Discards any previously logged version number
          storedStats[type][key].version = gatheredStats[type][key].version;
          storedStats[type][key].lastUsed = now;
        });
      });

      var newStats = JSON.stringify(storedStats);
      storage.write(newStats);
      if (newStats != previousStats && Object.keys(storedStats).length > 0) {
        this.logger.debug("New stats: " + newStats);
      }
    }
  }]);
  return StatisticsGatherer;
}();

var StatisticsStorage = function () {
  function StatisticsStorage(key) {
    classCallCheck(this, StatisticsStorage);

    this.key = key;
  }

  createClass(StatisticsStorage, [{
    key: 'read',
    value: function read() {
      var localStorageStatsString = localStorage.getItem(this.key);
      try {
        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');
      } catch (e) {
        return {};
      }
    }
  }, {
    key: 'write',
    value: function write(data) {
      localStorage.setItem(this.key, data);
    }
  }, {
    key: 'clear',
    value: function clear() {
      localStorage.removeItem(this.key);
    }
  }, {
    key: 'isEmpty',
    value: function isEmpty() {
      var storedStats = this.read();
      var empty = true;
      Object.keys(storedStats).forEach(function (key) {
        if (Object.keys(storedStats[key]).length > 0) {
          empty = false;
        }
      });

      return empty;
    }
  }]);
  return StatisticsStorage;
}();

var StatisticsSender = function () {
  function StatisticsSender(url, logger) {
    classCallCheck(this, StatisticsSender);

    this.url = url;
    this.logger = logger;
  }

  createClass(StatisticsSender, [{
    key: 'send',
    value: function send(data, errorHandler) {
      var logger = this.logger;

      if (navigator.onLine === false) {
        logger.debug("Offline, can't send");
        errorHandler();
        return;
      }
      logger.debug("Sending data to " + this.url);

      var req = new XMLHttpRequest();
      req.withCredentials = true;
      req.addEventListener("load", function () {
        // Stats sent, nothing more to do
        logger.debug("Response: " + req.responseText);
      });
      req.addEventListener("error", function () {
        logger.debug("Send failed");
        errorHandler();
      });
      req.addEventListener("abort", function () {
        logger.debug("Send aborted");
        errorHandler();
      });
      req.open("POST", this.url);
      req.setRequestHeader("Content-Type", "application/json");
      req.send(data);
    }
  }]);
  return StatisticsSender;
}();

var StatisticsLogger = function () {
  function StatisticsLogger(id) {
    classCallCheck(this, StatisticsLogger);

    this.id = id;
  }

  createClass(StatisticsLogger, [{
    key: '_isDebug',
    value: function _isDebug() {
      return localStorage.getItem("vaadin." + this.id + ".debug");
    }
  }, {
    key: 'debug',
    value: function debug(msg) {
      if (this._isDebug()) {
        console.info(this.id + ": " + msg);
      }
    }
  }]);
  return StatisticsLogger;
}();

var UsageStatistics = function () {
  function UsageStatistics() {
    classCallCheck(this, UsageStatistics);

    this.now = new Date();
    this.timeNow = this.now.getTime();
    this.gatherDelay = 10; // Delay between loading this file and gathering stats
    this.initialDelay = 24 * 60 * 60;

    this.logger = new StatisticsLogger("statistics");
    this.storage = new StatisticsStorage("vaadin.statistics.basket");
    this.gatherer = new StatisticsGatherer(this.logger);
    this.sender = new StatisticsSender("https://tools.vaadin.com/usage-stats/submit", this.logger);
  }

  createClass(UsageStatistics, [{
    key: 'maybeGatherAndSend',
    value: function maybeGatherAndSend() {
      var _this = this;

      if (localStorage.getItem(UsageStatistics.optOutKey)) {
        return;
      }
      this.gatherer.gather(this.storage);
      setTimeout(function () {
        _this.maybeSend();
      }, this.gatherDelay * 1000);
    }
  }, {
    key: 'lottery',
    value: function lottery() {
      return true;
    }
  }, {
    key: 'currentMonth',
    value: function currentMonth() {
      return this.now.getYear() * 12 + this.now.getMonth();
    }
  }, {
    key: 'maybeSend',
    value: function maybeSend() {
      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));
      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));

      if (!firstUse) {
        // Use a grace period to avoid interfering with tests, incognito mode etc
        firstUse = this.timeNow;
        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);
      }

      if (this.timeNow < firstUse + this.initialDelay * 1000) {
        this.logger.debug("No statistics will be sent until the initial delay of " + this.initialDelay + "s has passed");
        return;
      }
      if (this.currentMonth() <= monthProcessed) {
        this.logger.debug("This month has already been processed");
        return;
      }
      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());
      // Use random sampling
      if (this.lottery()) {
        this.logger.debug("Congratulations, we have a winner!");
      } else {
        this.logger.debug("Sorry, no stats from you this time");
        return;
      }

      this.send();
    }
  }, {
    key: 'send',
    value: function send() {
      // Ensure we have the latest data
      this.gatherer.gather(this.storage);

      // Read, send and clean up
      var data = this.storage.read();
      data["firstUse"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));
      data["usageStatisticsVersion"] = UsageStatistics.version;
      var info = 'This request contains usage statistics gathered from the application running in development mode. \n\nStatistics gathering is automatically disabled and excluded from production builds.\n\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\n\n\n\n';
      var self = this;
      this.sender.send(info + JSON.stringify(data), function () {
        // Revert the 'month processed' flag
        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);
      });
    }
  }], [{
    key: 'version',
    get: function get$1() {
      return '2.1.2';
    }
  }, {
    key: 'firstUseKey',
    get: function get$1() {
      return 'vaadin.statistics.firstuse';
    }
  }, {
    key: 'monthProcessedKey',
    get: function get$1() {
      return 'vaadin.statistics.monthProcessed';
    }
  }, {
    key: 'optOutKey',
    get: function get$1() {
      return 'vaadin.statistics.optout';
    }
  }]);
  return UsageStatistics;
}();

try {
  window.Vaadin = window.Vaadin || {};
  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();
  window.Vaadin.usageStatsChecker.maybeGatherAndSend();
} catch (e) {
  // Intentionally ignored as this is not a problem in the app being developed
}

}());

  vaadin-dev-mode:end **/}const WW=function(){if(typeof U9=="function")return U9(HW)};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */window.Vaadin||(window.Vaadin={});window.Vaadin.registrations||(window.Vaadin.registrations=[]);window.Vaadin.developmentModeCallback||(window.Vaadin.developmentModeCallback={});window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]=function(){WW()};let M1;const B9=new Set,vA=t=>class extends m2(t){static finalize(){super.finalize();const{is:i}=this;i&&!B9.has(i)&&(window.Vaadin.registrations.push(this),B9.add(i),window.Vaadin.developmentModeCallback&&(M1=xe.debounce(M1,uA,()=>{window.Vaadin.developmentModeCallback["vaadin-usage-statistics"]()}),dA(M1)))}constructor(){super(),document.doctype===null&&console.warn('Vaadin components require the "standards mode" declaration. Please add <!DOCTYPE html> to the HTML document.')}};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let w2=!1;window.addEventListener("keydown",()=>{w2=!0},{capture:!0});window.addEventListener("mousedown",()=>{w2=!1},{capture:!0});function wA(){return w2}function JW(t){const e=t.style;if(e.visibility==="hidden"||e.display==="none")return!0;const i=window.getComputedStyle(t);return i.visibility==="hidden"||i.display==="none"}function gf(t){return t.offsetParent===null&&t.clientWidth===0&&t.clientHeight===0?!0:JW(t)}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const _2=si(t=>class extends t{static get properties(){return{disabled:{type:Boolean,value:!1,observer:"_disabledChanged",reflectToAttribute:!0}}}_disabledChanged(i){this._setAriaDisabled(i)}_setAriaDisabled(i){i?this.setAttribute("aria-disabled","true"):this.removeAttribute("aria-disabled")}click(){this.disabled||super.click()}});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const _A=t=>class extends _2(t){static get properties(){return{tabindex:{type:Number,reflectToAttribute:!0,observer:"_tabindexChanged"},_lastTabIndex:{type:Number}}}_disabledChanged(i,o){super._disabledChanged(i,o),i?(this.tabindex!==void 0&&(this._lastTabIndex=this.tabindex),this.tabindex=-1):o&&(this.tabindex=this._lastTabIndex)}_tabindexChanged(i){this.disabled&&i!==-1&&(this._lastTabIndex=i,this.tabindex=-1)}};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const wp=t=>t.test(navigator.userAgent),Fg=t=>t.test(navigator.platform),ZW=t=>t.test(navigator.vendor),V9=wp(/Android/u),YW=wp(/Chrome/u)&&ZW(/Google Inc/u),KW=wp(/Firefox/u),XW=Fg(/^iPad/u)||Fg(/^Mac/u)&&navigator.maxTouchPoints>1,QW=Fg(/^iPhone/u),G9=QW||XW,xA=wp(/^((?!chrome|android).)*safari/iu),SA=(()=>{try{return document.createEvent("TouchEvent"),!0}catch{return!1}})();/**
 * @license
 * Copyright (c) 2023 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class tJ{constructor(e,i){this.slot=e,this.callback=i,this._storedNodes=[],this._connected=!1,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){this.slot.addEventListener("slotchange",this._boundSchedule),this._connected=!0}disconnect(){this.slot.removeEventListener("slotchange",this._boundSchedule),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,queueMicrotask(()=>{this.flush()}))}flush(){this._connected&&(this._scheduled=!1,this._processNodes())}_processNodes(){const e=this.slot.assignedNodes({flatten:!0});let i=[];const o=[],h=[];e.length&&(i=e.filter(p=>!this._storedNodes.includes(p))),this._storedNodes.length&&this._storedNodes.forEach((p,m)=>{const v=e.indexOf(p);v===-1?o.push(p):v!==m&&h.push(p)}),(i.length||o.length||h.length)&&this.callback({addedNodes:i,movedNodes:h,removedNodes:o}),this._storedNodes=e}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let eJ=0;function iJ(){return eJ++}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class x2 extends EventTarget{static generateId(e,i){return`${i||"default"}-${e.localName}-${iJ()}`}constructor(e,i,o,h={}){super();const{initializer:p,multiple:m,observe:v,useUniqueId:w}=h;this.host=e,this.slotName=i,this.tagName=o,this.observe=typeof v=="boolean"?v:!0,this.multiple=typeof m=="boolean"?m:!1,this.slotInitializer=p,m&&(this.nodes=[]),w&&(this.defaultId=this.constructor.generateId(e,i))}hostConnected(){this.initialized||(this.multiple?this.initMultiple():this.initSingle(),this.observe&&this.observeSlot(),this.initialized=!0)}initSingle(){let e=this.getSlotChild();e?(this.node=e,this.initAddedNode(e)):(e=this.attachDefaultNode(),this.initNode(e))}initMultiple(){const e=this.getSlotChildren();if(e.length===0){const i=this.attachDefaultNode();i&&(this.nodes=[i],this.initNode(i))}else this.nodes=e,e.forEach(i=>{this.initAddedNode(i)})}attachDefaultNode(){const{host:e,slotName:i,tagName:o}=this;let h=this.defaultNode;return!h&&o&&(h=document.createElement(o),h instanceof Element&&(i!==""&&h.setAttribute("slot",i),this.defaultNode=h)),h&&(this.node=h,e.appendChild(h)),h}getSlotChildren(){const{slotName:e}=this;return Array.from(this.host.childNodes).filter(i=>i.nodeType===Node.ELEMENT_NODE&&i.slot===e||i.nodeType===Node.TEXT_NODE&&i.textContent.trim()&&e==="")}getSlotChild(){return this.getSlotChildren()[0]}initNode(e){const{slotInitializer:i}=this;i&&i(e,this.host)}initCustomNode(e){}teardownNode(e){}initAddedNode(e){e!==this.defaultNode&&(this.initCustomNode(e),this.initNode(e))}observeSlot(){const{slotName:e}=this,i=e===""?"slot:not([name])":`slot[name=${e}]`,o=this.host.shadowRoot.querySelector(i);this.__slotObserver=new tJ(o,({addedNodes:h,removedNodes:p})=>{const m=this.multiple?this.nodes:[this.node],v=h.filter(w=>!zW(w)&&!m.includes(w));p.length&&(this.nodes=m.filter(w=>!p.includes(w)),p.forEach(w=>{this.teardownNode(w)})),v&&v.length>0&&(this.multiple?(this.defaultNode&&this.defaultNode.remove(),this.nodes=[...m,...v].filter(w=>w!==this.defaultNode),v.forEach(w=>{this.initAddedNode(w)})):(this.node&&this.node.remove(),this.node=v[0],this.initAddedNode(this.node)))})}}/**
 * @license
 * Copyright (c) 2022 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class CA extends x2{constructor(e){super(e,"tooltip"),this.setTarget(e)}initCustomNode(e){e.target=this.target,this.ariaTarget!==void 0&&(e.ariaTarget=this.ariaTarget),this.context!==void 0&&(e.context=this.context),this.manual!==void 0&&(e.manual=this.manual),this.opened!==void 0&&(e.opened=this.opened),this.position!==void 0&&(e._position=this.position),this.shouldShow!==void 0&&(e.shouldShow=this.shouldShow),this.__notifyChange()}teardownNode(){this.__notifyChange()}setAriaTarget(e){this.ariaTarget=e;const i=this.node;i&&(i.ariaTarget=e)}setContext(e){this.context=e;const i=this.node;i&&(i.context=e)}setManual(e){this.manual=e;const i=this.node;i&&(i.manual=e)}setOpened(e){this.opened=e;const i=this.node;i&&(i.opened=e)}setPosition(e){this.position=e;const i=this.node;i&&(i._position=e)}setShouldShow(e){this.shouldShow=e;const i=this.node;i&&(i.shouldShow=e)}setTarget(e){this.target=e;const i=this.node;i&&(i.target=e)}__notifyChange(){this.dispatchEvent(new CustomEvent("tooltip-changed",{detail:{node:this.node}}))}}/**
 * @license
 * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */const q9=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/u),rJ=q9&&q9[1]>=8,H9=3,nJ={_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return this._physicalSize-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){const t=this._virtualCount;return Math.max(0,t-this._physicalCount)},get _virtualStart(){return this._virtualStartVal||0},set _virtualStart(t){t=this._clamp(t,0,this._maxVirtualStart),this._virtualStartVal=t},get _physicalStart(){return this._physicalStartVal||0},set _physicalStart(t){t%=this._physicalCount,t<0&&(t=this._physicalCount+t),this._physicalStartVal=t},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal||0},set _physicalCount(t){this._physicalCountVal=t},get _optPhysicalSize(){return this._viewportHeight===0?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){let t=this._firstVisibleIndexVal;if(t==null){let e=this._physicalTop+this._scrollOffset;t=this._iterateItems((i,o)=>{if(e+=this._getPhysicalSizeIncrement(i),e>this._scrollPosition)return o})||0,this._firstVisibleIndexVal=t}return t},get lastVisibleIndex(){let t=this._lastVisibleIndexVal;if(t==null){let e=this._physicalTop+this._scrollOffset;this._iterateItems((i,o)=>{e<this._scrollBottom&&(t=o),e+=this._getPhysicalSizeIncrement(i)}),this._lastVisibleIndexVal=t}return t},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},_scrollHandler(){const t=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop));let e=t-this._scrollPosition;const i=e>=0;if(this._scrollPosition=t,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(e)>this._physicalSize&&this._physicalSize>0){e-=this._scrollOffset;const o=Math.round(e/this._physicalAverage);this._virtualStart+=o,this._physicalStart+=o,this._physicalTop=Math.min(Math.floor(this._virtualStart)*this._physicalAverage,this._scrollPosition),this._update()}else if(this._physicalCount>0){const o=this._getReusables(i);i?(this._physicalTop=o.physicalTop,this._virtualStart+=o.indexes.length,this._physicalStart+=o.indexes.length):(this._virtualStart-=o.indexes.length,this._physicalStart-=o.indexes.length),this._update(o.indexes,i?null:o.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),an)}},_getReusables(t){let e,i,o;const h=[],p=this._hiddenContentSize*this._ratio,m=this._virtualStart,v=this._virtualEnd,w=this._physicalCount;let A=this._physicalTop+this._scrollOffset;const $=this._physicalBottom+this._scrollOffset,M=this._scrollPosition,P=this._scrollBottom;for(t?(e=this._physicalStart,i=M-A):(e=this._physicalEnd,i=$-P);o=this._getPhysicalSizeIncrement(e),i-=o,!(h.length>=w||i<=p);)if(t){if(v+h.length+1>=this._virtualCount||A+o>=M-this._scrollOffset)break;h.push(e),A+=o,e=(e+1)%w}else{if(m-h.length<=0||A+this._physicalSize-o<=P)break;h.push(e),A-=o,e=e===0?w-1:e-1}return{indexes:h,physicalTop:A-this._scrollOffset}},_update(t,e){if(!(t&&t.length===0||this._physicalCount===0)){if(this._assignModels(t),this._updateMetrics(t),e)for(;e.length;){const i=e.pop();this._physicalTop-=this._getPhysicalSizeIncrement(i)}this._positionItems(),this._updateScrollerSize()}},_isClientFull(){return this._scrollBottom!==0&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded(t){const i=this._clamp(this._physicalCount+t,H9,this._virtualCount-this._virtualStart)-this._physicalCount;let o=Math.round(this._physicalCount*.5);if(!(i<0)){if(i>0){const h=window.performance.now();[].push.apply(this._physicalItems,this._createPool(i));for(let p=0;p<i;p++)this._physicalSizes.push(0);this._physicalCount+=i,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart+=i),this._update(),this._templateCost=(window.performance.now()-h)/i,o=Math.round(this._physicalCount*.5)}this._virtualEnd>=this._virtualCount-1||o===0||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,o)),uA):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,o),an))}},_render(){if(!(!this.isAttached||!this._isVisible))if(this._physicalCount!==0){const t=this._getReusables(!0);this._physicalTop=t.physicalTop,this._virtualStart+=t.indexes.length,this._physicalStart+=t.indexes.length,this._update(t.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(H9))},_itemsChanged(t){t.path==="items"&&(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalItems||(this._physicalItems=[]),this._physicalSizes||(this._physicalSizes=[]),this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._debounce("_render",this._render,Us))},_iterateItems(t,e){let i,o,h,p;if(arguments.length===2&&e){for(p=0;p<e.length;p++)if(i=e[p],o=this._computeVidx(i),(h=t.call(this,i,o))!=null)return h}else{for(i=this._physicalStart,o=this._virtualStart;i<this._physicalCount;i++,o++)if((h=t.call(this,i,o))!=null)return h;for(i=0;i<this._physicalStart;i++,o++)if((h=t.call(this,i,o))!=null)return h}},_computeVidx(t){return t>=this._physicalStart?this._virtualStart+(t-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+t},_positionItems(){this._adjustScrollPosition();let t=this._physicalTop;this._iterateItems(e=>{this.translate3d(0,`${t}px`,0,this._physicalItems[e]),t+=this._physicalSizes[e]})},_getPhysicalSizeIncrement(t){return this._physicalSizes[t]},_adjustScrollPosition(){const t=this._virtualStart===0?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(t!==0){this._physicalTop-=t;const e=this._scrollPosition;!rJ&&e>0&&this._resetScrollPosition(e-t)}},_resetScrollPosition(t){this.scrollTarget&&t>=0&&(this._scrollTop=t,this._scrollPosition=this._scrollTop)},_updateScrollerSize(t){const e=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage;this._estScrollHeight=e,(t||this._scrollHeight===0||this._scrollPosition>=e-this._physicalSize||Math.abs(e-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=`${e}px`,this._scrollHeight=e)},scrollToIndex(t){if(typeof t!="number"||t<0||t>this.items.length-1||(Ih(),this._physicalCount===0))return;t=this._clamp(t,0,this._virtualCount-1),(!this._isIndexRendered(t)||t>=this._maxVirtualStart)&&(this._virtualStart=t-1),this._assignModels(),this._updateMetrics(),this._physicalTop=this._virtualStart*this._physicalAverage;let e=this._physicalStart,i=this._virtualStart,o=0;const h=this._hiddenContentSize;for(;i<t&&o<=h;)o+=this._getPhysicalSizeIncrement(e),e=(e+1)%this._physicalCount,i+=1;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+o),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null},_resetAverage(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler(){this._debounce("_render",()=>{this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._isVisible?(this.updateViewportBoundaries(),this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)},Us)},_isIndexRendered(t){return t>=this._virtualStart&&t<=this._virtualEnd},_getPhysicalIndex(t){return(this._physicalStart+(t-this._virtualStart))%this._physicalCount},_clamp(t,e,i){return Math.min(i,Math.max(e,t))},_debounce(t,e,i){this._debouncers||(this._debouncers={}),this._debouncers[t]=xe.debounce(this._debouncers[t],i,e.bind(this)),dA(this._debouncers[t])}};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const sJ=1e5,O1=1e3;class AA{constructor({createElements:e,updateElement:i,scrollTarget:o,scrollContainer:h,elementsContainer:p,reorderElements:m}){this.isAttached=!0,this._vidxOffset=0,this.createElements=e,this.updateElement=i,this.scrollTarget=o,this.scrollContainer=h,this.elementsContainer=p||h,this.reorderElements=m,this._maxPages=1.3,this.__placeholderHeight=200,this.__elementHeightQueue=Array(10),this.timeouts={SCROLL_REORDER:500,IGNORE_WHEEL:500,FIX_INVALID_ITEM_POSITIONING:100},this.__resizeObserver=new ResizeObserver(()=>this._resizeHandler()),getComputedStyle(this.scrollTarget).overflow==="visible"&&(this.scrollTarget.style.overflow="auto"),getComputedStyle(this.scrollContainer).position==="static"&&(this.scrollContainer.style.position="relative"),this.__resizeObserver.observe(this.scrollTarget),this.scrollTarget.addEventListener("scroll",()=>this._scrollHandler()),this._scrollLineHeight=this._getScrollLineHeight(),this.scrollTarget.addEventListener("wheel",v=>this.__onWheel(v)),this.scrollTarget.addEventListener("virtualizer-element-focused",v=>this.__onElementFocused(v)),this.elementsContainer.addEventListener("focusin",v=>{this.scrollTarget.dispatchEvent(new CustomEvent("virtualizer-element-focused",{detail:{element:this.__getFocusedElement()}}))}),this.reorderElements&&(this.scrollTarget.addEventListener("mousedown",()=>{this.__mouseDown=!0}),this.scrollTarget.addEventListener("mouseup",()=>{this.__mouseDown=!1,this.__pendingReorder&&this.__reorderElements()}))}get scrollOffset(){return 0}get adjustedFirstVisibleIndex(){return this.firstVisibleIndex+this._vidxOffset}get adjustedLastVisibleIndex(){return this.lastVisibleIndex+this._vidxOffset}get _maxVirtualIndexOffset(){return this.size-this._virtualCount}__hasPlaceholders(){return this.__getVisibleElements().some(e=>e.__virtualizerPlaceholder)}scrollToIndex(e){if(typeof e!="number"||isNaN(e)||this.size===0||!this.scrollTarget.offsetHeight)return;delete this.__pendingScrollToIndex,this._physicalCount<=3&&this.flush(),e=this._clamp(e,0,this.size-1);const i=this.__getVisibleElements().length;let o=Math.floor(e/this.size*this._virtualCount);this._virtualCount-o<i?(o=this._virtualCount-(this.size-e),this._vidxOffset=this._maxVirtualIndexOffset):o<i?e<O1?(o=e,this._vidxOffset=0):(o=O1,this._vidxOffset=e-o):this._vidxOffset=e-o,this.__skipNextVirtualIndexAdjust=!0,super.scrollToIndex(o),this.adjustedFirstVisibleIndex!==e&&this._scrollTop<this._maxScrollTop&&!this.grid&&(this._scrollTop-=this.__getIndexScrollOffset(e)||0),this._scrollHandler(),this.__hasPlaceholders()&&(this.__pendingScrollToIndex=e)}flush(){this.scrollTarget.offsetHeight!==0&&(this._resizeHandler(),Ih(),this._scrollHandler(),this.__fixInvalidItemPositioningDebouncer&&this.__fixInvalidItemPositioningDebouncer.flush(),this.__scrollReorderDebouncer&&this.__scrollReorderDebouncer.flush(),this.__debouncerWheelAnimationFrame&&this.__debouncerWheelAnimationFrame.flush())}update(e=0,i=this.size-1){const o=[];this.__getVisibleElements().forEach(h=>{h.__virtualIndex>=e&&h.__virtualIndex<=i&&(this.__updateElement(h,h.__virtualIndex,!0),o.push(h))}),this.__afterElementsUpdated(o)}_updateMetrics(e){Ih();let i=0,o=0;const h=this._physicalAverageCount,p=this._physicalAverage;this._iterateItems((m,v)=>{o+=this._physicalSizes[m],this._physicalSizes[m]=Math.ceil(this.__getBorderBoxHeight(this._physicalItems[m])),i+=this._physicalSizes[m],this._physicalAverageCount+=this._physicalSizes[m]?1:0},e),this._physicalSize=this._physicalSize+i-o,this._physicalAverageCount!==h&&(this._physicalAverage=Math.round((p*h+i)/this._physicalAverageCount))}__getBorderBoxHeight(e){const i=getComputedStyle(e),o=parseFloat(i.height)||0;if(i.boxSizing==="border-box")return o;const h=parseFloat(i.paddingBottom)||0,p=parseFloat(i.paddingTop)||0,m=parseFloat(i.borderBottomWidth)||0,v=parseFloat(i.borderTopWidth)||0;return o+h+p+m+v}__updateElement(e,i,o){e.__virtualizerPlaceholder&&(e.style.paddingTop="",e.style.opacity="",e.__virtualizerPlaceholder=!1),!this.__preventElementUpdates&&(e.__lastUpdatedIndex!==i||o)&&(this.updateElement(e,i),e.__lastUpdatedIndex=i)}__afterElementsUpdated(e){e.forEach(i=>{const o=i.offsetHeight;if(o===0)i.style.paddingTop=`${this.__placeholderHeight}px`,i.style.opacity="0",i.__virtualizerPlaceholder=!0,this.__placeholderClearDebouncer=xe.debounce(this.__placeholderClearDebouncer,Us,()=>this._resizeHandler());else{this.__elementHeightQueue.push(o),this.__elementHeightQueue.shift();const h=this.__elementHeightQueue.filter(p=>p!==void 0);this.__placeholderHeight=Math.round(h.reduce((p,m)=>p+m,0)/h.length)}}),this.__pendingScrollToIndex!==void 0&&!this.__hasPlaceholders()&&this.scrollToIndex(this.__pendingScrollToIndex)}__getIndexScrollOffset(e){const i=this.__getVisibleElements().find(o=>o.__virtualIndex===e);return i?this.scrollTarget.getBoundingClientRect().top-i.getBoundingClientRect().top:void 0}get size(){return this.__size}set size(e){if(e===this.size)return;this.__fixInvalidItemPositioningDebouncer&&this.__fixInvalidItemPositioningDebouncer.cancel(),this._debouncers&&this._debouncers._increasePoolIfNeeded&&this._debouncers._increasePoolIfNeeded.cancel(),this.__preventElementUpdates=!0;let i,o;if(e>0&&(i=this.adjustedFirstVisibleIndex,o=this.__getIndexScrollOffset(i)),this.__size=e,this._itemsChanged({path:"items"}),Ih(),e>0){i=Math.min(i,e-1),this.scrollToIndex(i);const h=this.__getIndexScrollOffset(i);o!==void 0&&h!==void 0&&(this._scrollTop+=o-h)}this.__preventElementUpdates=!1,this._isVisible||this._assignModels(),this.elementsContainer.children.length||requestAnimationFrame(()=>this._resizeHandler()),this._resizeHandler(),Ih(),this._debounce("_update",this._update,an)}get _scrollTop(){return this.scrollTarget.scrollTop}set _scrollTop(e){this.scrollTarget.scrollTop=e}get items(){return{length:Math.min(this.size,sJ)}}get offsetHeight(){return this.scrollTarget.offsetHeight}get $(){return{items:this.scrollContainer}}updateViewportBoundaries(){const e=window.getComputedStyle(this.scrollTarget);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(e["padding-top"],10),this._isRTL=e.direction==="rtl",this._viewportWidth=this.elementsContainer.offsetWidth,this._viewportHeight=this.scrollTarget.offsetHeight,this._scrollPageHeight=this._viewportHeight-this._scrollLineHeight,this.grid&&this._updateGridMetrics()}setAttribute(){}_createPool(e){const i=this.createElements(e),o=document.createDocumentFragment();return i.forEach(h=>{h.style.position="absolute",o.appendChild(h),this.__resizeObserver.observe(h)}),this.elementsContainer.appendChild(o),i}_assignModels(e){const i=[];this._iterateItems((o,h)=>{const p=this._physicalItems[o];p.hidden=h>=this.size,p.hidden?delete p.__lastUpdatedIndex:(p.__virtualIndex=h+(this._vidxOffset||0),this.__updateElement(p,p.__virtualIndex),i.push(p))},e),this.__afterElementsUpdated(i)}_isClientFull(){return setTimeout(()=>{this.__clientFull=!0}),this.__clientFull||super._isClientFull()}translate3d(e,i,o,h){h.style.transform=`translateY(${i})`}toggleScrollListener(){}__getFocusedElement(e=this.__getVisibleElements()){return e.find(i=>i.contains(this.elementsContainer.getRootNode().activeElement)||i.contains(this.scrollTarget.getRootNode().activeElement))}__nextFocusableSiblingMissing(e,i){return i.indexOf(e)===i.length-1&&this.size>e.__virtualIndex+1}__previousFocusableSiblingMissing(e,i){return i.indexOf(e)===0&&e.__virtualIndex>0}__onElementFocused(e){if(!this.reorderElements)return;const i=e.detail.element;if(!i)return;const o=this.__getVisibleElements();(this.__previousFocusableSiblingMissing(i,o)||this.__nextFocusableSiblingMissing(i,o))&&this.flush();const h=this.__getVisibleElements();this.__nextFocusableSiblingMissing(i,h)?(this._scrollTop+=Math.ceil(i.getBoundingClientRect().bottom)-Math.floor(this.scrollTarget.getBoundingClientRect().bottom-1),this.flush()):this.__previousFocusableSiblingMissing(i,h)&&(this._scrollTop-=Math.ceil(this.scrollTarget.getBoundingClientRect().top+1)-Math.floor(i.getBoundingClientRect().top),this.flush())}_scrollHandler(){if(this.scrollTarget.offsetHeight===0)return;this._adjustVirtualIndexOffset(this._scrollTop-(this.__previousScrollTop||0));const e=this.scrollTarget.scrollTop-this._scrollPosition;if(super._scrollHandler(),this._physicalCount!==0){const i=e>=0,o=this._getReusables(!i);o.indexes.length&&(this._physicalTop=o.physicalTop,i?(this._virtualStart-=o.indexes.length,this._physicalStart-=o.indexes.length):(this._virtualStart+=o.indexes.length,this._physicalStart+=o.indexes.length),this._resizeHandler())}e&&(this.__fixInvalidItemPositioningDebouncer=xe.debounce(this.__fixInvalidItemPositioningDebouncer,Ps.after(this.timeouts.FIX_INVALID_ITEM_POSITIONING),()=>this.__fixInvalidItemPositioning())),this.reorderElements&&(this.__scrollReorderDebouncer=xe.debounce(this.__scrollReorderDebouncer,Ps.after(this.timeouts.SCROLL_REORDER),()=>this.__reorderElements())),this.__previousScrollTop=this._scrollTop,this._scrollTop===0&&this.firstVisibleIndex!==0&&Math.abs(e)>0&&this.scrollToIndex(0)}__fixInvalidItemPositioning(){if(!this.scrollTarget.isConnected)return;const e=this._physicalTop>this._scrollTop,i=this._physicalBottom<this._scrollBottom,o=this.adjustedFirstVisibleIndex===0,h=this.adjustedLastVisibleIndex===this.size-1;if(e&&!o||i&&!h){const p=i,m=this._ratio;this._ratio=0,this._scrollPosition=this._scrollTop+(p?-1:1),this._scrollHandler(),this._ratio=m}}__onWheel(e){if(e.ctrlKey||this._hasScrolledAncestor(e.target,e.deltaX,e.deltaY))return;let i=e.deltaY;if(e.deltaMode===WheelEvent.DOM_DELTA_LINE?i*=this._scrollLineHeight:e.deltaMode===WheelEvent.DOM_DELTA_PAGE&&(i*=this._scrollPageHeight),this._deltaYAcc||(this._deltaYAcc=0),this._wheelAnimationFrame){this._deltaYAcc+=i,e.preventDefault();return}i+=this._deltaYAcc,this._deltaYAcc=0,this._wheelAnimationFrame=!0,this.__debouncerWheelAnimationFrame=xe.debounce(this.__debouncerWheelAnimationFrame,Us,()=>{this._wheelAnimationFrame=!1});const o=Math.abs(e.deltaX)+Math.abs(i);this._canScroll(this.scrollTarget,e.deltaX,i)?(e.preventDefault(),this.scrollTarget.scrollTop+=i,this.scrollTarget.scrollLeft+=e.deltaX,this._hasResidualMomentum=!0,this._ignoreNewWheel=!0,this._debouncerIgnoreNewWheel=xe.debounce(this._debouncerIgnoreNewWheel,Ps.after(this.timeouts.IGNORE_WHEEL),()=>{this._ignoreNewWheel=!1})):this._hasResidualMomentum&&o<=this._previousMomentum||this._ignoreNewWheel?e.preventDefault():o>this._previousMomentum&&(this._hasResidualMomentum=!1),this._previousMomentum=o}_hasScrolledAncestor(e,i,o){if(e===this.scrollTarget||e===this.scrollTarget.getRootNode().host)return!1;if(this._canScroll(e,i,o)&&["auto","scroll"].indexOf(getComputedStyle(e).overflow)!==-1)return!0;if(e!==this&&e.parentElement)return this._hasScrolledAncestor(e.parentElement,i,o)}_canScroll(e,i,o){return o>0&&e.scrollTop<e.scrollHeight-e.offsetHeight||o<0&&e.scrollTop>0||i>0&&e.scrollLeft<e.scrollWidth-e.offsetWidth||i<0&&e.scrollLeft>0}_increasePoolIfNeeded(e){if(this._physicalCount>2&&e){const o=Math.ceil(this._optPhysicalSize/this._physicalAverage)-this._physicalCount;super._increasePoolIfNeeded(Math.max(e,Math.min(100,o)))}else super._increasePoolIfNeeded(e)}_getScrollLineHeight(){const e=document.createElement("div");e.style.fontSize="initial",e.style.display="none",document.body.appendChild(e);const i=window.getComputedStyle(e).fontSize;return document.body.removeChild(e),i?window.parseInt(i):void 0}__getVisibleElements(){return Array.from(this.elementsContainer.children).filter(e=>!e.hidden)}__reorderElements(){if(this.__mouseDown){this.__pendingReorder=!0;return}this.__pendingReorder=!1;const e=this._virtualStart+(this._vidxOffset||0),i=this.__getVisibleElements(),o=this.__getFocusedElement(i)||i[0];if(!o)return;const h=o.__virtualIndex-e,p=i.indexOf(o)-h;if(p>0)for(let m=0;m<p;m++)this.elementsContainer.appendChild(i[m]);else if(p<0)for(let m=i.length+p;m<i.length;m++)this.elementsContainer.insertBefore(i[m],i[0]);if(xA){const{transform:m}=this.scrollTarget.style;this.scrollTarget.style.transform="translateZ(0)",setTimeout(()=>{this.scrollTarget.style.transform=m})}}_adjustVirtualIndexOffset(e){const i=this._maxVirtualIndexOffset;if(this._virtualCount>=this.size)this._vidxOffset=0;else if(this.__skipNextVirtualIndexAdjust)this.__skipNextVirtualIndexAdjust=!1;else if(Math.abs(e)>1e4){const o=this._scrollTop/(this.scrollTarget.scrollHeight-this.scrollTarget.clientHeight);this._vidxOffset=Math.round(o*i)}else{const o=this._vidxOffset,h=O1,p=100;this._scrollTop===0?(this._vidxOffset=0,o!==this._vidxOffset&&super.scrollToIndex(0)):this.firstVisibleIndex<h&&this._vidxOffset>0&&(this._vidxOffset-=Math.min(this._vidxOffset,p),super.scrollToIndex(this.firstVisibleIndex+(o-this._vidxOffset))),this._scrollTop>=this._maxScrollTop&&this._maxScrollTop>0?(this._vidxOffset=i,o!==this._vidxOffset&&super.scrollToIndex(this._virtualCount-1)):this.firstVisibleIndex>this._virtualCount-h&&this._vidxOffset<i&&(this._vidxOffset+=Math.min(i-this._vidxOffset,p),super.scrollToIndex(this.firstVisibleIndex-(this._vidxOffset-o)))}}}Object.setPrototypeOf(AA.prototype,nJ);class oJ{constructor(e){this.__adapter=new AA(e)}get firstVisibleIndex(){return this.__adapter.adjustedFirstVisibleIndex}get lastVisibleIndex(){return this.__adapter.adjustedLastVisibleIndex}get size(){return this.__adapter.size}set size(e){this.__adapter.size=e}scrollToIndex(e){this.__adapter.scrollToIndex(e)}update(e=0,i=this.size-1){this.__adapter.update(e,i)}flush(){this.__adapter.flush()}}/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const aJ=t=>class extends t{static get observers(){return["_a11yUpdateGridSize(size, _columnTree)"]}_a11yGetHeaderRowCount(i){return i.filter(o=>o.some(h=>h.headerRenderer||h.path&&h.header!==null||h.header)).length}_a11yGetFooterRowCount(i){return i.filter(o=>o.some(h=>h.headerRenderer)).length}_a11yUpdateGridSize(i,o){if(i===void 0||o===void 0)return;const h=o[o.length-1];this.$.table.setAttribute("aria-rowcount",i+this._a11yGetHeaderRowCount(o)+this._a11yGetFooterRowCount(o)),this.$.table.setAttribute("aria-colcount",h&&h.length||0),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows()}_a11yUpdateHeaderRows(){Mi(this.$.header,(i,o)=>{i.setAttribute("aria-rowindex",o+1)})}_a11yUpdateFooterRows(){Mi(this.$.footer,(i,o)=>{i.setAttribute("aria-rowindex",this._a11yGetHeaderRowCount(this._columnTree)+this.size+o+1)})}_a11yUpdateRowRowindex(i,o){i.setAttribute("aria-rowindex",o+this._a11yGetHeaderRowCount(this._columnTree)+1)}_a11yUpdateRowSelected(i,o){i.setAttribute("aria-selected",!!o),Ml(i,h=>{h.setAttribute("aria-selected",!!o)})}_a11yUpdateRowExpanded(i){this.__isRowExpandable(i)?i.setAttribute("aria-expanded","false"):this.__isRowCollapsible(i)?i.setAttribute("aria-expanded","true"):i.removeAttribute("aria-expanded")}_a11yUpdateRowLevel(i,o){o>0||this.__isRowCollapsible(i)||this.__isRowExpandable(i)?i.setAttribute("aria-level",o+1):i.removeAttribute("aria-level")}_a11ySetRowDetailsCell(i,o){Ml(i,h=>{h!==o&&h.setAttribute("aria-controls",o.id)})}_a11yUpdateCellColspan(i,o){i.setAttribute("aria-colspan",Number(o))}_a11yUpdateSorters(){Array.from(this.querySelectorAll("vaadin-grid-sorter")).forEach(i=>{let o=i.parentNode;for(;o&&o.localName!=="vaadin-grid-cell-content";)o=o.parentNode;o&&o.assignedSlot&&o.assignedSlot.parentNode.setAttribute("aria-sort",{asc:"ascending",desc:"descending"}[String(i.direction)]||"none")})}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const lJ=t=>{if(!t.parentNode)return!1;const i=Array.from(t.parentNode.querySelectorAll("[tabindex], button, input, select, textarea, object, iframe, a[href], area[href]")).filter(o=>{const h=o.getAttribute("part");return!(h&&h.includes("body-cell"))}).includes(t);return!t.disabled&&i&&t.offsetParent&&getComputedStyle(t).visibility!=="hidden"},hJ=t=>class extends t{static get properties(){return{activeItem:{type:Object,notify:!0,value:null,sync:!0}}}ready(){super.ready(),this.$.scroller.addEventListener("click",this._onClick.bind(this)),this.addEventListener("cell-activate",this._activateItem.bind(this)),this.addEventListener("row-activate",this._activateItem.bind(this))}_activateItem(i){const o=i.detail.model,h=o?o.item:null;h&&(this.activeItem=this._itemsEqual(this.activeItem,h)?null:h)}_shouldPreventCellActivationOnClick(i){const{cell:o}=this._getGridEventLocation(i);return i.defaultPrevented||!o||o.getAttribute("part").includes("details-cell")||o._content.contains(this.getRootNode().activeElement)||this._isFocusable(i.target)||i.target instanceof HTMLLabelElement}_onClick(i){if(this._shouldPreventCellActivationOnClick(i))return;const{cell:o}=this._getGridEventLocation(i);o&&this.dispatchEvent(new CustomEvent("cell-activate",{detail:{model:this.__getRowModel(o.parentElement)}}))}_isFocusable(i){return lJ(i)}};function Za(t,e){return t.split(".").reduce((i,o)=>i[o],e)}function W9(t,e,i){if(i.length===0)return!1;let o=!0;return t.forEach(({path:h})=>{if(!h||h.indexOf(".")===-1)return;const p=h.replace(/\.[^.]*$/u,"");Za(p,i[0])===void 0&&(console.warn(`Path "${h}" used for ${e} does not exist in all of the items, ${e} is disabled.`),o=!1)}),o}function yf(t){return[void 0,null].indexOf(t)>=0?"":isNaN(t)?t.toString():t}function J9(t,e){return t=yf(t),e=yf(e),t<e?-1:t>e?1:0}function cJ(t,e){return t.sort((i,o)=>e.map(h=>h.direction==="asc"?J9(Za(h.path,i),Za(h.path,o)):h.direction==="desc"?J9(Za(h.path,o),Za(h.path,i)):0).reduce((h,p)=>h!==0?h:p,0))}function uJ(t,e){return t.filter(i=>e.every(o=>{const h=yf(Za(o.path,i)),p=yf(o.value).toString().toLowerCase();return h.toString().toLowerCase().includes(p)}))}const dJ=t=>(e,i)=>{let o=t?[...t]:[];e.filters&&W9(e.filters,"filtering",o)&&(o=uJ(o,e.filters)),Array.isArray(e.sortOrders)&&e.sortOrders.length&&W9(e.sortOrders,"sorting",o)&&(o=cJ(o,e.sortOrders));const h=Math.min(o.length,e.pageSize),p=e.page*h,m=p+h,v=o.slice(p,m);i(v,o.length)};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const fJ=t=>class extends t{static get properties(){return{items:{type:Array,sync:!0}}}static get observers(){return["__dataProviderOrItemsChanged(dataProvider, items, isAttached, items.*)"]}__setArrayDataProvider(i){const o=dJ(this.items);o.__items=i,this._arrayDataProvider=o,this.size=i.length,this.dataProvider=o}_onDataProviderPageReceived(){super._onDataProviderPageReceived(),this._arrayDataProvider&&(this.size=this._flatSize)}__dataProviderOrItemsChanged(i,o,h){h&&(this._arrayDataProvider?i!==this._arrayDataProvider?(this._arrayDataProvider=void 0,this.items=void 0):o?this._arrayDataProvider.__items===o?this.clearCache():this.__setArrayDataProvider(o):(this._arrayDataProvider=void 0,this.dataProvider=void 0,this.size=0,this.clearCache()):o&&this.__setArrayDataProvider(o))}};/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const pJ=!1,mJ=t=>t,S2=typeof document.head.style.touchAction=="string",Ug="__polymerGestures",P1="__polymerGesturesHandled",Bg="__polymerGesturesTouchAction",Z9=25,Y9=5,gJ=2,yJ=["mousedown","mousemove","mouseup","click"],bJ=[0,1,4,2],vJ=function(){try{return new MouseEvent("test",{buttons:1}).buttons===1}catch{return!1}}();function C2(t){return yJ.indexOf(t)>-1}let TA=!1;(function(){try{const t=Object.defineProperty({},"passive",{get(){TA=!0}});window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch{}})();function wJ(t){if(!(C2(t)||t==="touchend")&&S2&&TA&&pJ)return{passive:!0}}const _J=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/u),xJ={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function Ro(t){const e=t.type;if(!C2(e))return!1;if(e==="mousemove"){let o=t.buttons===void 0?1:t.buttons;return t instanceof window.MouseEvent&&!vJ&&(o=bJ[t.which]||0),!!(o&1)}return(t.button===void 0?0:t.button)===0}function SJ(t){if(t.type==="click"){if(t.detail===0)return!0;const e=Rs(t);if(!e.nodeType||e.nodeType!==Node.ELEMENT_NODE)return!0;const i=e.getBoundingClientRect(),o=t.pageX,h=t.pageY;return!(o>=i.left&&o<=i.right&&h>=i.top&&h<=i.bottom)}return!1}const Sn={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function CJ(t){let e="auto";const i=$A(t);for(let o=0,h;o<i.length;o++)if(h=i[o],h[Bg]){e=h[Bg];break}return e}function EA(t,e,i){t.movefn=e,t.upfn=i,document.addEventListener("mousemove",e),document.addEventListener("mouseup",i)}function dl(t){document.removeEventListener("mousemove",t.movefn),document.removeEventListener("mouseup",t.upfn),t.movefn=null,t.upfn=null}const $A=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:t=>t.composedPath&&t.composedPath()||[],A2={},Eo=[];function AJ(t,e){let i=document.elementFromPoint(t,e),o=i;for(;o&&o.shadowRoot&&!window.ShadyDOM;){const h=o;if(o=o.shadowRoot.elementFromPoint(t,e),h===o)break;o&&(i=o)}return i}function Rs(t){const e=$A(t);return e.length>0?e[0]:t.target}function TJ(t){const e=t.type,o=t.currentTarget[Ug];if(!o)return;const h=o[e];if(!h)return;if(!t[P1]&&(t[P1]={},e.startsWith("touch"))){const m=t.changedTouches[0];if(e==="touchstart"&&t.touches.length===1&&(Sn.touch.id=m.identifier),Sn.touch.id!==m.identifier)return;S2||(e==="touchstart"||e==="touchmove")&&EJ(t)}const p=t[P1];if(!p.skip){for(let m=0,v;m<Eo.length;m++)v=Eo[m],h[v.name]&&!p[v.name]&&v.flow&&v.flow.start.indexOf(t.type)>-1&&v.reset&&v.reset();for(let m=0,v;m<Eo.length;m++)v=Eo[m],h[v.name]&&!p[v.name]&&(p[v.name]=!0,v[e](t))}}function EJ(t){const e=t.changedTouches[0],i=t.type;if(i==="touchstart")Sn.touch.x=e.clientX,Sn.touch.y=e.clientY,Sn.touch.scrollDecided=!1;else if(i==="touchmove"){if(Sn.touch.scrollDecided)return;Sn.touch.scrollDecided=!0;const o=CJ(t);let h=!1;const p=Math.abs(Sn.touch.x-e.clientX),m=Math.abs(Sn.touch.y-e.clientY);t.cancelable&&(o==="none"?h=!0:o==="pan-x"?h=m>p:o==="pan-y"&&(h=p>m)),h?t.preventDefault():bf("track")}}function Yc(t,e,i){return A2[e]?($J(t,e,i),!0):!1}function $J(t,e,i){const o=A2[e],h=o.deps,p=o.name;let m=t[Ug];m||(t[Ug]=m={});for(let v=0,w,A;v<h.length;v++)w=h[v],!(_J&&C2(w)&&w!=="click")&&(A=m[w],A||(m[w]=A={_count:0}),A._count===0&&t.addEventListener(w,TJ,wJ(w)),A[p]=(A[p]||0)+1,A._count=(A._count||0)+1);t.addEventListener(e,i),o.touchAction&&kJ(t,o.touchAction)}function T2(t){Eo.push(t),t.emits.forEach(e=>{A2[e]=t})}function IJ(t){for(let e=0,i;e<Eo.length;e++){i=Eo[e];for(let o=0,h;o<i.emits.length;o++)if(h=i.emits[o],h===t)return i}return null}function kJ(t,e){S2&&t instanceof HTMLElement&&an.run(()=>{t.style.touchAction=e}),t[Bg]=e}function E2(t,e,i){const o=new Event(e,{bubbles:!0,cancelable:!0,composed:!0});if(o.detail=i,mJ(t).dispatchEvent(o),o.defaultPrevented){const h=i.preventer||i.sourceEvent;h&&h.preventDefault&&h.preventDefault()}}function bf(t){const e=IJ(t);e.info&&(e.info.prevent=!0)}T2({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset(){dl(this.info)},mousedown(t){if(!Ro(t))return;const e=Rs(t),i=this,o=p=>{Ro(p)||(fh("up",e,p),dl(i.info))},h=p=>{Ro(p)&&fh("up",e,p),dl(i.info)};EA(this.info,o,h),fh("down",e,t)},touchstart(t){fh("down",Rs(t),t.changedTouches[0],t)},touchend(t){fh("up",Rs(t),t.changedTouches[0],t)}});function fh(t,e,i,o){e&&E2(e,t,{x:i.clientX,y:i.clientY,sourceEvent:i,preventer:o,prevent(h){return bf(h)}})}T2({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove(t){this.moves.length>gJ&&this.moves.shift(),this.moves.push(t)},movefn:null,upfn:null,prevent:!1},reset(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,dl(this.info)},mousedown(t){if(!Ro(t))return;const e=Rs(t),i=this,o=p=>{const m=p.clientX,v=p.clientY;K9(i.info,m,v)&&(i.info.state=i.info.started?p.type==="mouseup"?"end":"track":"start",i.info.state==="start"&&bf("tap"),i.info.addMove({x:m,y:v}),Ro(p)||(i.info.state="end",dl(i.info)),e&&N1(i.info,e,p),i.info.started=!0)},h=p=>{i.info.started&&o(p),dl(i.info)};EA(this.info,o,h),this.info.x=t.clientX,this.info.y=t.clientY},touchstart(t){const e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchmove(t){const e=Rs(t),i=t.changedTouches[0],o=i.clientX,h=i.clientY;K9(this.info,o,h)&&(this.info.state==="start"&&bf("tap"),this.info.addMove({x:o,y:h}),N1(this.info,e,i),this.info.state="track",this.info.started=!0)},touchend(t){const e=Rs(t),i=t.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:i.clientX,y:i.clientY}),N1(this.info,e,i))}});function K9(t,e,i){if(t.prevent)return!1;if(t.started)return!0;const o=Math.abs(t.x-e),h=Math.abs(t.y-i);return o>=Y9||h>=Y9}function N1(t,e,i){if(!e)return;const o=t.moves[t.moves.length-2],h=t.moves[t.moves.length-1],p=h.x-t.x,m=h.y-t.y;let v,w=0;o&&(v=h.x-o.x,w=h.y-o.y),E2(e,"track",{state:t.state,x:i.clientX,y:i.clientY,dx:p,dy:m,ddx:v,ddy:w,sourceEvent:i,hover(){return AJ(i.clientX,i.clientY)}})}T2({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown(t){Ro(t)&&(this.info.x=t.clientX,this.info.y=t.clientY)},click(t){Ro(t)&&X9(this.info,t)},touchstart(t){const e=t.changedTouches[0];this.info.x=e.clientX,this.info.y=e.clientY},touchend(t){X9(this.info,t.changedTouches[0],t)}});function X9(t,e,i){const o=Math.abs(e.clientX-t.x),h=Math.abs(e.clientY-t.y),p=Rs(i||e);!p||xJ[p.localName]&&p.hasAttribute("disabled")||(isNaN(o)||isNaN(h)||o<=Z9&&h<=Z9||SJ(e))&&(t.prevent||E2(p,"tap",{x:e.clientX,y:e.clientY,sourceEvent:e,preventer:i}))}/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const MJ=t=>class extends t{static get properties(){return{columnReorderingAllowed:{type:Boolean,value:!1},_orderBaseScope:{type:Number,value:1e7}}}static get observers(){return["_updateOrders(_columnTree)"]}ready(){super.ready(),Yc(this,"track",this._onTrackEvent),this._reorderGhost=this.shadowRoot.querySelector('[part="reorder-ghost"]'),this.addEventListener("touchstart",this._onTouchStart.bind(this)),this.addEventListener("touchmove",this._onTouchMove.bind(this)),this.addEventListener("touchend",this._onTouchEnd.bind(this)),this.addEventListener("contextmenu",this._onContextMenu.bind(this))}_onContextMenu(i){this.hasAttribute("reordering")&&(i.preventDefault(),SA||this._onTrackEnd())}_onTouchStart(i){this._startTouchReorderTimeout=setTimeout(()=>{this._onTrackStart({detail:{x:i.touches[0].clientX,y:i.touches[0].clientY}})},100)}_onTouchMove(i){this._draggedColumn&&i.preventDefault(),clearTimeout(this._startTouchReorderTimeout)}_onTouchEnd(){clearTimeout(this._startTouchReorderTimeout),this._onTrackEnd()}_onTrackEvent(i){if(i.detail.state==="start"){const o=i.composedPath(),h=o[o.indexOf(this.$.header)-2];if(!h||!h._content||h._content.contains(this.getRootNode().activeElement)||this.$.scroller.hasAttribute("column-resizing"))return;this._touchDevice||this._onTrackStart(i)}else i.detail.state==="track"?this._onTrack(i):i.detail.state==="end"&&this._onTrackEnd(i)}_onTrackStart(i){if(!this.columnReorderingAllowed)return;const o=i.composedPath&&i.composedPath();if(o&&o.some(p=>p.hasAttribute&&p.hasAttribute("draggable")))return;const h=this._cellFromPoint(i.detail.x,i.detail.y);if(!(!h||!h.getAttribute("part").includes("header-cell"))){for(this.toggleAttribute("reordering",!0),this._draggedColumn=h._column;this._draggedColumn.parentElement.childElementCount===1;)this._draggedColumn=this._draggedColumn.parentElement;this._setSiblingsReorderStatus(this._draggedColumn,"allowed"),this._draggedColumn._reorderStatus="dragging",this._updateGhost(h),this._reorderGhost.style.visibility="visible",this._updateGhostPosition(i.detail.x,this._touchDevice?i.detail.y-50:i.detail.y),this._autoScroller()}}_onTrack(i){if(!this._draggedColumn)return;const o=this._cellFromPoint(i.detail.x,i.detail.y);if(!o)return;const h=this._getTargetColumn(o,this._draggedColumn);if(this._isSwapAllowed(this._draggedColumn,h)&&this._isSwappableByPosition(h,i.detail.x)){const p=this._columnTree.findIndex($=>$.includes(h)),m=this._getColumnsInOrder(p),v=m.indexOf(this._draggedColumn),w=m.indexOf(h),A=v<w?1:-1;for(let $=v;$!==w;$+=A)this._swapColumnOrders(this._draggedColumn,m[$+A])}this._updateGhostPosition(i.detail.x,this._touchDevice?i.detail.y-50:i.detail.y),this._lastDragClientX=i.detail.x}_onTrackEnd(){this._draggedColumn&&(this.toggleAttribute("reordering",!1),this._draggedColumn._reorderStatus="",this._setSiblingsReorderStatus(this._draggedColumn,""),this._draggedColumn=null,this._lastDragClientX=null,this._reorderGhost.style.visibility="hidden",this.dispatchEvent(new CustomEvent("column-reorder",{detail:{columns:this._getColumnsInOrder()}})))}_getColumnsInOrder(i=this._columnTree.length-1){return this._columnTree[i].filter(o=>!o.hidden).sort((o,h)=>o._order-h._order)}_cellFromPoint(i=0,o=0){this._draggedColumn||this.$.scroller.toggleAttribute("no-content-pointer-events",!0);const h=this.shadowRoot.elementFromPoint(i,o);return this.$.scroller.toggleAttribute("no-content-pointer-events",!1),this._getCellFromElement(h)}_getCellFromElement(i){if(i){if(i._column)return i;const{parentElement:o}=i;if(o&&o._focusButton===i)return o}return null}_updateGhostPosition(i,o){const h=this._reorderGhost.getBoundingClientRect(),p=i-h.width/2,m=o-h.height/2,v=parseInt(this._reorderGhost._left||0),w=parseInt(this._reorderGhost._top||0);this._reorderGhost._left=v-(h.left-p),this._reorderGhost._top=w-(h.top-m),this._reorderGhost.style.transform=`translate(${this._reorderGhost._left}px, ${this._reorderGhost._top}px)`}_updateGhost(i){const o=this._reorderGhost;o.textContent=i._content.innerText;const h=window.getComputedStyle(i);return["boxSizing","display","width","height","background","alignItems","padding","border","flex-direction","overflow"].forEach(p=>{o.style[p]=h[p]}),o}_updateOrders(i){i!==void 0&&(i[0].forEach(o=>{o._order=0}),mA(i[0],this._orderBaseScope,0))}_setSiblingsReorderStatus(i,o){Mi(i.parentNode,h=>{/column/u.test(h.localName)&&this._isSwapAllowed(h,i)&&(h._reorderStatus=o)})}_autoScroller(){if(this._lastDragClientX){const i=this._lastDragClientX-this.getBoundingClientRect().right+50,o=this.getBoundingClientRect().left-this._lastDragClientX+50;i>0?this.$.table.scrollLeft+=i/10:o>0&&(this.$.table.scrollLeft-=o/10)}this._draggedColumn&&setTimeout(()=>this._autoScroller(),10)}_isSwapAllowed(i,o){if(i&&o){const h=i!==o,p=i.parentElement===o.parentElement,m=i.frozen&&o.frozen||i.frozenToEnd&&o.frozenToEnd||!i.frozen&&!i.frozenToEnd&&!o.frozen&&!o.frozenToEnd;return h&&p&&m}}_isSwappableByPosition(i,o){const h=Array.from(this.$.header.querySelectorAll('tr:not([hidden]) [part~="cell"]')).find(v=>i.contains(v._column)),p=this.$.header.querySelector("tr:not([hidden]) [reorder-status=dragging]").getBoundingClientRect(),m=h.getBoundingClientRect();return m.left>p.left?o>m.right-p.width:o<m.left+p.width}_swapColumnOrders(i,o){[i._order,o._order]=[o._order,i._order],this._debounceUpdateFrozenColumn(),this._updateFirstAndLastColumn()}_getTargetColumn(i,o){if(i&&o){let h=i._column;for(;h.parentElement!==o.parentElement&&h!==this;)h=h.parentElement;return h.parentElement===o.parentElement?h:i._column}}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const OJ=t=>class extends t{ready(){super.ready();const i=this.$.scroller;Yc(i,"track",this._onHeaderTrack.bind(this)),i.addEventListener("touchmove",o=>i.hasAttribute("column-resizing")&&o.preventDefault()),i.addEventListener("contextmenu",o=>o.target.getAttribute("part")==="resize-handle"&&o.preventDefault()),i.addEventListener("mousedown",o=>o.target.getAttribute("part")==="resize-handle"&&o.preventDefault())}_onHeaderTrack(i){const o=i.target;if(o.getAttribute("part")==="resize-handle"){let p=o.parentElement._column;for(this.$.scroller.toggleAttribute("column-resizing",!0);p.localName==="vaadin-grid-column-group";)p=p._childColumns.slice(0).sort((M,P)=>M._order-P._order).filter(M=>!M.hidden).pop();const m=this.__isRTL,v=i.detail.x,w=Array.from(this.$.header.querySelectorAll('[part~="row"]:last-child [part~="cell"]')),A=w.find(M=>M._column===p);if(A.offsetWidth){const M=getComputedStyle(A._content),P=10+parseInt(M.paddingLeft)+parseInt(M.paddingRight)+parseInt(M.borderLeftWidth)+parseInt(M.borderRightWidth)+parseInt(M.marginLeft)+parseInt(M.marginRight);let R;const B=A.offsetWidth,G=A.getBoundingClientRect();A.hasAttribute("frozen-to-end")?R=B+(m?v-G.right:G.left-v):R=B+(m?G.left-v:v-G.right),p.width=`${Math.max(P,R)}px`,p.flexGrow=0}w.sort((M,P)=>M._column._order-P._column._order).forEach((M,P,R)=>{P<R.indexOf(A)&&(M._column.width=`${M.offsetWidth}px`,M._column.flexGrow=0)});const $=this._frozenToEndCells[0];if($&&this.$.table.scrollWidth>this.$.table.offsetWidth){const M=$.getBoundingClientRect(),P=v-(m?M.right:M.left);(m&&P<=0||!m&&P>=0)&&(this.$.table.scrollLeft+=P)}i.detail.state==="end"&&(this.$.scroller.toggleAttribute("column-resizing",!1),this.dispatchEvent(new CustomEvent("column-resize",{detail:{resizedColumn:p}}))),this._resizeHandler()}}};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function vf(t,e,i=0){let o=e;for(const h of t.subCaches){const p=h.parentCacheIndex;if(o<=p)break;if(o<=p+h.flatSize)return vf(h,o-p-1,i+1);o-=h.flatSize}return{cache:t,item:t.items[o],index:o,page:Math.floor(o/t.pageSize),level:i}}function IA({getItemId:t},e,i,o=0,h=0){for(let p=0;p<e.items.length;p++){const m=e.items[p];if(m&&t(m)===t(i))return{cache:e,level:o,item:m,index:p,page:Math.floor(p/e.pageSize),subCache:e.getSubCache(p),flatIndex:h+e.getFlatIndex(p)}}for(const p of e.subCaches){const m=h+e.getFlatIndex(p.parentCacheIndex),v=IA({getItemId:t},p,i,o+1,m+1);if(v)return v}}function kA(t,[e,...i],o=0){e===1/0&&(e=t.size-1);const h=t.getFlatIndex(e),p=t.getSubCache(e);return p&&p.flatSize>0&&i.length?kA(p,i,o+h+1):o+h}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class $2{constructor(e,i,o,h,p){oi(this,"context");oi(this,"size",0);oi(this,"pageSize");oi(this,"items",[]);oi(this,"pendingRequests",{});oi(this,"__subCacheByIndex",{});oi(this,"__flatSize",0);this.context=e,this.pageSize=i,this.size=o||0,this.parentCache=h,this.parentCacheIndex=p,this.__flatSize=o||0}get parentItem(){return this.parentCache&&this.parentCache.items[this.parentCacheIndex]}get subCaches(){return Object.values(this.__subCacheByIndex)}get isLoading(){return Object.keys(this.pendingRequests).length>0?!0:this.subCaches.some(e=>e.isLoading)}get flatSize(){return this.__flatSize}get effectiveSize(){return console.warn("<vaadin-grid> The `effectiveSize` property of ItemCache is deprecated and will be removed in Vaadin 25."),this.flatSize}recalculateFlatSize(){this.__flatSize=!this.parentItem||this.context.isExpanded(this.parentItem)?this.size+this.subCaches.reduce((e,i)=>(i.recalculateFlatSize(),e+i.flatSize),0):0}setPage(e,i){const o=e*this.pageSize;i.forEach((h,p)=>{this.items[o+p]=h})}getSubCache(e){return this.__subCacheByIndex[e]}removeSubCache(e){delete this.__subCacheByIndex[e]}removeSubCaches(){this.__subCacheByIndex={}}createSubCache(e){const i=new $2(this.context,this.pageSize,0,this,e);return this.__subCacheByIndex[e]=i,i}getFlatIndex(e){const i=Math.max(0,Math.min(this.size-1,e));return this.subCaches.reduce((o,h)=>{const p=h.parentCacheIndex;return i>p?o+h.flatSize:o},i)}getItemForIndex(e){console.warn("<vaadin-grid> The `getItemForIndex` method of ItemCache is deprecated and will be removed in Vaadin 25.");const{item:i}=vf(this,e);return i}getCacheAndIndex(e){console.warn("<vaadin-grid> The `getCacheAndIndex` method of ItemCache is deprecated and will be removed in Vaadin 25.");const{cache:i,index:o}=vf(this,e);return{cache:i,scaledIndex:o}}updateSize(){console.warn("<vaadin-grid> The `updateSize` method of ItemCache is deprecated and will be removed in Vaadin 25."),this.recalculateFlatSize()}ensureSubCacheForScaledIndex(e){if(console.warn("<vaadin-grid> The `ensureSubCacheForScaledIndex` method of ItemCache is deprecated and will be removed in Vaadin 25."),!this.getSubCache(e)){const i=this.createSubCache(e);this.context.__controller.__loadCachePage(i,0)}}get grid(){return console.warn("<vaadin-grid> The `grid` property of ItemCache is deprecated and will be removed in Vaadin 25."),this.context.__controller.host}get itemCaches(){return console.warn("<vaadin-grid> The `itemCaches` property of ItemCache is deprecated and will be removed in Vaadin 25."),this.__subCacheByIndex}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class PJ extends EventTarget{constructor(i,{size:o,pageSize:h,isExpanded:p,getItemId:m,dataProvider:v,dataProviderParams:w}){super();oi(this,"host");oi(this,"dataProvider");oi(this,"dataProviderParams");oi(this,"size");oi(this,"pageSize");oi(this,"isExpanded");oi(this,"getItemId");oi(this,"rootCache");this.host=i,this.pageSize=h,this.getItemId=m,this.isExpanded=p,this.dataProvider=v,this.dataProviderParams=w,this.rootCache=this.__createRootCache(o)}get flatSize(){return this.rootCache.flatSize}get __cacheContext(){return{isExpanded:this.isExpanded,__controller:this}}isLoading(){return this.rootCache.isLoading}setPageSize(i){this.pageSize=i,this.clearCache()}setDataProvider(i){this.dataProvider=i,this.clearCache()}recalculateFlatSize(){this.rootCache.recalculateFlatSize()}clearCache(){this.rootCache=this.__createRootCache(this.rootCache.size)}getFlatIndexContext(i){return vf(this.rootCache,i)}getItemContext(i){return IA({getItemId:this.getItemId},this.rootCache,i)}getFlatIndexByPath(i){return kA(this.rootCache,i)}ensureFlatIndexLoaded(i){const{cache:o,page:h,item:p}=this.getFlatIndexContext(i);p||this.__loadCachePage(o,h)}ensureFlatIndexHierarchy(i){const{cache:o,item:h,index:p}=this.getFlatIndexContext(i);if(h&&this.isExpanded(h)&&!o.getSubCache(p)){const m=o.createSubCache(p);this.__loadCachePage(m,0)}}loadFirstPage(){this.__loadCachePage(this.rootCache,0)}__createRootCache(i){return new $2(this.__cacheContext,this.pageSize,i)}__loadCachePage(i,o){if(!this.dataProvider||i.pendingRequests[o])return;let h={page:o,pageSize:this.pageSize,parentItem:i.parentItem};this.dataProviderParams&&(h={...h,...this.dataProviderParams()});const p=(m,v)=>{i.pendingRequests[o]===p&&(v!==void 0?i.size=v:h.parentItem&&(i.size=m.length),i.setPage(o,m),this.recalculateFlatSize(),this.dispatchEvent(new CustomEvent("page-received")),delete i.pendingRequests[o],this.dispatchEvent(new CustomEvent("page-loaded")))};i.pendingRequests[o]=p,this.dispatchEvent(new CustomEvent("page-requested")),this.dataProvider(h,p)}}/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const NJ=t=>class extends t{static get properties(){return{size:{type:Number,notify:!0,sync:!0},_flatSize:{type:Number,sync:!0},pageSize:{type:Number,value:50,observer:"_pageSizeChanged",sync:!0},dataProvider:{type:Object,notify:!0,observer:"_dataProviderChanged",sync:!0},loading:{type:Boolean,notify:!0,readOnly:!0,reflectToAttribute:!0},_hasData:{type:Boolean,value:!1,sync:!0},itemHasChildrenPath:{type:String,value:"children",observer:"__itemHasChildrenPathChanged",sync:!0},itemIdPath:{type:String,value:null,sync:!0},expandedItems:{type:Object,notify:!0,value:()=>[],sync:!0},__expandedKeys:{type:Object,computed:"__computeExpandedKeys(itemIdPath, expandedItems)"}}}static get observers(){return["_sizeChanged(size)","_expandedItemsChanged(expandedItems)"]}constructor(){super(),this._dataProviderController=new PJ(this,{size:this.size,pageSize:this.pageSize,getItemId:this.getItemId.bind(this),isExpanded:this._isExpanded.bind(this),dataProvider:this.dataProvider?this.dataProvider.bind(this):null,dataProviderParams:()=>({sortOrders:this._mapSorters(),filters:this._mapFilters()})}),this._dataProviderController.addEventListener("page-requested",this._onDataProviderPageRequested.bind(this)),this._dataProviderController.addEventListener("page-received",this._onDataProviderPageReceived.bind(this)),this._dataProviderController.addEventListener("page-loaded",this._onDataProviderPageLoaded.bind(this))}get _cache(){return console.warn("<vaadin-grid> The `_cache` property is deprecated and will be removed in Vaadin 25."),this._dataProviderController.rootCache}get _effectiveSize(){return console.warn("<vaadin-grid> The `_effectiveSize` property is deprecated and will be removed in Vaadin 25."),this._flatSize}_sizeChanged(i){this._dataProviderController.rootCache.size=i,this._dataProviderController.recalculateFlatSize(),this._flatSize=this._dataProviderController.flatSize}__itemHasChildrenPathChanged(i,o){!o&&i==="children"||this.requestContentUpdate()}_getItem(i,o){o.index=i;const{item:h}=this._dataProviderController.getFlatIndexContext(i);h?(this.__updateLoading(o,!1),this._updateItem(o,h),this._isExpanded(h)&&this._dataProviderController.ensureFlatIndexHierarchy(i)):(this.__updateLoading(o,!0),this._dataProviderController.ensureFlatIndexLoaded(i))}__updateLoading(i,o){const h=kl(i);vp(i,"loading",o),Es(h,"loading-row-cell",o),o&&(this._generateCellClassNames(i),this._generateCellPartNames(i))}getItemId(i){return this.itemIdPath?g2(this.itemIdPath,i):i}_isExpanded(i){return this.__expandedKeys&&this.__expandedKeys.has(this.getItemId(i))}_expandedItemsChanged(){this._dataProviderController.recalculateFlatSize(),this._flatSize=this._dataProviderController.flatSize,this.__updateVisibleRows()}__computeExpandedKeys(i,o){const h=o||[],p=new Set;return h.forEach(m=>{p.add(this.getItemId(m))}),p}expandItem(i){this._isExpanded(i)||(this.expandedItems=[...this.expandedItems,i])}collapseItem(i){this._isExpanded(i)&&(this.expandedItems=this.expandedItems.filter(o=>!this._itemsEqual(o,i)))}_getIndexLevel(i=0){const{level:o}=this._dataProviderController.getFlatIndexContext(i);return o}_loadPage(i,o){console.warn("<vaadin-grid> The `_loadPage` method is deprecated and will be removed in Vaadin 25."),this._dataProviderController.__loadCachePage(o,i)}_onDataProviderPageRequested(){this._setLoading(!0)}_onDataProviderPageReceived(){this._flatSize!==this._dataProviderController.flatSize&&(this._shouldUpdateAllRenderedRowsAfterPageLoad=!0,this._flatSize=this._dataProviderController.flatSize),this._getRenderedRows().forEach(i=>{this._dataProviderController.ensureFlatIndexHierarchy(i.index)}),this._hasData=!0}_onDataProviderPageLoaded(){this._debouncerApplyCachedData=xe.debounce(this._debouncerApplyCachedData,Ps.after(0),()=>{this._setLoading(!1);const i=this._shouldUpdateAllRenderedRowsAfterPageLoad;this._shouldUpdateAllRenderedRowsAfterPageLoad=!1,this._getRenderedRows().forEach(o=>{const{item:h}=this._dataProviderController.getFlatIndexContext(o.index);(h||i)&&this._getItem(o.index,o)}),this.__scrollToPendingIndexes(),this.__dispatchPendingBodyCellFocus()}),this._dataProviderController.isLoading()||this._debouncerApplyCachedData.flush()}__debounceClearCache(){this.__clearCacheDebouncer=xe.debounce(this.__clearCacheDebouncer,an,()=>this.clearCache())}clearCache(){this._dataProviderController.clearCache(),this._dataProviderController.rootCache.size=this.size,this._dataProviderController.recalculateFlatSize(),this._hasData=!1,this.__updateVisibleRows(),(!this.__virtualizer||!this.__virtualizer.size)&&this._dataProviderController.loadFirstPage()}_pageSizeChanged(i,o){this._dataProviderController.setPageSize(i),o!==void 0&&i!==o&&this.clearCache()}_checkSize(){this.size===void 0&&this._flatSize===0&&console.warn("The <vaadin-grid> needs the total number of items in order to display rows, which you can specify either by setting the `size` property, or by providing it to the second argument of the `dataProvider` function `callback` call.")}_dataProviderChanged(i,o){this._dataProviderController.setDataProvider(i?i.bind(this):null),o!==void 0&&this.clearCache(),this._ensureFirstPageLoaded(),this._debouncerCheckSize=xe.debounce(this._debouncerCheckSize,Ps.after(2e3),this._checkSize.bind(this))}_ensureFirstPageLoaded(){this._hasData||this._dataProviderController.loadFirstPage()}_itemsEqual(i,o){return this.getItemId(i)===this.getItemId(o)}_getItemIndexInArray(i,o){let h=-1;return o.forEach((p,m)=>{this._itemsEqual(p,i)&&(h=m)}),h}scrollToIndex(...i){let o;for(;o!==(o=this._dataProviderController.getFlatIndexByPath(i));)this._scrollToFlatIndex(o);(this._dataProviderController.isLoading()||!this.clientHeight)&&(this.__pendingScrollToIndexes=i)}__scrollToPendingIndexes(){if(this.__pendingScrollToIndexes&&this.$.items.children.length){const i=this.__pendingScrollToIndexes;delete this.__pendingScrollToIndexes,this.scrollToIndex(...i)}}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ph={BETWEEN:"between",ON_TOP:"on-top",ON_TOP_OR_BETWEEN:"on-top-or-between",ON_GRID:"on-grid"},Qn={ON_TOP:"on-top",ABOVE:"above",BELOW:"below",EMPTY:"empty"},RJ=!("draggable"in document.createElement("div")),LJ=t=>class extends t{static get properties(){return{dropMode:{type:String,sync:!0},rowsDraggable:{type:Boolean,sync:!0},dragFilter:{type:Function,sync:!0},dropFilter:{type:Function,sync:!0},__dndAutoScrollThreshold:{value:50}}}static get observers(){return["_dragDropAccessChanged(rowsDraggable, dropMode, dragFilter, dropFilter, loading)"]}ready(){super.ready(),this.$.table.addEventListener("dragstart",this._onDragStart.bind(this)),this.$.table.addEventListener("dragend",this._onDragEnd.bind(this)),this.$.table.addEventListener("dragover",this._onDragOver.bind(this)),this.$.table.addEventListener("dragleave",this._onDragLeave.bind(this)),this.$.table.addEventListener("drop",this._onDrop.bind(this)),this.$.table.addEventListener("dragenter",i=>{this.dropMode&&(i.preventDefault(),i.stopPropagation())})}_onDragStart(i){if(this.rowsDraggable){let o=i.target;if(o.localName==="vaadin-grid-cell-content"&&(o=o.assignedSlot.parentNode.parentNode),o.parentNode!==this.$.items)return;if(i.stopPropagation(),this.toggleAttribute("dragging-rows",!0),this._safari){const v=o.style.transform;o.style.top=/translateY\((.*)\)/u.exec(v)[1],o.style.transform="none",requestAnimationFrame(()=>{o.style.top="",o.style.transform=v})}const h=o.getBoundingClientRect();RJ?i.dataTransfer.setDragImage(o):i.dataTransfer.setDragImage(o,i.clientX-h.left,i.clientY-h.top);let p=[o];this._isSelected(o._item)&&(p=this.__getViewportRows().filter(v=>this._isSelected(v._item)).filter(v=>!this.dragFilter||this.dragFilter(this.__getRowModel(v)))),i.dataTransfer.setData("text",this.__formatDefaultTransferData(p)),fc(o,{dragstart:p.length>1?`${p.length}`:""}),this.style.setProperty("--_grid-drag-start-x",`${i.clientX-h.left+20}px`),this.style.setProperty("--_grid-drag-start-y",`${i.clientY-h.top+10}px`),requestAnimationFrame(()=>{fc(o,{dragstart:!1}),this.style.setProperty("--_grid-drag-start-x",""),this.style.setProperty("--_grid-drag-start-y","")});const m=new CustomEvent("grid-dragstart",{detail:{draggedItems:p.map(v=>v._item),setDragData:(v,w)=>i.dataTransfer.setData(v,w),setDraggedItemsCount:v=>o.setAttribute("dragstart",v)}});m.originalEvent=i,this.dispatchEvent(m)}}_onDragEnd(i){this.toggleAttribute("dragging-rows",!1),i.stopPropagation();const o=new CustomEvent("grid-dragend");o.originalEvent=i,this.dispatchEvent(o)}_onDragLeave(i){i.stopPropagation(),this._clearDragStyles()}_onDragOver(i){if(this.dropMode){if(this._dropLocation=void 0,this._dragOverItem=void 0,this.__dndAutoScroll(i.clientY)){this._clearDragStyles();return}let o=i.composedPath().find(h=>h.localName==="tr");if(!this._flatSize||this.dropMode===ph.ON_GRID)this._dropLocation=Qn.EMPTY;else if(!o||o.parentNode!==this.$.items){if(o)return;if(this.dropMode===ph.BETWEEN||this.dropMode===ph.ON_TOP_OR_BETWEEN)o=Array.from(this.$.items.children).filter(h=>!h.hidden).pop(),this._dropLocation=Qn.BELOW;else return}else{const h=o.getBoundingClientRect();if(this._dropLocation=Qn.ON_TOP,this.dropMode===ph.BETWEEN){const p=i.clientY-h.top<h.bottom-i.clientY;this._dropLocation=p?Qn.ABOVE:Qn.BELOW}else this.dropMode===ph.ON_TOP_OR_BETWEEN&&(i.clientY-h.top<h.height/3?this._dropLocation=Qn.ABOVE:i.clientY-h.top>h.height/3*2&&(this._dropLocation=Qn.BELOW))}if(o&&o.hasAttribute("drop-disabled")){this._dropLocation=void 0;return}i.stopPropagation(),i.preventDefault(),this._dropLocation===Qn.EMPTY?this.toggleAttribute("dragover",!0):o?(this._dragOverItem=o._item,o.getAttribute("dragover")!==this._dropLocation&&F9(o,{dragover:this._dropLocation})):this._clearDragStyles()}}__dndAutoScroll(i){if(this.__dndAutoScrolling)return!0;const o=this.$.header.getBoundingClientRect().bottom,h=this.$.footer.getBoundingClientRect().top,p=o-i+this.__dndAutoScrollThreshold,m=i-h+this.__dndAutoScrollThreshold;let v=0;if(m>0?v=m*2:p>0&&(v=-p*2),v){const w=this.$.table.scrollTop;if(this.$.table.scrollTop+=v,w!==this.$.table.scrollTop)return this.__dndAutoScrolling=!0,setTimeout(()=>{this.__dndAutoScrolling=!1},20),!0}}__getViewportRows(){const i=this.$.header.getBoundingClientRect().bottom,o=this.$.footer.getBoundingClientRect().top;return Array.from(this.$.items.children).filter(h=>{const p=h.getBoundingClientRect();return p.bottom>i&&p.top<o})}_clearDragStyles(){this.removeAttribute("dragover"),Mi(this.$.items,i=>{F9(i,{dragover:null})})}_onDrop(i){if(this.dropMode){i.stopPropagation(),i.preventDefault();const o=i.dataTransfer.types&&Array.from(i.dataTransfer.types).map(p=>({type:p,data:i.dataTransfer.getData(p)}));this._clearDragStyles();const h=new CustomEvent("grid-drop",{bubbles:i.bubbles,cancelable:i.cancelable,detail:{dropTargetItem:this._dragOverItem,dropLocation:this._dropLocation,dragData:o}});h.originalEvent=i,this.dispatchEvent(h)}}__formatDefaultTransferData(i){return i.map(o=>Array.from(o.children).filter(h=>!h.hidden&&h.getAttribute("part").indexOf("details-cell")===-1).sort((h,p)=>h._column._order>p._column._order?1:-1).map(h=>h._content.textContent.trim()).filter(h=>h).join("	")).join(`
`)}_dragDropAccessChanged(){this.filterDragAndDrop()}filterDragAndDrop(){Mi(this.$.items,i=>{i.hidden||this._filterDragAndDrop(i,this.__getRowModel(i))})}_filterDragAndDrop(i,o){const h=this.loading||i.hasAttribute("loading"),p=!this.rowsDraggable||h||this.dragFilter&&!this.dragFilter(o),m=!this.dropMode||h||this.dropFilter&&!this.dropFilter(o);Ml(i,v=>{p?v._content.removeAttribute("draggable"):v._content.setAttribute("draggable",!0)}),fc(i,{"drag-disabled":!!p,"drop-disabled":!!m})}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function MA(t,e){if(!t||!e||t.length!==e.length)return!1;for(let i=0,o=t.length;i<o;i++)if(t[i]instanceof Array&&e[i]instanceof Array){if(!MA(t[i],e[i]))return!1}else if(t[i]!==e[i])return!1;return!0}const DJ=t=>class extends t{static get properties(){return{_columnTree:Object}}ready(){super.ready(),this._addNodeObserver()}_hasColumnGroups(i){return i.some(o=>o.localName==="vaadin-grid-column-group")}_getChildColumns(i){return Ns.getColumns(i)}_flattenColumnGroups(i){return i.map(o=>o.localName==="vaadin-grid-column-group"?this._getChildColumns(o):[o]).reduce((o,h)=>o.concat(h),[])}_getColumnTree(){const i=Ns.getColumns(this),o=[i];let h=i;for(;this._hasColumnGroups(h);)h=this._flattenColumnGroups(h),o.push(h);return o}_debounceUpdateColumnTree(){this.__updateColumnTreeDebouncer=xe.debounce(this.__updateColumnTreeDebouncer,an,()=>this._updateColumnTree())}_updateColumnTree(){const i=this._getColumnTree();MA(i,this._columnTree)||(i.forEach(o=>{o.forEach(h=>{h.performUpdate&&h.performUpdate()})}),this._columnTree=i)}_addNodeObserver(){this._observer=new Ns(this,(i,o)=>{const h=o.flatMap(m=>m._allCells),p=m=>h.filter(v=>v&&v._content.contains(m)).length;this.__removeSorters(this._sorters.filter(p)),this.__removeFilters(this._filters.filter(p)),this._debounceUpdateColumnTree(),this._debouncerCheckImports=xe.debounce(this._debouncerCheckImports,Ps.after(2e3),this._checkImports.bind(this)),this._ensureFirstPageLoaded()})}_checkImports(){["vaadin-grid-column-group","vaadin-grid-filter","vaadin-grid-filter-column","vaadin-grid-tree-toggle","vaadin-grid-selection-column","vaadin-grid-sort-column","vaadin-grid-sorter"].forEach(i=>{this.querySelector(i)&&!customElements.get(i)&&console.warn(`Make sure you have imported the required module for <${i}> element.`)})}_updateFirstAndLastColumn(){Array.from(this.shadowRoot.querySelectorAll("tr")).forEach(i=>this._updateFirstAndLastColumnForRow(i))}_updateFirstAndLastColumnForRow(i){Array.from(i.querySelectorAll('[part~="cell"]:not([part~="details-cell"])')).sort((o,h)=>o._column._order-h._column._order).forEach((o,h,p)=>{xo(o,"first-column",h===0),xo(o,"last-column",h===p.length-1)})}_isColumnElement(i){return i.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/u.test(i.localName)}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const zJ=t=>class extends t{getEventContext(i){const o={},h=i.__composedPath||i.composedPath(),p=h[h.indexOf(this.$.table)-3];return p&&(o.section=["body","header","footer","details"].find(m=>p.getAttribute("part").indexOf(m)>-1),p._column&&(o.column=p._column),(o.section==="body"||o.section==="details")&&Object.assign(o,this.__getRowModel(p.parentElement))),o}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const jJ=t=>class extends t{static get properties(){return{_filters:{type:Array,value:()=>[]}}}constructor(){super(),this._filterChanged=this._filterChanged.bind(this),this.addEventListener("filter-changed",this._filterChanged)}_filterChanged(i){i.stopPropagation(),this.__addFilter(i.target),this.__applyFilters()}__removeFilters(i){i.length!==0&&(this._filters=this._filters.filter(o=>i.indexOf(o)<0),this.__applyFilters())}__addFilter(i){this._filters.indexOf(i)===-1&&this._filters.push(i)}__applyFilters(){this.dataProvider&&this.isAttached&&this.clearCache()}_mapFilters(){return this._filters.map(i=>({path:i.path,value:i.value}))}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const FJ=t=>class extends t{static get properties(){return{_headerFocusable:{type:Object,observer:"_focusableChanged",sync:!0},_itemsFocusable:{type:Object,observer:"_focusableChanged",sync:!0},_footerFocusable:{type:Object,observer:"_focusableChanged",sync:!0},_navigatingIsHidden:Boolean,_focusedItemIndex:{type:Number,value:0},_focusedColumnOrder:Number,_focusedCell:{type:Object,observer:"_focusedCellChanged",sync:!0},interacting:{type:Boolean,value:!1,reflectToAttribute:!0,readOnly:!0,observer:"_interactingChanged"}}}get __rowFocusMode(){return this.__isRow(this._itemsFocusable)||this.__isRow(this._headerFocusable)||this.__isRow(this._footerFocusable)}set __rowFocusMode(i){["_itemsFocusable","_footerFocusable","_headerFocusable"].forEach(o=>{const h=this[o];if(i){const p=h&&h.parentElement;this.__isCell(h)?this[o]=p:this.__isCell(p)&&(this[o]=p.parentElement)}else if(!i&&this.__isRow(h)){const p=h.firstElementChild;this[o]=p._focusButton||p}})}get _visibleItemsCount(){return this._lastVisibleIndex-this._firstVisibleIndex-1}ready(){super.ready(),!(this._ios||this._android)&&(this.addEventListener("keydown",this._onKeyDown),this.addEventListener("keyup",this._onKeyUp),this.addEventListener("focusin",this._onFocusIn),this.addEventListener("focusout",this._onFocusOut),this.$.table.addEventListener("focusin",this._onContentFocusIn.bind(this)),this.addEventListener("mousedown",()=>{this.toggleAttribute("navigating",!1),this._isMousedown=!0,this._focusedColumnOrder=void 0}),this.addEventListener("mouseup",()=>{this._isMousedown=!1}))}_focusableChanged(i,o){o&&o.setAttribute("tabindex","-1"),i&&this._updateGridSectionFocusTarget(i)}_focusedCellChanged(i,o){o&&b2(o,"part","focused-cell"),i&&bp(i,"part","focused-cell")}_interactingChanged(){this._updateGridSectionFocusTarget(this._headerFocusable),this._updateGridSectionFocusTarget(this._itemsFocusable),this._updateGridSectionFocusTarget(this._footerFocusable)}__updateItemsFocusable(){if(!this._itemsFocusable)return;const i=this.shadowRoot.activeElement===this._itemsFocusable;this._getRenderedRows().forEach(o=>{if(o.index===this._focusedItemIndex)if(this.__rowFocusMode)this._itemsFocusable=o;else{let h=this._itemsFocusable.parentElement,p=this._itemsFocusable;if(h){this.__isCell(h)&&(p=h,h=h.parentElement);const m=[...h.children].indexOf(p);this._itemsFocusable=this.__getFocusable(o,o.children[m])}}}),i&&this._itemsFocusable.focus()}_onKeyDown(i){const o=i.key;let h;switch(o){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"PageUp":case"PageDown":case"Home":case"End":h="Navigation";break;case"Enter":case"Escape":case"F2":h="Interaction";break;case"Tab":h="Tab";break;case" ":h="Space";break}this._detectInteracting(i),this.interacting&&h!=="Interaction"&&(h=void 0),h&&this[`_on${h}KeyDown`](i,o)}_ensureScrolledToIndex(i){[...this.$.items.children].find(h=>h.index===i)?this.__scrollIntoViewport(i):this.scrollToIndex(i)}__isRowExpandable(i){if(this.itemHasChildrenPath){const o=i._item;return!!(o&&g2(this.itemHasChildrenPath,o)&&!this._isExpanded(o))}}__isRowCollapsible(i){return this._isExpanded(i._item)}__isDetailsCell(i){return i.matches('[part~="details-cell"]')}__isCell(i){return i instanceof HTMLTableCellElement}__isRow(i){return i instanceof HTMLTableRowElement}__getIndexOfChildElement(i){return Array.prototype.indexOf.call(i.parentNode.children,i)}_onNavigationKeyDown(i,o){i.preventDefault();const h=this.__isRTL,p=i.composedPath().find(M=>this.__isRow(M)),m=i.composedPath().find(M=>this.__isCell(M));let v=0,w=0;switch(o){case"ArrowRight":v=h?-1:1;break;case"ArrowLeft":v=h?1:-1;break;case"Home":this.__rowFocusMode||i.ctrlKey?w=-1/0:v=-1/0;break;case"End":this.__rowFocusMode||i.ctrlKey?w=1/0:v=1/0;break;case"ArrowDown":w=1;break;case"ArrowUp":w=-1;break;case"PageDown":if(this.$.items.contains(p)){const M=this.__getIndexInGroup(p,this._focusedItemIndex);this._scrollToFlatIndex(M)}w=this._visibleItemsCount;break;case"PageUp":w=-this._visibleItemsCount;break}if(this.__rowFocusMode&&!p||!this.__rowFocusMode&&!m)return;const A=h?"ArrowLeft":"ArrowRight",$=h?"ArrowRight":"ArrowLeft";if(o===A){if(this.__rowFocusMode){if(this.__isRowExpandable(p)){this.expandItem(p._item);return}this.__rowFocusMode=!1,this._onCellNavigation(p.firstElementChild,0,0);return}}else if(o===$)if(this.__rowFocusMode){if(this.__isRowCollapsible(p)){this.collapseItem(p._item);return}}else{const M=[...p.children].sort((P,R)=>P._order-R._order);if(m===M[0]||this.__isDetailsCell(m)){this.__rowFocusMode=!0,this._onRowNavigation(p,0);return}}this.__rowFocusMode?this._onRowNavigation(p,w):this._onCellNavigation(m,v,w)}_onRowNavigation(i,o){const{dstRow:h}=this.__navigateRows(o,i);h&&h.focus()}__getIndexInGroup(i,o){return i.parentNode===this.$.items?o!==void 0?o:i.index:this.__getIndexOfChildElement(i)}__navigateRows(i,o,h){const p=this.__getIndexInGroup(o,this._focusedItemIndex),m=o.parentNode,v=(m===this.$.items?this._flatSize:m.children.length)-1;let w=Math.max(0,Math.min(p+i,v));if(m!==this.$.items){if(w>p)for(;w<v&&m.children[w].hidden;)w+=1;else if(w<p)for(;w>0&&m.children[w].hidden;)w-=1;return this.toggleAttribute("navigating",!0),{dstRow:m.children[w]}}let A=!1;if(h){const $=this.__isDetailsCell(h);if(m===this.$.items){const M=o._item,{item:P}=this._dataProviderController.getFlatIndexContext(w);$?A=i===0:A=i===1&&this._isDetailsOpened(M)||i===-1&&w!==p&&this._isDetailsOpened(P),A!==$&&(i===1&&A||i===-1&&!A)&&(w=p)}}return this._ensureScrolledToIndex(w),this._focusedItemIndex=w,this.toggleAttribute("navigating",!0),{dstRow:[...m.children].find($=>!$.hidden&&$.index===w),dstIsRowDetails:A}}_onCellNavigation(i,o,h){const p=i.parentNode,{dstRow:m,dstIsRowDetails:v}=this.__navigateRows(h,p,i);if(!m)return;let w=this.__getIndexOfChildElement(i);this.$.items.contains(i)&&(w=[...this.$.sizer.children].findIndex(P=>P._column===i._column));const A=this.__isDetailsCell(i),$=p.parentNode,M=this.__getIndexInGroup(p,this._focusedItemIndex);if(this._focusedColumnOrder===void 0&&(A?this._focusedColumnOrder=0:this._focusedColumnOrder=this._getColumns($,M).filter(P=>!P.hidden)[w]._order),v)[...m.children].find(R=>this.__isDetailsCell(R)).focus();else{const P=this.__getIndexInGroup(m,this._focusedItemIndex),R=this._getColumns($,P).filter(et=>!et.hidden),B=R.map(et=>et._order).sort((et,nt)=>et-nt),G=B.length-1,H=B.indexOf(B.slice(0).sort((et,nt)=>Math.abs(et-this._focusedColumnOrder)-Math.abs(nt-this._focusedColumnOrder))[0]),Z=h===0&&A?H:Math.max(0,Math.min(H+o,G));Z!==H&&(this._focusedColumnOrder=void 0);const Q=R.reduce((et,nt,bt)=>(et[nt._order]=bt,et),{})[B[Z]];let rt;if(this.$.items.contains(i)){const et=this.$.sizer.children[Q];this._lazyColumns&&(this.__isColumnInViewport(et._column)||et.scrollIntoView(),this.__updateColumnsBodyContentHidden(),this.__updateHorizontalScrollPosition()),rt=[...m.children].find(nt=>nt._column===et._column),this._scrollHorizontallyToCell(rt)}else rt=m.children[Q],this._scrollHorizontallyToCell(rt);rt.focus()}}_onInteractionKeyDown(i,o){const h=i.composedPath()[0],p=h.localName==="input"&&!/^(button|checkbox|color|file|image|radio|range|reset|submit)$/iu.test(h.type);let m;switch(o){case"Enter":m=this.interacting?!p:!0;break;case"Escape":m=!1;break;case"F2":m=!this.interacting;break}const{cell:v}=this._getGridEventLocation(i);if(this.interacting!==m&&v!==null)if(m){const w=v._content.querySelector("[focus-target]")||[...v._content.querySelectorAll("*")].find(A=>this._isFocusable(A));w&&(i.preventDefault(),w.focus(),this._setInteracting(!0),this.toggleAttribute("navigating",!1))}else i.preventDefault(),this._focusedColumnOrder=void 0,v.focus(),this._setInteracting(!1),this.toggleAttribute("navigating",!0);o==="Escape"&&this._hideTooltip(!0)}_predictFocusStepTarget(i,o){const h=[this.$.table,this._headerFocusable,this._itemsFocusable,this._footerFocusable,this.$.focusexit];let p=h.indexOf(i);for(p+=o;p>=0&&p<=h.length-1;){let v=h[p];if(v&&!this.__rowFocusMode&&(v=h[p].parentNode),!v||v.hidden)p+=o;else break}let m=h[p];if(m&&!this.__isHorizontallyInViewport(m)){const v=this._getColumnsInOrder().find(w=>this.__isColumnInViewport(w));if(v)if(m===this._headerFocusable)m=v._headerCell;else if(m===this._itemsFocusable){const w=m._column._cells.indexOf(m);m=v._cells[w]}else m===this._footerFocusable&&(m=v._footerCell)}return m}_onTabKeyDown(i){const o=this._predictFocusStepTarget(i.composedPath()[0],i.shiftKey?-1:1);if(o){if(i.stopPropagation(),o===this.$.table)this.$.table.focus();else if(o===this.$.focusexit)this.$.focusexit.focus();else if(o===this._itemsFocusable){let h=o;const p=this.__isRow(o)?o:o.parentNode;if(this._ensureScrolledToIndex(this._focusedItemIndex),p.index!==this._focusedItemIndex&&this.__isCell(o)){const m=Array.from(p.children).indexOf(this._itemsFocusable),v=Array.from(this.$.items.children).find(w=>!w.hidden&&w.index===this._focusedItemIndex);v&&(h=v.children[m])}i.preventDefault(),h.focus()}else i.preventDefault(),o.focus();this.toggleAttribute("navigating",!0)}}_onSpaceKeyDown(i){i.preventDefault();const o=i.composedPath()[0],h=this.__isRow(o);(h||!o._content||!o._content.firstElementChild)&&this.dispatchEvent(new CustomEvent(h?"row-activate":"cell-activate",{detail:{model:this.__getRowModel(h?o:o.parentElement)}}))}_onKeyUp(i){if(!/^( |SpaceBar)$/u.test(i.key)||this.interacting)return;i.preventDefault();const o=i.composedPath()[0];if(o._content&&o._content.firstElementChild){const h=this.hasAttribute("navigating");o._content.firstElementChild.dispatchEvent(new MouseEvent("click",{shiftKey:i.shiftKey,bubbles:!0,composed:!0,cancelable:!0})),this.toggleAttribute("navigating",h)}}_onFocusIn(i){this._isMousedown||this.toggleAttribute("navigating",!0);const o=i.composedPath()[0];o===this.$.table||o===this.$.focusexit?(this._isMousedown||this._predictFocusStepTarget(o,o===this.$.table?1:-1).focus(),this._setInteracting(!1)):this._detectInteracting(i)}_onFocusOut(i){this.toggleAttribute("navigating",!1),this._detectInteracting(i),this._hideTooltip(),this._focusedCell=null}_onContentFocusIn(i){const{section:o,cell:h,row:p}=this._getGridEventLocation(i);if(!(!h&&!this.__rowFocusMode)){if(this._detectInteracting(i),o&&(h||p))if(this._activeRowGroup=o,this.$.header===o?this._headerFocusable=this.__getFocusable(p,h):this.$.items===o?this._itemsFocusable=this.__getFocusable(p,h):this.$.footer===o&&(this._footerFocusable=this.__getFocusable(p,h)),h){const m=this.getEventContext(i);this.__pendingBodyCellFocus=this.loading&&m.section==="body",this.__pendingBodyCellFocus||h.dispatchEvent(new CustomEvent("cell-focus",{bubbles:!0,composed:!0,detail:{context:m}})),this._focusedCell=h._focusButton||h,wA()&&i.target===h&&this._showTooltip(i)}else this._focusedCell=null;this._detectFocusedItemIndex(i)}}__dispatchPendingBodyCellFocus(){this.__pendingBodyCellFocus&&this.shadowRoot.activeElement===this._itemsFocusable&&this._itemsFocusable.dispatchEvent(new Event("focusin",{bubbles:!0,composed:!0}))}__getFocusable(i,o){return this.__rowFocusMode?i:o._focusButton||o}_detectInteracting(i){const o=i.composedPath().some(h=>h.localName==="vaadin-grid-cell-content");this._setInteracting(o),this.__updateHorizontalScrollPosition()}_detectFocusedItemIndex(i){const{section:o,row:h}=this._getGridEventLocation(i);o===this.$.items&&(this._focusedItemIndex=h.index)}_updateGridSectionFocusTarget(i){if(!i)return;const o=this._getGridSectionFromFocusTarget(i),h=this.interacting&&o===this._activeRowGroup;i.tabIndex=h?-1:0}_preventScrollerRotatingCellFocus(i,o){i.index===this._focusedItemIndex&&this.hasAttribute("navigating")&&this._activeRowGroup===this.$.items&&(this._navigatingIsHidden=!0,this.toggleAttribute("navigating",!1)),o===this._focusedItemIndex&&this._navigatingIsHidden&&(this._navigatingIsHidden=!1,this.toggleAttribute("navigating",!0))}_getColumns(i,o){let h=this._columnTree.length-1;return i===this.$.header?h=o:i===this.$.footer&&(h=this._columnTree.length-1-o),this._columnTree[h]}__isValidFocusable(i){return this.$.table.contains(i)&&i.offsetHeight}_resetKeyboardNavigation(){if(!this.$&&this.performUpdate&&this.performUpdate(),["header","footer"].forEach(i=>{if(!this.__isValidFocusable(this[`_${i}Focusable`])){const o=[...this.$[i].children].find(p=>p.offsetHeight),h=o?[...o.children].find(p=>!p.hidden):null;o&&h&&(this[`_${i}Focusable`]=this.__getFocusable(o,h))}}),!this.__isValidFocusable(this._itemsFocusable)&&this.$.items.firstElementChild){const i=this.__getFirstVisibleItem(),o=i?[...i.children].find(h=>!h.hidden):null;o&&i&&(this._focusedColumnOrder=void 0,this._itemsFocusable=this.__getFocusable(i,o))}else this.__updateItemsFocusable()}_scrollHorizontallyToCell(i){if(i.hasAttribute("frozen")||i.hasAttribute("frozen-to-end")||this.__isDetailsCell(i))return;const o=i.getBoundingClientRect(),h=i.parentNode,p=Array.from(h.children).indexOf(i),m=this.$.table.getBoundingClientRect();let v=m.left,w=m.right;for(let A=p-1;A>=0;A--){const $=h.children[A];if(!($.hasAttribute("hidden")||this.__isDetailsCell($))&&($.hasAttribute("frozen")||$.hasAttribute("frozen-to-end"))){v=$.getBoundingClientRect().right;break}}for(let A=p+1;A<h.children.length;A++){const $=h.children[A];if(!($.hasAttribute("hidden")||this.__isDetailsCell($))&&($.hasAttribute("frozen")||$.hasAttribute("frozen-to-end"))){w=$.getBoundingClientRect().left;break}}o.left<v&&(this.$.table.scrollLeft+=Math.round(o.left-v)),o.right>w&&(this.$.table.scrollLeft+=Math.round(o.right-w))}_getGridEventLocation(i){const o=i.composedPath(),h=o.indexOf(this.$.table),p=h>=1?o[h-1]:null,m=h>=2?o[h-2]:null,v=h>=3?o[h-3]:null;return{section:p,row:m,cell:v}}_getGridSectionFromFocusTarget(i){return i===this._headerFocusable?this.$.header:i===this._itemsFocusable?this.$.items:i===this._footerFocusable?this.$.footer:null}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const UJ=t=>class extends t{static get properties(){return{detailsOpenedItems:{type:Array,value:()=>[],sync:!0},rowDetailsRenderer:{type:Function,sync:!0},_detailsCells:{type:Array}}}static get observers(){return["_detailsOpenedItemsChanged(detailsOpenedItems, rowDetailsRenderer)","_rowDetailsRendererChanged(rowDetailsRenderer)"]}ready(){super.ready(),this._detailsCellResizeObserver=new ResizeObserver(i=>{i.forEach(({target:o})=>{this._updateDetailsCellHeight(o.parentElement)}),this.__virtualizer.__adapter._resizeHandler()})}_rowDetailsRendererChanged(i){i&&this._columnTree&&Mi(this.$.items,o=>{if(!o.querySelector("[part~=details-cell]")){this._updateRow(o,this._columnTree[this._columnTree.length-1]);const h=this._isDetailsOpened(o._item);this._toggleDetailsCell(o,h)}})}_detailsOpenedItemsChanged(i,o){Mi(this.$.items,h=>{if(h.hasAttribute("details-opened")){this._updateItem(h,h._item);return}o&&this._isDetailsOpened(h._item)&&this._updateItem(h,h._item)})}_configureDetailsCell(i){i.setAttribute("part","cell details-cell"),i.toggleAttribute("frozen",!0),this._detailsCellResizeObserver.observe(i)}_toggleDetailsCell(i,o){const h=i.querySelector('[part~="details-cell"]');h&&(h.hidden=!o,!h.hidden&&this.rowDetailsRenderer&&(h._renderer=this.rowDetailsRenderer))}_updateDetailsCellHeight(i){const o=i.querySelector('[part~="details-cell"]');o&&(this.__updateDetailsRowPadding(i,o),requestAnimationFrame(()=>this.__updateDetailsRowPadding(i,o)))}__updateDetailsRowPadding(i,o){o.hidden?i.style.removeProperty("padding-bottom"):i.style.setProperty("padding-bottom",`${o.offsetHeight}px`)}_updateDetailsCellHeights(){Mi(this.$.items,i=>{this._updateDetailsCellHeight(i)})}_isDetailsOpened(i){return this.detailsOpenedItems&&this._getItemIndexInArray(i,this.detailsOpenedItems)!==-1}openItemDetails(i){this._isDetailsOpened(i)||(this.detailsOpenedItems=[...this.detailsOpenedItems,i])}closeItemDetails(i){this._isDetailsOpened(i)&&(this.detailsOpenedItems=this.detailsOpenedItems.filter(o=>!this._itemsEqual(o,i)))}};/**
 * @license
 * Copyright (c) 2022 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const _p=document.createElement("div");_p.style.position="fixed";_p.style.clip="rect(0px, 0px, 0px, 0px)";_p.setAttribute("aria-live","polite");document.body.appendChild(_p);/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const BJ=si(t=>class extends t{ready(){super.ready(),this.addEventListener("keydown",i=>{this._onKeyDown(i)}),this.addEventListener("keyup",i=>{this._onKeyUp(i)})}_onKeyDown(i){switch(i.key){case"Enter":this._onEnter(i);break;case"Escape":this._onEscape(i);break}}_onKeyUp(i){}_onEnter(i){}_onEscape(i){}});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const VJ=t=>class extends _2(BJ(t)){get _activeKeys(){return[" "]}ready(){super.ready(),Yc(this,"down",i=>{this._shouldSetActive(i)&&this._setActive(!0)}),Yc(this,"up",()=>{this._setActive(!1)})}disconnectedCallback(){super.disconnectedCallback(),this._setActive(!1)}_shouldSetActive(i){return!this.disabled}_onKeyDown(i){super._onKeyDown(i),this._shouldSetActive(i)&&this._activeKeys.includes(i.key)&&(this._setActive(!0),document.addEventListener("keyup",o=>{this._activeKeys.includes(o.key)&&this._setActive(!1)},{once:!0}))}_setActive(i){this.toggleAttribute("active",i)}};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const GJ=si(t=>class extends t{get _keyboardActive(){return wA()}ready(){this.addEventListener("focusin",i=>{this._shouldSetFocus(i)&&this._setFocused(!0)}),this.addEventListener("focusout",i=>{this._shouldRemoveFocus(i)&&this._setFocused(!1)}),super.ready()}disconnectedCallback(){super.disconnectedCallback(),this.hasAttribute("focused")&&this._setFocused(!1)}_setFocused(i){this.toggleAttribute("focused",i),this.toggleAttribute("focus-ring",i&&this._keyboardActive)}_shouldSetFocus(i){return!0}_shouldRemoveFocus(i){return!0}});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const qJ=si(t=>class extends GJ(_A(t)){static get properties(){return{autofocus:{type:Boolean},focusElement:{type:Object,readOnly:!0,observer:"_focusElementChanged"},_lastTabIndex:{value:0}}}constructor(){super(),this._boundOnBlur=this._onBlur.bind(this),this._boundOnFocus=this._onFocus.bind(this)}ready(){super.ready(),this.autofocus&&!this.disabled&&requestAnimationFrame(()=>{this.focus(),this.setAttribute("focus-ring","")})}focus(){this.focusElement&&!this.disabled&&this.focusElement.focus()}blur(){this.focusElement&&this.focusElement.blur()}click(){this.focusElement&&!this.disabled&&this.focusElement.click()}_focusElementChanged(i,o){i?(i.disabled=this.disabled,this._addFocusListeners(i),this.__forwardTabIndex(this.tabindex)):o&&this._removeFocusListeners(o)}_addFocusListeners(i){i.addEventListener("blur",this._boundOnBlur),i.addEventListener("focus",this._boundOnFocus)}_removeFocusListeners(i){i.removeEventListener("blur",this._boundOnBlur),i.removeEventListener("focus",this._boundOnFocus)}_onFocus(i){i.stopPropagation(),this.dispatchEvent(new Event("focus"))}_onBlur(i){i.stopPropagation(),this.dispatchEvent(new Event("blur"))}_shouldSetFocus(i){return i.target===this.focusElement}_shouldRemoveFocus(i){return i.target===this.focusElement}_disabledChanged(i,o){super._disabledChanged(i,o),this.focusElement&&(this.focusElement.disabled=i),i&&this.blur()}_tabindexChanged(i){this.__forwardTabIndex(i)}__forwardTabIndex(i){i!==void 0&&this.focusElement&&(this.focusElement.tabIndex=i,i!==-1&&(this.tabindex=void 0)),this.disabled&&i&&(i!==-1&&(this._lastTabIndex=i),this.tabindex=void 0)}});/**
 * @license
 * Copyright (c) 2023 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const R1=new Map;function I2(t){return R1.has(t)||R1.set(t,new WeakMap),R1.get(t)}function OA(t,e){t&&t.removeAttribute(e)}function PA(t,e){if(!t||!e)return;const i=I2(e);if(i.has(t))return;const o=y2(t.getAttribute(e));i.set(t,new Set(o))}function HJ(t,e){if(!t||!e)return;const i=I2(e),o=i.get(t);!o||o.size===0?t.removeAttribute(e):bp(t,e,yp(o)),i.delete(t)}function L1(t,e,i={newId:null,oldId:null,fromUser:!1}){if(!t||!e)return;const{newId:o,oldId:h,fromUser:p}=i,m=I2(e),v=m.get(t);if(!p&&v){h&&v.delete(h),o&&v.add(o);return}p&&(v?o||m.delete(t):PA(t,e),OA(t,e)),b2(t,e,h);const w=o||yp(v);w&&bp(t,e,w)}function WJ(t,e){PA(t,e),OA(t,e)}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class JJ{constructor(e){this.host=e,this.__required=!1}setTarget(e){this.__target=e,this.__setAriaRequiredAttribute(this.__required),this.__setLabelIdToAriaAttribute(this.__labelId,this.__labelId),this.__labelIdFromUser!=null&&this.__setLabelIdToAriaAttribute(this.__labelIdFromUser,this.__labelIdFromUser,!0),this.__setErrorIdToAriaAttribute(this.__errorId),this.__setHelperIdToAriaAttribute(this.__helperId),this.setAriaLabel(this.__label)}setRequired(e){this.__setAriaRequiredAttribute(e),this.__required=e}setAriaLabel(e){this.__setAriaLabelToAttribute(e),this.__label=e}setLabelId(e,i=!1){const o=i?this.__labelIdFromUser:this.__labelId;this.__setLabelIdToAriaAttribute(e,o,i),i?this.__labelIdFromUser=e:this.__labelId=e}setErrorId(e){this.__setErrorIdToAriaAttribute(e,this.__errorId),this.__errorId=e}setHelperId(e){this.__setHelperIdToAriaAttribute(e,this.__helperId),this.__helperId=e}__setAriaLabelToAttribute(e){this.__target&&(e?(WJ(this.__target,"aria-labelledby"),this.__target.setAttribute("aria-label",e)):this.__label&&(HJ(this.__target,"aria-labelledby"),this.__target.removeAttribute("aria-label")))}__setLabelIdToAriaAttribute(e,i,o){L1(this.__target,"aria-labelledby",{newId:e,oldId:i,fromUser:o})}__setErrorIdToAriaAttribute(e,i){L1(this.__target,"aria-describedby",{newId:e,oldId:i,fromUser:!1})}__setHelperIdToAriaAttribute(e,i){L1(this.__target,"aria-describedby",{newId:e,oldId:i,fromUser:!1})}__setAriaRequiredAttribute(e){this.__target&&(["input","textarea"].includes(this.__target.localName)||(e?this.__target.setAttribute("aria-required","true"):this.__target.removeAttribute("aria-required")))}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */function Q9(t,e){const{scrollLeft:i}=t;return e!=="rtl"?i:t.scrollWidth-t.clientWidth+i}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const ld=new ResizeObserver(t=>{setTimeout(()=>{t.forEach(e=>{e.target.resizables?e.target.resizables.forEach(i=>{i._onResize(e.contentRect)}):e.target._onResize(e.contentRect)})})}),ZJ=si(t=>class extends t{get _observeParent(){return!1}connectedCallback(){if(super.connectedCallback(),ld.observe(this),this._observeParent){const i=this.parentNode instanceof ShadowRoot?this.parentNode.host:this.parentNode;i.resizables||(i.resizables=new Set,ld.observe(i)),i.resizables.add(this),this.__parent=i}}disconnectedCallback(){super.disconnectedCallback(),ld.unobserve(this);const i=this.__parent;if(this._observeParent&&i){const o=i.resizables;o&&(o.delete(this),o.size===0&&ld.unobserve(i)),this.__parent=null}}_onResize(i){}});/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const t5={SCROLLING:500,UPDATE_CONTENT_VISIBILITY:100},YJ=t=>class extends ZJ(t){static get properties(){return{columnRendering:{type:String,value:"eager",sync:!0},_frozenCells:{type:Array,value:()=>[]},_frozenToEndCells:{type:Array,value:()=>[]},_rowWithFocusedElement:Element}}static get observers(){return["__columnRenderingChanged(_columnTree, columnRendering)"]}get _scrollLeft(){return this.$.table.scrollLeft}get _scrollTop(){return this.$.table.scrollTop}set _scrollTop(i){this.$.table.scrollTop=i}get _lazyColumns(){return this.columnRendering==="lazy"}ready(){super.ready(),this.scrollTarget=this.$.table,this.$.items.addEventListener("focusin",i=>{const o=i.composedPath().indexOf(this.$.items);this._rowWithFocusedElement=i.composedPath()[o-1],this._rowWithFocusedElement&&(this._isMousedown||this.__scrollIntoViewport(this._rowWithFocusedElement.index),this.$.table.contains(i.relatedTarget)||this.$.table.dispatchEvent(new CustomEvent("virtualizer-element-focused",{detail:{element:this._rowWithFocusedElement}})))}),this.$.items.addEventListener("focusout",()=>{this._rowWithFocusedElement=void 0}),this.$.table.addEventListener("scroll",()=>this._afterScroll())}_onResize(){if(this._updateOverflow(),this.__updateHorizontalScrollPosition(),this._firefox){const i=!gf(this);i&&this.__previousVisible===!1&&(this._scrollTop=this.__memorizedScrollTop||0),this.__previousVisible=i}}_scrollToFlatIndex(i){i=Math.min(this._flatSize-1,Math.max(0,i)),this.__virtualizer.scrollToIndex(i),this.__scrollIntoViewport(i)}__scrollIntoViewport(i){const o=[...this.$.items.children].find(h=>h.index===i);if(o){const h=o.getBoundingClientRect(),p=this.$.footer.getBoundingClientRect().top,m=this.$.header.getBoundingClientRect().bottom;h.bottom>p?this.$.table.scrollTop+=h.bottom-p:h.top<m&&(this.$.table.scrollTop-=m-h.top)}}_scheduleScrolling(){this._scrollingFrame||(this._scrollingFrame=requestAnimationFrame(()=>this.$.scroller.toggleAttribute("scrolling",!0))),this._debounceScrolling=xe.debounce(this._debounceScrolling,Ps.after(t5.SCROLLING),()=>{cancelAnimationFrame(this._scrollingFrame),delete this._scrollingFrame,this.$.scroller.toggleAttribute("scrolling",!1)})}_afterScroll(){this.__updateHorizontalScrollPosition(),this.hasAttribute("reordering")||this._scheduleScrolling(),this.hasAttribute("navigating")||this._hideTooltip(!0),this._updateOverflow(),this._debounceColumnContentVisibility=xe.debounce(this._debounceColumnContentVisibility,Ps.after(t5.UPDATE_CONTENT_VISIBILITY),()=>{this._lazyColumns&&this.__cachedScrollLeft!==this._scrollLeft&&(this.__cachedScrollLeft=this._scrollLeft,this.__updateColumnsBodyContentHidden())}),this._firefox&&!gf(this)&&this.__previousVisible!==!1&&(this.__memorizedScrollTop=this._scrollTop)}__updateColumnsBodyContentHidden(){if(!this._columnTree||!this._areSizerCellsAssigned())return;const i=this._getColumnsInOrder();let o=!1;if(i.forEach(h=>{const p=this._lazyColumns&&!this.__isColumnInViewport(h);h._bodyContentHidden!==p&&(o=!0,h._cells.forEach(m=>{if(m!==h._sizerCell){if(p)m.remove();else if(m.__parentRow){const v=[...m.__parentRow.children].find(w=>i.indexOf(w._column)>i.indexOf(h));m.__parentRow.insertBefore(m,v)}}})),h._bodyContentHidden=p}),o&&this._frozenCellsChanged(),this._lazyColumns){const h=[...i].reverse().find(v=>v.frozen),p=this.__getColumnEnd(h),m=i.find(v=>!v.frozen&&!v._bodyContentHidden);this.__lazyColumnsStart=this.__getColumnStart(m)-p,this.$.items.style.setProperty("--_grid-lazy-columns-start",`${this.__lazyColumnsStart}px`),this._resetKeyboardNavigation()}}__getColumnEnd(i){return i?i._sizerCell.offsetLeft+(this.__isRTL?0:i._sizerCell.offsetWidth):this.__isRTL?this.$.table.clientWidth:0}__getColumnStart(i){return i?i._sizerCell.offsetLeft+(this.__isRTL?i._sizerCell.offsetWidth:0):this.__isRTL?this.$.table.clientWidth:0}__isColumnInViewport(i){return i.frozen||i.frozenToEnd?!0:this.__isHorizontallyInViewport(i._sizerCell)}__isHorizontallyInViewport(i){return i.offsetLeft+i.offsetWidth>=this._scrollLeft&&i.offsetLeft<=this._scrollLeft+this.clientWidth}__columnRenderingChanged(i,o){o==="eager"?this.$.scroller.removeAttribute("column-rendering"):this.$.scroller.setAttribute("column-rendering",o),this.__updateColumnsBodyContentHidden()}_updateOverflow(){this._debounceOverflow=xe.debounce(this._debounceOverflow,Us,()=>{this.__doUpdateOverflow()})}__doUpdateOverflow(){let i="";const o=this.$.table;o.scrollTop<o.scrollHeight-o.clientHeight&&(i+=" bottom"),o.scrollTop>0&&(i+=" top");const h=Q9(o,this.getAttribute("dir"));h>0&&(i+=" start"),h<o.scrollWidth-o.clientWidth&&(i+=" end"),this.__isRTL&&(i=i.replace(/start|end/giu,m=>m==="start"?"end":"start")),o.scrollLeft<o.scrollWidth-o.clientWidth&&(i+=" right"),o.scrollLeft>0&&(i+=" left");const p=i.trim();p.length>0&&this.getAttribute("overflow")!==p?this.setAttribute("overflow",p):p.length===0&&this.hasAttribute("overflow")&&this.removeAttribute("overflow")}_frozenCellsChanged(){this._debouncerCacheElements=xe.debounce(this._debouncerCacheElements,an,()=>{Array.from(this.shadowRoot.querySelectorAll('[part~="cell"]')).forEach(i=>{i.style.transform=""}),this._frozenCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen]")),this._frozenToEndCells=Array.prototype.slice.call(this.$.table.querySelectorAll("[frozen-to-end]")),this.__updateHorizontalScrollPosition()}),this._debounceUpdateFrozenColumn()}_debounceUpdateFrozenColumn(){this.__debounceUpdateFrozenColumn=xe.debounce(this.__debounceUpdateFrozenColumn,an,()=>this._updateFrozenColumn())}_updateFrozenColumn(){if(!this._columnTree)return;const i=this._columnTree[this._columnTree.length-1].slice(0);i.sort((p,m)=>p._order-m._order);let o,h;for(let p=0;p<i.length;p++){const m=i[p];m._lastFrozen=!1,m._firstFrozenToEnd=!1,h===void 0&&m.frozenToEnd&&!m.hidden&&(h=p),m.frozen&&!m.hidden&&(o=p)}o!==void 0&&(i[o]._lastFrozen=!0),h!==void 0&&(i[h]._firstFrozenToEnd=!0),this.__updateColumnsBodyContentHidden()}__updateHorizontalScrollPosition(){if(!this._columnTree)return;const i=this.$.table.scrollWidth,o=this.$.table.clientWidth,h=Math.max(0,this.$.table.scrollLeft),p=Q9(this.$.table,this.getAttribute("dir")),m=`translate(${-h}px, 0)`;this.$.header.style.transform=m,this.$.footer.style.transform=m,this.$.items.style.transform=m;const v=this.__isRTL?p+o-i:h,w=`translate(${v}px, 0)`;this._frozenCells.forEach(P=>{P.style.transform=w});const A=this.__isRTL?p:h+o-i,$=`translate(${A}px, 0)`;let M=$;if(this._lazyColumns&&this._areSizerCellsAssigned()){const P=this._getColumnsInOrder(),R=[...P].reverse().find(X=>!X.frozenToEnd&&!X._bodyContentHidden),B=this.__getColumnEnd(R),G=P.find(X=>X.frozenToEnd),H=this.__getColumnStart(G);M=`translate(${A+(H-B)+this.__lazyColumnsStart}px, 0)`}this._frozenToEndCells.forEach(P=>{this.$.items.contains(P)?P.style.transform=M:P.style.transform=$}),this.hasAttribute("navigating")&&this.__rowFocusMode&&this.$.table.style.setProperty("--_grid-horizontal-scroll-position",`${-v}px`)}_areSizerCellsAssigned(){return this._getColumnsInOrder().every(i=>i._sizerCell)}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const KJ=t=>class extends t{static get properties(){return{selectedItems:{type:Object,notify:!0,value:()=>[],sync:!0},__selectedKeys:{type:Object,computed:"__computeSelectedKeys(itemIdPath, selectedItems)"}}}static get observers(){return["__selectedItemsChanged(itemIdPath, selectedItems)"]}_isSelected(i){return this.__selectedKeys.has(this.getItemId(i))}selectItem(i){this._isSelected(i)||(this.selectedItems=[...this.selectedItems,i])}deselectItem(i){this._isSelected(i)&&(this.selectedItems=this.selectedItems.filter(o=>!this._itemsEqual(o,i)))}_toggleItem(i){this._isSelected(i)?this.deselectItem(i):this.selectItem(i)}__selectedItemsChanged(){this.requestContentUpdate()}__computeSelectedKeys(i,o){const h=o||[],p=new Set;return h.forEach(m=>{p.add(this.getItemId(m))}),p}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */let e5="prepend";const XJ=t=>class extends t{static get properties(){return{multiSort:{type:Boolean,value:!1},multiSortPriority:{type:String,value:()=>e5},multiSortOnShiftClick:{type:Boolean,value:!1},_sorters:{type:Array,value:()=>[]},_previousSorters:{type:Array,value:()=>[]}}}static setDefaultMultiSortPriority(i){e5=["append","prepend"].includes(i)?i:"prepend"}ready(){super.ready(),this.addEventListener("sorter-changed",this._onSorterChanged)}_onSorterChanged(i){const o=i.target;i.stopPropagation(),o._grid=this,this.__updateSorter(o,i.detail.shiftClick,i.detail.fromSorterClick),this.__applySorters()}__removeSorters(i){i.length!==0&&(this._sorters=this._sorters.filter(o=>!i.includes(o)),this.__applySorters())}__updateSortOrders(){this._sorters.forEach(o=>{o._order=null});const i=this._getActiveSorters();i.length>1&&i.forEach((o,h)=>{o._order=h})}__updateSorter(i,o,h){if(!i.direction&&!this._sorters.includes(i))return;i._order=null;const p=this._sorters.filter(m=>m!==i);this.multiSort&&(!this.multiSortOnShiftClick||!h)||this.multiSortOnShiftClick&&o?this.multiSortPriority==="append"?this._sorters=[...p,i]:this._sorters=[i,...p]:(i.direction||this.multiSortOnShiftClick)&&(this._sorters=i.direction?[i]:[],p.forEach(m=>{m._order=null,m.direction=null}))}__applySorters(){this.__updateSortOrders(),this.dataProvider&&this.isAttached&&JSON.stringify(this._previousSorters)!==JSON.stringify(this._mapSorters())&&this.__debounceClearCache(),this._a11yUpdateSorters(),this._previousSorters=this._mapSorters()}_getActiveSorters(){return this._sorters.filter(i=>i.direction&&i.isConnected)}_mapSorters(){return this._getActiveSorters().map(i=>({path:i.path,direction:i.direction}))}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const QJ=t=>class extends t{static get properties(){return{cellClassNameGenerator:{type:Function,sync:!0},cellPartNameGenerator:{type:Function,sync:!0}}}static get observers(){return["__cellClassNameGeneratorChanged(cellClassNameGenerator)","__cellPartNameGeneratorChanged(cellPartNameGenerator)"]}__cellClassNameGeneratorChanged(){this.generateCellClassNames()}__cellPartNameGeneratorChanged(){this.generateCellPartNames()}generateCellClassNames(){Mi(this.$.items,i=>{i.hidden||this._generateCellClassNames(i,this.__getRowModel(i))})}generateCellPartNames(){Mi(this.$.items,i=>{i.hidden||this._generateCellPartNames(i,this.__getRowModel(i))})}_generateCellClassNames(i,o){Ml(i,h=>{if(h.__generatedClasses&&h.__generatedClasses.forEach(p=>h.classList.remove(p)),this.cellClassNameGenerator&&!i.hasAttribute("loading")){const p=this.cellClassNameGenerator(h._column,o);h.__generatedClasses=p&&p.split(" ").filter(m=>m.length>0),h.__generatedClasses&&h.__generatedClasses.forEach(m=>h.classList.add(m))}})}_generateCellPartNames(i,o){Ml(i,h=>{if(h.__generatedParts&&h.__generatedParts.forEach(p=>{Bs(h,null,p)}),this.cellPartNameGenerator&&!i.hasAttribute("loading")){const p=this.cellPartNameGenerator(h._column,o);h.__generatedParts=p&&p.split(" ").filter(m=>m.length>0),h.__generatedParts&&h.__generatedParts.forEach(m=>{Bs(h,!0,m)})}})}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const tZ=t=>class extends fJ(NJ(DJ(hJ(YJ(KJ(XJ(UJ(FJ(aJ(jJ(MJ(OJ(zJ(LJ(QJ(_A(t))))))))))))))))){static get observers(){return["_columnTreeChanged(_columnTree)","_flatSizeChanged(_flatSize, __virtualizer, _hasData, _columnTree)"]}static get properties(){return{_safari:{type:Boolean,value:xA},_ios:{type:Boolean,value:G9},_firefox:{type:Boolean,value:KW},_android:{type:Boolean,value:V9},_touchDevice:{type:Boolean,value:SA},allRowsVisible:{type:Boolean,value:!1,reflectToAttribute:!0},__pendingRecalculateColumnWidths:{type:Boolean,value:!0},isAttached:{value:!1},__gridElement:{type:Boolean,value:!0}}}constructor(){super(),this.addEventListener("animationend",this._onAnimationEnd)}get _firstVisibleIndex(){const e=this.__getFirstVisibleItem();return e?e.index:void 0}get _lastVisibleIndex(){const e=this.__getLastVisibleItem();return e?e.index:void 0}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.recalculateColumnWidths()}disconnectedCallback(){super.disconnectedCallback(),this.isAttached=!1,this._hideTooltip(!0)}__getFirstVisibleItem(){return this._getRenderedRows().find(e=>this._isInViewport(e))}__getLastVisibleItem(){return this._getRenderedRows().reverse().find(e=>this._isInViewport(e))}_isInViewport(e){const i=this.$.table.getBoundingClientRect(),o=e.getBoundingClientRect(),h=this.$.header.getBoundingClientRect().height,p=this.$.footer.getBoundingClientRect().height;return o.bottom>i.top+h&&o.top<i.bottom-p}_getRenderedRows(){return Array.from(this.$.items.children).filter(e=>!e.hidden).sort((e,i)=>e.index-i.index)}_getRowContainingNode(e){const i=pA("vaadin-grid-cell-content",e);return i?i.assignedSlot.parentElement.parentElement:void 0}_isItemAssignedToRow(e,i){const o=this.__getRowModel(i);return this.getItemId(e)===this.getItemId(o.item)}ready(){super.ready(),this.__virtualizer=new oJ({createElements:this._createScrollerRows.bind(this),updateElement:this._updateScrollerItem.bind(this),scrollContainer:this.$.items,scrollTarget:this.$.table,reorderElements:!0}),new ResizeObserver(()=>setTimeout(()=>{this.__updateColumnsBodyContentHidden(),this.__tryToRecalculateColumnWidthsIfPending()})).observe(this.$.table),fA(this),this._tooltipController=new CA(this),this.addController(this._tooltipController),this._tooltipController.setManual(!0)}__getBodyCellCoordinates(e){if(this.$.items.contains(e)&&e.localName==="td")return{item:e.parentElement._item,column:e._column}}__focusBodyCell({item:e,column:i}){const o=this._getRenderedRows().find(p=>p._item===e),h=o&&[...o.children].find(p=>p._column===i);h&&h.focus()}_focusFirstVisibleRow(){const e=this.__getFirstVisibleItem();this.__rowFocusMode=!0,e.focus()}_flatSizeChanged(e,i,o,h){if(i&&o&&h){const p=this.shadowRoot.activeElement,m=this.__getBodyCellCoordinates(p),v=i.size||0;i.size=e,i.update(v-1,v-1),e<v&&i.update(e-1,e-1),m&&p.parentElement.hidden&&this.__focusBodyCell(m),this._resetKeyboardNavigation()}}__getIntrinsicWidth(e){return this.__intrinsicWidthCache.has(e)||this.__calculateAndCacheIntrinsicWidths([e]),this.__intrinsicWidthCache.get(e)}__getDistributedWidth(e,i){if(e==null||e===this)return 0;const o=Math.max(this.__getIntrinsicWidth(e),this.__getDistributedWidth((e.assignedSlot||e).parentElement,e));if(!i)return o;const h=e,p=o,m=h._visibleChildColumns.map($=>this.__getIntrinsicWidth($)).reduce(($,M)=>$+M,0),v=Math.max(0,p-m),A=this.__getIntrinsicWidth(i)/m*v;return this.__getIntrinsicWidth(i)+A}_recalculateColumnWidths(e){this.__virtualizer.flush(),[...this.$.header.children,...this.$.footer.children].forEach(h=>{h.__debounceUpdateHeaderFooterRowVisibility&&h.__debounceUpdateHeaderFooterRowVisibility.flush()}),this._debouncerHiddenChanged&&this._debouncerHiddenChanged.flush(),this.__intrinsicWidthCache=new Map;const i=this._firstVisibleIndex,o=this._lastVisibleIndex;this.__viewportRowsCache=this._getRenderedRows().filter(h=>h.index>=i&&h.index<=o),this.__calculateAndCacheIntrinsicWidths(e),e.forEach(h=>{h.width=`${this.__getDistributedWidth(h)}px`})}__setVisibleCellContentAutoWidth(e,i){e._allCells.filter(o=>this.$.items.contains(o)?this.__viewportRowsCache.includes(o.parentElement):!0).forEach(o=>{o.__measuringAutoWidth=i,o.__measuringAutoWidth?(o.__originalWidth=o.style.width,o.style.width="auto",o.style.position="absolute"):(o.style.width=o.__originalWidth,delete o.__originalWidth,o.style.position="")}),i?this.$.scroller.setAttribute("measuring-auto-width",""):this.$.scroller.removeAttribute("measuring-auto-width")}__getAutoWidthCellsMaxWidth(e){return e._allCells.reduce((i,o)=>o.__measuringAutoWidth?Math.max(i,o.offsetWidth+1):i,0)}__calculateAndCacheIntrinsicWidths(e){e.forEach(i=>this.__setVisibleCellContentAutoWidth(i,!0)),e.forEach(i=>{const o=this.__getAutoWidthCellsMaxWidth(i);this.__intrinsicWidthCache.set(i,o)}),e.forEach(i=>this.__setVisibleCellContentAutoWidth(i,!1))}recalculateColumnWidths(){if(!this._columnTree)return;if(gf(this)||this._dataProviderController.isLoading()){this.__pendingRecalculateColumnWidths=!0;return}const e=this._getColumns().filter(o=>!o.hidden&&o.autoWidth),i=e.filter(o=>!customElements.get(o.localName));i.length?Promise.all(i.map(o=>customElements.whenDefined(o.localName))).then(()=>{this._recalculateColumnWidths(e)}):this._recalculateColumnWidths(e)}__tryToRecalculateColumnWidthsIfPending(){if(!this.__pendingRecalculateColumnWidths||gf(this)||this._dataProviderController.isLoading()||[...this.$.items.children].some(o=>o.index===void 0))return;[...this.$.items.children].some(o=>o.clientHeight>0)&&(this.__pendingRecalculateColumnWidths=!1,this.recalculateColumnWidths())}_onDataProviderPageLoaded(){super._onDataProviderPageLoaded(),this.__tryToRecalculateColumnWidthsIfPending()}_createScrollerRows(e){const i=[];for(let o=0;o<e;o++){const h=document.createElement("tr");h.setAttribute("part","row body-row"),h.setAttribute("role","row"),h.setAttribute("tabindex","-1"),this._columnTree&&this._updateRow(h,this._columnTree[this._columnTree.length-1],"body",!1,!0),i.push(h)}return this._columnTree&&this._columnTree[this._columnTree.length-1].forEach(o=>{o.isConnected&&o._cells&&(o._cells=[...o._cells])}),this.__afterCreateScrollerRowsDebouncer=xe.debounce(this.__afterCreateScrollerRowsDebouncer,Us,()=>{this._afterScroll(),this.__tryToRecalculateColumnWidthsIfPending()}),i}_createCell(e,i){const h=`vaadin-grid-cell-content-${this._contentIndex=this._contentIndex+1||0}`,p=document.createElement("vaadin-grid-cell-content");p.setAttribute("slot",h);const m=document.createElement(e);m.id=h.replace("-content-","-"),m.setAttribute("role",e==="td"?"gridcell":"columnheader"),!V9&&!G9&&(m.addEventListener("mouseenter",w=>{this.$.scroller.hasAttribute("scrolling")||this._showTooltip(w)}),m.addEventListener("mouseleave",()=>{this._hideTooltip()}),m.addEventListener("mousedown",()=>{this._hideTooltip(!0)}));const v=document.createElement("slot");if(v.setAttribute("name",h),i&&i._focusButtonMode){const w=document.createElement("div");w.setAttribute("role","button"),w.setAttribute("tabindex","-1"),m.appendChild(w),m._focusButton=w,m.focus=function(A){m._focusButton.focus(A)},w.appendChild(v)}else m.setAttribute("tabindex","-1"),m.appendChild(v);return m._content=p,p.addEventListener("mousedown",()=>{if(YW){const w=A=>{const $=p.contains(this.getRootNode().activeElement),M=A.composedPath().includes(p);!$&&M&&m.focus({preventScroll:!0}),document.removeEventListener("mouseup",w,!0)};document.addEventListener("mouseup",w,!0)}else setTimeout(()=>{p.contains(this.getRootNode().activeElement)||m.focus({preventScroll:!0})})}),m}_updateRow(e,i,o="body",h=!1,p=!1){const m=document.createDocumentFragment();Ml(e,v=>{v._vacant=!0}),e.innerHTML="",o==="body"&&(e.__cells=[],e.__detailsCell=null),i.filter(v=>!v.hidden).forEach((v,w,A)=>{let $;if(o==="body"){v._cells||(v._cells=[]),$=v._cells.find(P=>P._vacant),$||($=this._createCell("td",v),v._onCellKeyDown&&$.addEventListener("keydown",v._onCellKeyDown.bind(v)),v._cells.push($)),$.setAttribute("part","cell body-cell"),$.__parentRow=e,e.__cells.push($);const M=e===this.$.sizer;if((!v._bodyContentHidden||M)&&e.appendChild($),M&&(v._sizerCell=$),w===A.length-1&&this.rowDetailsRenderer){this._detailsCells||(this._detailsCells=[]);const P=this._detailsCells.find(R=>R._vacant)||this._createCell("td");this._detailsCells.indexOf(P)===-1&&this._detailsCells.push(P),P._content.parentElement||m.appendChild(P._content),this._configureDetailsCell(P),e.appendChild(P),e.__detailsCell=P,this._a11ySetRowDetailsCell(e,P),P._vacant=!1}p||(v._cells=[...v._cells])}else{const M=o==="header"?"th":"td";h||v.localName==="vaadin-grid-column-group"?($=v[`_${o}Cell`],$||($=this._createCell(M),v._onCellKeyDown&&$.addEventListener("keydown",v._onCellKeyDown.bind(v))),$._column=v,e.appendChild($),v[`_${o}Cell`]=$):(v._emptyCells||(v._emptyCells=[]),$=v._emptyCells.find(P=>P._vacant)||this._createCell(M),$._column=v,e.appendChild($),v._emptyCells.indexOf($)===-1&&v._emptyCells.push($)),$.part.add("cell",`${o}-cell`)}$._content.parentElement||m.appendChild($._content),$._vacant=!1,$._column=v}),o!=="body"&&this.__debounceUpdateHeaderFooterRowVisibility(e),this.appendChild(m),this._frozenCellsChanged(),this._updateFirstAndLastColumnForRow(e)}__debounceUpdateHeaderFooterRowVisibility(e){e.__debounceUpdateHeaderFooterRowVisibility=xe.debounce(e.__debounceUpdateHeaderFooterRowVisibility,an,()=>this.__updateHeaderFooterRowVisibility(e))}__updateHeaderFooterRowVisibility(e){if(!e)return;const i=Array.from(e.children).filter(o=>{const h=o._column;if(h._emptyCells&&h._emptyCells.indexOf(o)>-1)return!1;if(e.parentElement===this.$.header){if(h.headerRenderer)return!0;if(h.header===null)return!1;if(h.path||h.header!==void 0)return!0}else if(h.footerRenderer)return!0;return!1});e.hidden!==!i.length&&(e.hidden=!i.length),this._resetKeyboardNavigation()}_updateScrollerItem(e,i){this._preventScrollerRotatingCellFocus(e,i),this._columnTree&&(this._updateRowOrderParts(e,i),this._a11yUpdateRowRowindex(e,i),this._getItem(i,e))}_columnTreeChanged(e){this._renderColumnTree(e),this.recalculateColumnWidths(),this.__updateColumnsBodyContentHidden()}_updateRowOrderParts(e,i=e.index){fc(e,{first:i===0,last:i===this._flatSize-1,odd:i%2!==0,even:i%2===0})}_updateRowStateParts(e,{expanded:i,selected:o,detailsOpened:h}){fc(e,{expanded:i,collapsed:this.__isRowExpandable(e),selected:o,"details-opened":h})}_renderColumnTree(e){for(Mi(this.$.items,i=>{this._updateRow(i,e[e.length-1],"body",!1,!0);const o=this.__getRowModel(i);this._updateRowOrderParts(i),this._updateRowStateParts(i,o),this._filterDragAndDrop(i,o)});this.$.header.children.length<e.length;){const i=document.createElement("tr");i.setAttribute("part","row"),i.setAttribute("role","row"),i.setAttribute("tabindex","-1"),this.$.header.appendChild(i);const o=document.createElement("tr");o.setAttribute("part","row"),o.setAttribute("role","row"),o.setAttribute("tabindex","-1"),this.$.footer.appendChild(o)}for(;this.$.header.children.length>e.length;)this.$.header.removeChild(this.$.header.firstElementChild),this.$.footer.removeChild(this.$.footer.firstElementChild);Mi(this.$.header,(i,o,h)=>{this._updateRow(i,e[o],"header",o===e.length-1);const p=kl(i);Es(p,"first-header-row-cell",o===0),Es(p,"last-header-row-cell",o===h.length-1)}),Mi(this.$.footer,(i,o,h)=>{this._updateRow(i,e[e.length-1-o],"footer",o===0);const p=kl(i);Es(p,"first-footer-row-cell",o===0),Es(p,"last-footer-row-cell",o===h.length-1)}),this._updateRow(this.$.sizer,e[e.length-1]),this._resizeHandler(),this._frozenCellsChanged(),this._updateFirstAndLastColumn(),this._resetKeyboardNavigation(),this._a11yUpdateHeaderRows(),this._a11yUpdateFooterRows(),this.generateCellClassNames(),this.generateCellPartNames(),this.__updateHeaderAndFooter()}_updateItem(e,i){e._item=i;const o=this.__getRowModel(e);this._toggleDetailsCell(e,o.detailsOpened),this._a11yUpdateRowLevel(e,o.level),this._a11yUpdateRowSelected(e,o.selected),this._updateRowStateParts(e,o),this._generateCellClassNames(e,o),this._generateCellPartNames(e,o),this._filterDragAndDrop(e,o),Mi(e,h=>{if(!(h._column&&!h._column.isConnected)&&h._renderer){const p=h._column||this;h._renderer.call(p,h._content,p,o)}}),this._updateDetailsCellHeight(e),this._a11yUpdateRowExpanded(e,o.expanded)}_resizeHandler(){this._updateDetailsCellHeights(),this.__updateHorizontalScrollPosition()}_onAnimationEnd(e){e.animationName.indexOf("vaadin-grid-appear")===0&&(e.stopPropagation(),this.__tryToRecalculateColumnWidthsIfPending(),requestAnimationFrame(()=>{this.__scrollToPendingIndexes()}))}__getRowModel(e){return{index:e.index,item:e._item,level:this._getIndexLevel(e.index),expanded:this._isExpanded(e._item),selected:this._isSelected(e._item),detailsOpened:!!this.rowDetailsRenderer&&this._isDetailsOpened(e._item)}}_showTooltip(e){const i=this._tooltipController.node;if(i&&i.isConnected){const o=e.target;if(!this.__isCellFullyVisible(o))return;this._tooltipController.setTarget(o),this._tooltipController.setContext(this.getEventContext(e)),i._stateController.open({focus:e.type==="focusin",hover:e.type==="mouseenter"})}}__isCellFullyVisible(e){if(e.hasAttribute("frozen")||e.hasAttribute("frozen-to-end"))return!0;let{left:i,right:o}=this.getBoundingClientRect();const h=[...e.parentNode.children].find(v=>v.hasAttribute("last-frozen"));if(h){const v=h.getBoundingClientRect();i=this.__isRTL?i:v.right,o=this.__isRTL?v.left:o}const p=[...e.parentNode.children].find(v=>v.hasAttribute("first-frozen-to-end"));if(p){const v=p.getBoundingClientRect();i=this.__isRTL?v.right:i,o=this.__isRTL?o:v.left}const m=e.getBoundingClientRect();return m.left>=i&&m.right<=o}_hideTooltip(e){const i=this._tooltipController&&this._tooltipController.node;i&&i._stateController.close(e)}requestContentUpdate(){this.__updateHeaderAndFooter(),this.__updateVisibleRows()}__updateHeaderAndFooter(){(this._columnTree||[]).forEach(e=>{e.forEach(i=>{i._renderHeaderAndFooter&&i._renderHeaderAndFooter()})})}__updateVisibleRows(e,i){this.__virtualizer&&this.__virtualizer.update(e,i)}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const eZ=vi`
  @keyframes vaadin-grid-appear {
    to {
      opacity: 1;
    }
  }

  :host {
    display: flex;
    flex-direction: column;
    animation: 1ms vaadin-grid-appear;
    height: 400px;
    flex: 1 1 auto;
    align-self: stretch;
    position: relative;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host([disabled]) {
    pointer-events: none;
  }

  #scroller {
    display: flex;
    flex-direction: column;
    min-height: 100%;
    transform: translateY(0);
    width: auto;
    height: auto;
    position: absolute;
    inset: 0;
  }

  :host([all-rows-visible]) {
    height: auto;
    align-self: flex-start;
    flex-grow: 0;
    width: 100%;
  }

  :host([all-rows-visible]) #scroller {
    width: 100%;
    height: 100%;
    position: relative;
  }

  :host([all-rows-visible]) #items {
    min-height: 1px;
  }

  #table {
    display: flex;
    flex-direction: column;
    width: 100%;
    height: 100%;
    overflow: auto;
    position: relative;
    outline: none;
    /* Workaround for a Desktop Safari bug: new stacking context here prevents the scrollbar from getting hidden */
    z-index: 0;
  }

  #header,
  #footer {
    display: block;
    position: -webkit-sticky;
    position: sticky;
    left: 0;
    overflow: visible;
    width: 100%;
    z-index: 1;
  }

  #header {
    top: 0;
  }

  th {
    text-align: inherit;
  }

  /* Safari doesn't work with "inherit" */
  [safari] th {
    text-align: initial;
  }

  #footer {
    bottom: 0;
  }

  #items {
    flex-grow: 1;
    flex-shrink: 0;
    display: block;
    position: -webkit-sticky;
    position: sticky;
    width: 100%;
    left: 0;
    overflow: visible;
  }

  [part~='row'] {
    display: flex;
    width: 100%;
    box-sizing: border-box;
    margin: 0;
  }

  [part~='row'][loading] [part~='body-cell'] ::slotted(vaadin-grid-cell-content) {
    visibility: hidden;
  }

  [column-rendering='lazy'] [part~='body-cell']:not([frozen]):not([frozen-to-end]) {
    transform: translateX(var(--_grid-lazy-columns-start));
  }

  #items [part~='row'] {
    position: absolute;
  }

  #items [part~='row']:empty {
    height: 100%;
  }

  [part~='cell']:not([part~='details-cell']) {
    flex-shrink: 0;
    flex-grow: 1;
    box-sizing: border-box;
    display: flex;
    width: 100%;
    position: relative;
    align-items: center;
    padding: 0;
    white-space: nowrap;
  }

  [part~='cell'] > [tabindex] {
    display: flex;
    align-items: inherit;
    outline: none;
    position: absolute;
    inset: 0;
  }

  /* Switch the focusButtonMode wrapping element to "position: static" temporarily
     when measuring real width of the cells in the auto-width columns. */
  [measuring-auto-width] [part~='cell'] > [tabindex] {
    position: static;
  }

  [part~='details-cell'] {
    position: absolute;
    bottom: 0;
    width: 100%;
    box-sizing: border-box;
    padding: 0;
  }

  [part~='cell'] ::slotted(vaadin-grid-cell-content) {
    display: block;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  [hidden] {
    display: none !important;
  }

  [frozen],
  [frozen-to-end] {
    z-index: 2;
    will-change: transform;
  }

  [no-scrollbars][safari] #table,
  [no-scrollbars][firefox] #table {
    overflow: hidden;
  }

  /* Reordering styles */
  :host([reordering]) [part~='cell'] ::slotted(vaadin-grid-cell-content),
  :host([reordering]) [part~='resize-handle'],
  #scroller[no-content-pointer-events] [part~='cell'] ::slotted(vaadin-grid-cell-content) {
    pointer-events: none;
  }

  [part~='reorder-ghost'] {
    visibility: hidden;
    position: fixed;
    pointer-events: none;
    opacity: 0.5;

    /* Prevent overflowing the grid in Firefox */
    top: 0;
    left: 0;
  }

  :host([reordering]) {
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Resizing styles */
  [part~='resize-handle'] {
    position: absolute;
    top: 0;
    right: 0;
    height: 100%;
    cursor: col-resize;
    z-index: 1;
  }

  [part~='resize-handle']::before {
    position: absolute;
    content: '';
    height: 100%;
    width: 35px;
    transform: translateX(-50%);
  }

  [last-column] [part~='resize-handle']::before,
  [last-frozen] [part~='resize-handle']::before {
    width: 18px;
    transform: none;
    right: 0;
  }

  [frozen-to-end] [part~='resize-handle'] {
    left: 0;
    right: auto;
  }

  [frozen-to-end] [part~='resize-handle']::before {
    left: 0;
    right: auto;
  }

  [first-frozen-to-end] [part~='resize-handle']::before {
    width: 18px;
    transform: none;
  }

  [first-frozen-to-end] {
    margin-inline-start: auto;
  }

  /* Hide resize handle if scrolled to end */
  :host(:not([overflow~='end'])) [first-frozen-to-end] [part~='resize-handle'] {
    display: none;
  }

  #scroller[column-resizing] {
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
  }

  /* Sizer styles */
  #sizer {
    display: flex;
    position: absolute;
    visibility: hidden;
  }

  #sizer [part~='details-cell'] {
    display: none !important;
  }

  #sizer [part~='cell'][hidden] {
    display: none !important;
  }

  #sizer [part~='cell'] {
    display: block;
    flex-shrink: 0;
    line-height: 0;
    height: 0 !important;
    min-height: 0 !important;
    max-height: 0 !important;
    padding: 0 !important;
    border: none !important;
  }

  #sizer [part~='cell']::before {
    content: '-';
  }

  #sizer [part~='cell'] ::slotted(vaadin-grid-cell-content) {
    display: none !important;
  }

  /* RTL specific styles */

  :host([dir='rtl']) #items,
  :host([dir='rtl']) #header,
  :host([dir='rtl']) #footer {
    left: auto;
  }

  :host([dir='rtl']) [part~='reorder-ghost'] {
    left: auto;
    right: 0;
  }

  :host([dir='rtl']) [part~='resize-handle'] {
    left: 0;
    right: auto;
  }

  :host([dir='rtl']) [part~='resize-handle']::before {
    transform: translateX(50%);
  }

  :host([dir='rtl']) [last-column] [part~='resize-handle']::before,
  :host([dir='rtl']) [last-frozen] [part~='resize-handle']::before {
    left: 0;
    right: auto;
  }

  :host([dir='rtl']) [frozen-to-end] [part~='resize-handle'] {
    right: 0;
    left: auto;
  }

  :host([dir='rtl']) [frozen-to-end] [part~='resize-handle']::before {
    right: 0;
    left: auto;
  }

  @media (forced-colors: active) {
    [part~='selected-row'] [part~='first-column-cell']::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      bottom: 0;
      border: 2px solid;
    }

    [part~='focused-cell']::before {
      outline: 2px solid !important;
      outline-offset: -1px;
    }
  }
`;/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */Gs("vaadin-grid",eZ,{moduleId:"vaadin-grid-styles"});class iZ extends tZ(vA(h2(v2(xu)))){static get template(){return p2`
      <div
        id="scroller"
        safari$="[[_safari]]"
        ios$="[[_ios]]"
        loading$="[[loading]]"
        column-reordering-allowed$="[[columnReorderingAllowed]]"
      >
        <table id="table" role="treegrid" aria-multiselectable="true" tabindex="0">
          <caption id="sizer" part="row"></caption>
          <thead id="header" role="rowgroup"></thead>
          <tbody id="items" role="rowgroup"></tbody>
          <tfoot id="footer" role="rowgroup"></tfoot>
        </table>

        <div part="reorder-ghost"></div>
      </div>

      <slot name="tooltip"></slot>

      <div id="focusexit" tabindex="0"></div>
    `}static get is(){return"vaadin-grid"}}ha(iZ);/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const rZ=t=>class extends gA(t){static get properties(){return{_childColumns:{value(){return this._getChildColumns(this)}},flexGrow:{type:Number,readOnly:!0,sync:!0},width:{type:String,readOnly:!0},_visibleChildColumns:Array,_colSpan:Number,_rootColumns:Array}}static get observers(){return["_groupFrozenChanged(frozen, _rootColumns)","_groupFrozenToEndChanged(frozenToEnd, _rootColumns)","_groupHiddenChanged(hidden)","_colSpanChanged(_colSpan, _headerCell, _footerCell)","_groupOrderChanged(_order, _rootColumns)","_groupReorderStatusChanged(_reorderStatus, _rootColumns)","_groupResizableChanged(resizable, _rootColumns)"]}connectedCallback(){super.connectedCallback(),this._addNodeObserver(),this._updateFlexAndWidth()}disconnectedCallback(){super.disconnectedCallback(),this._observer&&this._observer.disconnect()}_columnPropChanged(e,i){e==="hidden"&&(this._preventHiddenSynchronization=!0,this._updateVisibleChildColumns(this._childColumns),this._preventHiddenSynchronization=!1),/flexGrow|width|hidden|_childColumns/u.test(e)&&this._updateFlexAndWidth(),e==="frozen"&&!this.frozen&&(this.frozen=i),e==="lastFrozen"&&!this._lastFrozen&&(this._lastFrozen=i),e==="frozenToEnd"&&!this.frozenToEnd&&(this.frozenToEnd=i),e==="firstFrozenToEnd"&&!this._firstFrozenToEnd&&(this._firstFrozenToEnd=i)}_groupOrderChanged(e,i){if(i){const o=i.slice(0);if(!e){o.forEach(v=>{v._order=0});return}const h=/(0+)$/u.exec(e).pop().length,p=~~(Math.log(i.length)/Math.LN10)+1,m=10**(h-p);o[0]&&o[0]._order&&o.sort((v,w)=>v._order-w._order),mA(o,m,e)}}_groupReorderStatusChanged(e,i){e===void 0||i===void 0||i.forEach(o=>{o._reorderStatus=e})}_groupResizableChanged(e,i){e===void 0||i===void 0||i.forEach(o=>{o.resizable=e})}_updateVisibleChildColumns(e){this._visibleChildColumns=Array.prototype.filter.call(e,i=>!i.hidden),this._colSpan=this._visibleChildColumns.length,this._updateAutoHidden()}_updateFlexAndWidth(){if(this._visibleChildColumns){if(this._visibleChildColumns.length>0){const e=this._visibleChildColumns.reduce((i,o)=>(i+=` + ${(o.width||"0px").replace("calc","")}`,i),"").substring(3);this._setWidth(`calc(${e})`)}else this._setWidth("0px");this._setFlexGrow(Array.prototype.reduce.call(this._visibleChildColumns,(e,i)=>e+i.flexGrow,0))}}__scheduleAutoFreezeWarning(e,i){if(this._grid){const o=i.replace(/([A-Z])/gu,"-$1").toLowerCase(),h=e[0][i]||e[0].hasAttribute(o);e.every(m=>(m[i]||m.hasAttribute(o))===h)||(this._grid.__autoFreezeWarningDebouncer=xe.debounce(this._grid.__autoFreezeWarningDebouncer,Us,()=>{console.warn(`WARNING: Joining ${i} and non-${i} Grid columns inside the same column group! This will automatically freeze all the joined columns to avoid rendering issues. If this was intentional, consider marking each joined column explicitly as ${i}. Otherwise, exclude the ${i} columns from the joined group.`)}))}}_groupFrozenChanged(e,i){i===void 0||e===void 0||e!==!1&&(this.__scheduleAutoFreezeWarning(i,"frozen"),Array.from(i).forEach(o=>{o.frozen=e}))}_groupFrozenToEndChanged(e,i){i===void 0||e===void 0||e!==!1&&(this.__scheduleAutoFreezeWarning(i,"frozenToEnd"),Array.from(i).forEach(o=>{o.frozenToEnd=e}))}_groupHiddenChanged(e){(e||this.__groupHiddenInitialized)&&this._synchronizeHidden(),this.__groupHiddenInitialized=!0}_updateAutoHidden(){const e=this._autoHidden;this._autoHidden=(this._visibleChildColumns||[]).length===0,(e||this._autoHidden)&&(this.hidden=this._autoHidden)}_synchronizeHidden(){this._childColumns&&!this._preventHiddenSynchronization&&this._childColumns.forEach(e=>{e.hidden=this.hidden})}_colSpanChanged(e,i,o){i&&(i.setAttribute("colspan",e),this._grid&&this._grid._a11yUpdateCellColspan(i,e)),o&&(o.setAttribute("colspan",e),this._grid&&this._grid._a11yUpdateCellColspan(o,e))}_getChildColumns(e){return Ns.getColumns(e)}_addNodeObserver(){this._observer=new Ns(this,()=>{this._preventHiddenSynchronization=!0,this._rootColumns=this._getChildColumns(this),this._childColumns=this._rootColumns,this._updateVisibleChildColumns(this._childColumns),this._preventHiddenSynchronization=!1,this._grid&&this._grid._debounceUpdateColumnTree&&this._grid._debounceUpdateColumnTree()}),this._observer.flush()}_isColumnElement(e){return e.nodeType===Node.ELEMENT_NODE&&/\bcolumn\b/u.test(e.localName)}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class nZ extends rZ(xu){static get is(){return"vaadin-grid-column-group"}}ha(nZ);Gs("vaadin-checkbox",vi`
    :host {
      color: var(--vaadin-checkbox-label-color, var(--lumo-body-text-color));
      font-size: var(--vaadin-checkbox-label-font-size, var(--lumo-font-size-m));
      font-family: var(--lumo-font-family);
      line-height: var(--lumo-line-height-s);
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      -webkit-tap-highlight-color: transparent;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: default;
      outline: none;
      --_checkbox-size: var(--vaadin-checkbox-size, calc(var(--lumo-size-m) / 2));
      --_focus-ring-color: var(--vaadin-focus-ring-color, var(--lumo-primary-color-50pct));
      --_focus-ring-width: var(--vaadin-focus-ring-width, 2px);
      --_selection-color: var(--vaadin-selection-color, var(--lumo-primary-color));
      --_invalid-background: var(--vaadin-input-field-invalid-background, var(--lumo-error-color-10pct));
    }

    [part='label'] {
      display: flex;
      position: relative;
      max-width: max-content;
    }

    :host([has-label]) ::slotted(label) {
      padding: var(
        --vaadin-checkbox-label-padding,
        var(--lumo-space-xs) var(--lumo-space-s) var(--lumo-space-xs) var(--lumo-space-xs)
      );
    }

    :host([dir='rtl'][has-label]) ::slotted(label) {
      padding: var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-xs) var(--lumo-space-s);
    }

    :host([has-label][required]) ::slotted(label) {
      padding-inline-end: var(--lumo-space-m);
    }

    [part='checkbox'] {
      width: var(--_checkbox-size);
      height: var(--_checkbox-size);
      margin: var(--lumo-space-xs);
      position: relative;
      border-radius: var(--vaadin-checkbox-border-radius, var(--lumo-border-radius-s));
      background: var(--vaadin-checkbox-background, var(--lumo-contrast-20pct));
      transition: transform 0.2s cubic-bezier(0.12, 0.32, 0.54, 2), background-color 0.15s;
      cursor: var(--lumo-clickable-cursor);
      /* Default field border color */
      --_input-border-color: var(--vaadin-input-field-border-color, var(--lumo-contrast-50pct));
    }

    :host([indeterminate]),
    :host([checked]) {
      --vaadin-input-field-border-color: transparent;
    }

    :host([indeterminate]) [part='checkbox'],
    :host([checked]) [part='checkbox'] {
      background-color: var(--_selection-color);
    }

    /* Checkmark */
    [part='checkbox']::after {
      pointer-events: none;
      font-family: 'lumo-icons';
      content: var(--vaadin-checkbox-checkmark-char, var(--lumo-icons-checkmark));
      color: var(--vaadin-checkbox-checkmark-color, var(--lumo-primary-contrast-color));
      font-size: var(--vaadin-checkbox-checkmark-size, calc(var(--_checkbox-size) + 2px));
      line-height: 1;
      position: absolute;
      top: -1px;
      left: -1px;
      contain: content;
      opacity: 0;
    }

    :host([checked]) [part='checkbox']::after {
      opacity: 1;
    }

    :host([readonly]:not([checked]):not([indeterminate])) {
      color: var(--lumo-secondary-text-color);
    }

    :host([readonly]:not([checked]):not([indeterminate])) [part='checkbox'] {
      background: transparent;
      box-shadow: none;
    }

    :host([readonly]:not([checked]):not([indeterminate])) [part='checkbox']::after {
      content: '';
      box-sizing: border-box;
      width: 100%;
      height: 100%;
      border-radius: inherit;
      top: 0;
      left: 0;
      opacity: 1;
      border: var(--vaadin-input-field-readonly-border, 1px dashed var(--lumo-contrast-50pct));
    }

    /* Indeterminate checkmark */
    :host([indeterminate]) [part='checkbox']::after {
      content: var(--vaadin-checkbox-checkmark-char-indeterminate, '');
      opacity: 1;
      top: 45%;
      height: 10%;
      left: 22%;
      right: 22%;
      width: auto;
      border: 0;
      background-color: var(--lumo-primary-contrast-color);
    }

    /* Focus ring */
    :host([focus-ring]) [part='checkbox'] {
      box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color),
        inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);
    }

    :host([focus-ring][readonly]:not([checked]):not([indeterminate])) [part='checkbox'] {
      box-shadow: 0 0 0 1px var(--lumo-base-color), 0 0 0 calc(var(--_focus-ring-width) + 1px) var(--_focus-ring-color);
    }

    /* Disabled */
    :host([disabled]) {
      pointer-events: none;
      --vaadin-input-field-border-color: var(--lumo-contrast-20pct);
    }

    :host([disabled]) ::slotted(label) {
      color: inherit;
    }

    :host([disabled]) [part='checkbox'] {
      background-color: var(--lumo-contrast-10pct);
    }

    :host([disabled]) [part='checkbox']::after {
      color: var(--lumo-contrast-30pct);
    }

    :host([disabled]) [part='label'],
    :host([disabled]) [part='helper-text'] {
      color: var(--lumo-disabled-text-color);
      -webkit-text-fill-color: var(--lumo-disabled-text-color);
    }

    :host([indeterminate][disabled]) [part='checkbox']::after {
      background-color: var(--lumo-contrast-30pct);
    }

    :host([readonly][checked]:not([disabled])) [part='checkbox'],
    :host([readonly][indeterminate]:not([disabled])) [part='checkbox'] {
      background-color: var(--vaadin-checkbox-readonly-checked-background, var(--lumo-contrast-70pct));
    }

    /* Used for activation "halo" */
    [part='checkbox']::before {
      pointer-events: none;
      color: transparent;
      width: 100%;
      height: 100%;
      line-height: var(--_checkbox-size);
      border-radius: inherit;
      background-color: inherit;
      transform: scale(1.4);
      opacity: 0;
      transition: transform 0.1s, opacity 0.8s;
    }

    /* Hover */
    :host(:not([checked]):not([indeterminate]):not([disabled]):not([readonly]):not([invalid]):hover) [part='checkbox'] {
      background: var(--vaadin-checkbox-background-hover, var(--lumo-contrast-30pct));
    }

    /* Disable hover for touch devices */
    @media (pointer: coarse) {
      /* prettier-ignore */
      :host(:not([checked]):not([indeterminate]):not([disabled]):not([readonly]):not([invalid]):hover) [part='checkbox'] {
        background: var(--vaadin-checkbox-background, var(--lumo-contrast-20pct));
      }
    }

    /* Active */
    :host([active]) [part='checkbox'] {
      transform: scale(0.9);
      transition-duration: 0.05s;
    }

    :host([active][checked]) [part='checkbox'] {
      transform: scale(1.1);
    }

    :host([active]:not([checked])) [part='checkbox']::before {
      transition-duration: 0.01s, 0.01s;
      transform: scale(0);
      opacity: 0.4;
    }

    /* Required */
    :host([required]) [part='required-indicator'] {
      position: absolute;
      top: var(--lumo-space-xs);
      right: var(--lumo-space-xs);
    }

    :host([required][dir='rtl']) [part='required-indicator'] {
      right: auto;
      left: var(--lumo-space-xs);
    }

    :host([required]) [part='required-indicator']::after {
      content: var(--lumo-required-field-indicator, '\\2022');
      transition: opacity 0.2s;
      color: var(--lumo-required-field-indicator-color, var(--lumo-primary-text-color));
      width: 1em;
      text-align: center;
    }

    /* Invalid */
    :host([invalid]) {
      --vaadin-input-field-border-color: var(--lumo-error-color);
    }

    :host([invalid]) [part='checkbox'] {
      background: var(--_invalid-background);
      background-image: linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%);
    }

    :host([invalid]:hover) [part='checkbox'] {
      background-image: linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%),
        linear-gradient(var(--_invalid-background) 0%, var(--_invalid-background) 100%);
    }

    :host([invalid][focus-ring]) {
      --_focus-ring-color: var(--lumo-error-color-50pct);
    }

    :host([invalid]) [part='required-indicator']::after {
      color: var(--lumo-required-field-indicator-color, var(--lumo-error-text-color));
    }

    /* Error message */
    [part='error-message'] {
      font-size: var(--vaadin-input-field-error-font-size, var(--lumo-font-size-xs));
      line-height: var(--lumo-line-height-xs);
      font-weight: var(--vaadin-input-field-error-font-weight, 400);
      color: var(--vaadin-input-field-error-color, var(--lumo-error-text-color));
      will-change: max-height;
      transition: 0.4s max-height;
      max-height: 5em;
      padding-inline-start: var(--lumo-space-xs);
    }

    :host([has-error-message]) [part='error-message']::after,
    :host([has-helper]) [part='helper-text']::after {
      content: '';
      display: block;
      height: 0.4em;
    }

    :host(:not([invalid])) [part='error-message'] {
      max-height: 0;
      overflow: hidden;
    }

    /* Helper */
    [part='helper-text'] {
      display: block;
      color: var(--vaadin-input-field-helper-color, var(--lumo-secondary-text-color));
      font-size: var(--vaadin-input-field-helper-font-size, var(--lumo-font-size-xs));
      line-height: var(--lumo-line-height-xs);
      font-weight: var(--vaadin-input-field-helper-font-weight, 400);
      margin-left: calc(var(--lumo-border-radius-m) / 4);
      transition: color 0.2s;
      padding-inline-start: var(--lumo-space-xs);
    }

    :host(:hover:not([readonly])) [part='helper-text'] {
      color: var(--lumo-body-text-color);
    }

    :host([has-error-message]) ::slotted(label),
    :host([has-helper]) ::slotted(label) {
      padding-bottom: 0;
    }
  `,{moduleId:"lumo-checkbox"});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const sZ=si(t=>class extends t{static get properties(){return{stateTarget:{type:Object,observer:"_stateTargetChanged"}}}static get delegateAttrs(){return[]}static get delegateProps(){return[]}ready(){super.ready(),this._createDelegateAttrsObserver(),this._createDelegatePropsObserver()}_stateTargetChanged(i){i&&(this._ensureAttrsDelegated(),this._ensurePropsDelegated())}_createDelegateAttrsObserver(){this._createMethodObserver(`_delegateAttrsChanged(${this.constructor.delegateAttrs.join(", ")})`)}_createDelegatePropsObserver(){this._createMethodObserver(`_delegatePropsChanged(${this.constructor.delegateProps.join(", ")})`)}_ensureAttrsDelegated(){this.constructor.delegateAttrs.forEach(i=>{this._delegateAttribute(i,this[i])})}_ensurePropsDelegated(){this.constructor.delegateProps.forEach(i=>{this._delegateProperty(i,this[i])})}_delegateAttrsChanged(...i){this.constructor.delegateAttrs.forEach((o,h)=>{this._delegateAttribute(o,i[h])})}_delegatePropsChanged(...i){this.constructor.delegateProps.forEach((o,h)=>{this._delegateProperty(o,i[h])})}_delegateAttribute(i,o){this.stateTarget&&(i==="invalid"&&this._delegateAttribute("aria-invalid",o?"true":!1),typeof o=="boolean"?this.stateTarget.toggleAttribute(i,o):o?this.stateTarget.setAttribute(i,o):this.stateTarget.removeAttribute(i))}_delegateProperty(i,o){this.stateTarget&&(this.stateTarget[i]=o)}});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const oZ=si(t=>class extends t{static get properties(){return{inputElement:{type:Object,readOnly:!0,observer:"_inputElementChanged"},type:{type:String,readOnly:!0},value:{type:String,value:"",observer:"_valueChanged",notify:!0,sync:!0},_hasInputValue:{type:Boolean,value:!1,observer:"_hasInputValueChanged"}}}constructor(){super(),this._boundOnInput=this.__onInput.bind(this),this._boundOnChange=this._onChange.bind(this)}get _hasValue(){return this.value!=null&&this.value!==""}get _inputElementValueProperty(){return"value"}get _inputElementValue(){return this.inputElement?this.inputElement[this._inputElementValueProperty]:void 0}set _inputElementValue(i){this.inputElement&&(this.inputElement[this._inputElementValueProperty]=i)}clear(){this._hasInputValue=!1,this.value="",this._inputElementValue=""}_addInputListeners(i){i.addEventListener("input",this._boundOnInput),i.addEventListener("change",this._boundOnChange)}_removeInputListeners(i){i.removeEventListener("input",this._boundOnInput),i.removeEventListener("change",this._boundOnChange)}_forwardInputValue(i){this.inputElement&&(this._inputElementValue=i??"")}_inputElementChanged(i,o){i?this._addInputListeners(i):o&&this._removeInputListeners(o)}_hasInputValueChanged(i,o){(i||o)&&this.dispatchEvent(new CustomEvent("has-input-value-changed"))}__onInput(i){this._setHasInputValue(i),this._onInput(i)}_onInput(i){const o=i.composedPath()[0];this.__userInput=i.isTrusted,this.value=o.value,this.__userInput=!1}_onChange(i){}_toggleHasValue(i){this.toggleAttribute("has-value",i)}_valueChanged(i,o){this._toggleHasValue(this._hasValue),!(i===""&&o===void 0)&&(this.__userInput||this._forwardInputValue(i))}_setHasInputValue(i){const o=i.composedPath()[0];this._hasInputValue=o.value.length>0}});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const aZ=si(t=>class extends sZ(_2(oZ(t))){static get properties(){return{checked:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0}}}static get delegateProps(){return[...super.delegateProps,"checked"]}_onChange(i){const o=i.target;this._toggleChecked(o.checked)}_toggleChecked(i){this.checked=i}});/**
 * @license
 * Copyright (c) 2022 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class k2 extends x2{constructor(e,i,o,h={}){super(e,i,o,{...h,useUniqueId:!0})}initCustomNode(e){this.__updateNodeId(e),this.__notifyChange(e)}teardownNode(e){const i=this.getSlotChild();i&&i!==this.defaultNode?this.__notifyChange(i):(this.restoreDefaultNode(),this.updateDefaultNode(this.node))}attachDefaultNode(){const e=super.attachDefaultNode();return e&&this.__updateNodeId(e),e}restoreDefaultNode(){}updateDefaultNode(e){this.__notifyChange(e)}observeNode(e){this.__nodeObserver&&this.__nodeObserver.disconnect(),this.__nodeObserver=new MutationObserver(i=>{i.forEach(o=>{const h=o.target,p=h===this.node;o.type==="attributes"?p&&this.__updateNodeId(h):(p||h.parentElement===this.node)&&this.__notifyChange(this.node)})}),this.__nodeObserver.observe(e,{attributes:!0,attributeFilter:["id"],childList:!0,subtree:!0,characterData:!0})}__hasContent(e){return e?e.nodeType===Node.ELEMENT_NODE&&(customElements.get(e.localName)||e.children.length>0)||e.textContent&&e.textContent.trim()!=="":!1}__notifyChange(e){this.dispatchEvent(new CustomEvent("slot-content-changed",{detail:{hasContent:this.__hasContent(e),node:e}}))}__updateNodeId(e){const i=!this.nodes||e===this.nodes[0];e.nodeType===Node.ELEMENT_NODE&&(!this.multiple||i)&&!e.id&&(e.id=this.defaultId)}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class lZ extends k2{constructor(e){super(e,"error-message","div")}setErrorMessage(e){this.errorMessage=e,this.updateDefaultNode(this.node)}setInvalid(e){this.invalid=e,this.updateDefaultNode(this.node)}initAddedNode(e){e!==this.defaultNode&&this.initCustomNode(e)}initNode(e){this.updateDefaultNode(e)}initCustomNode(e){e.textContent&&!this.errorMessage&&(this.errorMessage=e.textContent.trim()),super.initCustomNode(e)}restoreDefaultNode(){this.attachDefaultNode()}updateDefaultNode(e){const{errorMessage:i,invalid:o}=this,h=!!(o&&i&&i.trim()!=="");e&&(e.textContent=h?i:"",e.hidden=!h,h?e.setAttribute("role","alert"):e.removeAttribute("role")),super.updateDefaultNode(e)}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class hZ extends k2{constructor(e){super(e,"helper",null)}setHelperText(e){this.helperText=e,this.getSlotChild()||this.restoreDefaultNode(),this.node===this.defaultNode&&this.updateDefaultNode(this.node)}restoreDefaultNode(){const{helperText:e}=this;if(e&&e.trim()!==""){this.tagName="div";const i=this.attachDefaultNode();this.observeNode(i)}}updateDefaultNode(e){e&&(e.textContent=this.helperText),super.updateDefaultNode(e)}initCustomNode(e){super.initCustomNode(e),this.observeNode(e)}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class cZ extends k2{constructor(e){super(e,"label","label")}setLabel(e){this.label=e,this.getSlotChild()||this.restoreDefaultNode(),this.node===this.defaultNode&&this.updateDefaultNode(this.node)}restoreDefaultNode(){const{label:e}=this;if(e&&e.trim()!==""){const i=this.attachDefaultNode();this.observeNode(i)}}updateDefaultNode(e){e&&(e.textContent=this.label),super.updateDefaultNode(e)}initCustomNode(e){super.initCustomNode(e),this.observeNode(e)}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const uZ=si(t=>class extends v2(t){static get properties(){return{label:{type:String,observer:"_labelChanged"}}}constructor(){super(),this._labelController=new cZ(this),this._labelController.addEventListener("slot-content-changed",i=>{this.toggleAttribute("has-label",i.detail.hasContent)})}get _labelId(){const i=this._labelNode;return i&&i.id}get _labelNode(){return this._labelController.node}ready(){super.ready(),this.addController(this._labelController)}_labelChanged(i){this._labelController.setLabel(i)}});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const dZ=si(t=>class extends t{static get properties(){return{invalid:{type:Boolean,reflectToAttribute:!0,notify:!0,value:!1},required:{type:Boolean,reflectToAttribute:!0}}}validate(){const i=this.checkValidity();return this._setInvalid(!i),this.dispatchEvent(new CustomEvent("validated",{detail:{valid:i}})),i}checkValidity(){return!this.required||!!this.value}_setInvalid(i){this._shouldSetInvalid(i)&&(this.invalid=i)}_shouldSetInvalid(i){return!0}});/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const fZ=t=>class extends dZ(uZ(v2(t))){static get properties(){return{ariaTarget:{type:Object,observer:"_ariaTargetChanged"},errorMessage:{type:String,observer:"_errorMessageChanged"},helperText:{type:String,observer:"_helperTextChanged"},accessibleName:{type:String,observer:"_accessibleNameChanged"},accessibleNameRef:{type:String,observer:"_accessibleNameRefChanged"}}}static get observers(){return["_invalidChanged(invalid)","_requiredChanged(required)"]}constructor(){super(),this._fieldAriaController=new JJ(this),this._helperController=new hZ(this),this._errorController=new lZ(this),this._errorController.addEventListener("slot-content-changed",i=>{this.toggleAttribute("has-error-message",i.detail.hasContent)}),this._labelController.addEventListener("slot-content-changed",i=>{const{hasContent:o,node:h}=i.detail;this.__labelChanged(o,h)}),this._helperController.addEventListener("slot-content-changed",i=>{const{hasContent:o,node:h}=i.detail;this.toggleAttribute("has-helper",o),this.__helperChanged(o,h)})}get _errorNode(){return this._errorController.node}get _helperNode(){return this._helperController.node}ready(){super.ready(),this.addController(this._fieldAriaController),this.addController(this._helperController),this.addController(this._errorController)}__helperChanged(i,o){i?this._fieldAriaController.setHelperId(o.id):this._fieldAriaController.setHelperId(null)}_accessibleNameChanged(i){this._fieldAriaController.setAriaLabel(i)}_accessibleNameRefChanged(i){this._fieldAriaController.setLabelId(i,!0)}__labelChanged(i,o){i?this._fieldAriaController.setLabelId(o.id):this._fieldAriaController.setLabelId(null)}_errorMessageChanged(i){this._errorController.setErrorMessage(i)}_helperTextChanged(i){this._helperController.setHelperText(i)}_ariaTargetChanged(i){i&&this._fieldAriaController.setTarget(i)}_requiredChanged(i){this._fieldAriaController.setRequired(i)}_invalidChanged(i){this._errorController.setInvalid(i),setTimeout(()=>{if(i){const o=this._errorNode;this._fieldAriaController.setErrorId(o&&o.id)}else this._fieldAriaController.setErrorId(null)})}};/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class pZ extends x2{constructor(e,i){super(e,"input","input",{initializer:(o,h)=>{h.value&&(o.value=h.value),h.type&&o.setAttribute("type",h.type),o.id=this.defaultId,typeof i=="function"&&i(o)},useUniqueId:!0})}}/**
 * @license
 * Copyright (c) 2021 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class mZ{constructor(e,i){this.input=e,this.__preventDuplicateLabelClick=this.__preventDuplicateLabelClick.bind(this),i.addEventListener("slot-content-changed",o=>{this.__initLabel(o.detail.node)}),this.__initLabel(i.node)}__initLabel(e){e&&(e.addEventListener("click",this.__preventDuplicateLabelClick),this.input&&e.setAttribute("for",this.input.id))}__preventDuplicateLabelClick(){const e=i=>{i.stopImmediatePropagation(),this.input.removeEventListener("click",e)};this.input.addEventListener("click",e)}}/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const gZ=t=>class extends fZ(aZ(qJ(VJ(t)))){static get properties(){return{indeterminate:{type:Boolean,notify:!0,value:!1,reflectToAttribute:!0},name:{type:String,value:""},readonly:{type:Boolean,value:!1,reflectToAttribute:!0},tabindex:{type:Number,value:0,reflectToAttribute:!0}}}static get observers(){return["__readonlyChanged(readonly, inputElement)"]}static get delegateProps(){return[...super.delegateProps,"indeterminate"]}static get delegateAttrs(){return[...super.delegateAttrs,"name","invalid","required"]}constructor(){super(),this._setType("checkbox"),this._boundOnInputClick=this._onInputClick.bind(this),this.value="on"}ready(){super.ready(),this.addController(new pZ(this,i=>{this._setInputElement(i),this._setFocusElement(i),this.stateTarget=i,this.ariaTarget=i})),this.addController(new mZ(this.inputElement,this._labelController)),this._createMethodObserver("_checkedChanged(checked)")}_shouldSetActive(i){return this.readonly||i.target.localName==="a"||i.target===this._helperNode||i.target===this._errorNode?!1:super._shouldSetActive(i)}_addInputListeners(i){super._addInputListeners(i),i.addEventListener("click",this._boundOnInputClick)}_removeInputListeners(i){super._removeInputListeners(i),i.removeEventListener("click",this._boundOnInputClick)}_onInputClick(i){this.readonly&&i.preventDefault()}__readonlyChanged(i,o){o&&(i?o.setAttribute("aria-readonly","true"):o.removeAttribute("aria-readonly"))}_toggleChecked(i){this.indeterminate&&(this.indeterminate=!1),super._toggleChecked(i)}checkValidity(){return!this.required||!!this.checked}_setFocused(i){super._setFocused(i),!i&&document.hasFocus()&&this.validate()}_checkedChanged(i){(i||this.__oldChecked)&&this.validate(),this.__oldChecked=i}_requiredChanged(i){super._requiredChanged(i),i===!1&&this.validate()}_onRequiredIndicatorClick(){this._labelNode.click()}};/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const yZ=vi`
  :host {
    display: inline-block;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host([disabled]) {
    -webkit-tap-highlight-color: transparent;
  }

  .vaadin-checkbox-container {
    display: grid;
    grid-template-columns: auto 1fr;
    align-items: baseline;
  }

  [part='checkbox'],
  ::slotted(input),
  [part='label'] {
    grid-row: 1;
  }

  [part='checkbox'],
  ::slotted(input) {
    grid-column: 1;
  }

  [part='helper-text'],
  [part='error-message'] {
    grid-column: 2;
  }

  :host(:not([has-helper])) [part='helper-text'],
  :host(:not([has-error-message])) [part='error-message'] {
    display: none;
  }

  [part='checkbox'] {
    width: var(--vaadin-checkbox-size, 1em);
    height: var(--vaadin-checkbox-size, 1em);
    --_input-border-width: var(--vaadin-input-field-border-width, 0);
    --_input-border-color: var(--vaadin-input-field-border-color, transparent);
    box-shadow: inset 0 0 0 var(--_input-border-width, 0) var(--_input-border-color);
  }

  [part='checkbox']::before {
    display: block;
    content: '\\202F';
    line-height: var(--vaadin-checkbox-size, 1em);
    contain: paint;
  }

  /* visually hidden */
  ::slotted(input) {
    opacity: 0;
    cursor: inherit;
    margin: 0;
    align-self: stretch;
    -webkit-appearance: none;
    width: initial;
    height: initial;
  }

  @media (forced-colors: active) {
    [part='checkbox'] {
      outline: 1px solid;
      outline-offset: -1px;
    }

    :host([disabled]) [part='checkbox'],
    :host([disabled]) [part='checkbox']::after {
      outline-color: GrayText;
    }

    :host(:is([checked], [indeterminate])) [part='checkbox']::after {
      outline: 1px solid;
      outline-offset: -1px;
      border-radius: inherit;
    }

    :host([focused]) [part='checkbox'],
    :host([focused]) [part='checkbox']::after {
      outline-width: 2px;
    }
  }
`;/**
 * @license
 * Copyright (c) 2017 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */Gs("vaadin-checkbox",yZ,{moduleId:"vaadin-checkbox-styles"});class bZ extends gZ(vA(h2(xu))){static get is(){return"vaadin-checkbox"}static get template(){return p2`
      <div class="vaadin-checkbox-container">
        <div part="checkbox" aria-hidden="true"></div>
        <slot name="input"></slot>
        <div part="label">
          <slot name="label"></slot>
          <div part="required-indicator" on-click="_onRequiredIndicatorClick"></div>
        </div>
        <div part="helper-text">
          <slot name="helper"></slot>
        </div>
        <div part="error-message">
          <slot name="error-message"></slot>
        </div>
      </div>
      <slot name="tooltip"></slot>
    `}ready(){super.ready(),this._tooltipController=new CA(this),this._tooltipController.setAriaTarget(this.inputElement),this.addController(this._tooltipController)}}ha(bZ);/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const vZ=t=>class extends t{static get properties(){return{width:{type:String,value:"58px",sync:!0},autoWidth:{type:Boolean,value:!0},flexGrow:{type:Number,value:0,sync:!0},selectAll:{type:Boolean,value:!1,notify:!0,sync:!0},autoSelect:{type:Boolean,value:!1,sync:!0},dragSelect:{type:Boolean,value:!1,sync:!0},_indeterminate:{type:Boolean,sync:!0},_selectAllHidden:Boolean}}static get observers(){return["_onHeaderRendererOrBindingChanged(_headerRenderer, _headerCell, path, header, selectAll, _indeterminate, _selectAllHidden)"]}_defaultHeaderRenderer(i,o){let h=i.firstElementChild;h||(h=document.createElement("vaadin-checkbox"),h.setAttribute("aria-label","Select All"),h.classList.add("vaadin-grid-select-all-checkbox"),i.appendChild(h),h.addEventListener("checked-changed",this.__onSelectAllCheckedChanged.bind(this)));const p=this.__isChecked(this.selectAll,this._indeterminate);h.__rendererChecked=p,h.checked=p,h.hidden=this._selectAllHidden,h.indeterminate=this._indeterminate}_defaultRenderer(i,o,{item:h,selected:p}){let m=i.firstElementChild;m||(m=document.createElement("vaadin-checkbox"),m.setAttribute("aria-label","Select Row"),i.appendChild(m),m.addEventListener("checked-changed",this.__onSelectRowCheckedChanged.bind(this)),Yc(i,"track",this.__onCellTrack.bind(this)),i.addEventListener("mousedown",this.__onCellMouseDown.bind(this)),i.addEventListener("click",this.__onCellClick.bind(this))),m.__item=h,m.__rendererChecked=p,m.checked=p}__onSelectAllCheckedChanged(i){i.target.checked!==i.target.__rendererChecked&&(this._indeterminate||i.target.checked?this._selectAll():this._deselectAll())}__onSelectRowCheckedChanged(i){i.target.checked!==i.target.__rendererChecked&&(i.target.checked?this._selectItem(i.target.__item):this._deselectItem(i.target.__item))}__onCellTrack(i){if(this.dragSelect)if(this.__dragCurrentY=i.detail.y,this.__dragDy=i.detail.dy,i.detail.state==="start"){const h=this._grid._getRenderedRows().find(p=>p.contains(i.currentTarget.assignedSlot));this.__selectOnDrag=!this._grid._isSelected(h._item),this.__dragStartIndex=h.index,this.__dragStartItem=h._item,this.__dragAutoScroller()}else i.detail.state==="end"&&(this.__dragStartItem&&(this.__selectOnDrag?this._selectItem(this.__dragStartItem):this._deselectItem(this.__dragStartItem)),setTimeout(()=>{this.__dragStartIndex=void 0}))}__onCellMouseDown(i){this.dragSelect&&i.preventDefault()}__onCellClick(i){this.__dragStartIndex!==void 0&&i.preventDefault()}_onCellKeyDown(i){const o=i.composedPath()[0];if(i.keyCode===32&&(o===this._headerCell||this._cells.includes(o)&&!this.autoSelect)){const h=o._content.firstElementChild;h.checked=!h.checked}}__dragAutoScroller(){if(this.__dragStartIndex===void 0)return;const i=this._grid._getRenderedRows(),o=i.find(w=>{const A=w.getBoundingClientRect();return this.__dragCurrentY>=A.top&&this.__dragCurrentY<=A.bottom});let h=o?o.index:void 0;const p=this.__getScrollableArea();this.__dragCurrentY<p.top?h=this._grid._firstVisibleIndex:this.__dragCurrentY>p.bottom&&(h=this._grid._lastVisibleIndex),h!==void 0&&i.forEach(w=>{(h>this.__dragStartIndex&&w.index>=this.__dragStartIndex&&w.index<=h||h<this.__dragStartIndex&&w.index<=this.__dragStartIndex&&w.index>=h)&&(this.__selectOnDrag?this._selectItem(w._item):this._deselectItem(w._item),this.__dragStartItem=void 0)});const m=p.height*.15,v=10;if(this.__dragDy<0&&this.__dragCurrentY<p.top+m){const w=p.top+m-this.__dragCurrentY,A=Math.min(1,w/m);this._grid.$.table.scrollTop-=A*v}if(this.__dragDy>0&&this.__dragCurrentY>p.bottom-m){const w=this.__dragCurrentY-(p.bottom-m),A=Math.min(1,w/m);this._grid.$.table.scrollTop+=A*v}setTimeout(()=>this.__dragAutoScroller(),10)}__getScrollableArea(){const i=this._grid.$.table.getBoundingClientRect(),o=this._grid.$.header.getBoundingClientRect(),h=this._grid.$.footer.getBoundingClientRect();return{top:i.top+o.height,bottom:i.bottom-h.height,left:i.left,right:i.right,height:i.height-o.height-h.height,width:i.width}}_selectAll(){}_deselectAll(){}_selectItem(i){}_deselectItem(i){}__isChecked(i,o){return o||i}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const wZ=t=>class extends vZ(t){static get properties(){return{__previousActiveItem:Object}}static get observers(){return["__onSelectAllChanged(selectAll)"]}constructor(){super(),this.__boundOnActiveItemChanged=this.__onActiveItemChanged.bind(this),this.__boundOnDataProviderChanged=this.__onDataProviderChanged.bind(this),this.__boundOnSelectedItemsChanged=this.__onSelectedItemsChanged.bind(this)}disconnectedCallback(){this._grid.removeEventListener("active-item-changed",this.__boundOnActiveItemChanged),this._grid.removeEventListener("data-provider-changed",this.__boundOnDataProviderChanged),this._grid.removeEventListener("filter-changed",this.__boundOnSelectedItemsChanged),this._grid.removeEventListener("selected-items-changed",this.__boundOnSelectedItemsChanged),super.disconnectedCallback()}connectedCallback(){super.connectedCallback(),this._grid&&(this._grid.addEventListener("active-item-changed",this.__boundOnActiveItemChanged),this._grid.addEventListener("data-provider-changed",this.__boundOnDataProviderChanged),this._grid.addEventListener("filter-changed",this.__boundOnSelectedItemsChanged),this._grid.addEventListener("selected-items-changed",this.__boundOnSelectedItemsChanged))}__onSelectAllChanged(e){if(!(e===void 0||!this._grid)){if(!this.__selectAllInitialized){this.__selectAllInitialized=!0;return}this._selectAllChangeLock||(e&&this.__hasArrayDataProvider()?this.__withFilteredItemsArray(i=>{this._grid.selectedItems=i}):this._grid.selectedItems=[])}}__arrayContains(e,i){return Array.isArray(e)&&Array.isArray(i)&&i.every(o=>e.includes(o))}_selectAll(){this.selectAll=!0}_deselectAll(){this.selectAll=!1}_selectItem(e){this._grid.selectItem(e)}_deselectItem(e){this._grid.deselectItem(e)}__onActiveItemChanged(e){const i=e.detail.value;if(this.autoSelect){const o=i||this.__previousActiveItem;o&&this._grid._toggleItem(o)}this.__previousActiveItem=i}__hasArrayDataProvider(){return Array.isArray(this._grid.items)&&!!this._grid.dataProvider}__onSelectedItemsChanged(){this._selectAllChangeLock=!0,this.__hasArrayDataProvider()&&this.__withFilteredItemsArray(e=>{this._grid.selectedItems.length?this.__arrayContains(this._grid.selectedItems,e)?(this.selectAll=!0,this._indeterminate=!1):(this.selectAll=!1,this._indeterminate=!0):(this.selectAll=!1,this._indeterminate=!1)}),this._selectAllChangeLock=!1}__onDataProviderChanged(){this._selectAllHidden=!Array.isArray(this._grid.items)}__withFilteredItemsArray(e){const i={page:0,pageSize:1/0,sortOrders:[],filters:this._grid._mapFilters()};this._grid.dataProvider(i,o=>e(o))}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class _Z extends wZ(yA){static get is(){return"vaadin-grid-selection-column"}}ha(_Z);Gs("vaadin-grid-sorter",vi`
    :host {
      justify-content: flex-start;
      align-items: baseline;
      -webkit-user-select: none;
      -moz-user-select: none;
      user-select: none;
      cursor: var(--lumo-clickable-cursor);
    }

    [part='content'] {
      display: inline-block;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    [part='indicators'] {
      margin-left: var(--lumo-space-s);
    }

    [part='indicators']::before {
      transform: scale(0.8);
    }

    :host(:not([direction]):not(:hover)) [part='indicators'] {
      color: var(--lumo-tertiary-text-color);
    }

    :host([direction]) {
      color: var(--vaadin-selection-color-text, var(--lumo-primary-text-color));
    }

    [part='order'] {
      font-size: var(--lumo-font-size-xxs);
      line-height: 1;
    }

    /* RTL specific styles */

    :host([dir='rtl']) [part='indicators'] {
      margin-right: var(--lumo-space-s);
      margin-left: 0;
    }
  `,{moduleId:"lumo-grid-sorter"});/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */const NA=document.createElement("template");NA.innerHTML=`
  <style>
    @font-face {
      font-family: 'vaadin-grid-sorter-icons';
      src: url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAAQwAA0AAAAABuwAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEFAAAABkAAAAcfep+mUdERUYAAAP4AAAAHAAAAB4AJwAOT1MvMgAAAZgAAAA/AAAAYA8TBPpjbWFwAAAB7AAAAFUAAAFeF1fZ4mdhc3AAAAPwAAAACAAAAAgAAAAQZ2x5ZgAAAlgAAABcAAAAnMvguMloZWFkAAABMAAAAC8AAAA2C5Ap72hoZWEAAAFgAAAAHQAAACQGbQPHaG10eAAAAdgAAAAUAAAAHAoAAABsb2NhAAACRAAAABIAAAASAIwAYG1heHAAAAGAAAAAFgAAACAACwAKbmFtZQAAArQAAAECAAACZxWCgKhwb3N0AAADuAAAADUAAABZCrApUXicY2BkYGAA4rDECVrx/DZfGbhZGEDgyqNPOxH0/wNMq5kPALkcDEwgUQBWRA0dAHicY2BkYGA+8P8AAwMLAwgwrWZgZEAFbABY4QM8AAAAeJxjYGRgYOAAQiYGEICQSAAAAi8AFgAAeJxjYGY6yziBgZWBgWkm0xkGBoZ+CM34msGYkZMBFTAKoAkwODAwvmRiPvD/AIMDMxCD1CDJKjAwAgBktQsXAHicY2GAAMZQCM0EwqshbAALxAEKeJxjYGBgZoBgGQZGBhCIAPIYwXwWBhsgzcXAwcAEhIwMCi+Z/v/9/x+sSuElA4T9/4k4K1gHFwMMMILMY2QDYmaoABOQYGJABUA7WBiGNwAAJd4NIQAAAAAAAAAACAAIABAAGAAmAEAATgAAeJyNjLENgDAMBP9tIURJwQCMQccSZgk2i5fIYBDAidJjycXr7x5EPwE2wY8si7jmyBNXGo/bNBerxJNrpxhbO3/fEFpx8ZICpV+ghxJ74fAMe+h7Ox14AbrsHB14nK2QQWrDMBRER4mTkhQK3ZRQKOgCNk7oGQqhhEIX2WSlWEI1BAlkJ5CDdNsj5Ey9Rncdi38ES+jzNJo/HwTgATcoDEthhY3wBHc4CE+pfwsX5F/hGe7Vo/AcK/UhvMSz+mGXKhZU6pww8ISz3oWn1BvhgnwTnuEJf8Jz1OpFeIlX9YULDLdFi4ASHolkSR0iuYdjLak1vAequBhj21D61Nqyi6l3qWybGPjySbPHGScGJl6dP58MYcQRI0bts7mjebBqrFENH7t3qWtj0OuqHnXcW7b0HOTZFnKryRGW2hFX1m0O2vEM3opNMfTau+CS6Z3Vx6veNnEXY6jwDxhsc2gAAHicY2BiwA84GBgYmRiYGJkZmBlZGFkZ2djScyoLMgzZS/MyDQwMwLSrpYEBlIbxjQDrzgsuAAAAAAEAAf//AA94nGNgZGBg4AFiMSBmYmAEQnYgZgHzGAAD6wA2eJxjYGBgZACCKyoz1cD0o087YTQATOcIewAAAA==) format('woff');
      font-weight: normal;
      font-style: normal;
    }
  </style>
`;document.head.appendChild(NA.content);Gs("vaadin-grid-sorter",vi`
    :host {
      display: inline-flex;
      cursor: pointer;
      max-width: 100%;
    }

    [part='content'] {
      flex: 1 1 auto;
    }

    [part='indicators'] {
      position: relative;
      align-self: center;
      flex: none;
    }

    [part='order'] {
      display: inline;
      vertical-align: super;
    }

    [part='indicators']::before {
      font-family: 'vaadin-grid-sorter-icons';
      display: inline-block;
    }

    :host(:not([direction])) [part='indicators']::before {
      content: '\\e901';
    }

    :host([direction='asc']) [part='indicators']::before {
      content: '\\e900';
    }

    :host([direction='desc']) [part='indicators']::before {
      content: '\\e902';
    }
  `,{moduleId:"vaadin-grid-sorter-styles"});const xZ=t=>class extends t{static get properties(){return{path:String,direction:{type:String,reflectToAttribute:!0,notify:!0,value:null,sync:!0},_order:{type:Number,value:null,sync:!0}}}static get observers(){return["_pathOrDirectionChanged(path, direction)"]}ready(){super.ready(),this.addEventListener("click",this._onClick.bind(this))}connectedCallback(){super.connectedCallback(),this._grid?this._grid.__applySorters():this.__dispatchSorterChangedEvenIfPossible()}disconnectedCallback(){super.disconnectedCallback(),!this.parentNode&&this._grid?this._grid.__removeSorters([this]):this._grid&&this._grid.__applySorters()}_pathOrDirectionChanged(){this.__dispatchSorterChangedEvenIfPossible()}__dispatchSorterChangedEvenIfPossible(){this.path===void 0||this.direction===void 0||!this.isConnected||(this.dispatchEvent(new CustomEvent("sorter-changed",{detail:{shiftClick:!!this._shiftClick,fromSorterClick:!!this._fromSorterClick},bubbles:!0,composed:!0})),this._fromSorterClick=!1,this._shiftClick=!1)}_getDisplayOrder(i){return i===null?"":i+1}_onClick(i){if(i.defaultPrevented)return;const o=this.getRootNode().activeElement;this!==o&&this.contains(o)||(i.preventDefault(),this._shiftClick=i.shiftKey,this._fromSorterClick=!0,this.direction==="asc"?this.direction="desc":this.direction==="desc"?this.direction=null:this.direction="asc")}};/**
 * @license
 * Copyright (c) 2016 - 2024 Vaadin Ltd.
 * This program is available under Apache License Version 2.0, available at https://vaadin.com/license/
 */class SZ extends xZ(h2(m2(xu))){static get template(){return p2`
      <div part="content">
        <slot></slot>
      </div>
      <div part="indicators">
        <span part="order">[[_getDisplayOrder(_order)]]</span>
      </div>
    `}static get is(){return"vaadin-grid-sorter"}}ha(SZ);let ee=class extends Gf.EventedAccessor{constructor(e){super(e),this.cellPartNameGenerator=(i,o)=>{var m;let h="";o!=null&&o.item&&this.rowHighlightIds.includes(o.item.objectId)&&(h+=" highlight");const p=this.findColumn(i==null?void 0:i.path);return p&&(p.invalid&&(h+=" invalid"),p.textWrap&&(h+=" text-wrap"),"editInfo"in p&&p.editInfo&&((m=p.editInfo.rowData)==null?void 0:m.index)===o.index&&(h+=" editing")),h},this.columnPerformanceModeEnabled=!0,this.columnReorderingEnabled=!0,this.columns=new Tt,this.dataProvider=async(i,o)=>{const{store:h}=this;if(o){if(!h)return void(o&&o([]));o(await h.fetchItems(i))}},this.maxSize=null,this.multipleSelectionEnabled=!0,this.multiSortEnabled=!1,this.paginationEnabled=!1,this.rowDetailsRenderer=null,this.store=null}get actionColumn(){return this.allColumns.find(e=>e.fieldName===Oe.action)}get allColumns(){return this.columns.toArray().flatMap(e=>{var i;return[e,..."columns"in e&&((i=e.columns)!=null&&i.length)?e.columns:[]]})}get columnMenuIsOpen(){return this.allColumns.some(e=>e.menuIsOpen)}get editing(){return this.editableColumns.some(e=>e.editInfo)}get editableColumns(){return this.allColumns.filter(e=>"editable"in e)}get effectiveSize(){const{filterBySelectionEnabled:e,highlightIds:i,objectIds:o,pageSize:h,size:p}=this;if(this.paginationEnabled){const m=this.pageCount===this.pageIndex+1?p%h:h;return e?Math.min(i.length,m):o.length?Math.min(o.length,m):m}return e?i.length:o.length?o.length:p}get fieldColumns(){return this.allColumns.filter(e=>"field"in e)}get filterBySelectionEnabled(){return!!this._get("filterBySelectionEnabled")}set filterBySelectionEnabled(e){this._set("filterBySelectionEnabled",e)}get groupColumns(){return this.columns.toArray().filter(e=>"columns"in e)}get highlightIds(){return this._get("highlightIds")||new Tt}set highlightIds(e){const i=Array.isArray(e)?new Tt(e):e;this.multipleSelectionEnabled||i.splice(1,i.length-1),this._set("highlightIds",Po(i,this._get("highlightIds"),Tt))}get objectIds(){return this._get("objectIds")??new Tt}set objectIds(e){this._set("objectIds",Po(e,this._get("objectIds"),Tt))}get pageCount(){const{pageSize:e,size:i}=this;return i===0||e===0?1:Math.ceil(i/e)}get pageIndex(){return this._get("pageIndex")||0}set pageIndex(e){const{pageCount:i}=this;PB(e,i)&&this._set("pageIndex",e)}get pageSize(){return this._get("pageSize")??50}set pageSize(e){var i;(i=this.store)==null||i.set("pageSize",e),this._set("pageSize",e)}get relationshipColumns(){return this.allColumns.filter(e=>"relationshipId"in e)}get rowHighlightIds(){return this._get("rowHighlightIds")||new Tt}set rowHighlightIds(e){this._set("rowHighlightIds",Po(e,this._get("rowHighlightIds"),Tt))}get size(){var o;const e=((o=this.store)==null?void 0:o.count)??0,{maxSize:i}=this;return e!=null&&i!=null?Math.min(i,e):e}get state(){var e;return((e=this.store)==null?void 0:e.state)??"disabled"}closeColumnMenus(){this.allColumns.forEach(e=>e.closeMenu())}sortColumn(e,i){if(!e)return;const o=this.findColumn(e);o&&(o.direction=i)}hideColumn(e){const i=this.findColumn(e);(i==null?void 0:i.hidden)===!1&&(i.hidden=!0)}showColumn(e){const i=this.findColumn(e);i!=null&&i.hidden&&(i.hidden=!1)}showAllColumns(){this.allColumns.forEach(e=>{e.hidden&&(e.hidden=!1)})}findColumn(e){return this.allColumns.find(i=>i.fieldName===e)}refresh(){this.store&&(this.store.reset(),this.store.load())}toggleColumnVisibility(e){const i=this.findColumn(e);i&&(i.hidden=!i.hidden)}};C([E()],ee.prototype,"actionColumn",null),C([E()],ee.prototype,"allColumns",null),C([E()],ee.prototype,"cellPartNameGenerator",void 0),C([E()],ee.prototype,"columnMenuIsOpen",null),C([E()],ee.prototype,"columnPerformanceModeEnabled",void 0),C([E()],ee.prototype,"columnReorderingEnabled",void 0),C([E()],ee.prototype,"columns",void 0),C([E()],ee.prototype,"dataProvider",void 0),C([E()],ee.prototype,"editing",null),C([E()],ee.prototype,"editableColumns",null),C([E()],ee.prototype,"effectiveSize",null),C([E()],ee.prototype,"fieldColumns",null),C([E()],ee.prototype,"filterBySelectionEnabled",null),C([E()],ee.prototype,"groupColumns",null),C([E()],ee.prototype,"highlightIds",null),C([E()],ee.prototype,"maxSize",void 0),C([E()],ee.prototype,"multipleSelectionEnabled",void 0),C([E()],ee.prototype,"multiSortEnabled",void 0),C([E()],ee.prototype,"objectIds",null),C([E()],ee.prototype,"pageCount",null),C([E()],ee.prototype,"pageIndex",null),C([E()],ee.prototype,"pageSize",null),C([E()],ee.prototype,"paginationEnabled",void 0),C([E()],ee.prototype,"relationshipColumns",null),C([E()],ee.prototype,"rowHighlightIds",null),C([E()],ee.prototype,"rowDetailsRenderer",void 0),C([E({readOnly:!0})],ee.prototype,"size",null),C([E()],ee.prototype,"store",void 0),C([E({readOnly:!0})],ee.prototype,"state",null),ee=C([Y("esri.widgets.FeatureTable.Grid.GridViewModel")],ee);const RA=ee;function $s(t){return(e,i)=>{e.hasOwnProperty("_messageBundleProps")||(e._messageBundleProps=e._messageBundleProps?e._messageBundleProps.slice():[]),e._messageBundleProps.push({bundlePath:t,propertyName:i})}}const D1="esri-grid",CZ="compact column-borders",z1={base:D1,content:`${D1}__content`,grid:`${D1}__grid`},AZ={sort:["Enter"," "]};let ie=class extends G8{constructor(t,e){super(t,e),this._columnElements=[],this._grid=null,this.itemIdPath=null,this.messages=null,this.selectionColumnEnabled=!0,this.viewModel=new RA,this._onSelectedItemsChange=this._onSelectedItemsChange.bind(this)}initialize(){this.addHandles([this.columns.on("before-changes",()=>this.renderNow()),this.columns.on("change",()=>this.onColumnChange()),Bi(()=>this.highlightIds,"before-add",({target:t})=>{!this.multipleSelectionEnabled&&t.length&&t.removeAll()}),this.rowHighlightIds.on("change",()=>this.generateCellPartNames()),Lt(()=>this.effectiveSize,()=>this._updateGridSize()),Lt(()=>this.viewModel.editing,()=>{this.generateCellPartNames(),this.requestContentUpdate()}),Lt(()=>{var t;return(t=this.store)==null?void 0:t.state},(t,e)=>{t!=="ready"||e!=="loaded"&&e!=="error"||this.refreshPageCache()}),Bi(()=>this._table,"scroll",()=>this.viewModel.closeColumnMenus()),Bi(()=>this._table,"scrollend",()=>{this.paginationEnabled||(this.pageIndex=this.getVirtualPageIndex())}),Lt(()=>this.multipleSelectionEnabled,t=>{!t&&this.highlightIds.length>1&&this.highlightIds.removeAll()})])}destroy(){this.resetColumns(),this.columns.destroyed||this.columns.destroy()}resetColumns(){this.columns.drain(t=>!t.destroyed&&t.destroy())}get _editInfos(){return this.viewModel.editableColumns.map(t=>t.editInfo).filter(ml)}get _columnRendering(){return this.columnPerformanceModeEnabled?"lazy":"eager"}get _selectedItems(){const{highlightIds:t,store:e}=this;return t.toArray().map(i=>(e==null?void 0:e.getItemByObjectId(i))??{objectId:i})}get _table(){var t,e;return(e=(t=this._grid)==null?void 0:t.$)==null?void 0:e.table}get cellPartNameGenerator(){return this.viewModel.cellPartNameGenerator}set cellPartNameGenerator(t){this.viewModel.cellPartNameGenerator=t}get columns(){return this.viewModel.columns}set columns(t){this.viewModel.columns=t}get columnPerformanceModeEnabled(){return this.viewModel.columnPerformanceModeEnabled}set columnPerformanceModeEnabled(t){this.viewModel.columnPerformanceModeEnabled=t}get columnReorderingEnabled(){return this.viewModel.columnReorderingEnabled}set columnReorderingEnabled(t){this.viewModel.columnReorderingEnabled=t}get pageIndex(){return this.viewModel.pageIndex}set pageIndex(t){this.viewModel.pageIndex=t}get dataProvider(){return this.viewModel.dataProvider}set dataProvider(t){this.viewModel.dataProvider=t}get effectiveSize(){return this.viewModel.effectiveSize}get highlightIds(){return this.viewModel.highlightIds}set highlightIds(t){this.viewModel.highlightIds=t}get isEditingActive(){return!!this._editInfos.length}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get multipleSelectionEnabled(){return this.viewModel.multipleSelectionEnabled}set multipleSelectionEnabled(t){this.viewModel.multipleSelectionEnabled=t}get multiSortEnabled(){return this.viewModel.multiSortEnabled}set multiSortEnabled(t){this.viewModel.multiSortEnabled=t}get pageSize(){return this.viewModel.pageSize}set pageSize(t){this.viewModel.pageSize=t}get paginationEnabled(){return this.viewModel.paginationEnabled}set paginationEnabled(t){this.viewModel.paginationEnabled=t}get rowDetailsRenderer(){return this.viewModel.rowDetailsRenderer}set rowDetailsRenderer(t){this.viewModel.rowDetailsRenderer=t}get rowHighlightIds(){return this.viewModel.rowHighlightIds}set rowHighlightIds(t){this.viewModel.rowHighlightIds=t}get size(){return this.viewModel.size}get sortOrders(){var t;return(t=this._grid)!=null&&t._sorters?this._grid._sorters.filter(e=>!!e&&e.path).map(({direction:e,path:i})=>({direction:e,path:i})):[]}get store(){return this.viewModel.store}set store(t){this.viewModel.store=t}getColumnProps(t,e){const{id:i}=this,{autoWidth:o,direction:h,fieldName:p,flexGrow:m,frozen:v,frozenToEnd:w,hidden:A,label:$,resizable:M,textAlign:P,width:R}=t,B=`${i}_${p}_${e}`,{renderFunction:G,footerRenderFunction:H,headerRenderFunction:Z}=t,X=H?(nt,bt)=>H({root:nt,column:bt}):void 0,Q=Z?(nt,bt)=>Z({root:nt,column:bt}):void 0,rt=G?(nt,bt,gt)=>G({root:nt,column:bt,rowData:gt}):void 0;let et="";return t.direction&&(et+=" direction"),t.invalid&&(et+=" invalid"),{footerRenderer:X,headerRenderer:Q,renderer:rt,autoWidth:o,direction:h,flexGrow:m,frozen:v,frozenToEnd:w,headerPartName:et,hidden:A,key:B,resizable:M,bind:this,"data-fieldName":p,header:$,path:p,"text-align":P,width:typeof R=="number"?`${R}px`:R,afterCreate:this._afterColumnCreate,afterRemoved:this._afterColumnRemoved}}clearSelection(){this._clearSelection(),this.scheduleRender()}clearSort(){var e;let t=!1;this._grid&&((e=this._grid._sorters)!=null&&e.length&&(this._grid._sorters.forEach(i=>{i._order=null,i.direction=null}),t=!0),this.columns.length&&this.columns.some(i=>!!i.direction)&&(this.columns.forEach(i=>i.direction=null),t=!0),t&&(this.notifyChange("sortOrders"),this.scheduleRender()))}findColumn(t){return this.viewModel.findColumn(t)}generateCellPartNames(){var t;(t=this._grid)==null||t.generateCellPartNames()}getFirstVisibleRowIndex(){var t;return((t=this._grid)==null?void 0:t._firstVisibleIndex)||0}getVirtualPageIndex(){return Math.floor(this.getFirstVisibleRowIndex()/this.pageSize)}getLastVisibleRowIndex(){var t;return((t=this._grid)==null?void 0:t._lastVisibleIndex)||0}getVisibleItemsCount(){var t;return((t=this._grid)==null?void 0:t._visibleItemsCount)||0}getRowContainingNode(t){var e;return(e=this._grid)==null?void 0:e._getRowContainingNode(t)}getSlotElementByName(t){var e,i;return((i=(e=this._grid)==null?void 0:e.shadowRoot)==null?void 0:i.querySelector(`slot[name='${t}']`))??null}hideColumn(t){this.viewModel.hideColumn(t)}recalculateColumnWidths(){var t;(t=this._grid)==null||t.recalculateColumnWidths()}async reset(){var t;this._clearSelection(),await((t=this.store)==null?void 0:t.reset()),this.scrollToTop()}refreshPageCache(){var t;(t=this._grid)==null||t.clearCache()}requestContentUpdate(){var t;(t=this._grid)==null||t.requestContentUpdate()}selectRows(t){const{itemIdPath:e}=this,i=t==null?void 0:t.filter(h=>!this.highlightIds.includes(h[e])),o=i.map(h=>h[e]);o.length&&(this.multipleSelectionEnabled||(this.highlightIds.removeAll(),o.splice(1)),this.highlightIds.addMany(o))}deselectRows(t){const{itemIdPath:e}=this,i=(t==null?void 0:t.map(o=>o[e]))||[];i.length&&this.highlightIds.removeMany(i)}showColumn(t){this.viewModel.showColumn(t)}sort({path:t,direction:e}){this.viewModel.sortColumn(t,e),this.notifyChange("sortOrders")}scrollToIndex(t){var e;(e=this._grid)==null||e.scrollToIndex(t)}scrollToTop(){this.scrollToIndex(0)}scrollToBottom(){this.scrollToIndex(1/0)}scrollLeft(t){const{_table:e}=this;e&&(e.scrollLeft=t)}toggleColumnVisibility(t){this.viewModel.toggleColumnVisibility(t)}onColumnChange(){this._columnElements.forEach(t=>{this._applyRenderersToColumnElement(t)}),this.requestContentUpdate()}render(){return dt("div",{bind:this,class:this.classes(z1.base,Bv.widget)},dt("div",{bind:this,class:z1.content},this._renderGrid()))}_renderGrid(){return dt("vaadin-grid",{afterCreate:this._afterGridCreate,afterUpdate:this._afterGridUpdate,bind:this,cellPartNameGenerator:this.cellPartNameGenerator,class:z1.grid,columnRendering:this._columnRendering,columnReorderingAllowed:this.columnReorderingEnabled,dataProvider:this.dataProvider,id:`${this.id}_grid`,itemIdPath:this.itemIdPath,multiSort:this.multiSortEnabled,pageSize:this.pageSize,ref:"grid",rowDetailsRenderer:this.rowDetailsRenderer,selectedItems:this._selectedItems,size:this.effectiveSize},this._renderAllColumns())}_renderAllColumns(){return this.viewModel.state!=="disabled"&&this.columns.length?[this._renderSelectionColumn(),this._renderColumns()]:null}_renderSelectionColumn(){return dt("vaadin-grid-selection-column",{_selectAllHidden:!0,autoWidth:!1,bind:this,dragSelect:!0,frozen:!0,hidden:!this.selectionColumnEnabled,selectAll:!1,sortable:!1,textAlign:"center"})}_renderColumns(){return Array.from(this.columns,(t,e)=>"columns"in t?this._renderGroupColumn(t,e):dt("vaadin-grid-column",{...this.getColumnProps(t,e)})).filter(ml)}_renderGroupColumn(t,e){const i=this.getColumnProps(t,e);if(i.hidden||!t.columns)return null;const o=t.columns.filter(({hidden:h})=>!h);return o.length?dt("vaadin-grid-column-group",{...i},o.map(h=>dt("vaadin-grid-column",{...this.getColumnProps(h,e)}))):null}_afterGridCreate(t){const e=this._grid=t;e.setAttribute("theme",CZ),customElements.whenDefined("vaadin-grid").then(()=>{this._appendStyles(),this._addGridEventListeners()}),e.__updateSorter=(i,o,h)=>{const p=e._sorters,m=!p.includes(i);if(!i.direction&&m)return;i._order=null;const{multiSort:v,multiSortOnShiftClick:w,multiSortPriority:A}=e,$=p.filter(M=>M!==i);v&&(!w||!h)||w&&o?i._initialOrder!=null?(m?p[i._initialOrder]=i:p.splice(i._initialOrder,0,i),i._initialOrder=null):e._sorters=A==="append"?[...$,i]:[i,...$]:(i.direction||w)&&(e._sorters=i.direction?[i]:[],$.forEach(M=>{M._order=null,M.direction=null}))}}_appendStyles(){var i;const t=(i=this._grid)==null?void 0:i.shadowRoot,e=document.createElement("style");t&&(e.textContent=`
      #items [part~="row"][editing],
      #items [part~="row"][editing][selected] {
        z-index: 2;
      }

      #items [part~="editing"],
      #items [part~="editing"][selected] {
        z-index: 3;
      }

      [frozen], [frozen-to-end] {
        z-index: 4;
      }

      [last-frozen] {
        overflow: visible;
      }

      [part~='cell'] ::slotted(vaadin-grid-cell-content) {
        align-items: center;
        box-sizing: border-box !important;
        height: 100%;
        line-height: 2em;
        min-height: 40px;
      }

      #items [part~="text-wrap"] {
        text-wrap: wrap;
      }
    `,t.appendChild(e))}_afterGridUpdate(t){this._grid||(this._grid=t)}_afterColumnCreate(t){this._columnElements.push(t)}_afterColumnRemoved(t){const e=this._columnElements.indexOf(t,0);e>-1&&this._columnElements.splice(e,1)}_updateGridSize(){this._grid&&(this._grid.size=this.effectiveSize,this.scheduleRender())}_addGridEventListeners(){const t=this._grid;_d(t),this.addHandles([ys(t,["click","dblclick","keydown","pointerover","pointerout"],e=>this._onGridInteraction(e)),ys(t,"selected-items-changed",this._onSelectedItemsChange),ys(t,"sorter-changed",()=>this.notifyChange("sortOrders")),ys(t,"column-resize",e=>{const i=e.detail.resizedColumn,o=i.getAttribute("data-fieldName"),h=this.findColumn(o);h==null||h.set({width:i.width})}),ys(t,"column-reorder",()=>this._onColumnOrderChange())])}_onGridInteraction(t){var w;const e=this._grid;if(_d(e),(t.type==="pointerover"||t.type==="pointerout")&&t.relatedTarget!==e){const{target:A,relatedTarget:$}=t;if(!this._isGridCellContentNode(A)||!this._isGridCellContentNode($))return}let i=null;try{i=e.getEventContext(t)}catch{}if(!i)return;const{column:o,index:h,item:p,section:m}=i;if(!m)return;if(m==="header"&&t.type==="keydown"&&(o!=null&&o.path)){const A=t.key;AZ.sort.includes(A)&&((w=this.findColumn(o.path))==null||w.sort())}const v=`cell-${t.type}`;this.emit(v,{type:v,context:i,index:h,item:p,native:t,path:(o==null?void 0:o.path)??void 0})}_isGridCellContentNode(t){return!!(t&&t instanceof HTMLElement&&t.localName==="vaadin-grid-cell-content")}_onColumnOrderChange(){const t=this._grid;_d(t);const e=t._getColumnsInOrder(0),i=[],o=(this.viewModel.groupColumns.length?t._getColumnsInOrder(1):e).map(h=>h.getAttribute("data-fieldName"));e==null||e.forEach(h=>{var m;const p=h.getAttribute("data-fieldName");if(p!=null){const v=this.findColumn(p);i.push(p),v&&"columns"in v&&((m=v.columns)!=null&&m.length)&&v.columns.sort((w,A)=>o.indexOf(w.fieldName)>o.indexOf(A.fieldName)?1:-1)}}),this.columns.sort((h,p)=>i.indexOf(h.fieldName)>i.indexOf(p.fieldName)?1:-1)}_clearSelection(){this.highlightIds.removeAll()}_onSelectedItemsChange(t){const{highlightIds:e,itemIdPath:i}=this,o=t.detail.value.map(p=>p[i]),h=o.filter(p=>!e.includes(p));if(!this.multipleSelectionEnabled&&h.length&&e.length)e.removeAll(),e.add(h[0]);else{const p=e.filter(m=>!o.includes(m));e.removeMany(p),e.addMany(h)}}_applyRenderersToColumnElement(t){const e=t==null?void 0:t.path,i=e!=null?this.findColumn(e):void 0;if(i)try{const{renderFunction:o,footerRenderFunction:h,headerRenderFunction:p}=i;o&&"renderer"in t&&(t.renderer=(m,v,w)=>o({root:m,column:v,rowData:w})),h&&(t.footerRenderer=(m,v)=>h({root:m,column:v})),p&&(t.headerRenderer=(m,v)=>p({root:m,column:v}))}catch{}}};C([E()],ie.prototype,"_editInfos",null),C([E()],ie.prototype,"_columnElements",void 0),C([E()],ie.prototype,"_columnRendering",null),C([E()],ie.prototype,"_selectedItems",null),C([E()],ie.prototype,"_grid",void 0),C([E()],ie.prototype,"_table",null),C([E()],ie.prototype,"cellPartNameGenerator",null),C([E()],ie.prototype,"columns",null),C([E()],ie.prototype,"columnPerformanceModeEnabled",null),C([E()],ie.prototype,"columnReorderingEnabled",null),C([E()],ie.prototype,"pageIndex",null),C([E()],ie.prototype,"dataProvider",null),C([E()],ie.prototype,"effectiveSize",null),C([E()],ie.prototype,"highlightIds",null),C([E()],ie.prototype,"isEditingActive",null),C([E()],ie.prototype,"itemIdPath",void 0),C([E()],ie.prototype,"label",null),C([E(),$s("esri/widgets/FeatureTable/t9n/FeatureTable")],ie.prototype,"messages",void 0),C([E()],ie.prototype,"multipleSelectionEnabled",null),C([E()],ie.prototype,"multiSortEnabled",null),C([E()],ie.prototype,"pageSize",null),C([E()],ie.prototype,"paginationEnabled",null),C([E()],ie.prototype,"rowDetailsRenderer",null),C([E()],ie.prototype,"rowHighlightIds",null),C([E()],ie.prototype,"selectionColumnEnabled",void 0),C([E()],ie.prototype,"size",null),C([E({readOnly:!0})],ie.prototype,"sortOrders",null),C([E()],ie.prototype,"store",null),C([E()],ie.prototype,"viewModel",void 0),ie=C([Y("esri.widgets.FeatureTable.Grid.Grid")],ie);const TZ=ie;let kh=class extends ql{constructor(e){super(e),this.columns=null,this.sortable=!1}initialize(){this._set("fieldName",`group:${this.label}`)}destroy(){var e;(e=this.columns)==null||e.forEach(i=>!i.destroyed&&i.destroy())}};C([E()],kh.prototype,"columns",void 0),C([E({readOnly:!0})],kh.prototype,"sortable",void 0),kh=C([Y("esri.widgets.FeatureTable.Grid.GroupColumn")],kh);const EZ=kh;let Ae=class extends St{constructor(e){super(e),this.autoWidth=!1,this.description=null,this.direction=null,this.flexGrow=1,this.fieldName=null,this.formatFunction=null,this.frozen=!1,this.frozenToEnd=!1,this.icon=null,this.initialSortPriority=null,this.invalid=!1,this.label=null,this.menuConfig=null,this.resizable=!0,this.sortable=!1,this.textAlign="start",this.textWrap=!1,this.timeZone=null,this.type=null,this.visible=!0,this.width=200}};C([E()],Ae.prototype,"autoWidth",void 0),C([E()],Ae.prototype,"description",void 0),C([E()],Ae.prototype,"direction",void 0),C([E()],Ae.prototype,"flexGrow",void 0),C([E({type:String})],Ae.prototype,"fieldName",void 0),C([E()],Ae.prototype,"formatFunction",void 0),C([E()],Ae.prototype,"frozen",void 0),C([E()],Ae.prototype,"frozenToEnd",void 0),C([E()],Ae.prototype,"icon",void 0),C([E()],Ae.prototype,"initialSortPriority",void 0),C([E()],Ae.prototype,"invalid",void 0),C([E()],Ae.prototype,"label",void 0),C([E()],Ae.prototype,"menuConfig",void 0),C([E()],Ae.prototype,"resizable",void 0),C([E()],Ae.prototype,"sortable",void 0),C([E()],Ae.prototype,"textAlign",void 0),C([E()],Ae.prototype,"textWrap",void 0),C([E()],Ae.prototype,"timeZone",void 0),C([E({type:String,json:{read:!1,write:!0}})],Ae.prototype,"type",void 0),C([E()],Ae.prototype,"visible",void 0),C([E()],Ae.prototype,"width",void 0),Ae=C([Y("esri.widgets.FeatureTable.support.ColumnTemplateBase")],Ae);const Su=Ae;let tr=class extends Su{constructor(e){super(e),this.attachmentsViewEnabled=!0,this.icon="attachment",this.sortable=!1,this.textAlign="center",this.thumbnailAppearance="image",this.thumbnailCount=8,this.thumbnailsEnabled=!0,this.thumbnailIconScale="m",this.type="attachment"}};C([E()],tr.prototype,"attachmentsViewEnabled",void 0),C([E()],tr.prototype,"icon",void 0),C([E()],tr.prototype,"sortable",void 0),C([E()],tr.prototype,"textAlign",void 0),C([E()],tr.prototype,"thumbnailAppearance",void 0),C([E()],tr.prototype,"thumbnailCount",void 0),C([E()],tr.prototype,"thumbnailsEnabled",void 0),C([E()],tr.prototype,"thumbnailIconScale",void 0),C([E({type:String,json:{read:!1,write:!0}})],tr.prototype,"type",void 0),tr=C([Y("esri.widgets.FeatureTable.support.AttachmentsColumnTemplate")],tr);const Ol=tr;let Hr=class extends me{constructor(e){super(e),this.attachmentId=null,this.attachmentInfos=[],this.candidates=null,this.error=null,this.form=null,this.mode="list",this.objectId=null}initialize(){this.addHandles([Lt(()=>this.objectId,()=>this.reset()),Lt(()=>this.candidates,()=>{this.error=null}),Lt(()=>this.attachmentInfos.length,e=>{e===0&&(this.mode="file")})])}onEditComplete(){this.attachmentId=null,this.candidates=null,this.mode="list"}reset(){this.attachmentId=null,this.candidates=null,this.error=null}};C([E()],Hr.prototype,"attachmentId",void 0),C([E()],Hr.prototype,"attachmentInfos",void 0),C([E()],Hr.prototype,"candidates",void 0),C([E()],Hr.prototype,"error",void 0),C([E()],Hr.prototype,"form",void 0),C([E()],Hr.prototype,"mode",void 0),C([E()],Hr.prototype,"objectId",void 0),Hr=C([Y("esri.widgets.FeatureTable.support.AttachmentsViewOptions")],Hr);const $Z=Hr,LA={key:"type",base:hp,typeMap:{range:wC,"coded-value":Fc,inherited:vC}};function DA(t){if(!(t!=null&&t.type))return null;switch(t.type){case"range":return wC.fromJSON(t);case"codedValue":return Fc.fromJSON(t);case"inherited":return vC.fromJSON(t)}return null}const IZ=new cr({esriFieldTypeSmallInteger:"small-integer",esriFieldTypeInteger:"integer",esriFieldTypeSingle:"single",esriFieldTypeDouble:"double",esriFieldTypeLong:"long",esriFieldTypeString:"string",esriFieldTypeDate:"date",esriFieldTypeOID:"oid",esriFieldTypeGeometry:"geometry",esriFieldTypeBlob:"blob",esriFieldTypeRaster:"raster",esriFieldTypeGUID:"guid",esriFieldTypeGlobalID:"global-id",esriFieldTypeXML:"xml",esriFieldTypeBigInteger:"big-integer",esriFieldTypeDateOnly:"date-only",esriFieldTypeTimeOnly:"time-only",esriFieldTypeTimestampOffset:"timestamp-offset"});var Vg;const kZ=new cr({binary:"binary",coordinate:"coordinate",countOrAmount:"count-or-amount",dateAndTime:"date-and-time",description:"description",locationOrPlaceName:"location-or-place-name",measurement:"measurement",nameOrTitle:"name-or-title",none:"none",orderedOrRanked:"ordered-or-ranked",percentageOrRatio:"percentage-or-ratio",typeOrCategory:"type-or-category",uniqueIdentifier:"unique-identifier"});let ai=Vg=class extends St{constructor(t){super(t),this.alias=null,this.defaultValue=void 0,this.description=null,this.domain=null,this.editable=!0,this.length=void 0,this.name=null,this.nullable=!0,this.type=null,this.valueType=null,this.visible=!0}readDescription(t,{description:e}){let i=null;try{i=e?JSON.parse(e):null}catch{}return(i==null?void 0:i.value)??null}readValueType(t,{description:e}){let i=null;try{i=e?JSON.parse(e):null}catch{}return i?kZ.fromJSON(i.fieldValueType):null}clone(){var t;return new Vg({alias:this.alias,defaultValue:this.defaultValue,description:this.description,domain:((t=this.domain)==null?void 0:t.clone())??null,editable:this.editable,length:this.length,name:this.name,nullable:this.nullable,type:this.type,valueType:this.valueType,visible:this.visible})}};C([E({type:String,json:{write:!0}})],ai.prototype,"alias",void 0),C([E({type:[String,Number],json:{write:{allowNull:!0}}})],ai.prototype,"defaultValue",void 0),C([E()],ai.prototype,"description",void 0),C([Xt("description")],ai.prototype,"readDescription",null),C([E({types:LA,json:{read:{reader:DA},write:!0}})],ai.prototype,"domain",void 0),C([E({type:Boolean,json:{write:!0}})],ai.prototype,"editable",void 0),C([E({type:Fe,json:{write:{overridePolicy:t=>({enabled:Number.isFinite(t)})}}})],ai.prototype,"length",void 0),C([E({type:String,json:{write:!0}})],ai.prototype,"name",void 0),C([E({type:Boolean,json:{write:!0}})],ai.prototype,"nullable",void 0),C([Mt(IZ)],ai.prototype,"type",void 0),C([E()],ai.prototype,"valueType",void 0),C([Xt("valueType",["description"])],ai.prototype,"readValueType",null),C([E({type:Boolean,json:{read:!1}})],ai.prototype,"visible",void 0),ai=Vg=C([Y("esri.layers.support.Field")],ai);const Kc=ai;function MZ(t){return Object.keys(t.attributes).map(e=>{const i=t.attributes[e];return e.toLowerCase()==="objectid"||e.toLowerCase()==="fid"?new Kc({name:e,alias:e,type:"oid"}):new Kc(typeof i=="number"?{name:e,alias:e,type:"double"}:{name:e,alias:e,type:"string"})})}function OZ(t){if(!t.fields){const e=t.features[0];if(e.layer){t.fields=e.layer.fields;const i=Object.keys(e.attributes),o=t.fields.filter(h=>i.includes(h.name));t.fields=o}else t.fields=MZ(e)}return t}function PZ(t){return t.map(({attributes:e})=>e)}function NZ(t){const{delimiter:e,fields:i=[],outFields:o=[]}=t,h=e||",",p=i.map(m=>m.name);return m=>{let v="";return p.filter(w=>o.includes(w)).forEach(w=>{const A=i.find(({name:M})=>M===w);let $=m[w]||"";if((A==null?void 0:A.type)==="date"&&($=new Date($).toString()),(A==null?void 0:A.domain)&&A.domain.type==="coded-value"){const M=A.domain.codedValues.find(P=>$===P.code);M&&($=M.name)}typeof $=="string"&&$.includes(h)&&($=`"${$}"`),v+=`${$}${h}`}),`${v}\r
`}}async function RZ(t,{includeGeometry:e=!0,delimiter:i=",",outFields:o=["*"]}={}){t=OZ(t),e&&t.geometryType!=="point"&&Rt.getLogger("esri.exports.csv").warn(`The input geometry ${t.geometryType} is not supported. Geometry will be excluded from export.`);const{features:h}=t;if(!h.length)return null;let p=t.fields;const[m]=o;m==="*"&&(o=p.map(R=>R.name)),e&&t.geometryType==="point"&&(p.some(R=>R.name==="x"||R.name==="y")||(p=[...p,new Kc({name:"lon",alias:"Longitude",type:"double"}),new Kc({name:"lat",alias:"Latitude",type:"double"})],o=[...o,"lon","lat"]),h.forEach(({attributes:R,geometry:B})=>{R.lon=(B==null?void 0:B.type)==="point"?B.longitude:null,R.lat=(B==null?void 0:B.type)==="point"?B.latitude:null})),p=p.filter(R=>o.includes(R.name));const v=i||",",w=PZ(h),A=p.map(R=>R.name).join(v),$=NZ({delimiter:v,outFields:o||p.map(R=>R.name),fields:p});let M=`${A}${v}\r
`;w.forEach(R=>{M+=$(R)});const P=new RegExp(`${v}\r
\\s*$`,"g");return M.replace(P,"")}function LZ(){return"showSaveFilePicker"in window&&(()=>{try{return window.self===window.top}catch{return!1}})()}async function DZ(t){const{layer:e,includeGeometry:i,objectIds:o,outFields:h}=t,p=h??e.outFields??["*"],m=e.createQuery();m.objectIds=o,m.outFields=p;const v=await e.queryFeatures(m),w=await RZ(v,{includeGeometry:!e.isTable&&(i||v.geometryType==="point"),outFields:p});if(!w)throw new kt("export-csv:no-output","Unable to generate a valid export string");const A=new Blob([w],{type:"text/csv"}),$=ci.sanitize(e.title);if(LZ())try{const M=await showSaveFilePicker({suggestedName:$,types:[{accept:{"text/csv":[".csv"]}}]}),P=await M.createWritable();await P.write(A),await P.close()}catch(M){if(M instanceof kt&&M.name!=="AbortError")throw M}else I7(A,`${$}.csv`)}async function zZ(t){if(!(t!=null&&t.url))return;const e=await XL(`${t.url}/${t.name}`);I7(e,t.name)}const jn=t=>{let e=class extends t{clone(){var w;const i=zs(this);_d(i,"unable to clone instance of non-accessor class");const o=i.metadata,h=i.store,p={},m=new Map;for(const A in o){const $=o[A],M=h==null?void 0:h.originOf(A),P=$.clonable;if($.readOnly||P===!1||M!==Jt.USER&&M!==Jt.DEFAULTS&&M!==Jt.WEB_MAP&&M!==Jt.WEB_SCENE)continue;const R=this[A];let B=null;B=typeof P=="function"?P(R):P==="reference"?R:lm(R),R!=null&&B==null||(M===Jt.DEFAULTS?m.set(A,B):p[A]=B)}const v=new(Object.getPrototypeOf(this)).constructor(p);if(m.size){const A=(w=zs(v))==null?void 0:w.store;if(A)for(const[$,M]of m)A.set($,M,Jt.DEFAULTS)}return v}};return e=C([Y("esri.core.Clonable")],e),e};let i5=class extends jn(me){};i5=C([Y("esri.core.Clonable")],i5);let Dd=class extends St{constructor(e){super(e),this.type=null}};C([E({type:["attachments","custom","fields","media","text","expression","relationship","utility-network-associations"],readOnly:!0,json:{read:!1,write:!0}})],Dd.prototype,"type",void 0),Dd=C([Y("esri.popup.content.Content")],Dd);const Fn=Dd;var Gg;let so=Gg=class extends Fn{constructor(t){super(t),this.description=null,this.displayType="auto",this.title=null,this.type="attachments"}clone(){return new Gg({description:this.description,displayType:this.displayType,title:this.title})}};C([E({type:String,json:{write:!0}})],so.prototype,"description",void 0),C([E({type:["auto","preview","list"],json:{write:!0}})],so.prototype,"displayType",void 0),C([E({type:String,json:{write:!0}})],so.prototype,"title",void 0),C([E({type:["attachments"],readOnly:!0,json:{read:!1,write:!0}})],so.prototype,"type",void 0),so=Gg=C([Y("esri.popup.content.AttachmentsContent")],so);const Xc=so;var qg;let oo=qg=class extends Fn{constructor(t){super(t),this.creator=null,this.destroyer=null,this.outFields=null,this.type="custom"}clone(){return new qg({creator:this.creator,destroyer:this.destroyer,outFields:Array.isArray(this.outFields)?at(this.outFields):null})}};C([E()],oo.prototype,"creator",void 0),C([E()],oo.prototype,"destroyer",void 0),C([E()],oo.prototype,"outFields",void 0),C([E({type:["custom"],readOnly:!0})],oo.prototype,"type",void 0),oo=qg=C([Y("esri.popup.content.CustomContent")],oo);const jZ=oo;var Hg;let $a=Hg=class extends St{constructor(t){super(t),this.title=null,this.expression=null,this.returnType="dictionary"}clone(){return new Hg({title:this.title,expression:this.expression})}};C([E({type:String,json:{write:!0}})],$a.prototype,"title",void 0),C([E({type:String,json:{write:!0}})],$a.prototype,"expression",void 0),C([E({type:["dictionary"],readOnly:!0,json:{read:!1,write:!0}})],$a.prototype,"returnType",void 0),$a=Hg=C([Y("esri.popup.ElementExpressionInfo")],$a);const FZ=$a;var Wg;let Mh=Wg=class extends Fn{constructor(t){super(t),this.expressionInfo=null,this.type="expression"}clone(){var t;return new Wg({expressionInfo:(t=this.expressionInfo)==null?void 0:t.clone()})}};C([E({type:FZ,json:{write:!0}})],Mh.prototype,"expressionInfo",void 0),C([E({type:["expression"],readOnly:!0,json:{read:!1,write:!0}})],Mh.prototype,"type",void 0),Mh=Wg=C([Y("esri.popup.content.ExpressionContent")],Mh);const xp=Mh;let Ia=class extends jn(St){constructor(e){super(e),this.dateFormat=null,this.digitSeparator=!1,this.places=null}};C([Mt(gN)],Ia.prototype,"dateFormat",void 0),C([E({type:Boolean,json:{write:!0}})],Ia.prototype,"digitSeparator",void 0),C([E({type:Fe,json:{write:!0}})],Ia.prototype,"places",void 0),Ia=C([Y("esri.popup.support.FieldInfoFormat")],Ia);const UZ=Ia;var Jg;let vr=Jg=class extends St{constructor(t){super(t),this.fieldName=null,this.format=void 0,this.isEditable=!0,this.label=null,this.stringFieldOption="text-box",this.statisticType=null,this.tooltip=null,this.visible=!0}clone(){var t;return new Jg({fieldName:this.fieldName,format:(t=this.format)==null?void 0:t.clone(),isEditable:this.isEditable,label:this.label,stringFieldOption:this.stringFieldOption,statisticType:this.statisticType,tooltip:this.tooltip,visible:this.visible})}};C([E({type:String,json:{write:!0}})],vr.prototype,"fieldName",void 0),C([E({type:UZ,json:{write:!0}})],vr.prototype,"format",void 0),C([E({type:Boolean,json:{write:{alwaysWriteDefaults:!0},default:!0}})],vr.prototype,"isEditable",void 0),C([E({type:String,json:{write:!0}})],vr.prototype,"label",void 0),C([Mt(new cr({richtext:"rich-text",textarea:"text-area",textbox:"text-box"}),{default:"text-box"})],vr.prototype,"stringFieldOption",void 0),C([E({type:["count","sum","min","max","avg","stddev","var"],json:{write:!0}})],vr.prototype,"statisticType",void 0),C([E({type:String,json:{write:!0}})],vr.prototype,"tooltip",void 0),C([E({type:Boolean,json:{write:!0}})],vr.prototype,"visible",void 0),vr=Jg=C([Y("esri.popup.FieldInfo")],vr);const zA=vr;var Zg;let gn=Zg=class extends Fn{constructor(t){super(t),this.attributes=null,this.description=null,this.fieldInfos=null,this.title=null,this.type="fields"}writeFieldInfos(t,e){e.fieldInfos=t&&t.map(i=>i.toJSON())}clone(){return new Zg(at({attributes:this.attributes,description:this.description,fieldInfos:this.fieldInfos,title:this.title}))}};C([E({type:Object,json:{write:!0}})],gn.prototype,"attributes",void 0),C([E({type:String,json:{write:!0}})],gn.prototype,"description",void 0),C([E({type:[zA]})],gn.prototype,"fieldInfos",void 0),C([Ft("fieldInfos")],gn.prototype,"writeFieldInfos",null),C([E({type:String,json:{write:!0}})],gn.prototype,"title",void 0),C([E({type:["fields"],readOnly:!0,json:{read:!1,write:!0}})],gn.prototype,"type",void 0),gn=Zg=C([Y("esri.popup.content.FieldsContent")],gn);const Qc=gn;let ao=class extends St{constructor(e){super(e),this.altText=null,this.caption="",this.title="",this.type=null}};C([E({type:String,json:{write:!0}})],ao.prototype,"altText",void 0),C([E({type:String,json:{write:!0}})],ao.prototype,"caption",void 0),C([E({type:String,json:{write:!0}})],ao.prototype,"title",void 0),C([E({type:["image","bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],ao.prototype,"type",void 0),ao=C([Y("esri.popup.content.mixins.MediaInfo")],ao);const M2=ao;function hd(t){return Vs(hv(t),0,255)}function cd(t,e,i){return t=Number(t),isNaN(t)?i:t<e?e:t>i?i:t}function ud(t,e){const i=t.toString(16).padStart(2,"0");return e?i.slice(0,1):i}let zd=class Ke{static blendColors(e,i,o,h=new Ke){return h.r=Math.round(e.r+(i.r-e.r)*o),h.g=Math.round(e.g+(i.g-e.g)*o),h.b=Math.round(e.b+(i.b-e.b)*o),h.a=e.a+(i.a-e.a)*o,h._sanitize()}static fromRgb(e,i){const o=e.toLowerCase().match(/^(rgba?|hsla?)\(([\s.\-,%0-9]+)\)/);if(o){const h=o[2].split(/\s*,\s*/),p=o[1];if(p==="rgb"&&h.length===3||p==="rgba"&&h.length===4){const m=h[0];if(m.charAt(m.length-1)==="%"){const v=h.map(w=>2.56*parseFloat(w));return h.length===4&&(v[3]=parseFloat(h[3])),Ke.fromArray(v,i)}return Ke.fromArray(h.map(v=>parseFloat(v)),i)}if(p==="hsl"&&h.length===3||p==="hsla"&&h.length===4)return Ke.fromArray(vV(parseFloat(h[0]),parseFloat(h[1])/100,parseFloat(h[2])/100,parseFloat(h[3])),i)}return null}static fromHex(e,i=new Ke){if(e[0]!=="#"||isNaN(+`0x${e.slice(1)}`))return null;switch(e.length){case 4:case 5:{const o=parseInt(e.slice(1,2),16),h=parseInt(e.slice(2,3),16),p=parseInt(e.slice(3,4),16),m=e.length===5?15:parseInt(e.slice(4),16);return Ke.fromArray([o+16*o,h+16*h,p+16*p,(m+16*m)/255],i)}case 7:case 9:{const o=parseInt(e.slice(1,3),16),h=parseInt(e.slice(3,5),16),p=parseInt(e.slice(5,7),16),m=e.length===7?255:parseInt(e.slice(7),16);return Ke.fromArray([o,h,p,m/255],i)}default:return null}}static fromArray(e,i=new Ke){return i._set(Number(e[0]),Number(e[1]),Number(e[2]),Number(e[3])),isNaN(i.a)&&(i.a=1),i._sanitize()}static fromString(e,i){const o=bV(e)?iC(e):null;return o&&Ke.fromArray(o,i)||Ke.fromRgb(e,i)||Ke.fromHex(e,i)}static fromJSON(e){return e!=null?new Ke([e[0],e[1],e[2],(e[3]??255)/255]):void 0}static toUnitRGB(e){return e!=null?[e.r/255,e.g/255,e.b/255]:null}static toUnitRGBA(e){return e!=null?[e.r/255,e.g/255,e.b/255,e.a!=null?e.a:1]:null}constructor(e){this.r=255,this.g=255,this.b=255,this.a=1,e&&this.setColor(e)}get isBright(){return .299*this.r+.587*this.g+.114*this.b>=127}setColor(e){return typeof e=="string"?Ke.fromString(e,this):Array.isArray(e)?Ke.fromArray(e,this):(this._set(e.r??0,e.g??0,e.b??0,e.a??1),e instanceof Ke||this._sanitize()),this}toRgb(){return[this.r,this.g,this.b]}toRgba(){return[this.r,this.g,this.b,this.a]}toHex(e){const i=(e==null?void 0:e.capitalize)??!1,o=(e==null?void 0:e.digits)??6,h=o===3||o===4,p=o===4||o===8,m=`#${ud(this.r,h)}${ud(this.g,h)}${ud(this.b,h)}${p?ud(Math.round(255*this.a),h):""}`;return i?m.toUpperCase():m}toCss(e=!1){const i=this.r+", "+this.g+", "+this.b;return e?`rgba(${i}, ${this.a})`:`rgb(${i})`}toString(){return this.toCss(!0)}toJSON(){return this.toArray()}toArray(e=Ke.AlphaMode.ALWAYS){const i=hd(this.r),o=hd(this.g),h=hd(this.b);return e===Ke.AlphaMode.ALWAYS||this.a!==1?[i,o,h,hd(255*this.a)]:[i,o,h]}clone(){return new Ke(this.toRgba())}hash(){return this.r<<24|this.g<<16|this.b<<8|255*this.a}equals(e){return e!=null&&e.r===this.r&&e.g===this.g&&e.b===this.b&&e.a===this.a}_sanitize(){return this.r=Math.round(cd(this.r,0,255)),this.g=Math.round(cd(this.g,0,255)),this.b=Math.round(cd(this.b,0,255)),this.a=cd(this.a,0,1),this}_set(e,i,o,h){this.r=e,this.g=i,this.b=o,this.a=h}};zd.prototype.declaredClass="esri.Color",function(t){var e;(e=t.AlphaMode||(t.AlphaMode={}))[e.ALWAYS=0]="ALWAYS",e[e.UNLESS_OPAQUE=1]="UNLESS_OPAQUE"}(zd||(zd={}));const Se=zd;var Yg;let lo=Yg=class extends me{constructor(t){super(t),this.color=null,this.fieldName=null,this.tooltip=null,this.value=null}clone(){var t;return new Yg({color:(t=this.color)==null?void 0:t.clone(),fieldName:this.fieldName,tooltip:this.tooltip,value:this.value})}};C([E()],lo.prototype,"color",void 0),C([E()],lo.prototype,"fieldName",void 0),C([E()],lo.prototype,"tooltip",void 0),C([E()],lo.prototype,"value",void 0),lo=Yg=C([Y("esri.popup.content.support.ChartMediaInfoValueSeries")],lo);const BZ=lo;var Kg;let rs=Kg=class extends St{constructor(t){super(t),this.colors=null,this.fields=[],this.normalizeField=null,this.series=[],this.tooltipField=null}clone(){return new Kg({colors:at(this.colors),fields:at(this.fields),normalizeField:this.normalizeField,series:at(this.series),tooltipField:this.tooltipField})}};C([E({type:[Se],json:{type:[[Fe]],write:!0}})],rs.prototype,"colors",void 0),C([E({type:[String],json:{write:!0}})],rs.prototype,"fields",void 0),C([E({type:String,json:{write:!0}})],rs.prototype,"normalizeField",void 0),C([E({type:[BZ],json:{read:!1}})],rs.prototype,"series",void 0),C([E({type:String,json:{write:!0}})],rs.prototype,"tooltipField",void 0),rs=Kg=C([Y("esri.popup.content.support.ChartMediaInfoValue")],rs);const VZ=rs;let Oh=class extends M2{constructor(e){super(e),this.type=null,this.value=void 0}};C([E({type:["bar-chart","column-chart","line-chart","pie-chart"],readOnly:!0,json:{read:!1,write:!0}})],Oh.prototype,"type",void 0),C([E({type:VZ,json:{write:!0}})],Oh.prototype,"value",void 0),Oh=C([Y("esri.popup.content.mixins.ChartMediaInfo")],Oh);const Sp=Oh,Cp=fr()({barchart:"bar-chart",columnchart:"column-chart",linechart:"line-chart",piechart:"pie-chart"});var Xg;let jd=Xg=class extends Sp{constructor(t){super(t),this.type="bar-chart"}clone(){var t;return new Xg({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};C([E({type:["bar-chart"],readOnly:!0,json:{type:["barchart"],read:!1,write:Cp.write}})],jd.prototype,"type",void 0),jd=Xg=C([Y("esri.popup.content.BarChartMediaInfo")],jd);const jA=jd;var Qg;let Fd=Qg=class extends Sp{constructor(t){super(t),this.type="column-chart"}clone(){var t;return new Qg({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};C([E({type:["column-chart"],readOnly:!0,json:{type:["columnchart"],read:!1,write:Cp.write}})],Fd.prototype,"type",void 0),Fd=Qg=C([Y("esri.popup.content.ColumnChartMediaInfo")],Fd);const FA=Fd;var ty;let Ph=ty=class extends St{constructor(t){super(t),this.linkURL=null,this.sourceURL=null}clone(){return new ty({linkURL:this.linkURL,sourceURL:this.sourceURL})}};C([E({type:String,json:{write:!0}})],Ph.prototype,"linkURL",void 0),C([E({type:String,json:{write:!0}})],Ph.prototype,"sourceURL",void 0),Ph=ty=C([Y("esri.popup.content.support.ImageMediaInfoValue")],Ph);const GZ=Ph;var ey;let ka=ey=class extends M2{constructor(t){super(t),this.refreshInterval=0,this.type="image",this.value=void 0}clone(){var t;return new ey({altText:this.altText,title:this.title,caption:this.caption,refreshInterval:this.refreshInterval,value:(t=this.value)==null?void 0:t.clone()})}};C([E({type:Number,json:{write:!0}})],ka.prototype,"refreshInterval",void 0),C([E({type:["image"],readOnly:!0,json:{read:!1,write:!0}})],ka.prototype,"type",void 0),C([E({type:GZ,json:{write:!0}})],ka.prototype,"value",void 0),ka=ey=C([Y("esri.popup.content.ImageMediaInfo")],ka);const UA=ka;var iy;let Ud=iy=class extends Sp{constructor(t){super(t),this.type="line-chart"}clone(){var t;return new iy({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};C([E({type:["line-chart"],readOnly:!0,json:{type:["linechart"],read:!1,write:Cp.write}})],Ud.prototype,"type",void 0),Ud=iy=C([Y("esri.popup.content.LineChartMediaInfo")],Ud);const BA=Ud;var ry;let Bd=ry=class extends Sp{constructor(t){super(t),this.type="pie-chart"}clone(){var t;return new ry({altText:this.altText,title:this.title,caption:this.caption,value:(t=this.value)==null?void 0:t.clone()})}};C([E({type:["pie-chart"],readOnly:!0,json:{type:["piechart"],read:!1,write:Cp.write}})],Bd.prototype,"type",void 0),Bd=ry=C([Y("esri.popup.content.PieChartMediaInfo")],Bd);const VA=Bd,ny={base:M2,key:"type",defaultKeyValue:"image",typeMap:{"bar-chart":jA,"column-chart":FA,"line-chart":BA,"pie-chart":VA,image:UA}};var sy;let wr=sy=class extends Fn{constructor(t){super(t),this.activeMediaInfoIndex=null,this.attributes=null,this.description=null,this.mediaInfos=null,this.title=null,this.type="media"}readMediaInfos(t){return t&&t.map(e=>e.type==="image"?UA.fromJSON(e):e.type==="barchart"?jA.fromJSON(e):e.type==="columnchart"?FA.fromJSON(e):e.type==="linechart"?BA.fromJSON(e):e.type==="piechart"?VA.fromJSON(e):void 0).filter(Boolean)}writeMediaInfos(t,e){e.mediaInfos=t&&t.map(i=>i.toJSON())}clone(){return new sy(at({activeMediaInfoIndex:this.activeMediaInfoIndex,attributes:this.attributes,description:this.description,mediaInfos:this.mediaInfos,title:this.title}))}};C([E()],wr.prototype,"activeMediaInfoIndex",void 0),C([E({type:Object,json:{write:!0}})],wr.prototype,"attributes",void 0),C([E({type:String,json:{write:!0}})],wr.prototype,"description",void 0),C([E({types:[ny]})],wr.prototype,"mediaInfos",void 0),C([Xt("mediaInfos")],wr.prototype,"readMediaInfos",null),C([Ft("mediaInfos")],wr.prototype,"writeMediaInfos",null),C([E({type:String,json:{write:!0}})],wr.prototype,"title",void 0),C([E({type:["media"],readOnly:!0,json:{read:!1,write:!0}})],wr.prototype,"type",void 0),wr=sy=C([Y("esri.popup.content.MediaContent")],wr);const tu=wr;var oy;let Nh=oy=class extends St{constructor(t){super(t),this.field=null,this.order=null}clone(){return new oy({field:this.field,order:this.order})}};C([E({type:String,json:{write:!0}})],Nh.prototype,"field",void 0),C([E({type:["asc","desc"],json:{write:!0}})],Nh.prototype,"order",void 0),Nh=oy=C([Y("esri.popup.support.RelatedRecordsInfoFieldOrder")],Nh);const GA=Nh;let Wr=class extends jn(Fn){constructor(e){super(e),this.description=null,this.displayCount=null,this.displayType="list",this.orderByFields=null,this.relationshipId=null,this.title=null,this.type="relationship"}};C([E({type:String,json:{write:!0}})],Wr.prototype,"description",void 0),C([E({type:Number,json:{type:Fe,write:!0}})],Wr.prototype,"displayCount",void 0),C([E({type:["list"],json:{write:!0}})],Wr.prototype,"displayType",void 0),C([E({type:[GA],json:{write:!0}})],Wr.prototype,"orderByFields",void 0),C([E({type:Number,json:{type:Fe,write:!0}})],Wr.prototype,"relationshipId",void 0),C([E({type:String,json:{write:!0}})],Wr.prototype,"title",void 0),C([E({type:["relationship"],readOnly:!0,json:{read:!1,write:!0}})],Wr.prototype,"type",void 0),Wr=C([Y("esri.popup.content.RelationshipContent")],Wr);const eu=Wr;var ay;let Rh=ay=class extends Fn{constructor(t){super(t),this.text=null,this.type="text"}clone(){return new ay({text:this.text})}};C([E({type:String,json:{write:!0}})],Rh.prototype,"text",void 0),C([E({type:["text"],readOnly:!0,json:{read:!1,write:!0}})],Rh.prototype,"type",void 0),Rh=ay=C([Y("esri.popup.content.TextContent")],Rh);const iu=Rh;let Jr=class extends jn(St){constructor(e){super(e),this.title=null,this.description=null,this.type=null,this.open=!1,this.associatedNetworkSourceId=null,this.associatedAssetGroup=null,this.associatedAssetType=null}};C([E({type:String,json:{write:!0}})],Jr.prototype,"title",void 0),C([E({type:String,json:{write:!0}})],Jr.prototype,"description",void 0),C([E({type:["attachment","connectivity","container","content","structure"],json:{write:!0}})],Jr.prototype,"type",void 0),C([E({type:Boolean,json:{read:!1}})],Jr.prototype,"open",void 0),C([E({type:Number,json:{type:Fe,write:!0}})],Jr.prototype,"associatedNetworkSourceId",void 0),C([E({type:Number,json:{type:Fe,write:!0}})],Jr.prototype,"associatedAssetGroup",void 0),C([E({type:Number,json:{type:Fe,write:!0}})],Jr.prototype,"associatedAssetType",void 0),Jr=C([Y("esri.popup.support.UtilityNetworkAssociationType")],Jr);const qZ=Jr;let ho=class extends jn(Fn){constructor(e){super(e),this.description=null,this.title=null,this.associationTypes=[],this.type="utility-network-associations"}};C([E({type:String,json:{write:!0}})],ho.prototype,"description",void 0),C([E({type:String,json:{write:!0}})],ho.prototype,"title",void 0),C([E({type:[qZ],json:{write:!0}})],ho.prototype,"associationTypes",void 0),C([Mt({utilityNetworkAssociations:"utility-network-associations"})],ho.prototype,"type",void 0),ho=C([Y("esri.popup.content.UtilityNetworkAssociationsContent")],ho);const O2=ho,HZ={base:null,key:"type",typeMap:{attachment:Xc,media:tu,text:iu,expression:xp,field:Qc,relationship:eu,utilityNetworkAssociations:O2}},WZ={base:null,key:"type",typeMap:{attachment:Xc,media:tu,text:iu,expression:xp,field:Qc,relationship:eu}};var ly;let co=ly=class extends St{constructor(t){super(t),this.name=null,this.title=null,this.expression=null,this.returnType=null}clone(){return new ly({name:this.name,title:this.title,expression:this.expression,returnType:this.returnType})}};C([E({type:String,json:{write:!0}})],co.prototype,"name",void 0),C([E({type:String,json:{write:!0}})],co.prototype,"title",void 0),C([E({type:String,json:{write:!0}})],co.prototype,"expression",void 0),C([E({type:["string","number"],json:{write:!0}})],co.prototype,"returnType",void 0),co=ly=C([Y("esri.popup.ExpressionInfo")],co);const JZ=co;var hy;let Lh=hy=class extends St{constructor(t){super(t),this.returnTopmostRaster=null,this.showNoDataRecords=null}clone(){return new hy({showNoDataRecords:this.showNoDataRecords,returnTopmostRaster:this.returnTopmostRaster})}};C([E({type:Boolean,json:{write:!0}})],Lh.prototype,"returnTopmostRaster",void 0),C([E({type:Boolean,json:{write:!0}})],Lh.prototype,"showNoDataRecords",void 0),Lh=hy=C([Y("esri.popup.LayerOptions")],Lh);const ZZ=Lh;var cy;let Dh=cy=class extends St{constructor(t){super(t),this.showRelatedRecords=null,this.orderByFields=null}clone(){return new cy({showRelatedRecords:this.showRelatedRecords,orderByFields:this.orderByFields?at(this.orderByFields):null})}};C([E({type:Boolean,json:{write:!0}})],Dh.prototype,"showRelatedRecords",void 0),C([E({type:[GA],json:{write:!0}})],Dh.prototype,"orderByFields",void 0),Dh=cy=C([Y("esri.popup.RelatedRecordsInfo")],Dh);const r5=Dh;let qA=0;const HA=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:Date.now().toString(16)+"-object-"+qA++})}};return e=C([Y("esri.core.Identifiable")],e),e},Hst=t=>{let e=class extends t{constructor(...i){super(...i),Object.defineProperty(this,"uid",{writable:!1,configurable:!1,value:qA++})}};return e=C([Y("esri.core.Identifiable.NumericIdentifiable")],e),e};let n5=class extends HA(class{}){};n5=C([Y("esri.core.Identifiable")],n5);var uy;let er=uy=class extends HA(me){constructor(t){super(t),this.active=!1,this.className=null,this.disabled=!1,this.icon=null,this.id=null,this.indicator=!1,this.title=null,this.type=null,this.visible=!0}clone(){return new uy({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible})}};C([E()],er.prototype,"active",void 0),C([E()],er.prototype,"className",void 0),C([E()],er.prototype,"disabled",void 0),C([E()],er.prototype,"icon",void 0),C([E()],er.prototype,"id",void 0),C([E()],er.prototype,"indicator",void 0),C([E()],er.prototype,"title",void 0),C([E()],er.prototype,"type",void 0),C([E()],er.prototype,"visible",void 0),er=uy=C([Y("esri.support.actions.ActionBase")],er);const P2=er;var dy;let Vd=dy=class extends P2{constructor(t){super(t),this.image=null,this.type="button"}clone(){return new dy({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image})}};C([E()],Vd.prototype,"image",void 0),Vd=dy=C([Y("esri.support.actions.ActionButton")],Vd);const YZ=Vd;var fy;let zh=fy=class extends P2{constructor(t){super(t),this.image=null,this.type="toggle",this.value=!1}clone(){return new fy({active:this.active,className:this.className,disabled:this.disabled,icon:this.icon,id:this.id,indicator:this.indicator,title:this.title,visible:this.visible,image:this.image,value:this.value})}};C([E()],zh.prototype,"image",void 0),C([E()],zh.prototype,"value",void 0),zh=fy=C([Y("esri.support.actions.ActionToggle")],zh);const KZ=zh,mh="relationships/",s5="expression/",XZ=Tt.ofType({key:"type",defaultKeyValue:"button",base:P2,typeMap:{button:YZ,toggle:KZ}}),QZ={base:Fn,key:"type",typeMap:{media:tu,custom:jZ,text:iu,attachments:Xc,fields:Qc,expression:xp,relationship:eu,utilityNetworkAssociations:O2}},WA=new Set(["attachments","fields","media","text","expression","relationship"]),tY=new Set([...WA,"utility-network-associations"]);let Ge=class extends jn(St){constructor(){super(...arguments),this.actions=null,this.content="",this.expressionInfos=null,this.fieldInfos=null,this.layerOptions=null,this.lastEditInfoEnabled=!0,this.outFields=null,this.overwriteActions=!1,this.returnGeometry=!1,this.title=""}castContent(e){return Array.isArray(e)?e.map(i=>Rn(QZ,i)):typeof e=="string"||typeof e=="function"||e instanceof HTMLElement||Ox(e)?e:(Rt.getLogger(this).error("content error","unsupported content value",{value:e}),null)}readContent(e,i){const{popupElements:o}=i;return Array.isArray(o)&&o.length>0?this._readPopupInfoElements(i.description,i.mediaInfos,o):this._readPopupInfo(i)}writeWebSceneContent(e,i,o,h){this._writePopupTemplateContent(e,i,h)}writeWebMapContent(e,i,o,h){this._writePopupTemplateContent(e,i,h)}writeFieldInfos(e,i,o,h){const{content:p}=this,m=Array.isArray(p)?p:null;if(e){const v=m?m.filter(A=>A.type==="fields"):[],w=v.length&&v.every(A=>{var $;return($=A.fieldInfos)==null?void 0:$.length});i.fieldInfos=e.filter(Boolean).map(A=>{const $=A.toJSON(h);return w&&($.visible=!1),$})}if(m)for(const v of m)v.type==="fields"&&this._writeFieldsContent(v,i)}writeLayerOptions(e,i,o,h){i[o]=!e||e.showNoDataRecords===null&&e.returnTopmostRaster===null?null:e.toJSON(h)}writeTitle(e,i){i.title=e||""}async collectRequiredFields(e,i){const o=this.expressionInfos||[];await this._collectExpressionInfoFields(e,i,[...o,...this._getContentExpressionInfos(this.content,o)]),Dc(e,i,[...this.outFields||[],...this._getActionsFields(this.actions),...this._getTitleFields(this.title),...this._getContentFields(this.content)])}async getRequiredFields(e){const i=new Set;return await this.collectRequiredFields(i,e),[...i].sort()}_writePopupTemplateContent(e,i,o){typeof e!="string"?Array.isArray(e)&&(i.popupElements=e.filter(h=>(o==null?void 0:o.origin)==="web-scene"?WA.has(h.type):tY.has(h.type)).map(h=>h==null?void 0:h.toJSON(o)),i.popupElements.forEach(h=>{h.type==="attachments"?this._writeAttachmentContent(i):h.type==="media"?this._writeMediaContent(h,i):h.type==="text"?this._writeTextContent(h,i):h.type==="relationship"&&this._writeRelationshipContent(h,i)})):i.description=e}_writeFieldsContent(e,i){if(!Array.isArray(e.fieldInfos)||!e.fieldInfos.length)return;const o=at(e.fieldInfos);Array.isArray(i.fieldInfos)?o.forEach(h=>{const p=i.fieldInfos.find(m=>{var v,w;return((v=m.fieldName)==null?void 0:v.toLowerCase())===((w=h.fieldName)==null?void 0:w.toLowerCase())});p?p.visible=!0:i.fieldInfos.push(h)}):i.fieldInfos=o}_writeAttachmentContent(e){e.showAttachments||(e.showAttachments=!0)}_writeRelationshipContent(e,i){var p,m;const o=((p=e.orderByFields)==null?void 0:p.map(v=>this._toFieldOrderJSON(v,e.relationshipId)))||[],h=[...((m=i.relatedRecordsInfo)==null?void 0:m.orderByFields)||[],...o];i.relatedRecordsInfo={showRelatedRecords:!0,...(h==null?void 0:h.length)&&{orderByFields:h}}}_writeTextContent(e,i){!i.description&&e.text&&(i.description=e.text)}_writeMediaContent(e,i){if(!Array.isArray(e.mediaInfos)||!e.mediaInfos.length)return;const o=at(e.mediaInfos);Array.isArray(i.mediaInfos)?i.mediaInfos=[...i.mediaInfos,...o]:i.mediaInfos=o}_readPopupInfoElements(e,i,o){const h={description:!1,mediaInfos:!1};return o.map(p=>p.type==="media"?(p.mediaInfos||!i||h.mediaInfos||(p.mediaInfos=i,h.mediaInfos=!0),tu.fromJSON(p)):p.type==="text"?(p.text||!e||h.description||(p.text=e,h.description=!0),iu.fromJSON(p)):p.type==="attachments"?Xc.fromJSON(p):p.type==="fields"?Qc.fromJSON(p):p.type==="expression"?xp.fromJSON(p):p.type==="relationship"?eu.fromJSON(p):p.type==="utilityNetworkAssociations"?O2.fromJSON(p):void 0).filter(Boolean)}_toRelationshipContent(e){const{field:i,order:o}=e;if(!(i!=null&&i.startsWith(mh)))return null;const h=i.replace(mh,"").split("/");if(h.length!==2)return null;const p=parseInt(h[0],10),m=h[1];return typeof p=="number"&&m?eu.fromJSON({relationshipId:p,orderByFields:[{field:m,order:o}]}):null}_toFieldOrderJSON(e,i){const{order:o,field:h}=e;return{field:`${mh}${i}/${h}`,order:o}}_readPopupInfo({description:e,mediaInfos:i,showAttachments:o,relatedRecordsInfo:h={showRelatedRecords:!1}}){const p=[];e?p.push(new iu({text:e})):p.push(new Qc),Array.isArray(i)&&i.length&&p.push(tu.fromJSON({mediaInfos:i})),o&&p.push(Xc.fromJSON({displayType:"auto"}));const{showRelatedRecords:m,orderByFields:v}=h;return m&&(v!=null&&v.length)&&v.forEach(w=>{const A=this._toRelationshipContent(w);A&&p.push(A)}),p.length?p:e}_getContentElementFields(e){const i=e==null?void 0:e.type;if(i==="attachments")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)];if(i==="custom")return e.outFields||[];if(i==="fields")return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...this._getFieldInfoFields(e.fieldInfos??this.fieldInfos)];if(i==="media"){const o=e.mediaInfos||[];return[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description),...o.reduce((h,p)=>[...h,...this._getMediaInfoFields(p)],[])]}return i==="text"?this._extractFieldNames(e.text):i==="relationship"||i==="utility-network-associations"?[...this._extractFieldNames(e.title),...this._extractFieldNames(e.description)]:[]}_getMediaInfoFields(e){const{caption:i,title:o,value:h}=e,p=h||{},{fields:m,normalizeField:v,tooltipField:w,sourceURL:A,linkURL:$}=p,M=[...this._extractFieldNames(o),...this._extractFieldNames(i),...this._extractFieldNames(A),...this._extractFieldNames($),...m??[]];return v&&M.push(v),w&&M.push(w),M}_getContentExpressionInfos(e,i){return Array.isArray(e)?e.reduce((o,h)=>[...o,...h.type==="expression"&&h.expressionInfo?[h.expressionInfo]:[]],i):[]}_getContentFields(e){return typeof e=="string"?this._extractFieldNames(e):Array.isArray(e)?e.reduce((i,o)=>[...i,...this._getContentElementFields(o)],[]):[]}async _collectExpressionInfoFields(e,i,o){o&&await Promise.all(o.map(h=>Qo(e,i,h.expression)))}_getFieldInfoFields(e){return e?e.filter(({fieldName:i,visible:o})=>!(o!==void 0&&!o||!i||i.startsWith(mh)||i.startsWith(s5))).map(i=>i.fieldName):[]}_getActionsFields(e){return e?e.toArray().reduce((i,o)=>[...i,...this._getActionFields(o)],[]):[]}_getActionFields(e){const{className:i,title:o,type:h}=e,p=h==="button"||h==="toggle"?e.image:"";return[...this._extractFieldNames(o),...this._extractFieldNames(i),...this._extractFieldNames(p)]}_getTitleFields(e){return typeof e=="string"?this._extractFieldNames(e):[]}_extractFieldNames(e){return xB(e).filter(i=>!(i.indexOf(mh)===0||i.indexOf(s5)===0))}};C([E({type:XZ})],Ge.prototype,"actions",void 0),C([E()],Ge.prototype,"content",void 0),C([Lr("content")],Ge.prototype,"castContent",null),C([Xt("content",["description","fieldInfos","popupElements","mediaInfos","showAttachments","relatedRecordsInfo"])],Ge.prototype,"readContent",null),C([Ft("web-scene","content",{popupElements:{type:Tt.ofType(WZ)},showAttachments:{type:Boolean},mediaInfos:{type:Tt.ofType(ny)},description:{type:String},relatedRecordsInfo:{type:r5}})],Ge.prototype,"writeWebSceneContent",null),C([Ft("content",{popupElements:{type:Tt.ofType(HZ)},showAttachments:{type:Boolean},mediaInfos:{type:Tt.ofType(ny)},description:{type:String},relatedRecordsInfo:{type:r5}})],Ge.prototype,"writeWebMapContent",null),C([E({type:[JZ],json:{write:!0}})],Ge.prototype,"expressionInfos",void 0),C([E({type:[zA]})],Ge.prototype,"fieldInfos",void 0),C([Ft("fieldInfos")],Ge.prototype,"writeFieldInfos",null),C([E({type:ZZ})],Ge.prototype,"layerOptions",void 0),C([Ft("layerOptions")],Ge.prototype,"writeLayerOptions",null),C([E({type:Boolean,json:{read:{source:"showLastEditInfo"},write:{target:"showLastEditInfo"},default:!0}})],Ge.prototype,"lastEditInfoEnabled",void 0),C([E()],Ge.prototype,"outFields",void 0),C([E()],Ge.prototype,"overwriteActions",void 0),C([E()],Ge.prototype,"returnGeometry",void 0),C([E({json:{type:String}})],Ge.prototype,"title",void 0),C([Ft("title")],Ge.prototype,"writeTitle",null),Ge=C([Y("esri.PopupTemplate")],Ge);const eY=Ge,o5=new cr({esriSMS:"simple-marker",esriPMS:"picture-marker",esriSLS:"simple-line",esriSFS:"simple-fill",esriPFS:"picture-fill",esriTS:"text",esriSHD:"shield-label-symbol",PointSymbol3D:"point-3d",LineSymbol3D:"line-3d",PolygonSymbol3D:"polygon-3d",WebStyleSymbol:"web-style",MeshSymbol3D:"mesh-3d",LabelSymbol3D:"label-3d",CIMSymbolReference:"cim"});let iY=0,Ma=class extends St{constructor(e){super(e),this.id="sym"+iY++,this.type=null,this.color=new Se([0,0,0,1])}readColor(e){return(e==null?void 0:e[0])!=null?[e[0],e[1],e[2],e[3]/255]:e}async collectRequiredFields(e,i){}hash(){return JSON.stringify(this.toJSON())}clone(){}};C([E({type:o5.apiValues,readOnly:!0,json:{read:!1,write:{ignoreOrigin:!0,writer:o5.write}}})],Ma.prototype,"type",void 0),C([E({type:Se,json:{write:{allowNull:!0}}})],Ma.prototype,"color",void 0),C([Xt("color")],Ma.prototype,"readColor",null),Ma=C([Y("esri.symbols.Symbol")],Ma);const fi=Ma;var py;let ns=py=class extends fi{constructor(t){super(t),this.data=null,this.type="cim"}readData(t,e){return e}writeData(t,e){Object.assign(e,t)}async collectRequiredFields(t,e){var i;if(((i=this.data)==null?void 0:i.type)==="CIMSymbolReference"){const o=this.data.primitiveOverrides;if(o){const h=o.map(p=>{const m=p.valueExpressionInfo;return m?Qo(t,e,m.expression):null});await Promise.all(h)}}}clone(){return new py({data:at(this.data)})}hash(){return Cx(JSON.stringify(this.data)).toString()}};C([E({json:{write:!1}})],ns.prototype,"color",void 0),C([E({json:{write:!0}})],ns.prototype,"data",void 0),C([Xt("data",["symbol"])],ns.prototype,"readData",null),C([Ft("data",{})],ns.prototype,"writeData",null),C([Mt({CIMSymbolReference:"cim"},{readOnly:!0})],ns.prototype,"type",void 0),ns=py=C([Y("esri.symbols.CIMSymbol")],ns);const ua=ns;let Oa=class extends St{constructor(e){super(e),this.enabled=!0,this.type=null,this.ignoreDrivers=!1}writeEnabled(e,i,o){e||(i[o]=e)}};C([E({type:Boolean,json:{read:{source:"enable"},write:{target:"enable"}}})],Oa.prototype,"enabled",void 0),C([Ft("enabled")],Oa.prototype,"writeEnabled",null),C([E({type:["icon","object","line","path","fill","water","extrude","text"],readOnly:!0})],Oa.prototype,"type",void 0),Oa=C([Y("esri.symbols.Symbol3DLayer")],Oa);const hn=Oa;function rY(t){const e=hv(100*(1-t));return Math.max(0,Math.min(e,100))}function nY(t){const e=1-t/100;return Math.max(0,Math.min(e,1))}function sY(t,e){const i=e.transparency!=null?nY(e.transparency):1,o=e.color;return o&&Array.isArray(o)?new Se([o[0]||0,o[1]||0,o[2]||0,i]):null}function oY(t,e){e.color=t.toJSON().slice(0,3);const i=rY(t.a);i!==0&&(e.transparency=i)}const qs={type:Se,json:{type:[Fe],default:null,read:{source:["color","transparency"],reader:sY},write:{target:{color:{type:[Fe]},transparency:{type:Fe}},writer:oY}}},ln={type:Number,cast:Ie,json:{write:!0}};let uo=class extends St{constructor(e){super(e),this.color=new Se([0,0,0,1]),this.extensionLength=0,this.size=ta(1)}clone(){}cloneProperties(){return{color:at(this.color),size:this.size,extensionLength:this.extensionLength}}};C([E({type:["solid","sketch"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],uo.prototype,"type",void 0),C([E(qs)],uo.prototype,"color",void 0),C([E({...ln,json:{write:{overridePolicy:t=>({enabled:!!t})}}})],uo.prototype,"extensionLength",void 0),C([E(ln)],uo.prototype,"size",void 0),uo=C([Y("esri.symbols.edges.Edges3D")],uo);const N2=uo;var my;let Gd=my=class extends N2{constructor(t){super(t),this.type="sketch"}clone(){return new my(this.cloneProperties())}};C([Mt({sketch:"sketch"},{readOnly:!0})],Gd.prototype,"type",void 0),Gd=my=C([Y("esri.symbols.edges.SketchEdges3D")],Gd);const aY=Gd;var gy;let qd=gy=class extends N2{constructor(t){super(t),this.type="solid"}clone(){return new gy(this.cloneProperties())}};C([Mt({solid:"solid"},{readOnly:!0})],qd.prototype,"type",void 0),qd=gy=C([Y("esri.symbols.edges.SolidEdges3D")],qd);const lY=qd,JA={types:{key:"type",base:N2,typeMap:{solid:lY,sketch:aY}},json:{write:!0}};var yy;let Vi=yy=class extends St{constructor(t){super(t),this.color=null,this.emissiveFactor=null}clone(){var e;const t={color:((e=this.color)==null?void 0:e.clone())??null,emissiveFactor:this.emissiveFactor?Qv(this.emissiveFactor):null};return new yy(t)}};C([E(qs)],Vi.prototype,"color",void 0),C([E({type:[Number],json:{write:!1}})],Vi.prototype,"emissiveFactor",void 0),Vi=yy=C([Y("esri.symbols.support.Symbol3DMaterial")],Vi);var by;let ss=by=class extends hn{constructor(t){super(t),this.type="extrude",this.size=1,this.material=null,this.castShadows=!0,this.edges=null}clone(){var t,e;return new by({edges:(t=this.edges)==null?void 0:t.clone(),enabled:this.enabled,material:(e=this.material)==null?void 0:e.clone(),castShadows:this.castShadows,size:this.size})}};C([Mt({Extrude:"extrude"},{readOnly:!0})],ss.prototype,"type",void 0),C([E({type:Number,json:{write:{enabled:!0,isRequired:!0}},nonNullable:!0})],ss.prototype,"size",void 0),C([E({type:Vi,json:{write:!0}})],ss.prototype,"material",void 0),C([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],ss.prototype,"castShadows",void 0),C([E(JA)],ss.prototype,"edges",void 0),ss=by=C([Y("esri.symbols.ExtrudeSymbol3DLayer")],ss);const ZA=ss;let jh=class extends fi{constructor(e){super(e),this.type="simple-line",this.width=.75}hash(){return`${this.type}.${this.width}`}};C([Mt({esriSLS:"simple-line"},{readOnly:!0})],jh.prototype,"type",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],jh.prototype,"width",void 0),jh=C([Y("esri.symbols.LineSymbol")],jh);const hY=jh,cY=["begin","end","begin-end"],YA=["arrow","circle","square","diamond","cross","x"];var vy;let Zr=vy=class extends St{constructor(t){super(t),this.placement="begin-end",this.type="line-marker",this.style="arrow"}writeStyle(t,e,i,o){e[i]=(o==null?void 0:o.origin)==="web-map"?"arrow":t}set color(t){this._set("color",t)}readColor(t){return(t==null?void 0:t[0])!=null?[t[0],t[1],t[2],t[3]/255]:t}writeColor(t,e,i,o){(o==null?void 0:o.origin)==="web-map"||(e[i]=t)}clone(){return new vy({color:at(this.color),placement:this.placement,style:this.style})}hash(){var t;return`${this.placement}.${(t=this.color)==null?void 0:t.hash()}.${this.style}`}};C([E({type:["begin","end","begin-end"],json:{write:!0}})],Zr.prototype,"placement",void 0),C([Mt({"line-marker":"line-marker"},{readOnly:!0}),E({json:{origins:{"web-map":{write:!1}}}})],Zr.prototype,"type",void 0),C([E({type:YA})],Zr.prototype,"style",void 0),C([Ft("style")],Zr.prototype,"writeStyle",null),C([E({type:Se,value:null,json:{write:{allowNull:!0}}})],Zr.prototype,"color",null),C([Xt("color")],Zr.prototype,"readColor",null),C([Ft("color")],Zr.prototype,"writeColor",null),Zr=vy=C([Y("esri.symbols.LineSymbolMarker")],Zr);const uY=Zr;var wy;const j1=new cr({esriSLSSolid:"solid",esriSLSDash:"dash",esriSLSDot:"dot",esriSLSDashDot:"dash-dot",esriSLSDashDotDot:"long-dash-dot-dot",esriSLSNull:"none",esriSLSShortDash:"short-dash",esriSLSShortDot:"short-dot",esriSLSShortDashDot:"short-dash-dot",esriSLSShortDashDotDot:"short-dash-dot-dot",esriSLSLongDash:"long-dash",esriSLSLongDashDot:"long-dash-dot"});let yn=wy=class extends hY{constructor(...t){super(...t),this.type="simple-line",this.style="solid",this.cap="round",this.join="round",this.marker=null,this.miterLimit=2}normalizeCtorArgs(t,e,i,o,h,p){if(t&&typeof t!="string")return t;const m={};return t!=null&&(m.style=t),e!=null&&(m.color=e),i!=null&&(m.width=Ie(i)),o!=null&&(m.cap=o),h!=null&&(m.join=h),p!=null&&(m.miterLimit=Ie(p)),m}clone(){var t;return new wy({color:at(this.color),style:this.style,width:this.width,cap:this.cap,join:this.join,miterLimit:this.miterLimit,marker:(t=this.marker)==null?void 0:t.clone()})}hash(){var t,e;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.style}.${this.cap}.${this.join}.${this.miterLimit}.${(e=this.marker)==null?void 0:e.hash()}`}};C([Mt({esriSLS:"simple-line"},{readOnly:!0})],yn.prototype,"type",void 0),C([E({type:j1.apiValues,json:{read:j1.read,write:j1.write}})],yn.prototype,"style",void 0),C([E({type:["butt","round","square"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],yn.prototype,"cap",void 0),C([E({type:["miter","round","bevel"],json:{write:{overridePolicy:(t,e,i)=>({enabled:t!=="round"&&(i==null?void 0:i.origin)==null})}}})],yn.prototype,"join",void 0),C([E({types:{key:"type",base:null,defaultKeyValue:"line-marker",typeMap:{"line-marker":uY}},json:{write:!0,origins:{"web-scene":{write:!1}}}})],yn.prototype,"marker",void 0),C([E({type:Number,json:{read:!1,write:!1}})],yn.prototype,"miterLimit",void 0),yn=wy=C([Y("esri.symbols.SimpleLineSymbol")],yn);const Hs=yn,Qst=Object.freeze(Object.defineProperty({__proto__:null,default:Hs},Symbol.toStringTag,{value:"Module"}));let Fh=class extends fi{constructor(e){super(e),this.outline=null,this.type=null}hash(){var e;return`${this.type}.${(e=this.outline)==null?void 0:e.hash()}`}};C([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Hs}},json:{default:null,write:!0}})],Fh.prototype,"outline",void 0),C([E({type:["simple-fill","picture-fill"],readOnly:!0})],Fh.prototype,"type",void 0),Fh=C([Y("esri.symbols.FillSymbol")],Fh);const KA=Fh;let Hd=class extends St{constructor(e){super(e)}clone(){throw new Error("Subclasses of LinePattern3D should implement their own clone method.")}};C([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Hd.prototype,"type",void 0),Hd=C([Y("esri.symbols.patterns.LinePattern3D")],Hd);const XA=Hd,dY=["dash","dash-dot","dot","long-dash","long-dash-dot","long-dash-dot-dot","none","short-dash","short-dash-dot","short-dash-dot-dot","short-dot","solid"];var _y;const fY=fr()({dash:"dash","dash-dot":"dash-dot","dash-dot-dot":"long-dash-dot-dot",dot:"dot","long-dash":"long-dash","long-dash-dot":"long-dash-dot",null:"none","short-dash":"short-dash","short-dash-dot":"short-dash-dot","short-dash-dot-dot":"short-dash-dot-dot","short-dot":"short-dot",solid:"solid"});let Uh=_y=class extends XA{constructor(t){super(t),this.type="style",this.style="solid"}clone(){const t={style:this.style};return new _y(t)}};C([E({type:["style"]})],Uh.prototype,"type",void 0),C([Mt(fY),E({type:dY})],Uh.prototype,"style",void 0),Uh=_y=C([Y("esri.symbols.patterns.LineStylePattern3D")],Uh);const R2=Uh;let Wd=class extends St{constructor(e){super(e),this.type="style"}clone(){throw new Error("Subclasses of Pattern3D should implement their own clone method.")}};C([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],Wd.prototype,"type",void 0),Wd=C([Y("esri.symbols.patterns.Pattern3D")],Wd);const QA=Wd,pY=["backward-diagonal","cross","diagonal-cross","forward-diagonal","horizontal","none","solid","vertical"];var xy;let Bh=xy=class extends QA{constructor(t){super(t),this.type="style",this.style="solid"}clone(){return new xy({style:this.style})}};C([E({type:["style"]})],Bh.prototype,"type",void 0),C([E({type:pY,json:{read:!0,write:!0}})],Bh.prototype,"style",void 0),Bh=xy=C([Y("esri.symbols.patterns.StylePattern3D")],Bh);const tT=Bh,mY={types:{key:"type",base:QA,typeMap:{style:tT}},json:{write:!0}},eT={types:{key:"type",base:XA,typeMap:{style:R2}},json:{write:!0}},pc=new Se("white");new Se("black");const gY=new Se([255,255,255,0]);function yY(t){return t.r===0&&t.g===0&&t.b===0}var Sy;let mc=Sy=class extends Vi{constructor(t){super(t),this.colorMixMode=null}clone(){var e;const t={color:((e=this.color)==null?void 0:e.clone())??null,emissiveFactor:this.emissiveFactor?Qv(this.emissiveFactor):null,colorMixMode:this.colorMixMode};return new Sy(t)}};C([Mt({multiply:"multiply",replace:"replace",tint:"tint"})],mc.prototype,"colorMixMode",void 0),mc=Sy=C([Y("esri.symbols.support.Symbol3DFillMaterial")],mc);function bY(t,e=!1){return t<=s6?e?new Array(t).fill(0):new Array(t):new Float64Array(t)}function rot(t){return(n6(t)?t.length:t.byteLength/8)<=s6?Array.from(t):new Float64Array(t)}function not(t,e,i){return Array.isArray(t)?t.slice(e,e+i):t.subarray(e,e+i)}function Cu(t=xY){return[t[0],t[1],t[2],t[3],t[4],t[5]]}function L2(t,e,i,o,h,p,m=Cu()){return m[0]=t,m[1]=e,m[2]=i,m[3]=o,m[4]=h,m[5]=p,m}function sot(t,e=Cu()){return vY(t,0,t.length/3,e)}function vY(t,e,i,o=Cu()){return iT(o,Cy),wY(o,t,e,i),o}function oot(t,e=bY(24)){const[i,o,h,p,m,v]=t;return e[0]=i,e[1]=o,e[2]=h,e[3]=i,e[4]=o,e[5]=v,e[6]=i,e[7]=m,e[8]=h,e[9]=i,e[10]=m,e[11]=v,e[12]=p,e[13]=o,e[14]=h,e[15]=p,e[16]=o,e[17]=v,e[18]=p,e[19]=m,e[20]=h,e[21]=p,e[22]=m,e[23]=v,e}function aot(t,e){const i=isFinite(t[2])||isFinite(t[5]);return new Wi(i?{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],zmin:t[2],zmax:t[5],spatialReference:e}:{xmin:t[0],xmax:t[3],ymin:t[1],ymax:t[4],spatialReference:e})}function lot(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[3]),t[4]=Math.max(t[4],e[4]),t[5]=Math.max(t[5],e[5])}function hot(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[3]=Math.max(t[3],e[2]),t[4]=Math.max(t[4],e[3])}function cot(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.min(t[2],e[2]),t[3]=Math.max(t[3],e[0]),t[4]=Math.max(t[4],e[1]),t[5]=Math.max(t[5],e[2])}function wY(t,e,i=0,o=e.length/3){let h=t[0],p=t[1],m=t[2],v=t[3],w=t[4],A=t[5];for(let $=0;$<o;$++)h=Math.min(h,e[i+3*$]),p=Math.min(p,e[i+3*$+1]),m=Math.min(m,e[i+3*$+2]),v=Math.max(v,e[i+3*$]),w=Math.max(w,e[i+3*$+1]),A=Math.max(A,e[i+3*$+2]);t[0]=h,t[1]=p,t[2]=m,t[3]=v,t[4]=w,t[5]=A}function uot(t,e,i){const o=e.length;let h=t[0],p=t[1],m=t[2],v=t[3],w=t[4],A=t[5];if(i)for(let $=0;$<o;$++){const M=e[$];h=Math.min(h,M[0]),p=Math.min(p,M[1]),m=Math.min(m,M[2]),v=Math.max(v,M[0]),w=Math.max(w,M[1]),A=Math.max(A,M[2])}else for(let $=0;$<o;$++){const M=e[$];h=Math.min(h,M[0]),p=Math.min(p,M[1]),v=Math.max(v,M[0]),w=Math.max(w,M[1])}t[0]=h,t[1]=p,t[2]=m,t[3]=v,t[4]=w,t[5]=A}function dot(t){for(let e=0;e<6;e++)if(!isFinite(t[e]))return!1;return!0}function Au(t){return t[0]>=t[3]?0:t[3]-t[0]}function Tu(t){return t[1]>=t[4]?0:t[4]-t[1]}function Eu(t){return t[2]>=t[5]?0:t[5]-t[2]}function fot(t){const e=Au(t),i=Eu(t),o=Tu(t);return Math.sqrt(e*e+i*i+o*o)}function pot(t,e=[0,0,0]){return e[0]=t[0]+Au(t)/2,e[1]=t[1]+Tu(t)/2,e[2]=t[2]+Eu(t)/2,e}function mot(t,e=[0,0,0]){return e[0]=Au(t),e[1]=Tu(t),e[2]=Eu(t),e}function got(t,e){return e[0]>=t[0]&&e[1]>=t[1]&&e[2]>=t[2]&&e[0]<=t[3]&&e[1]<=t[4]&&e[2]<=t[5]}function _Y(t,e){return Math.max(e[0],t[0])<=Math.min(e[3],t[3])&&Math.max(e[1],t[1])<=Math.min(e[4],t[4])&&Math.max(e[2],t[2])<=Math.min(e[5],t[5])}function yot(t,e){return e==null||_Y(t,e)}function bot(t,e,i,o,h=t){return h[0]=t[0]+e,h[1]=t[1]+i,h[2]=t[2]+o,h[3]=t[3]+e,h[4]=t[4]+i,h[5]=t[5]+o,h}function vot(t,e,i=t){const o=t[0]+Au(t)/2,h=t[1]+Tu(t)/2,p=t[2]+Eu(t)/2;return i[0]=o+(t[0]-o)*e,i[1]=h+(t[1]-h)*e,i[2]=p+(t[2]-p)*e,i[3]=o+(t[3]-o)*e,i[4]=h+(t[4]-h)*e,i[5]=p+(t[5]-p)*e,i}function wot(t,e){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}function _ot(t,e,i=t){return i[0]=e[0],i[1]=e[1],i[2]=e[2],i!==t&&(i[3]=t[3],i[4]=t[4],i[5]=t[5]),i}function xot(t,e,i=t){return i[3]=e[0],i[4]=e[1],i[5]=e[2],i!==t&&(i[0]=t[0],i[1]=t[1],i[2]=t[2]),t}function iT(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function Sot(t){return t?iT(t,Cy):Cu(Cy)}function Cot(t,e){return e||(e=Gl()),e[0]=t[0],e[1]=t[1],e[2]=t[3],e[3]=t[4],e}function Aot(t,e){return t[0]=e[0],t[1]=e[1],t[2]=Number.NEGATIVE_INFINITY,t[3]=e[2],t[4]=e[3],t[5]=Number.POSITIVE_INFINITY,t}function Tot(t,e,i,o,h){return t[0]=e,t[1]=i,t[2]=Number.NEGATIVE_INFINITY,t[3]=o,t[4]=h,t[5]=Number.POSITIVE_INFINITY,t}function a5(t){return t.length===6}function Eot(t){return Au(t)===0&&Tu(t)===0&&Eu(t)===0}function $ot(t,e,i){if(t==null||e==null)return t===e;if(!a5(t)||!a5(e))return!1;for(let o=0;o<t.length;o++)if(t[o]!==e[o])return!1;return!0}const Cy=[1/0,1/0,1/0,-1/0,-1/0,-1/0],xY=[0,0,0,0,0,0];Cu();function Iot(t,{isPrimitive:e,width:i,depth:o,height:h}){const p=e?10:1;if(i==null&&h==null&&o==null)return[p*t[0],p*t[1],p*t[2]];const m=Hl(i,o,h);let v;for(let w=0;w<3;w++){const A=m[w];if(A!=null){v=A/t[w];break}}for(let w=0;w<3;w++)m[w]==null&&(m[w]=t[w]*v);return m}const SY=L2(-.5,-.5,-.5,.5,.5,.5),CY=L2(-.5,-.5,0,.5,.5,1),AY=L2(-.5,-.5,0,.5,.5,.5);function kot(t){switch(t){case"sphere":case"cube":case"diamond":return SY;case"cylinder":case"cone":case"inverted-cone":return CY;case"tetrahedron":return AY;default:return}}const D2=["butt","square","round"],TY=[...D2,"none"],rT=["miter","bevel","round"];var Ay;let fo=Ay=class extends St{constructor(t){super(t),this.color=new Se([0,0,0,1]),this.size=ta(1),this.pattern=null,this.patternCap="butt"}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size,pattern:this.pattern!=null?this.pattern.clone():null,patternCap:this.patternCap};return new Ay(t)}};C([E(qs)],fo.prototype,"color",void 0),C([E(ln)],fo.prototype,"size",void 0),C([E(eT)],fo.prototype,"pattern",void 0),C([E({type:D2,json:{default:"butt",write:{overridePolicy(){return{enabled:this.pattern!=null}}}}})],fo.prototype,"patternCap",void 0),fo=Ay=C([Y("esri.symbols.support.Symbol3DOutline")],fo);var Jd;let bn=Jd=class extends hn{constructor(t){super(t),this.type="fill",this.material=null,this.pattern=null,this.castShadows=!0,this.outline=null,this.edges=null}clone(){const t={edges:this.edges!=null?this.edges.clone():null,enabled:this.enabled,material:this.material!=null?this.material.clone():null,pattern:this.pattern!=null?this.pattern.clone():null,castShadows:this.castShadows,outline:this.outline!=null?this.outline.clone():null};return new Jd(t)}static fromSimpleFillSymbol(t){var o,h,p;const e=t.outline&&t.outline.style&&t.outline.style!=="solid"?new R2({style:t.outline.style}):null,i={size:((o=t.outline)==null?void 0:o.width)??0,color:(((h=t.outline)==null?void 0:h.color)??pc).clone(),pattern:e};return e&&((p=t.outline)!=null&&p.cap)&&(i.patternCap=t.outline.cap),new Jd({material:new mc({color:(t.color??gY).clone()}),pattern:t.style&&t.style!=="solid"?new tT({style:t.style}):null,outline:i})}};C([Mt({Fill:"fill"},{readOnly:!0})],bn.prototype,"type",void 0),C([E({type:mc,json:{write:!0}})],bn.prototype,"material",void 0),C([E(mY)],bn.prototype,"pattern",void 0),C([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],bn.prototype,"castShadows",void 0),C([E({type:fo,json:{write:!0}})],bn.prototype,"outline",void 0),C([E(JA)],bn.prototype,"edges",void 0),bn=Jd=C([Y("esri.symbols.FillSymbol3DLayer")],bn);const $u=bn,EY=["none","underline","line-through"],$Y=["normal","italic","oblique"],IY=["normal","lighter","bold","bolder"],nT={type:Number,cast:t=>{const e=Ff(t);return e===0?1:Vs(e,.1,4)},nonNullable:!0},kY=["left","right","center"],MY=["baseline","top","middle","bottom"],sT={type:kY,nonNullable:!0},oT={type:MY,nonNullable:!0},Mot=8;var Ty;let vn=Ty=class extends St{constructor(t){super(t),this.decoration="none",this.family="sans-serif",this.size=9,this.style="normal",this.weight="normal"}castSize(t){return Ie(t)}clone(){return new Ty({decoration:this.decoration,family:this.family,size:this.size,style:this.style,weight:this.weight})}hash(){return`${this.decoration}.${this.family}.${this.size}.${this.style}.${this.weight}`}};C([E({type:EY,json:{default:"none",write:!0}})],vn.prototype,"decoration",void 0),C([E({type:String,json:{write:!0}})],vn.prototype,"family",void 0),C([E({type:Number,json:{write:{overridePolicy:(t,e,i)=>({enabled:!i||!i.textSymbol3D})}}})],vn.prototype,"size",void 0),C([Lr("size")],vn.prototype,"castSize",null),C([E({type:$Y,json:{default:"normal",write:!0}})],vn.prototype,"style",void 0),C([E({type:IY,json:{default:"normal",write:!0}})],vn.prototype,"weight",void 0),vn=Ty=C([Y("esri.symbols.Font")],vn);const Ap=vn;var Ey;const OY=fr()({circle:"circle",square:"square",cross:"cross",x:"x",kite:"kite",triangle:"triangle"});let po=Ey=class extends St{constructor(t){super(t)}readHref(t,e,i){return t?_u(t,i):e.dataURI}writeHref(t,e,i,o){t&&(oa(t)?e.dataURI=t:(e.href=up(t,o),qi(e.href)&&(e.href=Ms(e.href))))}clone(){return new Ey({href:this.href,primitive:this.primitive})}};C([E({type:String,json:{write:!0,read:{source:["href","dataURI"]}}})],po.prototype,"href",void 0),C([Xt("href")],po.prototype,"readHref",null),C([Ft("href",{href:{type:String},dataURI:{type:String}})],po.prototype,"writeHref",null),C([Mt(OY)],po.prototype,"primitive",void 0),po=Ey=C([Y("esri.symbols.support.IconSymbol3DLayerResource")],po);const Oot="circle";var $y;let Ya=$y=class extends me{constructor(){super(...arguments),this.x=0,this.y=0}clone(){return new $y({x:this.x,y:this.y})}};C([E({type:Number})],Ya.prototype,"x",void 0),C([E({type:Number})],Ya.prototype,"y",void 0),Ya=$y=C([Y("esri.symbols.support.Symbol3DAnchorPosition2D")],Ya);var Iy;let Vh=Iy=class extends St{constructor(t){super(t),this.color=new Se([0,0,0,1]),this.size=ta(1)}clone(){const t={color:this.color!=null?this.color.clone():null,size:this.size};return new Iy(t)}};C([E(qs)],Vh.prototype,"color",void 0),C([E(ln)],Vh.prototype,"size",void 0),Vh=Iy=C([Y("esri.symbols.support.Symbol3DIconOutline")],Vh);var Pa;const aT="esri.symbols.IconSymbol3DLayer";let _r=Pa=class extends hn{constructor(t){super(t),this.material=null,this.resource=null,this.type="icon",this.size=12,this.anchor="center",this.anchorPosition=null,this.outline=null,this.angle=0}clone(){return new Pa({anchor:this.anchor,anchorPosition:at(this.anchorPosition),enabled:this.enabled,material:at(this.material),outline:at(this.outline),resource:at(this.resource),angle:this.angle,size:this.size})}static fromSimpleMarkerSymbol(t){const e=t.color||pc,i=l5(t),o=t.outline&&t.outline.width>0?{size:t.outline.width,color:(t.outline.color||pc).clone()}:null;return new Pa({size:t.size,angle:t.angle,resource:{primitive:NY(t.style)},material:{color:e},outline:o,anchor:i?"relative":void 0,anchorPosition:i})}static fromPictureMarkerSymbol(t){const e=!t.color||yY(t.color)?pc:t.color,i=l5(t);return new Pa({size:t.width<=t.height?t.height:t.width,angle:t.angle,resource:{href:t.url},material:{color:e.clone()},anchor:i?"relative":void 0,anchorPosition:i})}static fromCIMSymbol(t){return new Pa({resource:{href:$7({mediaType:"application/json",data:JSON.stringify(t.data)})}})}};C([E({type:Vi,json:{write:!0}})],_r.prototype,"material",void 0),C([E({type:po,json:{write:!0}})],_r.prototype,"resource",void 0),C([Mt({Icon:"icon"},{readOnly:!0})],_r.prototype,"type",void 0),C([E(ln)],_r.prototype,"size",void 0),C([Mt({center:"center",left:"left",right:"right",top:"top",bottom:"bottom",topLeft:"top-left",topRight:"top-right",bottomLeft:"bottom-left",bottomRight:"bottom-right",relative:"relative"},{default:"center"})],_r.prototype,"anchor",void 0),C([E({type:Ya,json:{type:[Number],read:{reader:t=>new Ya({x:t[0],y:t[1]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],_r.prototype,"anchorPosition",void 0),C([E({type:Vh,json:{write:!0}})],_r.prototype,"outline",void 0),C([E({type:Number,json:{write:!0,default:0}})],_r.prototype,"angle",void 0),_r=Pa=C([Y(aT)],_r);const $o=_r;function l5(t){const e="width"in t?t.width:t.size,i="height"in t?t.height:t.size,o=h5(t.xoffset),h=h5(t.yoffset);return(o||h)&&e&&i?{x:-o/e,y:h/i}:null}function h5(t){return isFinite(t)?t:0}const PY={circle:"circle",cross:"cross",diamond:"kite",square:"square",x:"x",triangle:"triangle",path:null};function NY(t){return PY[t]||(Rt.getLogger(aT).warn(`${t} cannot be mapped to Icon symbol. Fallback to "circle"`),"circle")}let mo=class extends jn(St){constructor(e){super(e),this.type="style",this.placement="begin-end",this.style="arrow",this.color=null}equals(e){return e!=null&&e.placement===this.placement&&e.style===this.style&&(this.color==null&&e.color==null||this.color!=null&&e.color!=null&&this.color.toJSON()===e.color.toJSON())}};C([E({type:["style"],readOnly:!0,json:{read:!0,write:{ignoreOrigin:!0}}})],mo.prototype,"type",void 0),C([E({type:cY,json:{default:"begin-end",write:!0}})],mo.prototype,"placement",void 0),C([E({type:YA,json:{default:"arrow",write:!0}})],mo.prototype,"style",void 0),C([E({type:Se,json:{type:[Fe],default:null,write:!0}})],mo.prototype,"color",void 0),mo=C([Y("esri.symbols.LineStyleMarker3D")],mo);const ky=mo;var Zd;let Yr=Zd=class extends hn{constructor(t){super(t),this.material=null,this.type="line",this.join="miter",this.cap="butt",this.size=ta(1),this.pattern=null,this.marker=null}clone(){const t={enabled:this.enabled,material:this.material!=null?this.material.clone():null,size:this.size,join:this.join,cap:this.cap,pattern:this.pattern!=null?this.pattern.clone():null,marker:this.marker!=null?this.marker.clone():null};return new Zd(t)}static fromSimpleLineSymbol(t){var i;const e={enabled:!0,size:t.width??ta(1),cap:t.cap||"butt",join:t.join||"miter",pattern:t.style?new R2({style:t.style}):null,material:new Vi({color:(t.color||pc).clone()}),marker:t.marker?new ky({placement:t.marker.placement,style:t.marker.style,color:((i=t.marker.color)==null?void 0:i.clone())??null}):null};return new Zd(e)}};C([E({type:Vi,json:{write:!0}})],Yr.prototype,"material",void 0),C([Mt({Line:"line"},{readOnly:!0})],Yr.prototype,"type",void 0),C([E({type:rT,json:{write:!0,default:"miter"}})],Yr.prototype,"join",void 0),C([E({type:D2,json:{write:!0,default:"butt"}})],Yr.prototype,"cap",void 0),C([E(ln)],Yr.prototype,"size",void 0),C([E(eT)],Yr.prototype,"pattern",void 0),C([E({types:{key:"type",base:ky,typeMap:{style:ky}},json:{write:!0}})],Yr.prototype,"marker",void 0),Yr=Zd=C([Y("esri.symbols.LineSymbol3DLayer")],Yr);const Iu=Yr;var My;const RY=fr()({sphere:"sphere",cylinder:"cylinder",cube:"cube",cone:"cone",diamond:"diamond",tetrahedron:"tetrahedron",invertedCone:"inverted-cone"});let Gh=My=class extends St{clone(){return new My({href:this.href,primitive:this.primitive})}};C([E({type:String,json:{read:Kv,write:Uc}})],Gh.prototype,"href",void 0),C([Mt(RY)],Gh.prototype,"primitive",void 0),Gh=My=C([Y("esri.symbols.support.ObjectSymbol3DLayerResource")],Gh);const Not="sphere";var Oy;let So=Oy=class extends me{constructor(){super(...arguments),this.x=0,this.y=0,this.z=0}clone(){return new Oy({x:this.x,y:this.y,z:this.z})}};C([E({type:Number})],So.prototype,"x",void 0),C([E({type:Number})],So.prototype,"y",void 0),C([E({type:Number})],So.prototype,"z",void 0),So=Oy=C([Y("esri.symbols.support.Symbol3DAnchorPosition3D")],So);var Py;let li=Py=class extends hn{constructor(t){super(t),this.material=null,this.castShadows=!0,this.resource=null,this.type="object",this.width=void 0,this.height=void 0,this.depth=void 0,this.anchor=void 0,this.anchorPosition=void 0,this.heading=void 0,this.tilt=void 0,this.roll=void 0}clone(){var t,e,i;return new Py({heading:this.heading,tilt:this.tilt,roll:this.roll,anchor:this.anchor,anchorPosition:(t=this.anchorPosition)==null?void 0:t.clone(),depth:this.depth,enabled:this.enabled,height:this.height,material:((e=this.material)==null?void 0:e.clone())??null,castShadows:this.castShadows,resource:(i=this.resource)==null?void 0:i.clone(),width:this.width})}get isPrimitive(){return!this.resource||typeof this.resource.href!="string"}};C([E({type:Vi,json:{write:!0}})],li.prototype,"material",void 0),C([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],li.prototype,"castShadows",void 0),C([E({type:Gh,json:{write:!0}})],li.prototype,"resource",void 0),C([Mt({Object:"object"},{readOnly:!0})],li.prototype,"type",void 0),C([E({type:Number,json:{write:!0}})],li.prototype,"width",void 0),C([E({type:Number,json:{write:!0}})],li.prototype,"height",void 0),C([E({type:Number,json:{write:!0}})],li.prototype,"depth",void 0),C([Mt({center:"center",top:"top",bottom:"bottom",origin:"origin",relative:"relative"},{default:"origin"})],li.prototype,"anchor",void 0),C([E({type:So,json:{type:[Number],read:{reader:t=>new So({x:t[0],y:t[1],z:t[2]})},write:{writer:(t,e)=>{e.anchorPosition=[t.x,t.y,t.z]},overridePolicy(){return{enabled:this.anchor==="relative"}}}}})],li.prototype,"anchorPosition",void 0),C([E({type:Number,json:{write:!0}})],li.prototype,"heading",void 0),C([E({type:Number,json:{write:!0}})],li.prototype,"tilt",void 0),C([E({type:Number,json:{write:!0}})],li.prototype,"roll",void 0),C([E({readOnly:!0})],li.prototype,"isPrimitive",null),li=Py=C([Y("esri.symbols.ObjectSymbol3DLayer")],li);const z2=li;var Ny;let yi=Ny=class extends hn{constructor(t){super(t),this.material=null,this.castShadows=!0,this.type="path",this.profile="circle",this.join="miter",this.cap="butt",this.width=void 0,this.height=void 0,this.anchor="center",this.profileRotation="all"}readWidth(t,e){return t??(e.height==null&&e.size!=null?e.size:void 0)}readHeight(t,e){return t??(e.width==null&&e.size!=null?e.size:void 0)}clone(){return new Ny({enabled:this.enabled,material:this.material!=null?this.material.clone():null,castShadows:this.castShadows,profile:this.profile,join:this.join,cap:this.cap,width:this.width,height:this.height,profileRotation:this.profileRotation,anchor:this.anchor})}};C([E({type:Vi,json:{write:!0}})],yi.prototype,"material",void 0),C([E({type:Boolean,nonNullable:!0,json:{write:!0,default:!0}})],yi.prototype,"castShadows",void 0),C([Mt({Path:"path"},{readOnly:!0})],yi.prototype,"type",void 0),C([E({type:["circle","quad"],json:{write:!0,default:"circle"}})],yi.prototype,"profile",void 0),C([E({type:rT,json:{write:!0,default:"miter"}})],yi.prototype,"join",void 0),C([E({type:TY,json:{write:!0,default:"butt"}})],yi.prototype,"cap",void 0),C([E({type:Number,json:{write:{enabled:!0,target:{width:{type:Number},size:{type:Number}}}}})],yi.prototype,"width",void 0),C([Xt("width",["width","size","height"])],yi.prototype,"readWidth",null),C([E({type:Number,json:{write:!0}})],yi.prototype,"height",void 0),C([Xt("height",["height","size","width"])],yi.prototype,"readHeight",null),C([E({type:["center","bottom","top"],json:{write:!0,default:"center"}})],yi.prototype,"anchor",void 0),C([E({type:["heading","all"],json:{write:!0,default:"all"}})],yi.prototype,"profileRotation",void 0),yi=Ny=C([Y("esri.symbols.PathSymbol3DLayer")],yi);const j2=yi;var Ry;let Ka=Ry=class extends St{constructor(){super(...arguments),this.color=new Se([0,0,0,1]),this.size=0}clone(){const t={color:at(this.color),size:this.size};return new Ry(t)}};C([E(qs)],Ka.prototype,"color",void 0),C([E(ln)],Ka.prototype,"size",void 0),Ka=Ry=C([Y("esri.symbols.support.Symbol3DHalo")],Ka);let gc=class extends jn(St){constructor(e){super(e),this.color=null}};C([E(qs)],gc.prototype,"color",void 0),gc=C([Y("esri.symbols.support.Symbol3DTextBackground")],gc);var Yd;let xi=Yd=class extends hn{constructor(t){super(t),this._userSize=void 0,this.halo=null,this.horizontalAlignment="center",this.lineHeight=1,this.material=null,this.background=null,this.text=null,this.type="text",this.verticalAlignment="baseline"}get font(){return this._get("font")||null}set font(t){t!=null&&this._userSize!=null&&(t.size=this._userSize),this._set("font",t)}writeFont(t,e,i,o){const h={...o,textSymbol3D:!0};e.font=t.write({},h),delete e.font.size}get size(){var t;return this._userSize!=null?this._userSize:((t=this.font)==null?void 0:t.size)!=null?this.font.size:9}set size(t){this._userSize=t,this.font!=null&&(this.font.size=this._userSize),this.notifyChange("size")}clone(){const t=new Yd({enabled:this.enabled,font:this.font&&at(this.font),halo:this.halo&&at(this.halo),horizontalAlignment:this.horizontalAlignment,lineHeight:this.lineHeight,material:this.material!=null?this.material.clone():null,text:this.text,verticalAlignment:this.verticalAlignment,background:at(this.background)});return t._userSize=this._userSize,t}static fromTextSymbol(t){return new Yd({font:t.font!=null?t.font.clone():new Ap,halo:LY(t.haloColor,t.haloSize),horizontalAlignment:t.horizontalAlignment,lineHeight:t.lineHeight,material:t.color?new Vi({color:t.color.clone()}):null,text:t.text,verticalAlignment:t.verticalAlignment,background:t.backgroundColor?new gc({color:t.backgroundColor.clone()}):null})}};function LY(t,e){return t&&e!=null&&e>0?new Ka({color:at(t),size:e}):null}C([E({type:Ap,json:{write:!0}})],xi.prototype,"font",null),C([Ft("font")],xi.prototype,"writeFont",null),C([E({type:Ka,json:{write:!0}})],xi.prototype,"halo",void 0),C([E({...sT,json:{default:"center",write:!0}})],xi.prototype,"horizontalAlignment",void 0),C([E({...nT,json:{default:1,write:!0}})],xi.prototype,"lineHeight",void 0),C([E({type:Vi,json:{write:!0}})],xi.prototype,"material",void 0),C([E({type:gc,json:{write:!0}})],xi.prototype,"background",void 0),C([E(ln)],xi.prototype,"size",null),C([E({type:String,json:{write:!0}})],xi.prototype,"text",void 0),C([Mt({Text:"text"},{readOnly:!0})],xi.prototype,"type",void 0),C([E({...oT,json:{default:"baseline",write:!0}})],xi.prototype,"verticalAlignment",void 0),xi=Yd=C([Y("esri.symbols.TextSymbol3DLayer")],xi);const Zl=xi;var Ly;let os=Ly=class extends hn{constructor(t){super(t),this.color=Dy.clone(),this.type="water",this.waterbodySize="medium",this.waveDirection=null,this.waveStrength="moderate"}clone(){return new Ly({color:at(this.color),waterbodySize:this.waterbodySize,waveDirection:this.waveDirection,waveStrength:this.waveStrength})}};C([E({type:Se,nonNullable:!0,json:{type:[Fe],write:(t,e,i)=>e[i]=t.toArray(Se.AlphaMode.UNLESS_OPAQUE),default:()=>Dy.clone(),defaultEquals:t=>t.toCss(!0)===Dy.toCss(!0)}})],os.prototype,"color",void 0),C([Mt({Water:"water"},{readOnly:!0})],os.prototype,"type",void 0),C([E({type:["small","medium","large"],json:{write:!0,default:"medium"}})],os.prototype,"waterbodySize",void 0),C([E({type:Number,json:{write:!0,default:null}})],os.prototype,"waveDirection",void 0),C([E({type:["calm","rippled","slight","moderate"],json:{write:!0,default:"moderate"}})],os.prototype,"waveStrength",void 0),os=Ly=C([Y("esri.symbols.WaterSymbol3DLayer")],os);const lT=os,Dy=new Se([0,119,190]);var zy;let go=zy=class extends me{constructor(t){super(t),this.name=null,this.styleUrl=null,this.styleName=null,this.portal=null}clone(){return new zy({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}};C([E({type:String})],go.prototype,"name",void 0),C([E({type:String})],go.prototype,"styleUrl",void 0),C([E({type:String})],go.prototype,"styleName",void 0),C([E({type:Fs})],go.prototype,"portal",void 0),go=zy=C([Y("esri.symbols.support.StyleOrigin")],go);const jy=go;var Fy;let yc=Fy=class extends me{constructor(){super(...arguments),this.url=""}clone(){return new Fy({url:this.url})}};C([E({type:String})],yc.prototype,"url",void 0),yc=Fy=C([Y("esri.symbols.support.Thumbnail")],yc);const hT={icon:$o,object:z2,line:Iu,path:j2,fill:$u,extrude:ZA,text:Zl,water:lT},DY=Tt.ofType({base:hn,key:"type",typeMap:hT,errorContext:"symbol-layer"});let Kr=class extends fi{constructor(e){super(e),this.styleOrigin=null,this.thumbnail=null,this.type=null;const i=this.__accessor__&&this.__accessor__.metadata&&this.__accessor__.metadata.symbolLayers,o=i==null?void 0:i.type,h=o||Tt;this._set("symbolLayers",new h)}get color(){return null}set color(e){this.constructed&&Rt.getLogger(this).error("Symbol3D does not support colors on the symbol level. Colors may be set on individual symbol layer materials instead.")}set symbolLayers(e){Po(e,this._get("symbolLayers"))}readStyleOrigin(e,i,o){if(e.styleUrl&&e.name){const h=_u(e.styleUrl,o);return new jy({styleUrl:h,name:e.name})}if(e.styleName&&e.name)return new jy({portal:(o==null?void 0:o.portal)||Fs.getDefault(),styleName:e.styleName,name:e.name});o!=null&&o.messages&&o.messages.push(new Ec("symbol3d:incomplete-style-origin","Style origin requires either a 'styleUrl' or 'styleName' and a 'name' property",{context:o,definition:e}))}writeStyleOrigin(e,i,o,h){if(e.styleUrl&&e.name){let p=up(e.styleUrl,h);qi(p)&&(p=Ms(p)),i.styleOrigin={styleUrl:p,name:e.name}}else e.styleName&&e.name&&(e.portal&&(h!=null&&h.portal)&&!JL(e.portal.restUrl,h.portal.restUrl)?h!=null&&h.messages&&h.messages.push(new Ec("symbol:cross-portal","The symbol style origin cannot be persisted because it refers to an item on a different portal than the one being saved to.",{symbol:this})):i.styleOrigin={styleName:e.styleName,name:e.name})}normalizeCtorArgs(e){return e instanceof hn||e&&hT[e.type]?{symbolLayers:[e]}:Array.isArray(e)?{symbolLayers:e}:e}};C([E({json:{read:!1,write:!1}})],Kr.prototype,"color",null),C([E({type:DY,nonNullable:!0,json:{write:!0}}),Lr(AF)],Kr.prototype,"symbolLayers",null),C([E({type:jy})],Kr.prototype,"styleOrigin",void 0),C([Xt("styleOrigin")],Kr.prototype,"readStyleOrigin",null),C([Ft("styleOrigin",{"styleOrigin.styleUrl":{type:String},"styleOrigin.styleName":{type:String},"styleOrigin.name":{type:String}})],Kr.prototype,"writeStyleOrigin",null),C([E({type:yc,json:{read:!1}})],Kr.prototype,"thumbnail",void 0),C([E({type:["point-3d","line-3d","polygon-3d","mesh-3d","label-3d"],readOnly:!0})],Kr.prototype,"type",void 0),Kr=C([Y("esri.symbols.Symbol3D")],Kr);const ku=Kr;let qh=class extends St{constructor(e){super(e),this.visible=!0}clone(){throw new Error("Subclasses of Callout3D should implement their own clone method.")}};C([E({type:["line"],constructOnly:!0,json:{read:!1,write:{ignoreOrigin:!0}}})],qh.prototype,"type",void 0),C([E({readOnly:!0})],qh.prototype,"visible",void 0),qh=C([Y("esri.symbols.callouts.Callout3D")],qh);const cT=qh;var Uy;let Kd=Uy=class extends St{constructor(t){super(t),this.color=new Se("white")}clone(){return new Uy({color:at(this.color)})}};C([E(qs)],Kd.prototype,"color",void 0),Kd=Uy=C([Y("esri.symbols.callouts.LineCallout3DBorder")],Kd);const zY=Kd;var By;let as=By=class extends cT{constructor(t){super(t),this.type="line",this.color=new Se([0,0,0,1]),this.size=ta(1),this.border=null}get visible(){return this.size>0&&this.color!=null&&this.color.a>0}clone(){return new By({color:at(this.color),size:this.size,border:at(this.border)})}};C([Mt({line:"line"})],as.prototype,"type",void 0),C([E(qs)],as.prototype,"color",void 0),C([E(ln)],as.prototype,"size",void 0),C([E({type:zY,json:{write:!0}})],as.prototype,"border",void 0),C([E({readOnly:!0})],as.prototype,"visible",null),as=By=C([Y("esri.symbols.callouts.LineCallout3D")],as);const uT=as;function F2(t){if(!t)return!1;const e=t.verticalOffset;return!!e&&!(e.screenLength<=0||e.maxWorldLength!=null&&e.maxWorldLength<=0)}function dT(t){if(!t||!t.supportsCallout||!t.supportsCallout())return!1;const e=t.callout;return!!e&&!!e.visible&&!!F2(t)}function zot(t){return t.type==="point-3d"||t.type==="label-3d"}function jot(t){return t.horizontalAlignment==="center"}const fT={types:{key:"type",base:cT,typeMap:{line:uT}},json:{write:!0}};var Vy;let Na=Vy=class extends St{constructor(t){super(t),this.screenLength=0,this.minWorldLength=0,this.maxWorldLength=null}clone(){return new Vy({screenLength:this.screenLength,minWorldLength:this.minWorldLength,maxWorldLength:this.maxWorldLength})}};C([E(ln)],Na.prototype,"screenLength",void 0),C([E({type:Number,nonNullable:!0,json:{write:!0,default:0}})],Na.prototype,"minWorldLength",void 0),C([E({type:Number,json:{write:!0}})],Na.prototype,"maxWorldLength",void 0),Na=Vy=C([Y("esri.symbols.support.Symbol3DVerticalOffset")],Na);const U2=Na;var Xd;const pT=Tt.ofType({base:null,key:"type",typeMap:{text:Zl}});let ls=Xd=class extends ku{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.styleOrigin=null,this.symbolLayers=new pT,this.type="label-3d"}supportsCallout(){return!0}hasVisibleCallout(){return dT(this)}hasVisibleVerticalOffset(){return F2(this)}clone(){return new Xd({styleOrigin:at(this.styleOrigin),symbolLayers:at(this.symbolLayers),thumbnail:at(this.thumbnail),callout:at(this.callout),verticalOffset:at(this.verticalOffset)})}static fromTextSymbol(t){return new Xd({symbolLayers:new Tt([Zl.fromTextSymbol(t)])})}};C([E({type:U2,json:{write:!0}})],ls.prototype,"verticalOffset",void 0),C([E(fT)],ls.prototype,"callout",void 0),C([E({json:{read:!1,write:!1}})],ls.prototype,"styleOrigin",void 0),C([E({type:pT})],ls.prototype,"symbolLayers",void 0),C([Mt({LabelSymbol3D:"label-3d"},{readOnly:!0})],ls.prototype,"type",void 0),ls=Xd=C([Y("esri.symbols.LabelSymbol3D")],ls);const B2=ls;var Qd;const mT=Tt.ofType({base:null,key:"type",typeMap:{line:Iu,path:j2}}),jY=Tt.ofType({base:null,key:"type",typeMap:{line:Iu,path:j2}});let Hh=Qd=class extends ku{constructor(t){super(t),this.symbolLayers=new mT,this.type="line-3d"}clone(){return new Qd({styleOrigin:at(this.styleOrigin),symbolLayers:at(this.symbolLayers),thumbnail:at(this.thumbnail)})}static fromSimpleLineSymbol(t){return new Qd({symbolLayers:new Tt([Iu.fromSimpleLineSymbol(t)])})}};C([E({type:mT,json:{type:jY}})],Hh.prototype,"symbolLayers",void 0),C([Mt({LineSymbol3D:"line-3d"},{readOnly:!0})],Hh.prototype,"type",void 0),Hh=Qd=C([Y("esri.symbols.LineSymbol3D")],Hh);const Tp=Hh;let hs=class extends fi{constructor(e){super(e),this.angle=0,this.type=null,this.xoffset=0,this.yoffset=0,this.size=9}hash(){return`${this.type}.${this.angle}.${this.size}.${this.xoffset}.${this.yoffset}`}};C([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],hs.prototype,"angle",void 0),C([E({type:["simple-marker","picture-marker"],readOnly:!0})],hs.prototype,"type",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],hs.prototype,"xoffset",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],hs.prototype,"yoffset",void 0),C([E({cast:t=>t==="auto"?t:Ff(Ie(t)),json:{write:!0}})],hs.prototype,"size",void 0),hs=C([Y("esri.symbols.MarkerSymbol")],hs);const gT=hs;var t0;const yT=Tt.ofType({base:null,key:"type",typeMap:{fill:$u}});let Wh=t0=class extends ku{constructor(t){super(t),this.symbolLayers=new yT,this.type="mesh-3d"}clone(){return new t0({styleOrigin:at(this.styleOrigin),symbolLayers:at(this.symbolLayers),thumbnail:at(this.thumbnail)})}static fromSimpleFillSymbol(t){return new t0({symbolLayers:new Tt([$u.fromSimpleFillSymbol(t)])})}};C([E({type:yT})],Wh.prototype,"symbolLayers",void 0),C([Mt({MeshSymbol3D:"mesh-3d"},{readOnly:!0})],Wh.prototype,"type",void 0),Wh=t0=C([Y("esri.symbols.MeshSymbol3D")],Wh);const V2=Wh;function FY(t,e,i){return e.imageData?$7({mediaType:e.contentType||"image/png",isBase64:!0,data:e.imageData}):bT(e.url,i)}function bT(t,e){if(!qi(t)){const i=BY(e);if(i)return xv(i,"images",t)}return _u(t,e)}function UY(t,e,i,o){if(oa(t)){const h=kc(t);if(!h)return;e.contentType=h.mediaType,e.imageData=h.data,i&&i.imageData===e.imageData&&i.url&&Uc(i.url,e,"url",o)}else Uc(t,e,"url",o)}const vT={json:{read:{source:["imageData","url"],reader:FY},write:{writer(t,e,i,o){UY(t,e,this.source,o)}}}},wT={readOnly:!0,json:{read:{source:["imageData","url"],reader(t,e,i){const o={};return e.imageData&&(o.imageData=e.imageData),e.contentType&&(o.contentType=e.contentType),e.url&&(o.url=bT(e.url,i)),o}}}};function BY(t){var h,p;if(!t)return null;const{origin:e,layer:i}=t;if(e!=="service"&&e!=="portal-item")return null;const o=i==null?void 0:i.type;return o==="feature"||o==="stream"?(h=i.parsedUrl)==null?void 0:h.path:o==="map-image"||o==="tile"?(p=t.url)==null?void 0:p.path:null}var Gy;let ir=Gy=class extends KA{constructor(...t){super(...t),this.type="picture-fill",this.url=null,this.xscale=1,this.yscale=1,this.width=12,this.height=12,this.xoffset=0,this.yoffset=0,this.source=null}normalizeCtorArgs(t,e,i,o){if(t&&typeof t!="string"&&t.imageData==null)return t;const h={};return t&&(h.url=t),e&&(h.outline=e),i!=null&&(h.width=Ie(i)),o!=null&&(h.height=Ie(o)),h}clone(){const t=new Gy({color:at(this.color),height:this.height,outline:at(this.outline),url:this.url,width:this.width,xoffset:this.xoffset,xscale:this.xscale,yoffset:this.yoffset,yscale:this.yscale});return t._set("source",at(this.source)),t}hash(){var t;return`${super.hash()}.${(t=this.color)==null?void 0:t.hash()}.${this.height}.${this.url}.${this.width}.${this.xoffset}.${this.xscale}.${this.yoffset}.${this.yscale}`}};C([Mt({esriPFS:"picture-fill"},{readOnly:!0})],ir.prototype,"type",void 0),C([E(vT)],ir.prototype,"url",void 0),C([E({type:Number,json:{write:!0}})],ir.prototype,"xscale",void 0),C([E({type:Number,json:{write:!0}})],ir.prototype,"yscale",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],ir.prototype,"width",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],ir.prototype,"height",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],ir.prototype,"xoffset",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],ir.prototype,"yoffset",void 0),C([E(wT)],ir.prototype,"source",void 0),ir=Gy=C([Y("esri.symbols.PictureFillSymbol")],ir);const G2=ir;var qy;let xr=qy=class extends gT{constructor(...t){super(...t),this.color=null,this.type="picture-marker",this.url=null,this.source=null,this.height=12,this.width=12,this.size=null}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string"&&t.imageData==null)return t;const o={};return t&&(o.url=t),e!=null&&(o.width=Ie(e)),i!=null&&(o.height=Ie(i)),o}readHeight(t,e){return e.size||t}readWidth(t,e){return e.size||t}clone(){const t=new qy({angle:this.angle,height:this.height,url:this.url,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset});return t._set("source",at(this.source)),t}hash(){return`${super.hash()}.${this.height}.${this.url}.${this.width}`}};C([E({json:{write:!1}})],xr.prototype,"color",void 0),C([Mt({esriPMS:"picture-marker"},{readOnly:!0})],xr.prototype,"type",void 0),C([E(vT)],xr.prototype,"url",void 0),C([E(wT)],xr.prototype,"source",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],xr.prototype,"height",void 0),C([Xt("height",["height","size"])],xr.prototype,"readHeight",null),C([E({type:Number,cast:Ie,json:{write:!0}})],xr.prototype,"width",void 0),C([E({json:{write:!1}})],xr.prototype,"size",void 0),xr=qy=C([Y("esri.symbols.PictureMarkerSymbol")],xr);const Ep=xr;var yo;const _T=Tt.ofType({base:null,key:"type",typeMap:{icon:$o,object:z2,text:Zl}});let bo=yo=class extends ku{constructor(t){super(t),this.verticalOffset=null,this.callout=null,this.symbolLayers=new _T,this.type="point-3d"}supportsCallout(){if((this.symbolLayers?this.symbolLayers.length:0)<1)return!1;for(const t of this.symbolLayers.items)switch(t.type){case"icon":case"text":case"object":continue;default:return!1}return!0}hasVisibleCallout(){return dT(this)}hasVisibleVerticalOffset(){return F2(this)}clone(){return new yo({verticalOffset:at(this.verticalOffset),callout:at(this.callout),styleOrigin:at(this.styleOrigin),symbolLayers:at(this.symbolLayers),thumbnail:at(this.thumbnail)})}static fromSimpleMarkerSymbol(t){return new yo({symbolLayers:new Tt([$o.fromSimpleMarkerSymbol(t)])})}static fromPictureMarkerSymbol(t){return new yo({symbolLayers:new Tt([$o.fromPictureMarkerSymbol(t)])})}static fromCIMSymbol(t){var o,h;if(((h=(o=t.data)==null?void 0:o.symbol)==null?void 0:h.type)!=="CIMPointSymbol")return null;const i=t.data.symbol;return new yo(i!=null&&i.callout?{symbolLayers:new Tt([$o.fromCIMSymbol(t)]),callout:new uT({size:.5,color:new Se([0,0,0])}),verticalOffset:new U2({screenLength:40})}:{symbolLayers:new Tt([$o.fromCIMSymbol(t)])})}static fromTextSymbol(t){return new yo({symbolLayers:new Tt([Zl.fromTextSymbol(t)])})}};C([E({type:U2,json:{write:!0}})],bo.prototype,"verticalOffset",void 0),C([E(fT)],bo.prototype,"callout",void 0),C([E({type:_T,json:{origins:{"web-scene":{write:!0}}}})],bo.prototype,"symbolLayers",void 0),C([Mt({PointSymbol3D:"point-3d"},{readOnly:!0})],bo.prototype,"type",void 0),bo=yo=C([Y("esri.symbols.PointSymbol3D")],bo);const $p=bo;var Jh;const xT=Tt.ofType({base:null,key:"type",typeMap:{extrude:ZA,fill:$u,icon:$o,line:Iu,object:z2,text:Zl,water:lT}});let Zh=Jh=class extends ku{constructor(t){super(t),this.symbolLayers=new xT,this.type="polygon-3d"}initialize(){const t=e=>{e.type==="line"&&Cc(Rt.getLogger(this),"LineSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use FillSymbol3DLayer.outline instead.",version:"4.28"}),e.type==="text"&&Cc(Rt.getLogger(this),"TextSymbol3DLayer can not be used as a SymbolLayer with a PolygonSymbol3D symbol anymore.",{replacement:"Use Labels instead.",version:"4.28"})};for(const e of this.symbolLayers)t(e);this.addHandles(Bi(()=>this.symbolLayers,"after-add",({item:e})=>t(e),qf))}clone(){return new Jh({styleOrigin:at(this.styleOrigin),symbolLayers:at(this.symbolLayers),thumbnail:at(this.thumbnail)})}static fromJSON(t){var i;const e=new Jh;if(e.read(t),e.symbolLayers.length===2&&e.symbolLayers.at(0).type==="fill"&&e.symbolLayers.at(1).type==="line"){const o=e.symbolLayers.at(0),h=e.symbolLayers.at(1);!h.enabled||(i=t.symbolLayers)!=null&&i[1]&&t.symbolLayers[1].enable===!1||(o.outline={size:h.size,color:h.material!=null?h.material.color:null}),e.symbolLayers.removeAt(1)}return e}static fromSimpleFillSymbol(t){return new Jh({symbolLayers:new Tt([$u.fromSimpleFillSymbol(t)])})}};C([E({type:xT,json:{write:!0}})],Zh.prototype,"symbolLayers",void 0),C([Mt({PolygonSymbol3D:"polygon-3d"},{readOnly:!0})],Zh.prototype,"type",void 0),Zh=Jh=C([Y("esri.symbols.PolygonSymbol3D")],Zh);const Ip=Zh;var Hy;const F1=new cr({esriSFSSolid:"solid",esriSFSNull:"none",esriSFSHorizontal:"horizontal",esriSFSVertical:"vertical",esriSFSForwardDiagonal:"forward-diagonal",esriSFSBackwardDiagonal:"backward-diagonal",esriSFSCross:"cross",esriSFSDiagonalCross:"diagonal-cross"});let vo=Hy=class extends KA{constructor(...t){super(...t),this.color=new Se([0,0,0,.25]),this.outline=new Hs,this.type="simple-fill",this.style="solid"}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const o={};return t&&(o.style=t),e&&(o.outline=e),i&&(o.color=i),o}clone(){return new Hy({color:at(this.color),outline:this.outline&&this.outline.clone(),style:this.style})}hash(){return`${super.hash()}${this.style}.${this.color&&this.color.hash()}`}};C([E()],vo.prototype,"color",void 0),C([E()],vo.prototype,"outline",void 0),C([Mt({esriSFS:"simple-fill"},{readOnly:!0})],vo.prototype,"type",void 0),C([E({type:F1.apiValues,json:{read:F1.read,write:F1.write}})],vo.prototype,"style",void 0),vo=Hy=C([Y("esri.symbols.SimpleFillSymbol")],vo);const kp=vo,Uot=Object.freeze(Object.defineProperty({__proto__:null,default:kp},Symbol.toStringTag,{value:"Module"}));var Wy;const U1=new cr({esriSMSCircle:"circle",esriSMSSquare:"square",esriSMSCross:"cross",esriSMSX:"x",esriSMSDiamond:"diamond",esriSMSTriangle:"triangle",esriSMSPath:"path"});let Xr=Wy=class extends gT{constructor(...t){super(...t),this.color=new Se([255,255,255,.25]),this.type="simple-marker",this.size=12,this.style="circle",this.outline=new Hs}normalizeCtorArgs(t,e,i,o){if(t&&typeof t!="string")return t;const h={};return t&&(h.style=t),e!=null&&(h.size=Ie(e)),i&&(h.outline=i),o&&(h.color=o),h}writeColor(t,e){t&&this.style!=="x"&&this.style!=="cross"&&(e.color=t.toJSON()),t===null&&(e.color=null)}set path(t){this.style="path",this._set("path",t)}clone(){return new Wy({angle:this.angle,color:at(this.color),outline:this.outline&&this.outline.clone(),path:this.path,size:this.size,style:this.style,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t;return`${super.hash()}.${this.color&&this.color.hash()}.${this.path}.${this.style}.${(t=this.outline)==null?void 0:t.hash()}`}};C([E()],Xr.prototype,"color",void 0),C([Ft("color")],Xr.prototype,"writeColor",null),C([Mt({esriSMS:"simple-marker"},{readOnly:!0})],Xr.prototype,"type",void 0),C([E()],Xr.prototype,"size",void 0),C([E({type:U1.apiValues,json:{read:U1.read,write:U1.write}})],Xr.prototype,"style",void 0),C([E({type:String,json:{write:!0}})],Xr.prototype,"path",null),C([E({types:{key:"type",base:null,defaultKeyValue:"simple-line",typeMap:{"simple-line":Hs}},json:{default:null,write:!0}})],Xr.prototype,"outline",void 0),Xr=Wy=C([Y("esri.symbols.SimpleMarkerSymbol")],Xr);const Mu=Xr,Bot=Object.freeze(Object.defineProperty({__proto__:null,default:Mu},Symbol.toStringTag,{value:"Module"}));var Jy;let _e=Jy=class extends fi{constructor(...t){super(...t),this.backgroundColor=null,this.borderLineColor=null,this.borderLineSize=null,this.font=new Ap,this.horizontalAlignment="center",this.kerning=!0,this.haloColor=null,this.haloSize=null,this.rightToLeft=null,this.rotated=!1,this.text="",this.type="text",this.verticalAlignment="baseline",this.xoffset=0,this.yoffset=0,this.angle=0,this.width=null,this.lineWidth=192,this.lineHeight=1}normalizeCtorArgs(t,e,i){if(t&&typeof t!="string")return t;const o={};return t&&(o.text=t),e&&(o.font=e),i&&(o.color=i),o}writeLineWidth(t,e,i,o){o&&typeof o!="string"?o.origin:e[i]=t}castLineWidth(t){return Ie(t)}writeLineHeight(t,e,i,o){o&&typeof o!="string"?o.origin:e[i]=t}clone(){return new Jy({angle:this.angle,backgroundColor:at(this.backgroundColor),borderLineColor:at(this.borderLineColor),borderLineSize:this.borderLineSize,color:at(this.color),font:this.font&&this.font.clone(),haloColor:at(this.haloColor),haloSize:this.haloSize,horizontalAlignment:this.horizontalAlignment,kerning:this.kerning,lineHeight:this.lineHeight,lineWidth:this.lineWidth,rightToLeft:this.rightToLeft,rotated:this.rotated,text:this.text,verticalAlignment:this.verticalAlignment,width:this.width,xoffset:this.xoffset,yoffset:this.yoffset})}hash(){var t,e,i;return`${(t=this.backgroundColor)==null?void 0:t.hash()}.${this.borderLineColor}.${this.borderLineSize}.${(e=this.color)==null?void 0:e.hash()}.${this.font&&this.font.hash()}.${(i=this.haloColor)==null?void 0:i.hash()}.${this.haloSize}.${this.horizontalAlignment}.${this.kerning}.${this.rightToLeft}.${this.rotated}.${this.text}.${this.verticalAlignment}.${this.width}.${this.xoffset}.${this.yoffset}.${this.lineHeight}.${this.lineWidth}.${this.angle}`}};C([E({type:Se,json:{write:!0}})],_e.prototype,"backgroundColor",void 0),C([E({type:Se,json:{write:!0}})],_e.prototype,"borderLineColor",void 0),C([E({type:Number,json:{write:!0},cast:Ie})],_e.prototype,"borderLineSize",void 0),C([E({type:Ap,json:{write:!0}})],_e.prototype,"font",void 0),C([E({...sT,json:{write:!0}})],_e.prototype,"horizontalAlignment",void 0),C([E({type:Boolean,json:{write:!0}})],_e.prototype,"kerning",void 0),C([E({type:Se,json:{write:!0}})],_e.prototype,"haloColor",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],_e.prototype,"haloSize",void 0),C([E({type:Boolean,json:{write:!0}})],_e.prototype,"rightToLeft",void 0),C([E({type:Boolean,json:{write:!0}})],_e.prototype,"rotated",void 0),C([E({type:String,json:{write:!0}})],_e.prototype,"text",void 0),C([Mt({esriTS:"text"},{readOnly:!0})],_e.prototype,"type",void 0),C([E({...oT,json:{write:!0}})],_e.prototype,"verticalAlignment",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],_e.prototype,"xoffset",void 0),C([E({type:Number,cast:Ie,json:{write:!0}})],_e.prototype,"yoffset",void 0),C([E({type:Number,json:{read:t=>t&&-1*t,write:(t,e)=>e.angle=t&&-1*t}})],_e.prototype,"angle",void 0),C([E({type:Number,json:{write:!0}})],_e.prototype,"width",void 0),C([E({type:Number})],_e.prototype,"lineWidth",void 0),C([Ft("lineWidth")],_e.prototype,"writeLineWidth",null),C([Lr("lineWidth")],_e.prototype,"castLineWidth",null),C([E(nT)],_e.prototype,"lineHeight",void 0),C([Ft("lineHeight")],_e.prototype,"writeLineHeight",null),_e=Jy=C([Y("esri.symbols.TextSymbol")],_e);const Mp=_e;var Zy;let Sr=Zy=class extends fi{constructor(t){super(t),this.color=null,this.styleName=null,this.portal=null,this.styleUrl=null,this.thumbnail=null,this.name=null,this.type="web-style"}get _fetchCacheKey(){const t=this.portal!=null?this.portal:Fs.getDefault(),e=t.user?t.user.username:null;return`${this.styleName}:${this.styleUrl}:${this.name}:${e}:${t.url}`}read(t,e){this.portal=e==null?void 0:e.portal,super.read(t,e)}clone(){return new Zy({name:this.name,styleUrl:this.styleUrl,styleName:this.styleName,portal:this.portal})}fetchSymbol(t){return this._fetchSymbol("webRef",t)}fetchCIMSymbol(t){return this._fetchSymbol("cimRef",t)}async _fetchSymbol(t,e){const i=e!=null?e.cache:null,o=i?this._fetchCacheKey:null;if(i!=null){const v=o&&i.get(o);if(v)return v.clone()}const{resolveWebStyleSymbol:h}=await vt(()=>import("./webStyleSymbolUtils-kO7zmqzd.js").then(v=>v.w),__vite__mapDeps([138,71,72,73,74]));jo(e);const p=h(this,{portal:this.portal},t,e);p.catch(v=>{Rt.getLogger(this).error("#fetchSymbol()","Failed to create symbol from style",v)});const m=await p;return t==="webRef"&&m.type==="point-3d"||t==="cimRef"&&m.type==="cim"?(i!=null&&i.set(o,m.clone()),m):null}};C([E({json:{write:!1}})],Sr.prototype,"color",void 0),C([E({type:String,json:{write:!0}})],Sr.prototype,"styleName",void 0),C([E({type:Fs,json:{write:!1}})],Sr.prototype,"portal",void 0),C([E({type:String,json:{read:Kv,write:Uc}})],Sr.prototype,"styleUrl",void 0),C([E({type:yc,json:{read:!1}})],Sr.prototype,"thumbnail",void 0),C([E({type:String,json:{write:!0}})],Sr.prototype,"name",void 0),C([Mt({styleSymbolReference:"web-style"},{readOnly:!0})],Sr.prototype,"type",void 0),C([E()],Sr.prototype,"_fetchCacheKey",null),Sr=Zy=C([Y("esri.symbols.WebStyleSymbol")],Sr);const Op=Sr;function Vot(t){if(!t)return!1;switch(t.type){case"picture-fill":case"picture-marker":case"simple-fill":case"simple-line":case"simple-marker":case"text":case"cim":return!0;default:return!1}}function Got(t){if(!t)return!1;switch(t.type){case"label-3d":case"line-3d":case"mesh-3d":case"point-3d":case"polygon-3d":return!0;default:return!1}}const q2={base:fi,key:"type",typeMap:{"simple-fill":kp,"picture-fill":G2,"picture-marker":Ep,"simple-line":Hs,"simple-marker":Mu,text:Mp,"label-3d":B2,"line-3d":Tp,"mesh-3d":V2,"point-3d":$p,"polygon-3d":Ip,"web-style":Op,cim:ua},errorContext:"symbol"},qot={base:fi,key:"type",typeMap:{"picture-marker":Ep,"simple-marker":Mu,"point-3d":$p,cim:ua},errorContext:"symbol"},Hot={base:fi,key:"type",typeMap:{"simple-line":Hs,"line-3d":Tp,cim:ua},errorContext:"symbol"},Wot={base:fi,key:"type",typeMap:{"simple-fill":kp,"picture-fill":G2,"polygon-3d":Ip,cim:ua},errorContext:"symbol"},Jot={base:fi,key:"type",typeMap:{"picture-marker":Ep,"simple-marker":Mu,text:Mp,"web-style":Op,cim:ua},errorContext:"symbol"},Zot=dv({types:q2}),Yot={base:fi,key:"type",typeMap:{"simple-fill":kp,"picture-fill":G2,"picture-marker":Ep,"simple-line":Hs,"simple-marker":Mu,text:Mp,"line-3d":Tp,"mesh-3d":V2,"point-3d":$p,"polygon-3d":Ip,"web-style":Op,cim:ua},errorContext:"symbol"},Kot={base:fi,key:"type",typeMap:{text:Mp,"label-3d":B2},errorContext:"symbol"},Xot={base:fi,key:"type",typeMap:{"line-3d":Tp,"mesh-3d":V2,"point-3d":$p,"polygon-3d":Ip,"web-style":Op,cim:ua},errorContext:"symbol"},Qot={base:fi,key:"type",typeMap:{"label-3d":B2},errorContext:"symbol"},tat=Rn(q2);var Yy;function VY(t){if(!t)return null;const e={};for(const i in t){const o=LS(t[i]);o&&(e[i]=o)}return Object.keys(e).length!==0?e:null}function GY(t){if(t==null)return null;const e={};for(const i in t){const o=t[i];o&&(e[i]=o.toJSON())}return Object.keys(e).length!==0?e:null}let Si=Yy=class extends jn(St){constructor(t){super(t),this.isAggregate=!1,this.layer=null,this.origin=null,this.popupTemplate=null,this.sourceLayer=null,this._version=0,Object.defineProperty(this,"uid",{value:Ad(),configurable:!0}),Object.defineProperty(this,"_lastMeshTransform",{value:{},configurable:!0,writable:!0,enumerable:!1}),arguments.length>1&&FN(Rt.getLogger(this),"Graphic",{version:"4.30"})}initialize(){this._watchMeshGeometryChanges()}set aggregateGeometries(t){const e=this._get("aggregateGeometries");JSON.stringify(e)!==JSON.stringify(t)&&this._set("aggregateGeometries",t)}set attributes(t){const e=this._get("attributes");e!==t&&(this._set("attributes",t),this._notifyLayer("attributes",e,t))}set geometry(t){const e=this._get("geometry");e!==t&&(this._set("geometry",t),(t==null?void 0:t.type)!=="mesh"&&this._notifyLayer("geometry",e,t))}set symbol(t){const e=this._get("symbol");e!==t&&(this._set("symbol",t),this._notifyLayer("symbol",e,t))}get version(){return this._version}set visible(t){const e=this._get("visible");e!==t&&(this._set("visible",t),this._notifyLayer("visible",e,t))}cloneShallow(){return new Yy({aggregateGeometries:this.aggregateGeometries,attributes:this.attributes,geometry:this.geometry,isAggregate:this.isAggregate,layer:this.layer,popupTemplate:this.popupTemplate,sourceLayer:this.sourceLayer,symbol:this.symbol,visible:this.visible,origin:this.origin})}getEffectivePopupTemplate(t=!1){if(this.popupTemplate)return this.popupTemplate;const e=this.origin&&"layer"in this.origin?this.origin.layer:null;for(const i of[e,this.sourceLayer,this.layer])if(i){if("popupTemplate"in i&&i.popupTemplate)return i.popupTemplate;if(t&&"defaultPopupTemplate"in i&&i.defaultPopupTemplate!=null)return i.defaultPopupTemplate}return null}getAttribute(t){var e;return(e=this.attributes)==null?void 0:e[t]}setAttribute(t,e){if(this.attributes){const i=this.getAttribute(t);this.attributes[t]=e,this._notifyLayer("attributes",i,e,t)}else this.attributes={[t]:e},this._notifyLayer("attributes",void 0,e,t)}getObjectId(){return this.sourceLayer&&"objectIdField"in this.sourceLayer&&this.sourceLayer.objectIdField?this.getAttribute(this.sourceLayer.objectIdField):null}toJSON(){var t;return{aggregateGeometries:GY(this.aggregateGeometries),geometry:this.geometry!=null?this.geometry.toJSON():null,symbol:this.symbol!=null?this.symbol.toJSON():null,attributes:Nm(this.attributes)?this.attributes.toJSON():{...this.attributes},popupTemplate:((t=this.popupTemplate)==null?void 0:t.toJSON())??null}}notifyMeshTransformChanged(t={}){const{geometry:e}=this;if((e==null?void 0:e.type)==="mesh"){const i={origin:e.origin,transform:e.transform};this._notifyLayer("origin-transform",i,i,t.action)}}_notifyLayer(t,e,i,o){if(this._version++,!this.layer||!("graphicChanged"in this.layer))return;const h={graphic:this,property:t,oldValue:e,newValue:i};t==="origin-transform"&&(h.action=o),t==="attributes"&&(h.attributeName=o),this.layer.graphicChanged(h)}_watchMeshGeometryChanges(){this.addHandles([Go(()=>{var t,e;return((t=this.geometry)==null?void 0:t.type)==="mesh"&&this.geometry.vertexSpace.origin?{localMatrix:(e=this.geometry.transform)==null?void 0:e.localMatrix,origin:this.geometry.vertexSpace.origin}:void 0},({localMatrix:t,origin:e})=>{this._lastMeshTransform.localMatrix===t&&this._lastMeshTransform.origin===e||(this._lastMeshTransform.localMatrix=t,this._lastMeshTransform.origin=e,this.notifyMeshTransformChanged())}),Go(()=>{var t;return((t=this.geometry)==null?void 0:t.type)==="mesh"?{vertexAttributes:this.geometry.vertexAttributes}:void 0},()=>{var e;const t=this.geometry;(t==null?void 0:t.type)==="mesh"&&t.vertexSpace.origin?(this._lastMeshTransform.localMatrix=(e=t.transform)==null?void 0:e.localMatrix,this._lastMeshTransform.origin=t.vertexSpace.origin):(this._lastMeshTransform.localMatrix=void 0,this._lastMeshTransform.origin=void 0),this._notifyLayer("geometry",this.geometry,this.geometry)},{equals:(t,e)=>t===e,sync:!0})])}};C([E({value:null,json:{read:VY}})],Si.prototype,"aggregateGeometries",null),C([E({value:null})],Si.prototype,"attributes",null),C([E({value:null,types:DS,json:{read:LS}})],Si.prototype,"geometry",null),C([E({type:Boolean})],Si.prototype,"isAggregate",void 0),C([E({clonable:"reference"})],Si.prototype,"layer",void 0),C([E({clonable:"reference"})],Si.prototype,"origin",void 0),C([E({type:eY})],Si.prototype,"popupTemplate",void 0),C([E({clonable:"reference"})],Si.prototype,"sourceLayer",void 0),C([E({value:null,types:q2})],Si.prototype,"symbol",null),C([E({clonable:!1,json:{read:!1,write:!1}})],Si.prototype,"_version",void 0),C([E({type:Boolean,value:!0})],Si.prototype,"visible",null),Si=Yy=C([Y("esri.Graphic")],Si);const c5=Si;var Ky;let ei=Ky=class extends St{constructor(t){super(t),this.attachmentTypes=null,this.attachmentsWhere=null,this.cacheHint=void 0,this.keywords=null,this.globalIds=null,this.name=null,this.num=null,this.objectIds=null,this.returnMetadata=!1,this.size=null,this.start=null,this.where=null}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10}clone(){return new Ky(at({attachmentTypes:this.attachmentTypes,attachmentsWhere:this.attachmentsWhere,cacheHint:this.cacheHint,keywords:this.keywords,where:this.where,globalIds:this.globalIds,name:this.name,num:this.num,objectIds:this.objectIds,returnMetadata:this.returnMetadata,size:this.size,start:this.start}))}};C([E({type:[String],json:{write:!0}})],ei.prototype,"attachmentTypes",void 0),C([E({type:String,json:{read:{source:"attachmentsDefinitionExpression"},write:{target:"attachmentsDefinitionExpression"}}})],ei.prototype,"attachmentsWhere",void 0),C([E({type:Boolean,json:{write:!0}})],ei.prototype,"cacheHint",void 0),C([E({type:[String],json:{write:!0}})],ei.prototype,"keywords",void 0),C([E({type:[String],json:{write:!0}})],ei.prototype,"globalIds",void 0),C([E({json:{write:!0}})],ei.prototype,"name",void 0),C([E({type:Number,json:{read:{source:"resultRecordCount"}}})],ei.prototype,"num",void 0),C([E({type:[Number],json:{write:!0}})],ei.prototype,"objectIds",void 0),C([E({type:Boolean,json:{default:!1,write:!0}})],ei.prototype,"returnMetadata",void 0),C([E({type:[Number],json:{write:!0}})],ei.prototype,"size",void 0),C([E({type:Number,json:{read:{source:"resultOffset"}}})],ei.prototype,"start",void 0),C([Ft("start"),Ft("num")],ei.prototype,"writeStart",null),C([E({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],ei.prototype,"where",void 0),ei=Ky=C([Y("esri.rest.support.AttachmentQuery")],ei),ei.from=Pi(ei);const qY=ei;var Xy;let Ra=Xy=class extends St{constructor(t){super(t),this.type="map-layer"}clone(){const{mapLayerId:t,gdbVersion:e}=this;return new Xy({mapLayerId:t,gdbVersion:e})}};C([Mt({mapLayer:"map-layer"})],Ra.prototype,"type",void 0),C([E({type:Fe,json:{write:!0}})],Ra.prototype,"mapLayerId",void 0),C([E({type:String,json:{write:!0}})],Ra.prototype,"gdbVersion",void 0),Ra=Xy=C([Y("esri.layers.support.source.MapLayerSource")],Ra);var Qy;let wn=Qy=class extends St{constructor(t){super(t),this.type="query-table"}clone(){const{workspaceId:t,query:e,oidFields:i,spatialReference:o,geometryType:h}=this,p={workspaceId:t,query:e,oidFields:i,spatialReference:(o==null?void 0:o.clone())??void 0,geometryType:h};return new Qy(p)}};C([Mt({queryTable:"query-table"})],wn.prototype,"type",void 0),C([E({type:String,json:{write:!0}})],wn.prototype,"workspaceId",void 0),C([E({type:String,json:{write:!0}})],wn.prototype,"query",void 0),C([E({type:String,json:{write:!0}})],wn.prototype,"oidFields",void 0),C([E({type:Pe,json:{write:!0}})],wn.prototype,"spatialReference",void 0),C([Mt(zU)],wn.prototype,"geometryType",void 0),wn=Qy=C([Y("esri.layers.support.source.QueryTableDataSource")],wn);var tb;let La=tb=class extends St{constructor(t){super(t),this.type="raster"}clone(){const{workspaceId:t,dataSourceName:e}=this;return new tb({workspaceId:t,dataSourceName:e})}};C([Mt({raster:"raster"})],La.prototype,"type",void 0),C([E({type:String,json:{write:!0}})],La.prototype,"dataSourceName",void 0),C([E({type:String,json:{write:!0}})],La.prototype,"workspaceId",void 0),La=tb=C([Y("esri.layers.support.source.RasterDataSource")],La);var eb;let wo=eb=class extends St{constructor(t){super(t),this.type="table"}clone(){const{workspaceId:t,gdbVersion:e,dataSourceName:i}=this;return new eb({workspaceId:t,gdbVersion:e,dataSourceName:i})}};C([Mt({table:"table"})],wo.prototype,"type",void 0),C([E({type:String,json:{write:!0}})],wo.prototype,"workspaceId",void 0),C([E({type:String,json:{write:!0}})],wo.prototype,"gdbVersion",void 0),C([E({type:String,json:{write:!0}})],wo.prototype,"dataSourceName",void 0),wo=eb=C([Y("esri.layers.support.source.TableDataSource")],wo);var ib,rb;const HY=fr()({esriLeftInnerJoin:"left-inner-join",esriLeftOuterJoin:"left-outer-join"});let ji=ib=class extends St{constructor(t){super(t),this.type="join-table"}readLeftTableSource(t,e,i){return u5()(t,e,i)}castLeftTableSource(t){return Rn(nb(),t)}readRightTableSource(t,e,i){return u5()(t,e,i)}castRightTableSource(t){return Rn(nb(),t)}clone(){const{leftTableKey:t,rightTableKey:e,leftTableSource:i,rightTableSource:o,joinType:h}=this,p={leftTableKey:t,rightTableKey:e,leftTableSource:(i==null?void 0:i.clone())??void 0,rightTableSource:(o==null?void 0:o.clone())??void 0,joinType:h};return new ib(p)}};C([Mt({joinTable:"join-table"})],ji.prototype,"type",void 0),C([E({type:String,json:{write:!0}})],ji.prototype,"leftTableKey",void 0),C([E({type:String,json:{write:!0}})],ji.prototype,"rightTableKey",void 0),C([E({json:{write:!0}})],ji.prototype,"leftTableSource",void 0),C([Xt("leftTableSource")],ji.prototype,"readLeftTableSource",null),C([Lr("leftTableSource")],ji.prototype,"castLeftTableSource",null),C([E({json:{write:!0}})],ji.prototype,"rightTableSource",void 0),C([Xt("rightTableSource")],ji.prototype,"readRightTableSource",null),C([Lr("rightTableSource")],ji.prototype,"castRightTableSource",null),C([Mt(HY)],ji.prototype,"joinType",void 0),ji=ib=C([Y("esri.layers.support.source.JoinTableDataSource")],ji);let B1=null;function u5(){return B1||(B1=dv({types:nb()})),B1}let V1=null;function nb(){return V1||(V1={key:"type",base:null,typeMap:{"data-layer":Cn,"map-layer":Ra}}),V1}const WY={key:"type",base:null,typeMap:{"join-table":ji,"query-table":wn,raster:La,table:wo}};let Cn=rb=class extends St{constructor(t){super(t),this.type="data-layer"}clone(){const{fields:t,dataSource:e}=this;return new rb({fields:t,dataSource:e})}};C([Mt({dataLayer:"data-layer"})],Cn.prototype,"type",void 0),C([E({type:[Kc],json:{write:!0}})],Cn.prototype,"fields",void 0),C([E({types:WY,json:{write:!0}})],Cn.prototype,"dataSource",void 0),Cn=rb=C([Y("esri.layers.support.source.DataLayerSource")],Cn),Cn.from=Pi(Cn);var sb;let Te=sb=class extends St{constructor(t){super(t),this.cacheHint=void 0,this.dynamicDataSource=void 0,this.gdbVersion=null,this.geometryPrecision=void 0,this.historicMoment=null,this.maxAllowableOffset=void 0,this.objectIds=null,this.orderByFields=null,this.outFields=null,this.outSpatialReference=null,this.relationshipId=void 0,this.start=void 0,this.num=void 0,this.returnGeometry=!1,this.returnM=void 0,this.returnZ=void 0,this.where=null}_writeHistoricMoment(t,e){e.historicMoment=t&&t.getTime()}writeStart(t,e){e.resultOffset=this.start,e.resultRecordCount=this.num||10,this.start>0&&this.where==null&&(e.definitionExpression="1=1")}clone(){return new sb(at({cacheHint:this.cacheHint,dynamicDataSource:this.dynamicDataSource,gdbVersion:this.gdbVersion,geometryPrecision:this.geometryPrecision,historicMoment:this.historicMoment&&new Date(this.historicMoment.getTime()),maxAllowableOffset:this.maxAllowableOffset,objectIds:this.objectIds,orderByFields:this.orderByFields,outFields:this.outFields,outSpatialReference:this.outSpatialReference,relationshipId:this.relationshipId,start:this.start,num:this.num,returnGeometry:this.returnGeometry,where:this.where,returnZ:this.returnZ,returnM:this.returnM}))}};C([E({type:Boolean,json:{write:!0}})],Te.prototype,"cacheHint",void 0),C([E({type:Cn,json:{write:!0}})],Te.prototype,"dynamicDataSource",void 0),C([E({type:String,json:{write:!0}})],Te.prototype,"gdbVersion",void 0),C([E({type:Number,json:{write:!0}})],Te.prototype,"geometryPrecision",void 0),C([E({type:Date})],Te.prototype,"historicMoment",void 0),C([Ft("historicMoment")],Te.prototype,"_writeHistoricMoment",null),C([E({type:Number,json:{write:!0}})],Te.prototype,"maxAllowableOffset",void 0),C([E({json:{write:!0}})],Te.prototype,"objectIds",void 0),C([E({type:[String],json:{write:!0}})],Te.prototype,"orderByFields",void 0),C([E({type:[String],json:{write:!0}})],Te.prototype,"outFields",void 0),C([E({type:Pe,json:{read:{source:"outSR"},write:{target:"outSR"}}})],Te.prototype,"outSpatialReference",void 0),C([E({json:{write:!0}})],Te.prototype,"relationshipId",void 0),C([E({type:Number,json:{read:{source:"resultOffset"}}})],Te.prototype,"start",void 0),C([Ft("start"),Ft("num")],Te.prototype,"writeStart",null),C([E({type:Number,json:{read:{source:"resultRecordCount"}}})],Te.prototype,"num",void 0),C([E({json:{write:!0}})],Te.prototype,"returnGeometry",void 0),C([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Te.prototype,"returnM",void 0),C([E({type:Boolean,json:{write:{overridePolicy:t=>({enabled:t})}}})],Te.prototype,"returnZ",void 0),C([E({type:String,json:{read:{source:"definitionExpression"},write:{target:"definitionExpression"}}})],Te.prototype,"where",void 0),Te=sb=C([Y("esri.rest.support.RelationshipQuery")],Te),Te.from=Pi(Te);const e0=Te,eat=Object.freeze(Object.defineProperty({__proto__:null,default:e0},Symbol.toStringTag,{value:"Module"}));let ft=class extends me{constructor(e){super(e),this._attachmentsOperationQueue=new Tt,this._defaultOutFields=["*"],this._editOperationQueue=new Tt,this._loaded=!1,this._loadError=!1,this._loading=!1,this._objectIdCache=new Tt,this._queryOperationQueue=new Tt,this.attachmentsEnabled=!1,this.count=0,this.failures=new Tt,this.filterGeometry=null,this.layer=null,this.objectIds=null,this.outFields=null,this.pageCache=new yg,this.pageSize=50,this.relationshipConfig=null,this.relatedRecordsEnabled=!1,this.returnGeometry=!1,this.returnZ=!1,this.returnM=!1,this.sortOrders=[],this.timeExtent=null,this.view=null,this.where=null}initialize(){this.addHandles([Lt(()=>[this.filterGeometry,this.layer,this.objectIds,this.outFields,this.pageSize,this.relationshipConfig,this.returnGeometry,this.returnM,this.returnZ,this.timeExtent,this.where],()=>this._reset()),Lt(()=>this.orderByFields,()=>this._clearCaches(),{equals:au}),Go(()=>this.attachmentsEnabled,()=>this._reset()),Go(()=>this.relatedRecordsEnabled,()=>this._reset())])}destroy(){var e,i;this.layer=null,(e=this.itemCache)==null||e.destroy(),(i=this.failures)==null||i.destroy()}get _capabilities(){const{layer:e}=this;return(e==null?void 0:e.effectiveCapabilities)??(e==null?void 0:e.capabilities)}get _effectiveReturnZ(){return this.returnZ&&this.supportsZ}get _effectiveReturnM(){return this.returnM&&this.supportsM}get _layerWithAttachments(){const{layer:e}=this;return e&&this._capabilities&&this.attachmentsEnabled&&this.supportsAttachments&&Yv(e)?e:null}get _layerWithAttachmentsEditing(){const{_layerWithAttachments:e}=this;return e&&kB(e)&&this.supportsEditing?e:null}get _layerWithEditing(){const e=this.layer;return MB(e)&&this.supportsEditing?e:null}get _layerWithRelationships(){const e=this.layer;return Ao(e)&&this.supportsQueryRelated?e:null}get _relatedLayer(){var e;return(e=this.relationshipConfig)==null?void 0:e.relatedLayer}get _relatedLayerCapabilities(){const{_relatedLayer:e}=this;return(e==null?void 0:e.effectiveCapabilities)??(e==null?void 0:e.capabilities)}get _relatedLayerSupportsCacheHint(){var e,i;return!!((i=(e=this._relatedLayerCapabilities)==null?void 0:e.queryRelated)!=null&&i.supportsCacheHint)}get _relatedLayerSupportsQuery(){var e;return!!((e=this._relatedLayerCapabilities)!=null&&e.operations.supportsQuery)}get _relatedLayerSupportsQueryRelated(){var i,o;const{_relatedLayerCapabilities:e}=this;return!!((i=e==null?void 0:e.queryRelated)!=null&&i.supportsCount)&&!!((o=e==null?void 0:e.queryRelated)!=null&&o.supportsPagination)}get _sortedFieldNames(){return this.sortOrders.map(({fieldName:e})=>e)}get _canUseRelatedLayer(){return!(!this._relatedLayerSupportsQuery||!this._relatedLayerSupportsQueryRelated)}get canAddRelatedFeature(){const{state:e,relationship:i,supportsAdd:o,supportsEditing:h}=this;if(e!=="loaded"||!i||!o||!h)return!1;const{count:p}=this,{cardinality:m,role:v}=i,w=p>0;return(m!=="one-to-one"||!w)&&(m!=="one-to-many"||v!=="origin"||!w)}get effectiveOutFields(){const{layer:e,outFields:i}=this;if(!e||!(i!=null&&i.length))return this._defaultOutFields;const o=[];i.forEach(m=>{const v=e.fieldsIndex.normalizeFieldName(m);v&&o.push(v)});const{objectIdField:h}=e,p=e.fieldsIndex.normalizeFieldName(h)??h;return p&&!o.includes(p)&&o.unshift(p),o}get effectiveTimeExtent(){const{layer:e,timeExtent:i}=this;return i||e&&"timeExtent"in e&&e.timeExtent||null}get effectiveWhere(){var e;return this.where||((e=this.layer)==null?void 0:e.definitionExpression)||"1=1"}get itemCache(){return new Tt({items:[...this.pageCache.values()].flat()})}get layerView(){const{layer:e,view:i}=this;if(!e||!i)return null;const o=e.type==="sublayer"?e.parent:e;return i.allLayerViews.find(h=>h.layer===o)}get orderByFields(){var p;const{_sortedFieldNames:e,layer:i,sortOrders:o}=this,h=o.filter(({fieldName:m,direction:v},w)=>e.indexOf(m)===w&&v!=null).map(({fieldName:m,direction:v})=>`${m} ${v==null?void 0:v.toUpperCase()}`);if(i&&!h.length&&!i.objectIdField&&((p=i.fields)!=null&&p.length)){const m=i.fields.find(v=>v.name);if(m){const v=i.fieldsIndex.normalizeFieldName(m.name);v&&h.push(`${v} ASC`)}}return h}get querying(){return this._queryOperationQueue.length>0}get relationship(){var i;const{relationshipConfig:e}=this;return(e==null?void 0:e.relationshipId)==null?null:(i=this.relationships)==null?void 0:i.find(o=>o.id===e.relationshipId)}get relationshipIds(){var e;return((e=this.relationships)==null?void 0:e.map(i=>i.id))??[]}get relationshipInfos(){const{_layerWithRelationships:e,relatedRecordsEnabled:i,relationships:o,view:h}=this,p=[];return i&&(e!=null&&e.loaded)&&(h!=null&&h.map)&&(o!=null&&o.length)&&o.forEach(m=>{const v=OB(e,h,m);v&&(v.load(),p.push({layer:e,relatedLayer:v,relationshipId:m.id}))}),p}get relationships(){var e;return(e=this._layerWithRelationships)==null?void 0:e.relationships}get state(){const{layer:e,_loaded:i,_loadError:o,_loading:h}=this;return!e||e.destroyed?"disabled":o||e.loadError?"error":e.loadStatus==="loaded"&&i?"loaded":h?"loading":"ready"}get supportsAdd(){var e;return!!((e=this._capabilities)!=null&&e.operations.supportsAdd)}get supportsAddingAttachments(){return!(!this._layerWithAttachmentsEditing||!this.supportsAdd)}get supportsAttachments(){var i;const{_capabilities:e}=this;return!(!((i=e==null?void 0:e.data)!=null&&i.supportsAttachment)||!(e!=null&&e.operations.supportsQueryAttachments))}get supportsCacheHint(){var e,i;return!!((i=(e=this._capabilities)==null?void 0:e.query)!=null&&i.supportsCacheHint)}get supportsCacheHintQueryRelated(){var e,i;return!!((i=(e=this._capabilities)==null?void 0:e.queryRelated)!=null&&i.supportsCacheHint)}get supportsDelete(){var e;return!!((e=this._capabilities)!=null&&e.operations.supportsDelete)}get supportsDeletingAttachments(){return!(!this._layerWithAttachmentsEditing||!this.supportsDelete)}get supportsEditing(){var e;return!!((e=this._capabilities)!=null&&e.operations.supportsEditing)}get supportsM(){var e,i,o;return!!((e=this.layer)!=null&&e.hasM)&&!!((o=(i=this._capabilities)==null?void 0:i.data)!=null&&o.supportsM)}get supportsOrderBy(){var e,i;return!!((i=(e=this._capabilities)==null?void 0:e.query)!=null&&i.supportsOrderBy)}get supportsPagination(){var e,i;return!!((i=(e=this._capabilities)==null?void 0:e.query)!=null&&i.supportsPagination)}get supportsQuery(){var e;return!!((e=this._capabilities)!=null&&e.operations.supportsQuery)}get supportsQueryRelated(){var i,o;const{_capabilities:e}=this;return!!((i=e==null?void 0:e.queryRelated)!=null&&i.supportsCount)&&!!((o=e==null?void 0:e.queryRelated)!=null&&o.supportsPagination)}get supportsResizeAttachments(){var i;const{_capabilities:e}=this;return!(!this.supportsAttachments||!((i=e==null?void 0:e.operations)!=null&&i.supportsResizeAttachments))}get supportsUpdate(){var e;return!!((e=this._capabilities)!=null&&e.operations.supportsUpdate)}get supportsUpdateAttachments(){return!(!this._layerWithAttachmentsEditing||!this.supportsUpdate)}get supportsZ(){var e,i,o;return!!((e=this.layer)!=null&&e.hasZ)&&!!((o=(i=this._capabilities)==null?void 0:i.data)!=null&&o.supportsZ)}get syncing(){return this.syncingFeatureEdits||this.syncingAttachmentEdits}get syncingAttachmentEdits(){return this._attachmentsOperationQueue.length>0}get syncingFeatureEdits(){return this._editOperationQueue.length>0}async addAttachment(e,i){const{_layerWithAttachmentsEditing:o}=this;if(!o||!this.supportsAddingAttachments)return{};const h=await this._queueAttachmentsOperation(e,()=>o.addAttachment(this._createBaseGraphic(o,e),i));return this._ensureArrayContent(h)}async deleteAttachments(e,i){const{_layerWithAttachmentsEditing:o}=this;if(!o||!this.supportsDeletingAttachments||!i.length)return[];const h=await this._queueAttachmentsOperation(e,()=>o.deleteAttachments(this._createBaseGraphic(o,e),i));return this._ensureArray(h)}async deleteRowsByObjectId(e){const{_layerWithEditing:i}=this;if(!this.supportsDelete||!i)throw new kt("store:delete-error","Delete is not supported.");const o=e.map(h=>{var p;return(p=this.getItemByObjectId(h))==null?void 0:p.feature}).filter(ml);return this._queueEditOperation(()=>i.applyEdits({deleteFeatures:o}))}async fetchItems(e){const{page:i}=e,{pageSize:o}=this,h=i*o,p=h+o,{layer:m,state:v}=this;return m&&v==="loaded"?this._query({layer:m,start:h,num:p,page:i,pageSize:o}):[]}async getAttachmentsByObjectId(e,i){var h;const o=((h=this.getItemByObjectId(e))==null?void 0:h.attachments)??[];return!o.length&&i?(await this._queryAttachments([e]))[e]??[]:o}getItemByObjectId(e){for(const i of this.pageCache.values())for(const o of i)if(o.objectId===e)return o}getItemIndexByObjectId(e){const{pageCache:i,pageSize:o}=this,h=i.entries();let p=-1;for(const[m,v]of h)if(v.some((w,A)=>{const $=w.objectId===e;return $&&(p=m*o+A),$}),p>-1)break;return p}async load(){const{layer:e}=this;if(!this._loading&&!this._loaded&&e){this._reset(),this._loading=!0;try{await e.load(),e.parent&&Rc(e.parent)&&await e.parent.loadAll(),await e.when(),await this.refresh(),this._loaded=!0,this._loading=!1}catch(i){throw this._reset(),this._loadError=!0,this._logError("store:load-error","An error occurred."),i}}}async query(e){const{state:i}=this;return this.supportsQuery&&i==="loaded"?this._query(e):[]}async refresh(){this._clearCaches(),await this._syncCount(),await this._syncObjectIdCache()}async reset(){this._reset()}async updateAttachment(e,i,o){const{_layerWithAttachmentsEditing:h}=this;if(!h||!this.supportsUpdateAttachments)return{};const p=await this._queueAttachmentsOperation(e,()=>h.updateAttachment(this._createBaseGraphic(h,e),i,o));return this._ensureArrayContent(p)}async updateItem(e){const{_sortedFieldNames:i}=this,o=e.updates.map(({fieldName:p})=>p),h=await this._update(e);return!h.updateFeatureResults.find(p=>p.error)&&o.some(p=>i.includes(p))&&this._clearCaches(),h}async verifyFeaturesByObjectId(e){const{layer:i,state:o}=this;if(!i||o!=="loaded")return[];const{objectIdField:h}=i,p=await this._verifyFeaturesByObjectId(e);return e.map(m=>p.some(v=>{const w=v.getObjectId()??v.attributes[h];return m===w}))}_clearCaches(){this.pageCache.clear(),this._objectIdCache.removeAll()}_createBaseGraphic(e,i){return new c5({attributes:{[e.objectIdField]:i}})}_ensureArray(e){return Array.isArray(e)?e:[e]}_ensureArrayContent(e){return Array.isArray(e)?e[0]:e}_getObjectIdsForPage(e,i){const o=this._objectIdCache.toArray();return o.length>=e+i?o.slice(e,e+i):o.slice(e)}_logError(e,i){Rt.getLogger(this).error(e,i)}_reset(){this._clearCaches(),this.failures.removeAll(),this._attachmentsOperationQueue.removeAll(),this._editOperationQueue.removeAll(),this._queryOperationQueue.removeAll(),this._loading=!1,this._loaded=!1,this._loadError=!1,this._set("count",0)}async _syncCount(){await this._queryCount().then(e=>this._set("count",e))}async _syncObjectIdCache(){if(this.supportsPagination)return;const e=await this._queryObjectIds();this._objectIdCache.removeAll(),this._objectIdCache.addMany(e)}async _verifyFeaturesByObjectId(e){const{layer:i}=this;if(!i||!this.supportsQuery)throw new kt("store:query-error","Layer does not support query operation.");const{effectiveTimeExtent:o,effectiveWhere:h,orderByFields:p,supportsCacheHint:m,supportsOrderBy:v}=this,w=i.createQuery();return w.where=h,w.timeExtent=o,w.returnGeometry=!1,w.objectIds=e.length?e:void 0,w.outFields=[i.objectIdField],v&&(w.orderByFields=p),m&&(w.cacheHint=!0),(await i.queryFeatures(w)).features}async _update(e){var A;const{objectId:i,updates:o}=e,{_layerWithEditing:h}=this;if(!this.supportsUpdate||!h)throw new kt("store:update-error","Update is not supported.");const p=(A=this.getItemByObjectId(i))==null?void 0:A.feature;if(!p)throw new kt("store:update-error","Feature with provided 'objectId' not found.");const m=at(p.attributes);o.forEach(({fieldName:$,value:M})=>m[$]=M);const v=new c5({attributes:m}),w=h.applyEdits({updateFeatures:[v]}).then($=>{const{updateFeatureResults:M}=$,P=M.find(R=>!!R.error);if(P)throw P.error;return M.length&&(p.attributes=m),$});return this._queueEditOperation(()=>w)}_prepareFeatureData(e){const{attachments:i,features:o,layer:h,relatedRecords:p}=e,m=h.objectIdField;return o.map(v=>{const w=v.getObjectId()??v.attributes[m],A=[];return v.layer||v.sourceLayer||(v.layer=h,v.sourceLayer=h),p.forEach(($,M)=>{A.push({relationshipId:M,count:$[w]??0})}),{objectId:w,feature:v,attachments:i[w]??null,relatedRecords:A}})}async _query(e){const{page:i,refresh:o}=e;o===!0&&await this.refresh();const h=this.pageCache.get(i);if(h)return h;const p=await this._queryPage(e);return this.pageCache.set(i,p),p}_queryAttachments(e){const{_layerWithAttachments:i,effectiveWhere:o,supportsCacheHint:h}=this;return i?e.some(p=>typeof p!="number")?Promise.reject(new kt("invalid-object-id","Only numeric object ids are valid to query attachments")):i.queryAttachments(new qY({cacheHint:h,objectIds:e,where:o,returnMetadata:!0})):Promise.resolve({})}async _queryCount(){const{_relatedLayerSupportsCacheHint:e,layer:i,relationshipConfig:o,supportsCacheHint:h}=this;if(!i)return 0;if(o&&this._canUseRelatedLayer){const{objectId:$,relatedLayer:M,relationshipId:P}=o;return(await M.queryRelatedFeaturesCount(new e0({cacheHint:e,relationshipId:P,objectIds:[$]})))[$]??0}const{effectiveTimeExtent:p,effectiveWhere:m,filterGeometry:v,objectIds:w}=this,A=i.createQuery();return A.geometry=v,A.returnGeometry=!1,A.where=m,A.timeExtent=p,A.objectIds=w!=null&&w.length?w:void 0,h&&(A.cacheHint=!0),i.queryFeatureCount(A)}async _queryFeatures(e){const{relationshipConfig:i}=this;if(i&&this._canUseRelatedLayer)return this._queryRelatedFeatures(e,i);const{_effectiveReturnM:o,_effectiveReturnZ:h,effectiveOutFields:p,effectiveTimeExtent:m,effectiveWhere:v,filterGeometry:w,objectIds:A,orderByFields:$,pageSize:M,returnGeometry:P,supportsCacheHint:R,supportsOrderBy:B,supportsPagination:G}=this,{layer:H,start:Z}=e,X=A==null?void 0:A.length,Q=H.createQuery();return Q.returnGeometry=P,Q.outFields=p,Q.returnM=o,Q.returnZ=h,G?(Q.start=Z,Q.num=M,Q.where=v,Q.timeExtent=m,Q.objectIds=X?A:void 0):Q.objectIds=X?A:this._getObjectIdsForPage(Z,M??0),B&&(Q.orderByFields=$),w&&(Q.geometry=w),R&&(Q.cacheHint=!0),(await H.queryFeatures(Q)).features}_queryObjectIds(){const{effectiveTimeExtent:e,effectiveWhere:i,filterGeometry:o,layer:h,objectIds:p,orderByFields:m,supportsCacheHint:v,supportsOrderBy:w}=this;if(!h)return Promise.resolve([]);const A=h.createQuery();return A.geometry=o,A.outFields=[h.objectIdField],A.returnGeometry=!1,A.where=i,A.timeExtent=e,A.objectIds=p!=null&&p.length?p:void 0,w&&(A.orderByFields=m),v&&(A.cacheHint=!0),h.queryObjectIds(A)}async _queryPage(e){const{layer:i}=e;return this._queueQueryOperation(async()=>{const o=await this._queryFeatures(e),h=o.map(v=>v.getObjectId()??v.attributes[i.objectIdField]),p=await this._queryAttachments(h),m=await this._queryRelatedCounts(h);return this._prepareFeatureData({layer:i,features:o,attachments:p,relatedRecords:m})||[]})}async _queryRelatedCounts(e){const{_layerWithRelationships:i,relationshipIds:o,supportsCacheHintQueryRelated:h}=this,p=new Map;return i&&(e!=null&&e.length)&&o.length&&await Promise.allSettled(o.map(async m=>{const v=await i.queryRelatedFeaturesCount(new e0({cacheHint:h,relationshipId:m,objectIds:e}));p.set(m,v)})),p}async _queryRelatedFeatures(e,i){var X;const{_defaultOutFields:o,_effectiveReturnM:h,_effectiveReturnZ:p,orderByFields:m,pageSize:v,returnGeometry:w,supportsCacheHint:A}=this,{layer:$,start:M}=e,{objectId:P,relatedLayer:R,relationshipId:B}=i,G=$.createQuery(),H=new e0({cacheHint:A,num:v,objectIds:[P],orderByFields:m,outFields:o,relationshipId:B,returnGeometry:w,returnM:h,returnZ:p,start:M,where:G.where??void 0});return((X=(await R.queryRelatedFeatures(H))[P])==null?void 0:X.features)||[]}_queueAttachmentsOperation(e,i){return this._attachmentsOperationQueue.push(i),i().then(async o=>{this._attachmentsOperationQueue.remove(i);const h=this._ensureArray(o),p=h.some(v=>v.error),m=this.getItemByObjectId(e);if(m&&(!p||h.length>1)){const v=await this._queryAttachments([e]);m.attachments=v[e]}return o}).catch(async o=>{this._logError("store:attachment-error","An error occurred.");const h={error:o,retry:()=>{this.failures.remove(h),this._queueAttachmentsOperation(e,i)},cancel:()=>this.failures.remove(h)};throw this.failures.add(h),this._attachmentsOperationQueue.remove(i),o})}_queueEditOperation(e){return this._editOperationQueue.push(e),e().then(i=>(this._editOperationQueue.remove(e),i)).catch(i=>{this._logError("store:edit-error","An error occurred.");const o={error:i,retry:()=>{this.failures.remove(o),this._queueEditOperation(e)},cancel:()=>this.failures.remove(o)};throw this.failures.add(o),this._editOperationQueue.remove(e),i})}_queueQueryOperation(e){return this._queryOperationQueue.push(e),e().then(i=>this._queryOperationQueue.includes(e)?i:[]).catch(i=>{this._logError("store:query-error","An error occurred.");const o={error:i,retry:()=>{this.failures.remove(o),this._queueQueryOperation(e)},cancel:()=>this.failures.remove(o)};return this.failures.add(o),[]}).then(i=>(this._queryOperationQueue.remove(e),i))}};C([E()],ft.prototype,"_attachmentsOperationQueue",void 0),C([E({readOnly:!0})],ft.prototype,"_capabilities",null),C([E()],ft.prototype,"_defaultOutFields",void 0),C([E()],ft.prototype,"_editOperationQueue",void 0),C([E()],ft.prototype,"_effectiveReturnZ",null),C([E()],ft.prototype,"_effectiveReturnM",null),C([E({readOnly:!0})],ft.prototype,"_layerWithAttachments",null),C([E({readOnly:!0})],ft.prototype,"_layerWithAttachmentsEditing",null),C([E({readOnly:!0})],ft.prototype,"_layerWithEditing",null),C([E({readOnly:!0})],ft.prototype,"_layerWithRelationships",null),C([E()],ft.prototype,"_loaded",void 0),C([E()],ft.prototype,"_loadError",void 0),C([E()],ft.prototype,"_loading",void 0),C([E()],ft.prototype,"_objectIdCache",void 0),C([E()],ft.prototype,"_queryOperationQueue",void 0),C([E({readOnly:!0})],ft.prototype,"_relatedLayer",null),C([E({readOnly:!0})],ft.prototype,"_relatedLayerCapabilities",null),C([E({readOnly:!0})],ft.prototype,"_relatedLayerSupportsCacheHint",null),C([E()],ft.prototype,"_relatedLayerSupportsQuery",null),C([E()],ft.prototype,"_relatedLayerSupportsQueryRelated",null),C([E()],ft.prototype,"_sortedFieldNames",null),C([E()],ft.prototype,"_canUseRelatedLayer",null),C([E()],ft.prototype,"attachmentsEnabled",void 0),C([E()],ft.prototype,"canAddRelatedFeature",null),C([E({readOnly:!0})],ft.prototype,"count",void 0),C([E()],ft.prototype,"effectiveOutFields",null),C([E()],ft.prototype,"effectiveTimeExtent",null),C([E()],ft.prototype,"effectiveWhere",null),C([E({readOnly:!0})],ft.prototype,"failures",void 0),C([E()],ft.prototype,"filterGeometry",void 0),C([E({readOnly:!0})],ft.prototype,"itemCache",null),C([E()],ft.prototype,"layer",void 0),C([E()],ft.prototype,"layerView",null),C([E()],ft.prototype,"objectIds",void 0),C([E()],ft.prototype,"orderByFields",null),C([E()],ft.prototype,"outFields",void 0),C([E({readOnly:!0})],ft.prototype,"pageCache",void 0),C([E()],ft.prototype,"pageSize",void 0),C([E({readOnly:!0})],ft.prototype,"querying",null),C([E()],ft.prototype,"relationship",null),C([E()],ft.prototype,"relationshipConfig",void 0),C([E()],ft.prototype,"relationshipIds",null),C([E()],ft.prototype,"relationshipInfos",null),C([E()],ft.prototype,"relationships",null),C([E()],ft.prototype,"relatedRecordsEnabled",void 0),C([E()],ft.prototype,"returnGeometry",void 0),C([E()],ft.prototype,"returnZ",void 0),C([E()],ft.prototype,"returnM",void 0),C([E()],ft.prototype,"sortOrders",void 0),C([E({readOnly:!0})],ft.prototype,"state",null),C([E()],ft.prototype,"supportsAdd",null),C([E()],ft.prototype,"supportsAddingAttachments",null),C([E()],ft.prototype,"supportsAttachments",null),C([E()],ft.prototype,"supportsCacheHint",null),C([E()],ft.prototype,"supportsCacheHintQueryRelated",null),C([E()],ft.prototype,"supportsDelete",null),C([E()],ft.prototype,"supportsDeletingAttachments",null),C([E()],ft.prototype,"supportsEditing",null),C([E()],ft.prototype,"supportsM",null),C([E()],ft.prototype,"supportsOrderBy",null),C([E()],ft.prototype,"supportsPagination",null),C([E()],ft.prototype,"supportsQuery",null),C([E()],ft.prototype,"supportsQueryRelated",null),C([E()],ft.prototype,"supportsResizeAttachments",null),C([E()],ft.prototype,"supportsUpdate",null),C([E()],ft.prototype,"supportsUpdateAttachments",null),C([E()],ft.prototype,"supportsZ",null),C([E({readOnly:!0})],ft.prototype,"syncing",null),C([E({readOnly:!0})],ft.prototype,"syncingAttachmentEdits",null),C([E({readOnly:!0})],ft.prototype,"syncingFeatureEdits",null),C([E()],ft.prototype,"timeExtent",void 0),C([E()],ft.prototype,"view",void 0),C([E()],ft.prototype,"where",void 0),ft=C([Y("esri.widgets.FeatureTable.support.FeatureStore")],ft);const ST=ft;let i0=class extends St{constructor(e){super(e),this.type=null}};C([E()],i0.prototype,"type",void 0),i0=C([Y("esri.form.elements.inputs.Input")],i0);const Un=i0;let Yh=class extends Un{constructor(e){super(e),this.maxLength=null,this.minLength=0}};C([E({type:Number,json:{write:!0}})],Yh.prototype,"maxLength",void 0),C([E({type:Number,json:{write:!0}})],Yh.prototype,"minLength",void 0),Yh=C([Y("esri.form.elements.inputs.TextInput")],Yh);const H2=Yh;var ob;let r0=ob=class extends H2{constructor(t){super(t),this.type="barcode-scanner"}clone(){return new ob({maxLength:this.maxLength,minLength:this.minLength})}};C([E({type:["barcode-scanner"],json:{read:!1,write:!0}})],r0.prototype,"type",void 0),r0=ob=C([Y("esri.form.elements.inputs.BarcodeScannerInput")],r0);const JY=r0;var ab;let Da=ab=class extends Un{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="combo-box"}clone(){return new ab({showNoValueOption:this.showNoValueOption,noValueOptionLabel:this.noValueOptionLabel})}};C([E({type:String,json:{write:!0}})],Da.prototype,"noValueOptionLabel",void 0),C([E({type:Boolean,json:{write:!0}})],Da.prototype,"showNoValueOption",void 0),C([E({type:["combo-box"],json:{read:!1,write:!0}})],Da.prototype,"type",void 0),Da=ab=C([Y("esri.form.elements.inputs.ComboBoxInput")],Da);const ZY=Da;var lb;function d5(t){return t??null}function f5(t){return t??null}let Qr=lb=class extends Un{constructor(t){super(t),this.max=null,this.min=null,this.type="date-picker"}readMax(t,e){return d5(e.max)}writeMax(t,e){e.max=f5(t)}readMin(t,e){return d5(e.min)}writeMin(t,e){e.min=f5(t)}clone(){return new lb({max:this.max,min:this.min})}};C([E({type:String,json:{type:String,write:!0}})],Qr.prototype,"max",void 0),C([Xt("max")],Qr.prototype,"readMax",null),C([Ft("max")],Qr.prototype,"writeMax",null),C([E({type:String,json:{type:String,write:!0}})],Qr.prototype,"min",void 0),C([Xt("min")],Qr.prototype,"readMin",null),C([Ft("min")],Qr.prototype,"writeMin",null),C([E({type:["date-picker"],json:{read:!1,write:!0}})],Qr.prototype,"type",void 0),Qr=lb=C([Y("esri.form.elements.inputs.DatePickerInput")],Qr);const YY=Qr;var hb;function G1(t){return t??null}function q1(t){return t??null}let Ci=hb=class extends Un{constructor(t){super(t),this.includeTimeOffset=!0,this.max=null,this.min=null,this.timeResolution="minutes",this.type="datetimeoffset-picker"}readMax(t,e){return G1(e.max)}writeMax(t,e){e.max=q1(t)}readMin(t,e){return G1(e.min)}writeMin(t,e){e.min=q1(t)}readTimeResolution(t,e){return G1(e.timeResolution)}writeTimeResolution(t,e){e.timeResolution=q1(t)}clone(){return new hb({includeTimeOffset:this.includeTimeOffset,max:this.max,min:this.min,timeResolution:this.timeResolution})}};C([E({type:Boolean,json:{write:!0}})],Ci.prototype,"includeTimeOffset",void 0),C([E({type:String,json:{type:String,write:!0}})],Ci.prototype,"max",void 0),C([Xt("max")],Ci.prototype,"readMax",null),C([Ft("max")],Ci.prototype,"writeMax",null),C([E({type:String,json:{type:String,write:!0}})],Ci.prototype,"min",void 0),C([Xt("min")],Ci.prototype,"readMin",null),C([Ft("min")],Ci.prototype,"writeMin",null),C([E({type:String,json:{type:String,write:!0}})],Ci.prototype,"timeResolution",void 0),C([Xt("timeResolution")],Ci.prototype,"readTimeResolution",null),C([Ft("timeResolution")],Ci.prototype,"writeTimeResolution",null),C([E({type:["datetimeoffset-picker"],json:{read:!1,write:!0}})],Ci.prototype,"type",void 0),Ci=hb=C([Y("esri.form.elements.inputs.DateTimeOffsetPickerInput")],Ci);const KY=Ci;var cb;function p5(t){return t!=null?new Date(t):null}function m5(t){return t?t.getTime():null}let Cr=cb=class extends Un{constructor(t){super(t),this.includeTime=!1,this.max=null,this.min=null,this.type="datetime-picker"}readMax(t,e){return p5(e.max)}writeMax(t,e){e.max=m5(t)}readMin(t,e){return p5(e.min)}writeMin(t,e){e.min=m5(t)}clone(){return new cb({includeTime:this.includeTime,max:this.max,min:this.min})}};C([E({type:Boolean,json:{write:!0}})],Cr.prototype,"includeTime",void 0),C([E({type:Date,json:{type:Number,write:!0}})],Cr.prototype,"max",void 0),C([Xt("max")],Cr.prototype,"readMax",null),C([Ft("max")],Cr.prototype,"writeMax",null),C([E({type:Date,json:{type:Number,write:!0}})],Cr.prototype,"min",void 0),C([Xt("min")],Cr.prototype,"readMin",null),C([Ft("min")],Cr.prototype,"writeMin",null),C([E({type:["datetime-picker"],json:{read:!1,write:!0}})],Cr.prototype,"type",void 0),Cr=cb=C([Y("esri.form.elements.inputs.DateTimePickerInput")],Cr);const XY=Cr;var ub;let za=ub=class extends Un{constructor(t){super(t),this.noValueOptionLabel=null,this.showNoValueOption=!0,this.type="radio-buttons"}clone(){return new ub({noValueOptionLabel:this.noValueOptionLabel,showNoValueOption:this.showNoValueOption})}};C([E({type:String,json:{write:!0}})],za.prototype,"noValueOptionLabel",void 0),C([E({type:Boolean,json:{write:!0}})],za.prototype,"showNoValueOption",void 0),C([E({type:["radio-buttons"],json:{read:!1,write:!0}})],za.prototype,"type",void 0),za=ub=C([Y("esri.form.elements.inputs.RadioButtonsInput")],za);const QY=za;var db;let ja=db=class extends Un{constructor(t){super(t),this.offValue=null,this.onValue=null,this.type="switch"}clone(){return new db({offValue:this.offValue,onValue:this.onValue})}};C([E({type:[String,Number],json:{write:!0}})],ja.prototype,"offValue",void 0),C([E({type:[String,Number],json:{write:!0}})],ja.prototype,"onValue",void 0),C([E({type:["switch"],json:{read:!1,write:!0}})],ja.prototype,"type",void 0),ja=db=C([Y("esri.form.elements.inputs.SwitchInput")],ja);const tK=ja;var fb;let n0=fb=class extends H2{constructor(t){super(t),this.type="text-area"}clone(){return new fb({maxLength:this.maxLength,minLength:this.minLength})}};C([E({type:["text-area"],json:{read:!1,write:!0}})],n0.prototype,"type",void 0),n0=fb=C([Y("esri.form.elements.inputs.TextAreaInput")],n0);const eK=n0;var pb;let s0=pb=class extends H2{constructor(t){super(t),this.type="text-box"}clone(){return new pb({maxLength:this.maxLength,minLength:this.minLength})}};C([E({type:["text-box"],json:{read:!1,write:!0}})],s0.prototype,"type",void 0),s0=pb=C([Y("esri.form.elements.inputs.TextBoxInput")],s0);const iK=s0;var mb;function H1(t){return t??null}function W1(t){return t??null}let Fi=mb=class extends Un{constructor(t){super(t),this.max=null,this.min=null,this.timeResolution="minutes",this.type="time-picker"}readMax(t,e){return H1(e.max)}writeMax(t,e){e.max=W1(t)}readMin(t,e){return H1(e.min)}writeMin(t,e){e.min=W1(t)}readTimeResolution(t,e){return H1(e.timeResolution)}writeTimeResolution(t,e){e.timeResolution=W1(t)}clone(){return new mb({max:this.max,min:this.min,timeResolution:this.timeResolution})}};C([E({type:String,json:{type:String,write:!0}})],Fi.prototype,"max",void 0),C([Xt("max")],Fi.prototype,"readMax",null),C([Ft("max")],Fi.prototype,"writeMax",null),C([E({type:String,json:{type:String,write:!0}})],Fi.prototype,"min",void 0),C([Xt("min")],Fi.prototype,"readMin",null),C([Ft("min")],Fi.prototype,"writeMin",null),C([E({type:String,json:{type:String,write:!0}})],Fi.prototype,"timeResolution",void 0),C([Xt("timeResolution")],Fi.prototype,"readTimeResolution",null),C([Ft("timeResolution")],Fi.prototype,"writeTimeResolution",null),C([E({type:["time-picker"],json:{read:!1,write:!0}})],Fi.prototype,"type",void 0),Fi=mb=C([Y("esri.form.elements.inputs.TimePickerInput")],Fi);const rK=Fi,nK={base:Un,key:"type",typeMap:{"barcode-scanner":JY,"combo-box":ZY,"date-picker":YY,"datetime-picker":XY,"datetimeoffset-picker":KY,"radio-buttons":QY,switch:tK,"text-area":eK,"text-box":iK,"time-picker":rK}},CT=t=>{let e=class extends t{constructor(){super(...arguments),this.editable=!0,this.hint=null,this.input=null,this.required=!1}};return C([E({type:Boolean,json:{write:!0}})],e.prototype,"editable",void 0),C([E({type:String,json:{write:!0}})],e.prototype,"hint",void 0),C([E({types:nK,json:{read:{source:"inputType"},write:{target:"inputType"}}})],e.prototype,"input",void 0),C([E()],e.prototype,"required",void 0),e=C([Y("esri.widgets.FeatureTable.support.EditableColumnTemplateMixin")],e),e};let rr=class extends CT(Su){constructor(e){super(e),this.domain=null,this.editableExpression=null,this.format=null,this.formatFunction=null,this.requiredExpression=null,this.sortable=!0,this.type="field",this.valueExpression=null,this.visibilityExpression=null}};C([E({types:LA,json:{read:{reader:DA},write:!0}})],rr.prototype,"domain",void 0),C([E({type:String,json:{write:!0}}),E()],rr.prototype,"editableExpression",void 0),C([E()],rr.prototype,"format",void 0),C([E()],rr.prototype,"formatFunction",void 0),C([E({type:String,json:{write:!0}})],rr.prototype,"requiredExpression",void 0),C([E()],rr.prototype,"sortable",void 0),C([E({type:String,json:{read:!1,write:!0}})],rr.prototype,"type",void 0),C([E({type:String,json:{write:!0}})],rr.prototype,"valueExpression",void 0),C([E({type:String,json:{write:!0}})],rr.prototype,"visibilityExpression",void 0),rr=C([Y("esri.widgets.FeatureTable.support.FieldColumnTemplate")],rr);const Lo=rr;let _n=class extends Su{constructor(e){super(e),this.collapsed=!1,this.icon="link",this.relationshipId=null,this.sortable=!1,this.textAlign="center",this.type="relationship"}};C([E()],_n.prototype,"collapsed",void 0),C([E()],_n.prototype,"icon",void 0),C([E()],_n.prototype,"relationshipId",void 0),C([E()],_n.prototype,"sortable",void 0),C([E()],_n.prototype,"textAlign",void 0),C([E({type:String,json:{read:!1,write:!0}})],_n.prototype,"type",void 0),_n=C([Y("esri.widgets.FeatureTable.support.RelationshipColumnTemplate")],_n);const ru=_n;let o0=class extends CT(Su){constructor(e){super(e),this.type="column"}};C([E({type:String,json:{read:!1,write:!0}})],o0.prototype,"type",void 0),o0=C([Y("esri.widgets.FeatureTable.support.ColumnTemplate")],o0);const wf=o0;function AT(t){return t!=null&&typeof t=="object"&&"type"in t&&t.type!==null&&(t.type==="column"||t.type==="field"||t.type==="group"||t.type==="attachment"||t.type==="relationship")}let Fa=class extends Su{constructor(e){super(e),this.columnTemplates=null,this.type="group"}castColumnTemplates(e){if(!e||!Array.isArray(e))return[];const i=[];return e.forEach(o=>{if(o instanceof Lo||o instanceof wf||o instanceof Ol||o instanceof ru)i.push(o);else if(AT(o)){const h=o.type;h==="field"?i.push(new Lo(o)):h==="group"?Rt.getLogger(this).warn("A GroupColumnTemplate cannot contain other GroupColumn templates. Template removed from 'GroupColumnTemplate.columnTemplates'."):h==="column"?i.push(new wf(o)):h==="attachment"?i.push(new Ol(o)):h==="relationship"&&i.push(new ru(o))}else Rt.getLogger(this).warn("Property 'type' is missing from the provided template. Template removed from 'tableTemplate.columnTemplates'.")}),i}};C([E({json:{write:!0}})],Fa.prototype,"columnTemplates",void 0),C([Lr("columnTemplates")],Fa.prototype,"castColumnTemplates",null),C([E({type:String,json:{read:!1,write:!0}})],Fa.prototype,"type",void 0),Fa=C([Y("esri.widgets.FeatureTable.support.GroupColumnTemplate")],Fa);const g5=Fa;var gb;let Kh=gb=class extends St{constructor(t){super(t),this.columnTemplates=[]}castColumnTemplates(t){if(!t||!Array.isArray(t))return[];const e=[];return t.forEach(i=>{if(i instanceof Lo||i instanceof g5||i instanceof wf||i instanceof Ol||i instanceof ru)e.push(i);else if(AT(i)){const o=i.type;o==="field"?e.push(new Lo(i)):o==="group"?e.push(new g5(i)):o==="column"?e.push(new wf(i)):o==="attachment"?e.push(new Ol(i)):o==="relationship"&&e.push(new ru(i))}else Rt.getLogger(this).warn("Property 'type' is missing from the provided template. Template removed from 'tableTemplate.columnTemplates'.")}),e}clone(){return new gb({columnTemplates:at(this.columnTemplates)})}};C([E()],Kh.prototype,"columnTemplates",void 0),C([Lr("columnTemplates")],Kh.prototype,"castColumnTemplates",null),Kh=gb=C([Y("esri.widgets.FeatureTable.support.TableTemplate")],Kh);const a0=Kh,J1="80px";let yt=class extends RA{constructor(e){super(e),this._debounceRefresh=Px(()=>this._refresh()),this._highlights=new Lf,this.actionColumnConfig=null,this.attachmentsViewOptions=new $Z,this.autoRefreshEnabled=!0,this.columns=new Tt,this.dataProvider=async(i,o)=>{const{layer:h,store:p}=this;if(!o)return;if(!h||!p)return void(o&&o([]));await h.load();const{objectIds:m}=this;if(this.filterBySelectionEnabled&&!this.highlightIds.length||m.length===1&&m.items[0]===-1)return void o([]);p.state!=="loaded"&&p.state!=="loading"&&await p.load();const v=this.paginationEnabled?this.pageIndex:i.page,w=await p.fetchItems({...i,page:v});o&&o(w)},this.editingEnabled=!1,this.grid=null,this.highlightEnabled=!0,this.itemIdPath="objectId",this.messages=null,this.messagesCommon=null,this.messagesUnits=null,this.messagesURIUtils=null,this.prompt=null,this.relatedTables=new Tt,this.relationshipColumnConfigs=null,this.selectionSource="table",this.showRelatedTableCallback=null,this.store=null,this.tableController=null,this.tableParent=null,this.tableTemplate=null,this.tableTemplateOverride=null,this._onLayerRefresh=this._onLayerRefresh.bind(this),this._onShowPromptCallback=this._onShowPromptCallback.bind(this),this._set("store",new ST),this._set("grid",new TZ({itemIdPath:this.itemIdPath,viewModel:this}))}initialize(){const e=async()=>{this.messages=await Ga("esri/widgets/FeatureTable/t9n/FeatureTable"),this.messagesCommon=await Ga("esri/t9n/common"),this.messagesUnits=await Ga("esri/core/t9n/Units"),this.messagesURIUtils=await Ga("esri/widgets/support/t9n/uriUtils")};e(),this.addHandles([p6(()=>{e(),this._generateColumns()}),Lt(()=>[this.messages,this.messagesCommon,this.messagesURIUtils],()=>{const i=this.messages;this.grid&&(this.grid.messages=i),this.allColumns.forEach(o=>{o.messages=i,o.messagesCommon=this.messagesCommon,o.messagesURIUtils=this.messagesURIUtils}),this.refreshCellContent()},Iv),Bi(()=>this.highlightIds,"change",i=>this._onHighlightIdsChange(i),{onListenerAdd:()=>this._syncSelection(),onListenerRemove:()=>this._highlights.removeAll()}),Lt(()=>this.attachmentsEnabled,()=>{var i;return((i=this.layer)==null?void 0:i.loaded)&&this._generateColumns()}),Lt(()=>this._viewSelection,()=>{this._viewSelectionReady&&(this.highlightIds.items=this._viewSelection)}),Lt(()=>[this._tableHighlightsReady,this._viewSelectionReady],()=>this._syncSelection()),Lt(()=>this.layer,async(i,o)=>{const h=this.grid;h&&(h.clearSort(),i&&o&&await this.reset()),this.goToPage(0),this._drainColumns(),this.store.layer=i,i&&(i.loaded?this._onLayerLoad():i.load().catch(()=>{}))}),Lt(()=>{var i;return(i=this.layer)==null?void 0:i.loaded},i=>i&&this._onLayerLoad()),Lt(()=>this.store.state,i=>{i==="loaded"&&(this.scrollToTop(),this.refreshCellContent())}),Lt(()=>this._effectiveTableTemplate,()=>{var i;this.scrollLeft(),(i=this.layer)!=null&&i.loaded&&this._generateColumns()}),Lt(()=>this.editingEnabled,i=>{this.editableColumns.forEach(o=>o.tableEditingEnabled=i),this.refreshCellContent()}),Lt(()=>{var i;return this.timeZone??((i=this.view)==null?void 0:i.timeZone)},()=>this.refreshCellContent()),Lt(()=>{var i;return(i=this.layer)==null?void 0:i.definitionExpression},(i,o)=>(i||o)&&this.store.state==="loaded"&&this.reset()),Lt(()=>{var i;return(i=this.layer)==null?void 0:i.timeExtent},(i,o)=>(i||o)&&!this.timeExtent&&this.store.state==="loaded"&&this.reset()),Bi(()=>this.layer,"refresh",i=>this._onLayerRefresh(i)),Bi(()=>this.grid,["cell-click","cell-dblclick","cell-pointerover","cell-pointerout","cell-keydown"],({index:i,item:o,native:h,path:p,type:m})=>{const v=o==null?void 0:o.feature,w=v==null?void 0:v.getObjectId(),A=m==="cell-keydown"&&h instanceof KeyboardEvent&&h.key==="Enter";this.emit(m,{feature:v,index:i,native:h,type:m,fieldName:p??void 0,objectId:w}),(A||m==="cell-click")&&this._onCellInteraction(w)}),Lt(()=>this.actionColumnConfig,i=>{const{actionColumn:o,columns:h}=this;o?i?o.set(i):h.remove(o):i&&h.length&&h.add(this._generateActionColumn(),i.frozenToEnd!==!1?void 0:this._getIndexOfFirstFrozenToEndColumn())}),Lt(()=>this.relatedRecordsEnabled,()=>{var i;return((i=this.layer)==null?void 0:i.loaded)&&this._generateColumns()}),Bi(()=>this.objectIds,"change",()=>this._onObjectIdsChange(),{onListenerAdd:()=>this._onObjectIdsChange()}),Lt(()=>[this.paginationEnabled,this.pageIndex],()=>this.refreshPageCache()),Lt(()=>this.activeSortOrders,i=>this.store.sortOrders=i),Lt(()=>this.pageCount,()=>{this.pageIndex>=this.pageCount&&this.goToPage(0)}),Lt(()=>this.state,i=>{i==="disabled"&&this.relatedTables.length&&this.drainRelatedTables()}),Bi(()=>{var i;return(i=this.tableParent)==null?void 0:i.highlightIds},"change",({added:i})=>{const{relationshipConfig:o}=this,h=i[0];if(h==null||!o)return;const{relatedLayer:p,relationshipId:m}=o;this.relationshipConfig={objectId:h,relatedLayer:p,relationshipId:m}}),Bi(()=>this.tableParent,"cell-click",i=>{const{tableParent:o}=this,{objectId:h}=i;o&&h!=null&&o.highlightIds.add(h)}),Lt(()=>this.attachmentsViewOptions.objectId,(i,o)=>{i!=null?o==null&&this.showAttachmentsView({objectId:i}):this.hideAttachmentsView()})])}destroy(){var e;this._drainColumns(),this._highlights.removeAll(),this._highlights.destroy(),(e=this.grid)==null||e.destroy(),this.columns.destroyed||this.columns.destroy(),this.layer=null,this.view=null}get _defaultHiddenFields(){return US(this.layer)}get _effectiveTableTemplate(){return this.tableTemplateOverride||this.tableTemplate}get _highlightableLayerView(){const e=this.layerView;return SB(e)?e:null}get _relationshipInfos(){return this.store.relationshipInfos}get _selectionManager(){var i,o;const{view:e}=this;return!e||e.destroyed?null:(o=(i=e.selectionManager)==null?void 0:i.sources)!=null&&o.length?e.selectionManager:null}get _selectableLayer(){var i;const{layer:e}=this;return TB(e)&&((i=this._selectionManager)!=null&&i.sources.includes(e))?e:null}get _subtypes(){return f8(this.layer)}get _tableHighlightsReady(){return!(this.selectionSource!=="table"||!this.highlightEnabled||!this._highlightableLayerView)}get _viewSelection(){var i;const{_selectableLayer:e}=this;return e?((i=this._selectionManager)==null?void 0:i.getSelection(e))??[]:[]}get _viewSelectionReady(){return!(!this.layer||this.selectionSource!=="view"||!this._selectionManager)}get allRelatedTablesVisible(){return!!(this.relatedRecordsEnabled&&this.relatedTables.length&&this.showAllRelatedTables)}get activeFilters(){const{filterGeometry:e,objectIds:i,filterBySelectionEnabled:o,highlightIds:h}=this,p=new Tt;return e&&p.push({type:"geometry",geometry:e}),o?p.push({type:"selection",objectIds:h.toArray()}):i.length&&p.push({type:"objectId",objectIds:i.toArray()}),p}get activeSortOrders(){var e;return(e=this.grid)!=null&&e.sortOrders?this.grid.sortOrders.map(({path:i,direction:o})=>({fieldName:i,direction:o})).filter(i=>i.fieldName&&i.direction):[]}get attachmentsEnabled(){return this.store.attachmentsEnabled}set attachmentsEnabled(e){this.store.attachmentsEnabled=e}get clearPrompt(){return()=>this.prompt=null}set clearPrompt(e){this._overrideIfSome("clearPrompt",e)}get filterGeometry(){return this.store.filterGeometry}set filterGeometry(e){this.store.filterGeometry=e}get filterBySelectionEnabled(){return!!this._get("filterBySelectionEnabled")}set filterBySelectionEnabled(e){const{objectIds:i}=this,o=i.length;e?(o&&(i.removeAll(),this._logWarning("Selection filter has been applied with an objectID filter. Object ID filter has been removed.")),this.filterGeometry&&this._logWarning("Selection filter has been applied with a geometry filter. Results may appear inconsistent"),this._syncObjectIdsWithStore(this.highlightIds.toArray())):o||this._syncObjectIdsWithStore(null),this._set("filterBySelectionEnabled",e)}get hiddenFields(){return this._get("hiddenFields")??new Tt}set hiddenFields(e){this._set("hiddenFields",Po(e,this._get("hiddenFields"),Tt))}get isQueryingOrSyncing(){const{store:e}=this;return(e==null?void 0:e.syncing)||(e==null?void 0:e.querying)||this.relatedTables.some(i=>!!i.isQueryingOrSyncing)}get isSyncingAttachments(){return this.store.syncingAttachmentEdits||this.relatedTables.some(e=>!!e.isSyncingAttachments)}get layer(){return this._get("layer")}set layer(e){this.drainRelatedTables(),this._set("layer",e)}get layerView(){return this.store.layerView}get outFields(){return this.store.outFields}set outFields(e){this.store.outFields=e}get relatedRecordsEnabled(){return this.store.relatedRecordsEnabled}set relatedRecordsEnabled(e){this.store.relatedRecordsEnabled=e}get relatedTable(){return this.relatedTables.at(-1)}get relationship(){var i,o;const e=(i=this.relationshipConfig)==null?void 0:i.relationshipId;return e==null?null:(o=this.relationships)==null?void 0:o.find(({id:h})=>h===e)}get relationshipConfig(){return this.store.relationshipConfig}set relationshipConfig(e){this.highlightIds.removeAll(),this.objectIds.removeAll(),this.filterBySelectionEnabled=!1,this.store.relationshipConfig=e}get relationships(){return this.store.relationships}get returnGeometryEnabled(){return this.store.returnGeometry}set returnGeometryEnabled(e){this.store.returnGeometry=e}get returnMEnabled(){return this.store.returnM}set returnMEnabled(e){this.store.returnM=e}get returnZEnabled(){return this.store.returnZ}set returnZEnabled(e){this.store.returnZ=e}get showAllRelatedTables(){return this._get("showAllRelatedTables")}set showAllRelatedTables(e){const{relatedTable:i}=this;this._set("showAllRelatedTables",e),i&&(e?this._showAllRelatedTables(i):this._hideAllRelatedTables(i))}get showPrompt(){return e=>{var i,o;(o=(i=this.prompt)==null?void 0:i.cancel)==null||o.call(i),this.prompt=e}}set showPrompt(e){this._overrideIfSome("showPrompt",e)}get supportsAttachments(){return this.store.supportsAttachments}get supportsAddAttachments(){const{store:{supportsAddingAttachments:e,supportsEditing:i}}=this;return this.editingEnabled&&i&&e}get supportsDeleteAttachments(){const{store:{supportsDeletingAttachments:e,supportsEditing:i}}=this;return this.editingEnabled&&i&&e}get supportsResizeAttachments(){return this.store.supportsResizeAttachments}get supportsUpdateAttachments(){const{store:{supportsUpdateAttachments:e,supportsEditing:i}}=this;return this.editingEnabled&&i&&e}get timeExtent(){return this.store.timeExtent}set timeExtent(e){this.store.timeExtent=e}get timeZone(){return this._get("timeZone")}set timeZone(e){this.allColumns.forEach(i=>i.tableTimeZone=e),this._set("timeZone",e)}get view(){return this.store.view}set view(e){this.store.view=e,this.fieldColumns.forEach(i=>i.view=e),this.refreshCellContent()}async addAttachment(e,i){const{attachmentsViewOptions:o,store:h}=this,p=o.objectId===e;await h.addAttachment(e,i).catch(m=>{p&&m&&typeof m=="object"&&"error"in m&&m.error instanceof kt&&(this._logWarning(`Unable to add attachment. ${m.error.name} ${m.error.message}`),o.error=m.error)}),p&&!o.error&&(o.onEditComplete(),o.attachmentInfos=await h.getAttachmentsByObjectId(e,!0)),this.refreshCellContent()}async deleteAttachments(e,i){const{attachmentsViewOptions:o,store:h}=this,p=o.objectId===e;await h.deleteAttachments(e,i).catch(m=>{p&&m&&typeof m=="object"&&"error"in m&&m.error instanceof kt&&(this._logWarning(`Unable to delete attachment(s). ${m.error.name} ${m.error.message}`),o.error=m.error)}),p&&!o.error&&(o.onEditComplete(),o.attachmentInfos=await h.getAttachmentsByObjectId(e,!0)),this.refreshCellContent()}collapseRelatedTable(e,i){const{relatedLayer:o,objectId:h,relationshipId:p}=i,{objectIdField:m}=o,v=JS(o,p),w=o.displayField||(v==null?void 0:v.keyField)||m;e.set({highlightIds:new Tt([h]),multipleSelectionEnabled:!1,tableTemplateOverride:this._getTableTemplateForRelatedTableView(e,w,p)});const A=e.hiddenFields;A.includes(Oe.action)||A.add(Oe.action),A.includes(Oe.attachments)||A.add(Oe.attachments),e.scrollLeft()}async deleteSelection(){const e=this.highlightIds.toArray();if(!(e!=null&&e.length))return;const{deleteFeatureResults:i}=await this.store.deleteRowsByObjectId(e),o=i.filter(h=>!h.error).map(h=>h.objectId);o.length&&(this.highlightIds.removeMany(o),await this.refresh())}async downloadAttachmentById(e,i){const o=(await this.store.getAttachmentsByObjectId(e,!0)).find(h=>h.id===i);zZ(o)}drainRelatedTables(){this.relatedTables.drain(e=>e.destroy()),this.set({multipleSelectionEnabled:!0,relationshipColumnConfigs:null,showAllRelatedTables:!1,tableTemplateOverride:null}),this.hiddenFields.removeMany([Oe.action,Oe.attachments])}drainRelatedTablesAboveIndex(e){const{relatedTables:i}=this,o=i.slice(e+1);i.removeMany(o).forEach(p=>p.destroy());const h=i.at(-1);h&&(h.attachmentsViewOptions.objectId=null,this.allRelatedTablesVisible?this._showAllRelatedTables(h):this._hideAllRelatedTables(h))}async exportSelectionToCSV(e){const{highlightIds:i,layer:o,outFields:h}=this;o&&i.length?await DZ({layer:o,objectIds:i.toArray(),outFields:h,includeGeometry:e}):this._logWarning("Export failed.")}filterBySelection(){this.filterBySelectionEnabled?this._logWarning("Property 'filterBySelectionEnabled' is already 'true'. This method has no effect."):($0(Rt.getLogger(this),"`FeatureTable.filterBySelection` is deprecated in favor of 'filterBySelectionEnabled' and 'objectIds'",{replacement:"FeatureTable.filterBySelectionEnabled or FeatureTable.objectIds",version:"4.30",warnOnce:!0}),this.objectIds.addMany(this.highlightIds.toArray()))}getObjectIdIndex(e){return this.store.getItemIndexByObjectId(e)}getValue(e,i){var h;const o=this.store.getItemByObjectId(e);return(h=o==null?void 0:o.feature)==null?void 0:h.attributes[i]}getVirtualPageIndex(){var e;return((e=this.grid)==null?void 0:e.getVirtualPageIndex())??0}goToPage(e){if(e==null||!Number.isInteger(e))return void this._logWarning("Invalid 'page' parameter provided to 'goToPage()'. Current page will remain the same.");const{pageCount:i}=this;(e>=i||e===-1)&&(e=i-1),e<-1&&(e=0),e!==this.pageIndex&&(this.pageIndex=e),this.paginationEnabled||this.scrollToIndex(e*this.pageSize)}hideAttachmentsView(){this.attachmentsViewOptions.objectId=null,this.set({relationshipColumnConfigs:null,multipleSelectionEnabled:!0,tableTemplateOverride:null}),this.hiddenFields.remove(Oe.action)}nextPage(){const e=this.paginationEnabled?this.pageIndex:this.getVirtualPageIndex();this.goToPage(e+1)}previousPage(){const e=this.paginationEnabled?this.pageIndex:this.getVirtualPageIndex();this.goToPage(e-1)}async refresh(){return this.relatedTables.forEach(async e=>await e.refresh()),bm(this._debounceRefresh())}refreshCellContent(){var e;(e=this.grid)==null||e.requestContentUpdate()}refreshPageCache(){var e;(e=this.grid)==null||e.refreshPageCache()}async reset(){var e;this.goToPage(0),await((e=this.grid)==null?void 0:e.reset())}scrollLeft(){var e;(e=this.grid)==null||e.scrollLeft(0)}scrollToBottom(){var e;(e=this.grid)==null||e.scrollToBottom()}scrollToIndex(e){var i;(i=this.grid)==null||i.scrollToIndex(e)}scrollToRow(e){var o;const i=this.store.getItemIndexByObjectId(e);i>-1?(o=this.grid)==null||o.scrollToIndex(i):this._logWarning("Row not found. Associated data may not be loaded yet.")}scrollToTop(){var e;(e=this.grid)==null||e.scrollToTop()}async saveAttachmentsViewForm(){const{attachmentId:e,form:i,objectId:o}=this.attachmentsViewOptions;o!=null&&i&&(e!=null?await this.updateAttachment(o,e,i):await this.addAttachment(o,i))}async showAttachmentsView({index:e,objectId:i}){const{attachmentsViewOptions:o,hiddenFields:h,layer:p}=this;if(!this.attachmentsEnabled||!p)return void this._logWarning("The 'attachmentsEnabled' property is currently false.");await p.load();const m=p.displayField||p.objectIdField,v=await this.store.getAttachmentsByObjectId(i,!0);o.set({attachmentInfos:v,mode:v.length?"list":"file",objectId:i}),this.set({highlightIds:new Tt([i]),multipleSelectionEnabled:!1,relationshipColumnConfigs:[],tableTemplateOverride:this._getTableTemplateForAttachmentsView(m)}),h.includes(Oe.action)||h.add(Oe.action),e!=null&&this.scrollToIndex(e)}clearSelectionFilter(){$0(Rt.getLogger(this),"`FeatureTable.clearSelectionFilter` is deprecated in favor of 'filterBySelectionEnabled' and 'objectIds'",{replacement:"FeatureTable.filterBySelectionEnabled or FeatureTable.objectIds",version:"4.30",warnOnce:!0}),this.objectIds.removeAll()}async updateAttachment(e,i,o){const{attachmentsViewOptions:h,store:p}=this,m=h.objectId===e;await p.updateAttachment(e,i,o).catch(v=>{m&&v&&typeof v=="object"&&"error"in v&&v.error instanceof kt&&(this._logWarning(`Unable to update attachment. ${v.error.name} ${v.error.message}`),h.error=v.error)}),m&&!h.error&&(h.onEditComplete(),h.attachmentInfos=await p.getAttachmentsByObjectId(e,!0)),this.refreshCellContent()}async zoomToSelection(){const{layer:e,view:i}=this,o=this.highlightIds.toArray();if(!e||!i||!o.length)return;const h=e.createQuery();h.objectIds=o,h.returnGeometry=!0;const p=await e.queryFeatures(h);try{await i.goTo(p.features)}catch(m){m.name!=="AbortError"&&console.error(m)}}async _refresh(){await this.store.refresh();const e=this.highlightIds.toArray();e.length&&(await this.store.verifyFeaturesByObjectId(e)).forEach((i,o)=>{i||this.highlightIds.remove(e[o])}),this.refreshPageCache()}async _onLayerLoad(){var m,v;const{layer:e,pageSize:i}=this;if(!e)return;e.parent&&Rc(e.parent)&&await e.parent.loadAll();const o=(m=e.capabilities.query)==null?void 0:m.maxRecordCount,h=o&&o<i,p=h?o:i;h&&(this._logWarning("The value for 'pageSize' has been adjusted due to the provided layer's max record count."),this.pageSize=p),(v=this.grid)==null||v.set("pageSize",p),this.store.load(),this._generateColumns()}_onLayerRefresh(e){this.autoRefreshEnabled&&e.dataChanged&&this.refresh()}_generateColumns(){var o;this._drainColumns();const e=(o=this._effectiveTableTemplate)==null?void 0:o.columnTemplates,i=e?this._generateColumnsFromTemplates(e):this._generateDefaultFieldColumns();i.length&&(this.attachmentsEnabled&&!i.some(h=>"onShowAttachments"in h)&&i.push(this._generateDefaultAttachmentsColumn()),this.relatedRecordsEnabled&&this._relationshipInfos.length&&!i.some(h=>"relationshipId"in h)&&i.push(...this._generateDefaultRelationshipColumns()),this.actionColumnConfig&&i.push(this._generateActionColumn()),i.sort((h,p)=>h.frozen&&p.frozen||h.frozenToEnd&&p.frozenToEnd?0:h.frozen||p.frozenToEnd?-1:0),this.columns.addMany(i))}_generateColumnsFromTemplates(e){const{editingEnabled:i,grid:o,layer:h,messages:p,messagesCommon:m,messagesURIUtils:v,store:w,timeZone:A,view:$}=this;if(!h)return[];const M=h.fields??[],P=[],R=B=>M.find(G=>{var H;return B.fieldName.toLowerCase()===((H=G.name)==null?void 0:H.toLowerCase())});return e.forEach((B,G)=>{var Nu;const{autoWidth:H,description:Z,direction:X,flexGrow:Q,fieldName:rt,formatFunction:et,frozen:nt,frozenToEnd:bt,icon:gt,initialSortPriority:At,invalid:wt,label:$t,menuConfig:Ht,resizable:Ce,sortable:Vt,textAlign:Xe,textWrap:pr,timeZone:Ji,type:fe,width:Bn}=B;if(!fe)return void this._logTemplateWarning("Property 'type' is missing from the provided template.");if(nt&&bt)return void this._logTemplateWarning("Properties 'frozen' and 'frozenToEnd' cannot both be true for the same column.");const Ou=B.visible===!1;if(fe==="group"){if(!((Nu=B.columnTemplates)!=null&&Nu.length))return void this._logTemplateWarning("Group columns must contain column templates.");if(!B.label)return void this._logTemplateWarning("Group columns require a label.");const jr=this._generateColumnsFromTemplates(B.columnTemplates),Vn=Ou||this._isFieldHidden(B.label);P.push(new EZ({autoWidth:H,columns:jr,description:Z,flexGrow:Q,frozen:nt,frozenToEnd:bt,grid:o,hidden:Vn,icon:gt,invalid:wt,label:$t,menuConfig:Ht,messages:p,messagesCommon:m,messagesURIUtils:v,resizable:Ce,tableTimeZone:A,textAlign:Xe,textWrap:pr,timeZone:Ji,width:Bn}))}else if(fe==="attachment"){if(!this.attachmentsEnabled)return void this._logTemplateWarning("Attachment columns require attachments to be enabled on the table.");P.push(this._generateAttachmentsColumnFromTemplate(B,G))}else if(fe==="relationship"){if(!this.relatedRecordsEnabled)return void this._logTemplateWarning("Relationship columns require related records to be enabled on the table.");const{relationshipId:jr}=B;if(jr==null)return void this._logTemplateWarning("Property 'relationshipId' is missing from the provided template.");const Vn=this._relationshipInfos.find(Yl=>Yl.relationshipId===jr);if(!Vn)return void this._logTemplateWarning("Unable to find valid related layer target based on the provided relationship id.");P.push(this._generateRelationshipColumnFromTemplate(Vn,B,G))}else if(!rt)return void this._logTemplateWarning("Value for 'fieldName' property was missing from the provided template.");const Pu=Ou||this._isFieldHidden(rt);if(fe==="column")P.push(new ql({autoWidth:H,description:Z,direction:X,fieldName:rt,flexGrow:Q,formatFunction:et,frozen:nt,frozenToEnd:bt,grid:o,hidden:Pu,icon:gt,initialSortPriority:At,invalid:wt,label:$t,menuConfig:Ht,messages:p,messagesCommon:m,messagesURIUtils:v,resizable:Ce,sortable:Vt,tableTimeZone:A,textAlign:Xe,textWrap:pr,timeZone:Ji,width:Bn}));else if(fe==="field"){const jr=R(B);if(!jr)return void this._logTemplateWarning("A valid 'field' could not be found for the provided template.");const{editable:Vn,required:Yl}=B;P.push(new u9({autoWidth:H,description:Z,direction:X,editable:Vn,field:jr,fieldName:jr.name,flexGrow:Q,formatFunction:et,frozen:nt,frozenToEnd:bt,grid:o,hidden:Pu,icon:gt,initialSortPriority:At,invalid:wt,label:$t,layer:h,messages:p,messagesCommon:m,messagesURIUtils:v,menuConfig:Ht,required:Yl,resizable:Ce,sortable:Vt,store:w,tableEditingEnabled:i,tableTimeZone:A,template:B,textAlign:Xe,textWrap:pr,timeZone:Ji,width:Bn,view:$,onShowPromptCallback:this._onShowPromptCallback}))}}),P}_generateDefaultFieldColumns(){const{editingEnabled:e,grid:i,layer:o,messages:h,messagesCommon:p,messagesURIUtils:m,store:v,timeZone:w,view:A}=this,$=[];return o!=null&&o.fields.length&&o.fields.forEach(M=>{if(!M.visible||M.type==="geometry")return;const P=M.name;$.push(new u9({field:M,fieldName:P,grid:i,hidden:this._isFieldHidden(P),layer:o,messages:h,messagesCommon:p,messagesURIUtils:m,store:v,tableEditingEnabled:e,tableTimeZone:w,view:A,onShowPromptCallback:this._onShowPromptCallback}))}),$}_generateAttachmentsColumnFromTemplate(e,i){const{grid:o,layer:h,messages:p,messagesCommon:m,messagesURIUtils:v,store:w,timeZone:A}=this,{attachmentsViewEnabled:$,autoWidth:M,description:P,flexGrow:R,fieldName:B,formatFunction:G,frozen:H,frozenToEnd:Z,icon:X,invalid:Q,label:rt,menuConfig:et,resizable:nt,textAlign:bt,textWrap:gt,thumbnailAppearance:At,thumbnailCount:wt,thumbnailIconScale:$t,thumbnailsEnabled:Ht,timeZone:Ce,width:Vt}=e;return new G_({attachmentsViewEnabled:$,autoWidth:M,description:P,fieldName:`${Oe.attachments}-${i}`,flexGrow:R,formatFunction:G,frozen:H,frozenToEnd:Z,grid:o,hidden:e.visible===!1||this._isFieldHidden(rt)||this._isFieldHidden(B),icon:X,invalid:Q,label:rt,layer:h,menuConfig:et,messages:p,messagesCommon:m,messagesURIUtils:v,resizable:nt,store:w,tableTimeZone:A,textAlign:bt,textWrap:gt,thumbnailAppearance:At,thumbnailCount:wt,thumbnailIconScale:$t,thumbnailsEnabled:Ht,timeZone:Ce,width:Vt,onShowAttachments:Xe=>this._onShowAttachments(Xe)})}_generateDefaultAttachmentsColumn(){const{grid:e,layer:i,messages:o,messagesCommon:h,messagesURIUtils:p,store:m,timeZone:v}=this,w=Oe.attachments,A=this._isFieldHidden(w);return new G_({fieldName:w,grid:e,hidden:A,layer:i,messages:o,messagesCommon:h,messagesURIUtils:p,store:m,tableTimeZone:v,onShowAttachments:$=>this._onShowAttachments($)})}_generateRelationshipColumnFromTemplate(e,i,o){const{grid:h,messages:p,messagesCommon:m,messagesURIUtils:v,store:w,timeZone:A}=this,{autoWidth:$,collapsed:M,description:P,flexGrow:R,fieldName:B,formatFunction:G,frozen:H,frozenToEnd:Z,icon:X,invalid:Q,label:rt,menuConfig:et,relationshipId:nt,resizable:bt,textAlign:gt,textWrap:At,timeZone:wt,width:$t}=i;return new S1({autoWidth:$,collapsed:M,description:P,fieldName:`${Oe.relationship}-${nt}-${o}`,flexGrow:R,formatFunction:G,frozen:H,frozenToEnd:Z,grid:h,hidden:i.visible===!1||this._isFieldHidden(rt)||this._isFieldHidden(B),icon:X,invalid:Q,label:rt,menuConfig:et,messages:p,messagesCommon:m,messagesURIUtils:v,relationshipId:nt,resizable:bt,store:w,tableTimeZone:A,textAlign:gt,textWrap:At,timeZone:wt,width:$t,layer:e.relatedLayer,relatedLayer:e.layer,showRelatedTableCallback:Ht=>this._onShowRelatedTable(Ht)})}_generateDefaultRelationshipColumns(){const{_relationshipInfos:e,grid:i,messages:o,messagesCommon:h,messagesURIUtils:p,relationshipColumnConfigs:m}=this,v=[];if(!(e!=null&&e.length))return v;const w={grid:i,messages:o,messagesCommon:h,messagesURIUtils:p};return m?m.forEach((A,$)=>{const{relationshipId:M}=A,P=e.find(R=>R.relationshipId===M);P&&v.push(new S1({...A,...w,fieldName:`${Oe.relationship}-${M}-${$}`,layer:P.relatedLayer,relatedLayer:P.layer,relationshipId:M,showRelatedTableCallback:R=>this._onShowRelatedTable(R)}))}):e.forEach(({layer:A,relatedLayer:$,relationshipId:M},P)=>{v.push(new S1({...w,fieldName:`${Oe.relationship}-${M}-${P}`,layer:$,relatedLayer:A,relationshipId:M,showRelatedTableCallback:R=>this._onShowRelatedTable(R)}))}),v}_generateActionColumn(){return new LB({hidden:this._isFieldHidden(Oe.action),...this.actionColumnConfig})}_isFieldHidden(e){const i=e==null?void 0:e.toLowerCase();return(this.hiddenFields??this._defaultHiddenFields).some(o=>o.toLowerCase()===i)}_addTableHighlight(e){const{_highlightableLayerView:i,layer:o}=this;if(i&&o){const h=this.store.getItemByObjectId(e),p=(h==null?void 0:h.feature)??e;this._highlights.add(i.highlight(p),`${o.id}-${e}`)}}_removeTableHighlight(e){const{layer:i}=this;i&&this._highlights.remove(`${i.id}-${e}`)}_syncSelection(){this._highlights.removeAll(),this._tableHighlightsReady?this.highlightIds.forEach(e=>this._addTableHighlight(e)):this._viewSelectionReady&&(this.highlightIds.items=this._viewSelection)}_appendToViewSelection(e){var o;const{_selectableLayer:i}=this;i&&((o=this._selectionManager)==null||o.appendToSelection(i,e))}_removeFromViewSelection(e){var o;const{_selectableLayer:i}=this;i&&((o=this._selectionManager)==null||o.removeFromSelection(i,e))}async _onHighlightIdsChange(e){const{added:i,removed:o}=e,{attachmentsViewOptions:h}=this;if(this._tableHighlightsReady?(o.forEach(p=>this._removeTableHighlight(p)),i.forEach(p=>this._addTableHighlight(p))):this._viewSelectionReady&&(this._removeFromViewSelection(o),this._appendToViewSelection(i)),this.filterBySelectionEnabled&&this._syncObjectIdsWithStore(this.highlightIds.toArray()),h.objectId!=null){const p=this.highlightIds.at(0);if(p!=null){const m=await this.store.getAttachmentsByObjectId(p,!0);h.set({attachmentInfos:m,objectId:p,mode:m.length?"list":"file"})}}}_onShowRelatedTable(e){const{highlightIds:i}=this,{objectId:o}=e;i.removeAll(),i.add(o),this.showRelatedTableCallback?this.showRelatedTableCallback(e):this.emit("show-related-table",e)}_onObjectIdsChange(){const e=this.objectIds.toArray();e.length&&this.filterBySelectionEnabled&&(this.filterBySelectionEnabled=!1,this._logWarning("Object ID filter was applied while a selection filter was applied. Selection filter has been removed.")),this._syncObjectIdsWithStore(e)}_syncObjectIdsWithStore(e){this.store.objectIds=e,this.refreshPageCache()}_drainColumns(){this.columns.drain(e=>!e.destroyed&&e.destroy())}_showAllRelatedTables(e){const i=e.layer;if(!i)return;const o=i.displayField||i.objectIdField;e.set({relationshipColumnConfigs:[],tableTemplateOverride:this._getTableTemplateForShowAllTablesView(e,o)});const h=e.hiddenFields;h.includes(Oe.action)||h.add(Oe.action),h.includes(Oe.attachments)||h.add(Oe.attachments)}_hideAllRelatedTables(e){var h,p;const{layer:i,relationship:o}=e;if(i&&(o==null?void 0:o.id)!=null)if(e.attachmentsViewOptions.objectId!=null){const m=((h=e.layer)==null?void 0:h.displayField)||((p=e.layer)==null?void 0:p.objectIdField)||"";e.set({multipleSelectionEnabled:!1,relationshipColumnConfigs:[],showAllRelatedTables:!1,tableTemplateOverride:this._getTableTemplateForAttachmentsView(m)})}else e.set({multipleSelectionEnabled:!0,relationshipColumnConfigs:WS(i,o.id),showAllRelatedTables:!1,tableTemplateOverride:null}),e.hiddenFields.removeMany([Oe.action,Oe.attachments])}_getTableTemplateForRelatedTableView(e,i,o){return new a0({columnTemplates:[new Lo({fieldName:i,editable:!1,menuConfig:{selectionMode:"single",icon:"chevron-down",items:this._extractFieldColumnInfosFromTableTemplate(e.viewModel).map(([h,p])=>({selected:h===i,label:p||h,clickFunction:()=>{e.tableTemplateOverride=this._getTableTemplateForRelatedTableView(e,h,o)}}))},resizable:!1}),new ru({autoWidth:!1,collapsed:!0,flexGrow:0,label:"",resizable:!1,relationshipId:o,width:J1})]})}_getTableTemplateForShowAllTablesView(e,i){const o=[new Lo({fieldName:i,editable:!1,menuConfig:{selectionMode:"single",icon:"chevron-down",items:this._extractFieldColumnInfosFromTableTemplate(e.viewModel).map(([h,p])=>({selected:h===i,label:p||h,clickFunction:()=>{e.tableTemplateOverride=this._getTableTemplateForShowAllTablesView(e,h)}}))},resizable:!1})];return e.attachmentsViewOptions.objectId!=null&&o.push(new Ol({attachmentsViewEnabled:!1,autoWidth:!1,flexGrow:0,label:"",resizable:!1,thumbnailsEnabled:!1,width:J1})),new a0({columnTemplates:o})}async _onShowPromptCallback(e){const{column:i,objectId:o,oldValue:h,value:p}=e,{_subtypes:m,layer:v}=this;if(!v||!m.length)return void i.cancel();const w=m.find(P=>P.code===p);if(!w)return void i.cancel();const A=Uo(),$=this._createSubtypeEditPrompt(h,w,A),M=!!v.parent;try{this.showPrompt($);const P=await A.promise,R=[{fieldName:i.fieldName,value:p}];switch(P){case"update-fields":for(const[B,G]of Object.entries(w.defaultValues))G!=null&&R.push({fieldName:B,value:G});await i.updateItems({objectId:o,updates:R}),M&&this.refresh();break;case"keep-existing":await i.updateItems({objectId:o,updates:R}),M&&this.refresh();break;case"undo":i.cancel()}}finally{this.clearPrompt()}}_createSubtypeEditPrompt(e,i,o){var $;const{_subtypes:h,messages:p,messagesCommon:m}=this,v=(($=h.find(M=>M.code===e))==null?void 0:$.name)??`${e}`;let w="update-fields";const A=[{label:p.subtypes.useDefaultValuesOption,value:"update-fields"},{label:p.subtypes.keepCurrentValuesOption,value:"keep-existing"}];return{context:"info",title:p.subtypes.changeWarningTitle,message:en(p.subtypes.changeWarning,{originalType:v,newType:i.name}),radios:A,defaultRadioSelection:"update-fields",onRadioSelection:M=>{w=M},actions:{primary:{label:m.apply,action:()=>o.resolve(w),type:"positive"},secondary:{label:m.cancel,type:"neutral",action:()=>o.resolve("undo")}},cancel:()=>o.reject()}}_onShowAttachments({objectId:e}){this.attachmentsViewOptions.objectId=e}_getTableTemplateForAttachmentsView(e){return new a0({columnTemplates:[new Lo({fieldName:e,editable:!1,menuConfig:{selectionMode:"single",icon:"chevron-down",items:this._extractFieldColumnInfosFromTableTemplate(this).map(([i,o])=>({selected:i===e,label:o||i,clickFunction:()=>{this.tableTemplateOverride=this._getTableTemplateForAttachmentsView(i)}}))},resizable:!1}),new Ol({attachmentsViewEnabled:!1,autoWidth:!1,flexGrow:0,label:"",resizable:!1,thumbnailsEnabled:!1,width:J1})]})}_extractFieldColumnInfosFromTableTemplate(e){const i=e??this,{layer:o,tableTemplate:h}=i;return h?h.columnTemplates.filter(({type:p})=>p==="field"||p==="column").map(({fieldName:p,label:m})=>[p,m]):(o==null?void 0:o.fields.map(p=>[p.name,p.alias]))??[]}_getIndexOfFirstFrozenToEndColumn(){const e=this.columns.findIndex(i=>i.frozenToEnd);return e>-1?e:void 0}_logWarning(e){Rt.getLogger(this).warn(e)}_logTemplateWarning(e){this._logWarning(`${e} Skipped generating a column using the provided template.`)}_onCellInteraction(e){e!=null&&this.attachmentsViewOptions.objectId!=null&&this.highlightIds.add(e)}};C([E()],yt.prototype,"_defaultHiddenFields",null),C([E()],yt.prototype,"_effectiveTableTemplate",null),C([E()],yt.prototype,"_highlights",void 0),C([E()],yt.prototype,"_highlightableLayerView",null),C([E()],yt.prototype,"_relationshipInfos",null),C([E()],yt.prototype,"_selectionManager",null),C([E()],yt.prototype,"_selectableLayer",null),C([E()],yt.prototype,"_subtypes",null),C([E()],yt.prototype,"_tableHighlightsReady",null),C([E()],yt.prototype,"_viewSelection",null),C([E()],yt.prototype,"_viewSelectionReady",null),C([E()],yt.prototype,"actionColumnConfig",void 0),C([E()],yt.prototype,"allRelatedTablesVisible",null),C([E()],yt.prototype,"activeFilters",null),C([E({readOnly:!0})],yt.prototype,"activeSortOrders",null),C([E()],yt.prototype,"attachmentsEnabled",null),C([E()],yt.prototype,"attachmentsViewOptions",void 0),C([E()],yt.prototype,"autoRefreshEnabled",void 0),C([E()],yt.prototype,"clearPrompt",null),C([E({readOnly:!0})],yt.prototype,"columns",void 0),C([E()],yt.prototype,"dataProvider",void 0),C([E()],yt.prototype,"editingEnabled",void 0),C([E()],yt.prototype,"filterGeometry",null),C([E()],yt.prototype,"filterBySelectionEnabled",null),C([E({readOnly:!0})],yt.prototype,"grid",void 0),C([E()],yt.prototype,"hiddenFields",null),C([E()],yt.prototype,"highlightEnabled",void 0),C([E()],yt.prototype,"isQueryingOrSyncing",null),C([E()],yt.prototype,"isSyncingAttachments",null),C([E({readOnly:!0})],yt.prototype,"itemIdPath",void 0),C([E()],yt.prototype,"layer",null),C([E()],yt.prototype,"layerView",null),C([E()],yt.prototype,"messages",void 0),C([E(),$s("esri/t9n/common")],yt.prototype,"messagesCommon",void 0),C([E(),$s("esri/core/t9n/Units")],yt.prototype,"messagesUnits",void 0),C([E(),$s("esri/widgets/support/t9n/uriUtils")],yt.prototype,"messagesURIUtils",void 0),C([E()],yt.prototype,"outFields",null),C([E()],yt.prototype,"prompt",void 0),C([E()],yt.prototype,"relatedRecordsEnabled",null),C([E()],yt.prototype,"relatedTable",null),C([E()],yt.prototype,"relatedTables",void 0),C([E()],yt.prototype,"relationship",null),C([E()],yt.prototype,"relationshipColumnConfigs",void 0),C([E()],yt.prototype,"relationshipConfig",null),C([E()],yt.prototype,"relationships",null),C([E()],yt.prototype,"returnGeometryEnabled",null),C([E()],yt.prototype,"returnMEnabled",null),C([E()],yt.prototype,"returnZEnabled",null),C([E()],yt.prototype,"selectionSource",void 0),C([E()],yt.prototype,"showAllRelatedTables",null),C([E()],yt.prototype,"showPrompt",null),C([E()],yt.prototype,"showRelatedTableCallback",void 0),C([E({readOnly:!0,type:ST})],yt.prototype,"store",void 0),C([E()],yt.prototype,"supportsAttachments",null),C([E()],yt.prototype,"supportsAddAttachments",null),C([E()],yt.prototype,"supportsDeleteAttachments",null),C([E()],yt.prototype,"supportsResizeAttachments",null),C([E()],yt.prototype,"supportsUpdateAttachments",null),C([E()],yt.prototype,"tableController",void 0),C([E()],yt.prototype,"tableParent",void 0),C([E({type:a0})],yt.prototype,"tableTemplate",void 0),C([E()],yt.prototype,"tableTemplateOverride",void 0),C([E()],yt.prototype,"timeExtent",null),C([E()],yt.prototype,"timeZone",null),C([E()],yt.prototype,"view",null),yt=C([Y("esri.widgets.FeatureTable.FeatureTableViewModel")],yt);const TT=yt;let Ar=class extends me{constructor(e){super(e),this.clearSelection=!0,this.deleteSelection=!0,this.exportSelectionToCSV=!0,this.refreshData=!0,this.selectedRecordsShowAllToggle=!0,this.selectedRecordsShowSelectedToggle=!0,this.toggleColumns=!0,this.zoomToSelection=!0}};C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"clearSelection",void 0),C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"deleteSelection",void 0),C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"exportSelectionToCSV",void 0),C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"refreshData",void 0),C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"selectedRecordsShowAllToggle",void 0),C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"selectedRecordsShowSelectedToggle",void 0),C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"toggleColumns",void 0),C([E({type:Boolean,nonNullable:!0})],Ar.prototype,"zoomToSelection",void 0),Ar=C([Y("esri.widgets.FeatureTable.TableMenuVisibleElements")],Ar);const ET=Ar;let Ai=class extends me{constructor(e){super(e),this.columnDescriptions=!0,this.columnMenus=!0,this.columnMenuItems=new ac,this.close=!1,this.header=!0,this.layerDropdown=!1,this.menu=!0,this.menuItems=new ET,this.progress=!0,this.selectionColumn=!0,this.tooltips=!0}};C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"columnDescriptions",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"columnMenus",void 0),C([E({type:ac,nonNullable:!0})],Ai.prototype,"columnMenuItems",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"close",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"header",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"layerDropdown",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"menu",void 0),C([E({type:ET,nonNullable:!0})],Ai.prototype,"menuItems",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"progress",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"selectionColumn",void 0),C([E({type:Boolean,nonNullable:!0})],Ai.prototype,"tooltips",void 0),Ai=C([Y("esri.widgets.FeatureTable.VisibleElements")],Ai);const Xa=Ai;function sK(t){return e=>{e.hasOwnProperty("_delegatedEventNames")||(e._delegatedEventNames=e._delegatedEventNames?e._delegatedEventNames.slice():[]);const i=e._delegatedEventNames,o=Array.isArray(t)?t:oK(t);i.push(...o)}}function oK(t){return t.split(",").map(e=>e.trim())}var yb;const Er="esri-feature-table",wa=`${Er}__prompt`,un=`${Er}__attachments-view`,ze={base:Er,content:`${Er}__content`,menuPopover:`${Er}__menu-popover`,layerDropdownMenu:`${Er}__layer-switcher-menu`,tableContainer:`${Er}__table-container`,tableContainerWithAttachments:`${Er}__table-container--attachments`,tableNavigation:`${Er}__table-navigation`,attachmentsView:un,attachmentsViewContent:`${un}__content`,attachmentsViewDropArea:`${un}__drop-area`,attachmentsViewIcon:`${un}__icon`,attachmentsViewInformation:`${un}__information`,attachmentsViewList:`${un}__list`,attachmentsViewListFileSize:`${un}__list__filesize`,attachmentsViewListItemDelete:`${un}__list-item--delete`,attachmentsViewListThumbnail:`${un}__list__thumbnail`,expanded:`${Er}__expanded`,collapsed:`${Er}__collapsed`,promptContainer:wa,promptHeader:`${wa}__header`,promptHeading:`${wa}__header__heading`,promptMessage:`${wa}__message`,promptDivider:`${wa}__divider`,promptActions:`${wa}__actions`},Me={attachment:"attachment",chevronDown:"chevron-down",chevronLeft:"chevron-left",chevronRight:"chevron-right",clearSelection:"clear-selection",downloadTo:"download-to",exclamationMarkTriangle:"exclamation-mark-triangle",exportToCSV:"file-csv",folderOpen:"folder-open",delete:"trash",launch:"launch",layers:"layers",moveUp:"move-up",plus:"plus",refresh:"refresh",replaceImage:"replace-image",save:"save",showAll:"selection-x",showColumn:"show-column",showSelected:"selection-filter",upload:"upload",zoomToSelection:"zoom-to-object"};let lt=yb=class extends G8{constructor(t,e){super(t,e),this._attachmentsInput=null,this._columnVisibilityActions=new Map,this.attachmentsList=null,this.description=null,this.disabled=!1,this.layers=null,this.menuConfig=null,this.title=null,this.viewModel=new TT,this.visibleElements=new Xa,this._showDeletePrompt=this._showDeletePrompt.bind(this),this._onDeleteSelectionClick=this._onDeleteSelectionClick.bind(this)}initialize(){this.addHandles([Lt(()=>[this.viewModel.store.querying,this.viewModel.store.syncing,this.editingEnabled],()=>this.scheduleRender()),Lt(()=>[this._effectiveVisibleElements,this._effectiveVisibleElements.columnDescriptions,this._effectiveVisibleElements.columnMenus,this._effectiveVisibleElements.columnMenuItems,this.columns.length],()=>{this.columns.forEach(t=>t.visibleElements=this._effectiveVisibleElements),this.refreshCellContent()},qf),Lt(()=>this._effectiveVisibleElements.selectionColumn,t=>{this.grid&&(this.grid.selectionColumnEnabled=t)},Iv),Bi(()=>this.viewModel,"show-related-table",t=>this._onShowRelatedTable(t))])}loadDependencies(){return Promise.all([vu({action:()=>vt(()=>import("./calcite-action-Bu7tqzqE.js"),__vite__mapDeps([180,181])),alert:()=>vt(()=>import("./calcite-alert-Y68_PL9b.js"),__vite__mapDeps([215,185,216,217])),button:()=>vt(()=>import("./calcite-button-OwHWnVyW.js"),[]),chip:()=>vt(()=>import("./calcite-chip-BgJ8diYv.js"),__vite__mapDeps([218,217])),dropdown:()=>vt(()=>import("./calcite-dropdown-D1HUwiNG.js"),__vite__mapDeps([182,183,184,185])),"dropdown-group":()=>vt(()=>import("./calcite-dropdown-group-BZ3GBpuF.js"),__vite__mapDeps([188,187])),"dropdown-item":()=>vt(()=>import("./calcite-dropdown-item-DySVdsgQ.js"),__vite__mapDeps([186,187])),icon:()=>vt(()=>import("./calcite-icon-B5wvyzgm.js"),[]),label:()=>vt(()=>import("./calcite-label-CXLoAlD_.js"),[]),list:()=>vt(()=>import("./calcite-list-DEz7lVXs.js"),__vite__mapDeps([219,220,221,222,184,190,169,191,170,192])),"list-item":()=>vt(()=>import("./calcite-list-item-BLSA8Adn.js"),__vite__mapDeps([223,221,220,181,224])),pagination:()=>vt(()=>import("./calcite-pagination-DYXoKyU6.js"),[]),panel:()=>vt(()=>import("./calcite-panel-CUTLTBOl.js"),__vite__mapDeps([225,226,205,167,181,200,183,184,196,185,195,201])),popover:()=>vt(()=>import("./calcite-popover-BfZsosHM.js"),__vite__mapDeps([227,200,183,184,196,185,195,201,181])),progress:()=>vt(()=>import("./calcite-progress-KBux8w-D.js"),__vite__mapDeps([228,192])),switch:()=>vt(()=>import("./calcite-switch-DiS6Xp-u.js"),[]),tooltip:()=>vt(()=>import("./calcite-tooltip-CQlqWX4W.js"),__vite__mapDeps([229,183,184,185,201]))}),xF(),IB()])}destroy(){this.drainRelatedTables(),this.clearPrompt()}get _effectiveDescription(){const{description:t}=this;return t!=null?ci.sanitize(typeof t=="function"?t():t):void 0}get _effectiveLayers(){const{layer:t,layers:e}=this,i=e!=null&&e.length?e.filter(jc):[],o=i.length?i:[...this._viewLayers];return t&&!o.includes(t)&&o.push(t),o}get _effectiveTitle(){const{layer:t,messages:e,state:i,highlightIds:o,title:h,size:p}=this;if(h)return ci.sanitize(typeof h=="function"?h():h);if(!t)return e.noLayer;switch(i){case"disabled":return e.errorLayer;case"ready":case"loading":return e.loading;case"error":return e.errorData}return en(e.header,{title:ci.sanitize(t.title),count:p,selected:o.length})}get _effectiveVisibleElements(){return this.visibleElementsOverride??this.visibleElements}get _filteredTables(){const t=this.relatedTables.toArray(),e=t.length===1;return this.allRelatedTablesVisible?t:e?[t[0]]:this._shouldShowAttachmentsView?t.slice(-1):t.slice(-2)}get _hasAttachmentsViewError(){return this.attachmentsViewOptions.error!=null}get _hasCustomMenuItems(){var t,e;return!!((e=(t=this.menuConfig)==null?void 0:t.items)!=null&&e.length)}get _hasDefaultMenuItems(){return!!(this._showClearSelectionAction||this._showDeleteSelectionAction||this._showExportSelectionToCSVAction||this._showRefreshDataAction||this._showZoomToSelectionAction||this._showSelectedRecordsShowSelectedAction||this._showSelectedRecordsShowAllAction||this._showColumnsVisibilityAction)}get _shouldShowGrid(){return this.allRelatedTablesVisible||this.relatedTables.length===1&&!this._shouldShowAttachmentsView}get _shouldShowMenu(){const{header:t,menu:e}=this._effectiveVisibleElements;return!(!t||!e||!this._hasDefaultMenuItems&&!this._hasCustomMenuItems)}get _shouldShowAttachmentsView(){return!(this.attachmentsViewOptions.objectId==null&&!this.relatedTables.some(t=>t.attachmentsViewOptions.objectId!=null))}get _showClearSelectionAction(){var t;return!(!this.highlightIds.length||!((t=this._effectiveVisibleElements.menuItems)!=null&&t.clearSelection)||this.relatedTables.length)}get _showColumnsVisibilityAction(){const{header:t,menu:e,menuItems:i}=this._effectiveVisibleElements;return!(!(t&&e&&(i!=null&&i.toggleColumns))||this.showRelatedTableCallback||this.allRelatedTablesVisible||this._shouldShowAttachmentsView)}get _showDeleteSelectionAction(){var t,e,i,o;return!(!(this.editingEnabled&&this.highlightIds.length&&((t=this._effectiveVisibleElements.menuItems)!=null&&t.deleteSelection)&&((o=(i=(e=this.layer)==null?void 0:e.capabilities)==null?void 0:i.operations)!=null&&o.supportsDelete))||this.relatedTables.length)}get _showExportSelectionToCSVAction(){return!(!(this._effectiveVisibleElements.menuItems.exportSelectionToCSV&&this.layer&&this.highlightIds.length)||this.relatedTables.length)}get _showLayerDropdown(){return!(!this._effectiveLayers.length||!this._effectiveVisibleElements.layerDropdown)}get _shouldShowNavigationBar(){const t=!!this.relatedTable||this._shouldShowAttachmentsView;return!this.tableParent&&t}get _showRefreshDataAction(){var t;return!!((t=this._effectiveVisibleElements.menuItems)!=null&&t.refreshData)}get _showSelectedRecordsShowSelectedAction(){var i;const t=this.objectIds.length,e=this.highlightIds.length;return!(!e||!((i=this._effectiveVisibleElements.menuItems)!=null&&i.selectedRecordsShowSelectedToggle)||t&&e===t||this.relatedTables.length)}get _showSelectedRecordsShowAllAction(){var t;return!(!((t=this._effectiveVisibleElements.menuItems)!=null&&t.selectedRecordsShowAllToggle)||!this.objectIds.length||this.relatedTables.length)}get _showZoomToSelectionAction(){var t,e;return!(!this.view||!this.highlightIds.length||(t=this.effectiveTable.layer)!=null&&t.isTable||!((e=this._effectiveVisibleElements.menuItems)!=null&&e.zoomToSelection))}get _viewLayers(){var h;const t=(h=this.view)==null?void 0:h.map;if(!t)return[];const e=new Set,i=p=>{!jc(p)||Rc(p)||e.has(p)||e.add(p)},o=p=>{var m,v,w,A,$;Nv(p)||p.type==="catalog-footprint"||(Nz(p)?((m=p.layers)==null||m.forEach(i),(v=p.tables)==null||v.forEach(i)):mg(p)?((w=p.sublayers)==null||w.forEach(i),(A=p.subtables)==null||A.forEach(i)):Rc(p)?($=p.sublayers)==null||$.forEach(i):i(p))};return t.allLayers.forEach(o),t.allTables.forEach(o),[...e.values()]}get grid(){return this.viewModel.grid}get actionColumnConfig(){return this.viewModel.actionColumnConfig}set actionColumnConfig(t){this.viewModel.actionColumnConfig=t}get activeFilters(){return this.viewModel.activeFilters}get activeSortOrders(){return this.viewModel.activeSortOrders}get allRelatedTablesVisible(){return this.viewModel.allRelatedTablesVisible}get attachmentsEnabled(){return this.viewModel.attachmentsEnabled}set attachmentsEnabled(t){this.viewModel.attachmentsEnabled=t}get attachmentsViewOptions(){return this.viewModel.attachmentsViewOptions}set attachmentsViewOptions(t){this.viewModel.attachmentsViewOptions=t}get autoRefreshEnabled(){return this.viewModel.autoRefreshEnabled}set autoRefreshEnabled(t){this.viewModel.autoRefreshEnabled=t}get clearPrompt(){return this.viewModel.clearPrompt}set clearPrompt(t){this.viewModel.clearPrompt=t}get columnPerformanceModeEnabled(){return this.viewModel.columnPerformanceModeEnabled}set columnPerformanceModeEnabled(t){this.viewModel.columnPerformanceModeEnabled=t}get columnReorderingEnabled(){return this.viewModel.columnReorderingEnabled}set columnReorderingEnabled(t){this.viewModel.columnReorderingEnabled=t}get columns(){return this.viewModel.columns}get editingEnabled(){return this.viewModel.editingEnabled}set editingEnabled(t){this.viewModel.editingEnabled=t}get effectiveSize(){return this.viewModel.effectiveSize}get effectiveTable(){return this.relatedTable||this}get filterGeometry(){return this.viewModel.filterGeometry}set filterGeometry(t){this.viewModel.filterGeometry=t}get filterBySelectionEnabled(){return this.viewModel.filterBySelectionEnabled}set filterBySelectionEnabled(t){this.viewModel.filterBySelectionEnabled=t}get hiddenFields(){return this.viewModel.hiddenFields}set hiddenFields(t){this.viewModel.hiddenFields=t}get highlightEnabled(){return this.viewModel.highlightEnabled}set highlightEnabled(t){this.viewModel.highlightEnabled=t}get highlightIds(){return this.viewModel.highlightIds}set highlightIds(t){this.viewModel.highlightIds=t}get icon(){return"table"}set icon(t){this._overrideIfSome("icon",t)}get isQueryingOrSyncing(){return this.viewModel.isQueryingOrSyncing}get isSyncingAttachments(){return this.viewModel.isSyncingAttachments}get label(){var t;return((t=this.messages)==null?void 0:t.widgetLabel)??""}set label(t){this._overrideIfSome("label",t)}get layer(){return this.viewModel.layer}set layer(t){this.viewModel.layer=t}get layerView(){return this.viewModel.layerView}get maxSize(){return this.viewModel.maxSize}set maxSize(t){this.viewModel.maxSize=t}get messages(){return this.viewModel.messages}set messages(t){this.viewModel.messages=t}get messagesCommon(){return this.viewModel.messagesCommon}set messagesCommon(t){this.viewModel.messagesCommon=t}get messagesUnits(){return this.viewModel.messagesUnits}set messagesUnits(t){this.viewModel.messagesUnits=t}get messagesURIUtils(){return this.viewModel.messagesURIUtils}set messagesURIUtils(t){this.viewModel.messagesURIUtils=t}get multipleSelectionEnabled(){return this.viewModel.multipleSelectionEnabled}set multipleSelectionEnabled(t){this.viewModel.multipleSelectionEnabled=t}get multiSortEnabled(){return this.viewModel.multiSortEnabled}set multiSortEnabled(t){this.viewModel.multiSortEnabled=t}get objectIds(){return this.viewModel.objectIds}set objectIds(t){this.viewModel.objectIds=t}get outFields(){return this.viewModel.outFields}set outFields(t){this.viewModel.outFields=t}get pageCount(){return this.viewModel.pageCount}get pageIndex(){return this.viewModel.pageIndex}set pageIndex(t){this.viewModel.pageIndex=t}get pageSize(){return this.viewModel.pageSize}set pageSize(t){this.viewModel.pageSize=t}get paginationEnabled(){return this.viewModel.paginationEnabled}set paginationEnabled(t){this.viewModel.paginationEnabled=t}get prompt(){return this.viewModel.prompt}set prompt(t){this.viewModel.prompt=t}get relatedRecordsEnabled(){return this.viewModel.relatedRecordsEnabled}set relatedRecordsEnabled(t){this.viewModel.relatedRecordsEnabled=t}get relatedTable(){return this.viewModel.relatedTable}get relatedTables(){return this.viewModel.relatedTables}set relatedTables(t){this.viewModel.relatedTables=t}get relationship(){return this.viewModel.relationship}get relationshipColumnConfigs(){return this.viewModel.relationshipColumnConfigs}set relationshipColumnConfigs(t){this.viewModel.relationshipColumnConfigs=t}get relationshipConfig(){return this.viewModel.relationshipConfig}set relationshipConfig(t){this.viewModel.relationshipConfig=t}get returnGeometryEnabled(){return this.viewModel.returnGeometryEnabled}set returnGeometryEnabled(t){this.viewModel.returnGeometryEnabled=t}get returnMEnabled(){return this.viewModel.returnMEnabled}set returnMEnabled(t){this.viewModel.returnMEnabled=t}get returnZEnabled(){return this.viewModel.returnZEnabled}set returnZEnabled(t){this.viewModel.returnZEnabled=t}get rowHighlightIds(){return this.viewModel.rowHighlightIds}set rowHighlightIds(t){this.viewModel.rowHighlightIds=t}get selectionSource(){return this.viewModel.selectionSource}set selectionSource(t){this.viewModel.selectionSource=t}get showAllRelatedTables(){return this.viewModel.showAllRelatedTables}set showAllRelatedTables(t){this.viewModel.showAllRelatedTables=t}get showPrompt(){return this.viewModel.showPrompt}set showPrompt(t){this.viewModel.showPrompt=t}get showRelatedTableCallback(){return this.viewModel.showRelatedTableCallback}set showRelatedTableCallback(t){this.viewModel.showRelatedTableCallback=t}get size(){return this.viewModel.size}get state(){return this.viewModel.state}get tableController(){return this.viewModel.tableController}set tableController(t){this.viewModel.tableController=t}get tableParent(){return this.viewModel.tableParent}set tableParent(t){this.viewModel.tableParent=t}get tableTemplate(){return this.viewModel.tableTemplate}set tableTemplate(t){this.viewModel.tableTemplate=t}get tableTemplateOverride(){return this.viewModel.tableTemplateOverride}set tableTemplateOverride(t){this.viewModel.tableTemplateOverride=t}get timeExtent(){return this.viewModel.timeExtent}set timeExtent(t){this.viewModel.timeExtent=t}get timeZone(){return this.viewModel.timeZone}set timeZone(t){this.viewModel.timeZone=t}get view(){return this.viewModel.view}set view(t){this.viewModel.view=t}get visibleElementsOverride(){const{attachmentsViewOptions:t,relatedTable:e,tableController:i,visibleElements:o}=this,{columnDescriptions:h,columnMenus:p,tooltips:m}=o,v=t.objectId!=null;if(e)return new Xa({columnDescriptions:h,columnMenus:p,tooltips:m,close:o.close,header:o.header,layerDropdown:o.layerDropdown,menu:o.menu,menuItems:o.menuItems,progress:o.progress,selectionColumn:!1,columnMenuItems:new ac({sortAscending:!1,sortDescending:!1})});if(i){const w=i.relatedTable===this,A=i.allRelatedTablesVisible,$=w&&o.selectionColumn&&!A&&!v,M=w&&!A&&!v;return new Xa({columnDescriptions:h,columnMenus:p,tooltips:m,selectionColumn:$,close:!1,header:!1,layerDropdown:!1,menu:!1,progress:!1,columnMenuItems:new ac({sortAscending:M,sortDescending:M})})}return v?new Xa({columnDescriptions:h,columnMenus:p,tooltips:m,close:o.close,header:o.header,layerDropdown:o.layerDropdown,menu:o.menu,menuItems:o.menuItems,progress:o.progress,selectionColumn:!1,columnMenuItems:new ac({sortAscending:!1,sortDescending:!1})}):null}clearSelectionFilter(){this.viewModel.clearSelectionFilter()}async deleteAttachments(t,e,i){t!=null&&(e!=null&&e.length)&&(i?this._showDeleteAttachmentPrompt(t,e):await this.viewModel.deleteAttachments(t,e))}deleteSelection(t){return this.highlightIds.length?t?(this._showDeletePrompt(),this.scheduleRender(),Promise.resolve()):this.viewModel.deleteSelection():Promise.resolve()}async downloadAttachmentById(t,e){return this.viewModel.downloadAttachmentById(t,e)}drainRelatedTables(){this.viewModel.drainRelatedTables()}exportSelectionToCSV(t){this.viewModel.exportSelectionToCSV(t)}filterBySelection(){this.viewModel.filterBySelection()}findColumn(t){return this.viewModel.findColumn(t)}goToPage(t){this.viewModel.goToPage(t)}hideColumn(t){var e;(e=this.grid)==null||e.hideColumn(t)}nextPage(){this.viewModel.nextPage()}previousPage(){this.viewModel.previousPage()}async refresh(){await this.viewModel.refresh()}refreshCellContent(){this.viewModel.refreshCellContent()}async saveAttachmentsViewForm(){await this.viewModel.saveAttachmentsViewForm()}showAllColumns(){this.viewModel.showAllColumns()}showColumn(t){var e;(e=this.grid)==null||e.showColumn(t)}sortColumn(t,e){this.viewModel.sortColumn(t,e)}scrollLeft(){this.viewModel.scrollLeft()}scrollToBottom(){this.viewModel.scrollToBottom()}scrollToIndex(t){this.viewModel.scrollToIndex(t)}scrollToRow(t){this.viewModel.scrollToRow(t)}scrollToTop(){this.viewModel.scrollToTop()}toggleColumnVisibility(t){this.viewModel.toggleColumnVisibility(t)}zoomToSelection(){this.effectiveTable.viewModel.zoomToSelection()}render(){var h;const{_effectiveVisibleElements:t,isQueryingOrSyncing:e,menuConfig:i,state:o}=this;return dt("div",{bind:this,class:this.classes(ze.base,Bv.widget)},dt("calcite-panel",{bind:this,class:ze.content,closable:t.close,description:this._effectiveDescription,disabled:this.disabled||o==="disabled"&&!((h=this._effectiveLayers)!=null&&h.length),heading:t.header?this._effectiveTitle:void 0,loading:o==="loading",menuOpen:!!(i!=null&&i.open),overlayPositioning:"fixed",onCalcitePanelClose:p=>{p.target.closed=!1,this.emit("close")}},t.progress?dt("calcite-progress",{type:e?"indeterminate":"determinate"}):null,this._showLayerDropdown?this._renderLayerDropdown():null,this._renderColumnVisibilityAction(),this._renderHeaderMenuActions(),this._renderNavigationBar(),this._renderTables(),this._renderError()),this._renderPrompt())}_renderTables(){const{grid:t,relatedTables:e}=this,i=this.classes(ze.tableContainer);if(e.length){const o=this.classes(ze.base,this.allRelatedTablesVisible?ze.expanded:ze.collapsed,this._shouldShowAttachmentsView?ze.tableContainerWithAttachments:void 0);return dt("div",{class:i},dt("calcite-panel",{overlayPositioning:"fixed"},dt("div",null,[this._shouldShowGrid?dt("div",{class:o},t==null?void 0:t.render(),this._renderPagination()):void 0,...this._filteredTables.map(h=>{const p=e.indexOf(h);return dt("div",{class:o,key:`related-${p}`},h.render())}),,])))}return this.attachmentsViewOptions.objectId!=null?dt("div",{class:i},dt("calcite-panel",{overlayPositioning:"fixed"},dt("div",null,[dt("div",{class:this.classes(ze.base,ze.collapsed)},t==null?void 0:t.render(),this._renderPagination()),this._renderAttachmentsView()]))):[dt("div",{class:i},t==null?void 0:t.render()),this._renderPagination()]}_renderPagination(){if(this.paginationEnabled)return dt("calcite-pagination",{pageSize:1,startItem:this.pageIndex+1,totalItems:this.pageCount,onCalcitePaginationChange:t=>this.goToPage(t.target.startItem-1)})}_renderError(){const{messages:t}=this;return dt("calcite-alert",{autoClose:!0,autoCloseDuration:"fast",icon:Me.exclamationMarkTriangle,kind:"danger",label:t.errorOccured,open:this._hasAttachmentsViewError,slot:"alerts",onCalciteAlertClose:()=>{this.attachmentsViewOptions.error=null}},dt("span",{slot:"message"},t.errorOccured))}_renderPrompt(){return this.prompt?dt(SF,{...this.prompt,headingLevel:2}):void 0}_showDeletePrompt(){const{messages:t,messagesCommon:e}=this,i=en(t.deleteSelectionCount,{count:this.highlightIds.length});this.showPrompt({title:i,message:t.deleteRecordsRemoved,context:"danger",actions:{primary:{label:e.delete,action:this._onDeleteSelectionClick},secondary:{label:t.keepRecords,action:()=>this.clearPrompt()}}})}_showDeleteAttachmentPrompt(t,e){const{messages:i,messagesCommon:o}=this,h=en(i.deleteAttachmentCount,{count:e.length});this.showPrompt({title:h,message:i.deleteAttachmentConfirmation,context:"danger",actions:{primary:{label:o.delete,action:async()=>{try{await this.deleteAttachments(t,e,!1)}finally{this.clearPrompt()}}},secondary:{label:o.cancel,action:()=>this.clearPrompt()}}})}async _onDeleteSelectionClick(){try{await this.viewModel.deleteSelection()}finally{this.clearPrompt()}}_renderHeaderMenuAction(t){var m;const{disabled:e,hidden:i,icon:o,text:h,clickFunction:p}=t;if(!i)return dt("calcite-action",{disabled:e??((m=this.menuConfig)==null?void 0:m.disabled),icon:o??void 0,key:h,onclick:()=>p(),slot:"header-menu-actions",text:h,textEnabled:!0,title:h})}_renderHeaderMenuActions(){return this._shouldShowMenu?[this._renderDefaultHeaderMenuActions(),this._renderCustomHeaderMenuActions()]:[]}_renderDefaultHeaderMenuActions(){if(!this._hasDefaultMenuItems)return[];const{messages:t}=this;return[this._showRefreshDataAction&&{icon:Me.refresh,text:t.refreshData,clickFunction:()=>this.refresh()},this._showDeleteSelectionAction&&{icon:Me.delete,text:t.deleteSelection,clickFunction:()=>this.deleteSelection(!0)},this._showClearSelectionAction&&{icon:Me.clearSelection,text:t.clearSelection,clickFunction:()=>{var e;return(e=this.highlightIds)==null?void 0:e.removeAll()}},this._showZoomToSelectionAction&&{icon:Me.zoomToSelection,text:t.zoomToSelection,clickFunction:()=>this.zoomToSelection()},this._showSelectedRecordsShowSelectedAction&&{icon:Me.showSelected,text:t.showSelected,clickFunction:()=>{const{objectIds:e}=this;e.removeAll(),e.addMany(this.highlightIds.toArray())}},this._showSelectedRecordsShowAllAction&&{icon:Me.showAll,text:t.showAllRecords,clickFunction:()=>this.objectIds.removeAll()},this._showExportSelectionToCSVAction&&{icon:Me.exportToCSV,text:t.exportSelectionCSV,clickFunction:()=>this.exportSelectionToCSV()}].filter(ml).map(e=>e&&this._renderHeaderMenuAction(e))}_renderCustomHeaderMenuActions(){var t,e;return((e=(t=this.menuConfig)==null?void 0:t.items)==null?void 0:e.map(({disabled:i,hidden:o,icon:h,label:p,clickFunction:m})=>this._renderHeaderMenuAction({hidden:typeof o=="function"?o():o,icon:h,text:p,disabled:i,clickFunction:v=>m(v)})))??[]}_renderColumnVisibilityAction(){var A,$;if(!this._showColumnsVisibilityAction)return[];const{_columnVisibilityActions:t,_effectiveVisibleElements:e,effectiveTable:i,id:o,messages:h}=this,p=i.columns.toArray(),m=h==null?void 0:h.toggleColumns,v=`${o}__toggle-columns-action`,w=[dt("calcite-action",{afterCreate:M=>t.set(o,M),afterRemoved:()=>t.delete(o),appearance:"transparent",bind:this,disabled:(A=i.menuConfig)==null?void 0:A.disabled,icon:Me.showColumn,id:v,slot:"header-actions-end",text:m},e.tooltips?dt("calcite-tooltip",{closeOnClick:!0,overlayPositioning:"fixed",placement:"bottom-end",slot:"tooltip"},m):null)];return($=i.menuConfig)!=null&&$.disabled||w.push(dt("calcite-popover",{autoClose:!0,class:ze.menuPopover,label:m,overlayPositioning:"fixed",placement:"top-end",pointerDisabled:!0,referenceElement:t.get(o)},dt("calcite-list",{filterEnabled:!0,filterPlaceholder:h.toggleColumns,selectionMode:"multiple"},...p.map(M=>{var R;const P="columns"in M&&((R=M.columns)!=null&&R.length)?M.columns.map(B=>this._renderColumnListItem({column:B,table:i,ignoreSelect:!0})):void 0;return this._renderColumnListItem({column:M,table:i,items:P})})))),w}_renderColumnListItem(t){const{column:e,table:i,items:o,ignoreSelect:h}=t,{effectiveLabel:p,fieldName:m,hidden:v}=e;return dt("calcite-list-item",{key:`toggle-columns__item-${m}`,label:p,open:!(!(o!=null&&o.length)||v)||void 0,selected:!v,value:m,onCalciteListItemSelect:w=>{h||i.toggleColumnVisibility(w.target.value)}},o)}_renderLayerDropdown(){const t=this.messages.selectALayer;return dt("div",{class:ze.layerDropdownMenu,key:`${this.id}-layerDropdown`,slot:"header-actions-start"},dt("calcite-dropdown",{bind:this,maxItems:5,overlayPositioning:"fixed",placement:"bottom-start"},dt("calcite-action",{icon:Me.layers,slot:"trigger",text:t,title:t}),dt("calcite-dropdown-group",{selectionMode:"single"},this._effectiveLayers.map((e,i)=>this._renderLayerDropdownItem(e,i))??null)))}_renderLayerDropdownItem(t,e){return dt("calcite-dropdown-item",{key:`dropdown-item-${e}`,label:t.title??"",selected:t===this.layer,value:t.id,onCalciteDropdownItemSelect:()=>{this.layer=t}},t.title)}_onRelatedNavigationItemClick(t){this.viewModel.drainRelatedTablesAboveIndex(t)}_collapseRelatedTable(t){this.viewModel.collapseRelatedTable(this.effectiveTable,t)}_onShowRelatedTable(t){this.showRelatedTableCallback||(this._collapseRelatedTable(t),this._createRelatedTable(t))}async _createRelatedTable(t){const{editingEnabled:e,effectiveTable:i,paginationEnabled:o,pageSize:h,view:p,viewModel:m}=this,{layer:v,objectId:w,relatedLayer:A,relationshipId:$}=t;await v.load();const M=this.attachmentsEnabled&&Yv(v),P=new yb({layer:v,attachmentsEnabled:M,editingEnabled:e,paginationEnabled:o,pageSize:h,relatedRecordsEnabled:!0,relationshipConfig:{objectId:w,relatedLayer:A,relationshipId:$},relationshipColumnConfigs:WS(v,$),tableController:this,tableParent:i,view:p,showRelatedTableCallback:R=>m.emit("show-related-table",R)});this.relatedTables.add(P),this.scheduleRender()}_renderAttachmentsView(){const{attachmentInfos:t,mode:e,objectId:i}=this.attachmentsViewOptions;return e!=="file"&&t.length&&i!=null?this._renderAttachmentsViewList():this._renderAttachmentsViewFilePane()}_renderAttachmentsViewFilePane(){const{attachmentsViewOptions:t,isSyncingAttachments:e,messages:i,messagesUnits:o,viewModel:{supportsAddAttachments:h}}=this,{attachmentId:p,attachmentInfos:m,candidates:v,objectId:w}=t,A=m.find(nt=>nt.id===p),$=m.length,M=v==null?void 0:v.length,P=A?dt("calcite-label",{alignment:"center",key:"replace-file-node",scale:"l"},i.replaceFile):void 0,R=M?void 0:dt("calcite-label",{alignment:"center",key:"message-node",scale:"m"},h?w==null?i.noFeature:i.dragAndDropToUpload:i.editingRestricted),B=Array.from(v??[]).pop(),G=B?dt("calcite-label",{key:"filename-node"},B.name):void 0,H=h&&w!=null,Z=H&&M,X=dt("input",{afterCreate:rd,afterRemoved:x_,afterUpdate:rd,bind:this,"data-node-ref":"_attachmentsInput",files:v,hidden:!0,name:"attachment",onchange:nt=>this._onAttachmentsViewCandidateChange(nt),type:"file"}),Q=H?dt("calcite-button",{appearance:"outline-fill",bind:this,disabled:e,iconStart:Me.folderOpen,key:"select-node",loading:!1,onclick:()=>{var nt;(nt=this._attachmentsInput)==null||nt.click()},width:"full"},i.selectFile):void 0,rt=Z?dt("calcite-button",{appearance:"outline-fill",bind:this,disabled:e,iconStart:Me.save,key:"save-node",loading:e,onclick:()=>{this.saveAttachmentsViewForm()},width:"full"},A?i.updateAttachment:i.addAttachment):void 0,et=$||M?dt("calcite-button",{appearance:"transparent",bind:this,disabled:e,key:"cancel-node",onclick:()=>t.reset(),width:"full"},this.messagesCommon.cancel):void 0;return[dt("div",{class:ze.attachmentsView,key:"attachments-view"},dt("div",{class:ze.attachmentsViewContent,key:"attachments-view-content"},dt("div",{bind:this,class:ze.attachmentsViewDropArea,ondragover:nt=>nt.preventDefault(),ondrop:this._onAttachmentsViewDrop},dt("calcite-icon",{class:ze.attachmentsViewIcon,icon:Me.upload,scale:"l"}),P,R,dt("form",{afterCreate:nt=>t.form=nt,afterRemoved:()=>t.form=null,bind:this,key:"attachments-form"},dt("fieldset",null,G,X,Q,rt,et)))),w!=null&&A!=null?dt("div",{class:ze.attachmentsViewInformation,key:"information"},this._renderAttachmentsViewThumbnail(A,200),dt("label",{key:"file-label"},i.fileName),dt("span",{key:"file-span"},A.name),dt("label",{key:"size-label"},i.size),dt("span",{key:"size-span"},y_(o,A.size??0))):void 0)]}_renderAttachmentsViewList(){const{attachmentsViewOptions:t,messages:e,messagesUnits:i,viewModel:{store:{syncingAttachmentEdits:o},supportsDeleteAttachments:h,supportsUpdateAttachments:p}}=this,{attachmentInfos:m,objectId:v}=t;return dt("calcite-list",{afterCreate:rd,afterRemoved:x_,afterUpdate:rd,bind:this,class:ze.attachmentsViewList,"data-node-ref":"attachmentsList",key:`attachments-list-${v}`,loading:o,ondragover:w=>w.preventDefault(),ondrop:this._onAttachmentsViewDrop,selectionMode:"multiple",onCalciteListChange:()=>this.scheduleRender()},...m==null?void 0:m.map(w=>{const{id:A,name:$,size:M,url:P}=w,R=y_(i,M??0);return dt("calcite-list-item",{key:`attachment-${A}`,label:$,value:A},this._renderAttachmentsViewListThumbnail(w),dt("span",{class:ze.attachmentsViewListFileSize,slot:"actions-end",title:R},R),dt("calcite-action",{appearance:"transparent",icon:Me.downloadTo,key:`download-attachment-${A}`,label:`${$}`,onclick:B=>{B.preventDefault(),this.downloadAttachmentById(v??-1,A)},slot:"actions-end",text:e.downloadAttachment,title:e.downloadAttachment}),p&&v!=null?dt("calcite-action",{appearance:"transparent",disabled:!p,icon:Me.replaceImage,key:`replace-attachment-${A}`,label:`${$}`,onclick:()=>{t.mode="file",t.attachmentId=A},slot:"actions-end",text:e.updateAttachment,title:e.updateAttachment}):void 0,dt("calcite-action",{appearance:"transparent",icon:Me.launch,key:`launch-attachment-${A}`,label:`${$}`,onclick:()=>{P&&window.open(P,"_blank")},slot:"actions-end",text:e.viewAttachment,title:e.viewAttachment}),h&&v!=null?dt("calcite-action",{appearance:"transparent",class:ze.attachmentsViewListItemDelete,disabled:!h,icon:Me.delete,key:`delete-attachment-${A}`,label:`${$}`,onclick:()=>{this.deleteAttachments(v,[A],!0)},slot:"actions-end",text:e.deleteAttachment,title:e.deleteAttachment}):void 0)}))}_renderAttachmentsViewListThumbnail(t){return dt("div",{class:ze.attachmentsViewListThumbnail,slot:"content-start"},dt("a",{href:t.url??"",rel:"noreferrer",target:"_blank"},this._renderAttachmentsViewThumbnail(t)))}_renderAttachmentsViewThumbnail(t,e=64){const{contentType:i,name:o,size:h,url:p}=t,m=`${p}${p!=null&&p.includes("?")?"&":"?"}w=${e}&s=${h}`;return this.viewModel.supportsResizeAttachments&&q8(i)?dt("img",{alt:o,key:`thumbnail-image-${o}`,src:m,title:o}):dt("calcite-icon",{icon:H8(i),key:`thumbnail-icon-${o}`,scale:"l",textLabel:o,title:o})}_onAttachmentsViewCandidateChange({target:t}){this.attachmentsViewOptions.candidates=t==null?void 0:t.files}_onAttachmentsViewDrop(t){var i;const{viewModel:e}=this;t.preventDefault(),(e.supportsAddAttachments||e.supportsUpdateAttachments)&&this.attachmentsViewOptions.set({mode:"file",candidates:(i=t.dataTransfer)==null?void 0:i.files})}_renderNavigationBar(){var gt,At;const{effectiveTable:t,messages:e,messagesCommon:i,relatedTable:o,relatedTables:h}=this;if(!this._shouldShowNavigationBar)return;const{attachmentsList:p,attachmentsViewOptions:m,layer:v,viewModel:{supportsAddAttachments:w,supportsDeleteAttachments:A}}=t;if(!v)return;const{attachmentInfos:$,objectId:M}=m,P=M!=null,R=$.length,B=((gt=p==null?void 0:p.selectedItems)==null?void 0:gt.length)??0,G=`${v.objectIdField}: ${M}`,H=en(e.selectedCount,{count:B}),Z=en(e.attachmentsCount,{count:R}),X=P?dt("calcite-action",{bind:this,icon:Me.chevronRight,key:"navigation-feature",onclick:()=>t.scrollToRow(M),text:G,textEnabled:!0,title:G}):void 0,Q=P?dt("calcite-action",{icon:Me.chevronRight,key:"navigation-attachments-label",label:Z,onclick:()=>{m.mode="list"},text:Z,textEnabled:!0,title:Z}):void 0,rt=P?dt("calcite-chip",{closable:!0,closed:B===0,key:"navigation-chip",kind:"inverse",label:H,selected:!0,title:H,value:"selected",onCalciteChipClose:()=>{var wt;return(wt=p==null?void 0:p.selectedItems)==null?void 0:wt.forEach($t=>$t.selected=!1)}},H):void 0,et=o?dt("calcite-label",{layout:"inline"},e.showAllTables,dt("calcite-switch",{checked:this.allRelatedTablesVisible,onCalciteSwitchChange:wt=>this.showAllRelatedTables=!!wt.target.checked})):void 0,nt=P&&m.mode==="list"&&M!=null&&B&&A?dt("calcite-action",{icon:Me.delete,iconFlipRtl:!0,key:"attachments-trash-all",onclick:()=>{var wt;t.deleteAttachments(M,((wt=p==null?void 0:p.selectedItems)==null?void 0:wt.map($t=>$t.value))??[],!0)},text:i.delete,textEnabled:!0,title:en(e.deleteAttachmentCount,{count:B})}):void 0,bt=P&&m.mode==="list"&&w?dt("calcite-action",{bind:this,icon:Me.plus,iconFlipRtl:!0,key:"attachments-add",onclick:()=>{m.attachmentId=null,m.mode="file"},text:e.addAttachment,textEnabled:!0,title:e.addAttachment}):void 0;return dt("div",{class:ze.tableNavigation,key:"table-nav"},dt("calcite-action",{icon:Me.moveUp,iconFlipRtl:!0,key:"go-back",onclick:()=>{o&&this.drainRelatedTables(),t.attachmentsViewOptions.objectId=null},text:((At=this.layer)==null?void 0:At.title)??"",textEnabled:!1,title:o?e.exitRelatedRecords:e.exitAttachments}),h.toArray().map((wt,$t)=>this._renderRelatedTableNavigationAction(wt,$t)),X,Q,dt("div",null,rt,et,nt,bt))}_renderRelatedTableNavigationAction(t,e){var o;const i=this._getLabelForRelatedTableNavigationAction(t);return dt("calcite-action",{icon:Me.chevronRight,iconFlipRtl:!0,key:e,onclick:()=>this._onRelatedNavigationItemClick(e),text:i,textEnabled:!0,title:((o=t.layer)==null?void 0:o.title)||""})}_getLabelForRelatedTableNavigationAction(t){var o;const e=(o=t.layer)==null?void 0:o.title;if(!e)return"";const{relatedTables:i}=this;return i.length<=1?e:i.indexOf(t)!==i.length-1&&e.length>20?`${e.slice(0,20)}...`:e}};C([E()],lt.prototype,"_attachmentsInput",void 0),C([E()],lt.prototype,"_columnVisibilityActions",void 0),C([E()],lt.prototype,"_effectiveDescription",null),C([E()],lt.prototype,"_effectiveLayers",null),C([E()],lt.prototype,"_effectiveTitle",null),C([E()],lt.prototype,"_effectiveVisibleElements",null),C([E()],lt.prototype,"_filteredTables",null),C([E()],lt.prototype,"_hasAttachmentsViewError",null),C([E()],lt.prototype,"_hasCustomMenuItems",null),C([E()],lt.prototype,"_hasDefaultMenuItems",null),C([E()],lt.prototype,"_shouldShowGrid",null),C([E()],lt.prototype,"_shouldShowMenu",null),C([E()],lt.prototype,"_shouldShowAttachmentsView",null),C([E()],lt.prototype,"_showClearSelectionAction",null),C([E()],lt.prototype,"_showColumnsVisibilityAction",null),C([E()],lt.prototype,"_showDeleteSelectionAction",null),C([E()],lt.prototype,"_showExportSelectionToCSVAction",null),C([E()],lt.prototype,"_showLayerDropdown",null),C([E()],lt.prototype,"_shouldShowNavigationBar",null),C([E()],lt.prototype,"_showRefreshDataAction",null),C([E()],lt.prototype,"_showSelectedRecordsShowSelectedAction",null),C([E()],lt.prototype,"_showSelectedRecordsShowAllAction",null),C([E()],lt.prototype,"_showZoomToSelectionAction",null),C([E()],lt.prototype,"_viewLayers",null),C([E()],lt.prototype,"attachmentsList",void 0),C([E({readOnly:!0})],lt.prototype,"grid",null),C([E()],lt.prototype,"actionColumnConfig",null),C([E({readOnly:!0})],lt.prototype,"activeFilters",null),C([E({readOnly:!0})],lt.prototype,"activeSortOrders",null),C([E({readOnly:!0})],lt.prototype,"allRelatedTablesVisible",null),C([E()],lt.prototype,"attachmentsEnabled",null),C([E()],lt.prototype,"attachmentsViewOptions",null),C([E()],lt.prototype,"autoRefreshEnabled",null),C([E()],lt.prototype,"clearPrompt",null),C([E()],lt.prototype,"columnPerformanceModeEnabled",null),C([E()],lt.prototype,"columnReorderingEnabled",null),C([E({readOnly:!0})],lt.prototype,"columns",null),C([E()],lt.prototype,"description",void 0),C([E()],lt.prototype,"disabled",void 0),C([E()],lt.prototype,"editingEnabled",null),C([E()],lt.prototype,"effectiveSize",null),C([E()],lt.prototype,"effectiveTable",null),C([E()],lt.prototype,"filterGeometry",null),C([E()],lt.prototype,"filterBySelectionEnabled",null),C([E()],lt.prototype,"hiddenFields",null),C([E()],lt.prototype,"highlightEnabled",null),C([E()],lt.prototype,"highlightIds",null),C([E()],lt.prototype,"icon",null),C([E()],lt.prototype,"isQueryingOrSyncing",null),C([E()],lt.prototype,"isSyncingAttachments",null),C([E()],lt.prototype,"label",null),C([E()],lt.prototype,"layer",null),C([E()],lt.prototype,"layers",void 0),C([E()],lt.prototype,"layerView",null),C([E()],lt.prototype,"maxSize",null),C([E(),$s("esri/widgets/FeatureTable/t9n/FeatureTable")],lt.prototype,"messages",null),C([E(),$s("esri/t9n/common")],lt.prototype,"messagesCommon",null),C([E(),$s("esri/core/t9n/Units")],lt.prototype,"messagesUnits",null),C([E(),$s("esri/widgets/support/t9n/uriUtils")],lt.prototype,"messagesURIUtils",null),C([E()],lt.prototype,"menuConfig",void 0),C([E()],lt.prototype,"multipleSelectionEnabled",null),C([E()],lt.prototype,"multiSortEnabled",null),C([E()],lt.prototype,"objectIds",null),C([E()],lt.prototype,"outFields",null),C([E()],lt.prototype,"pageCount",null),C([E()],lt.prototype,"pageIndex",null),C([E()],lt.prototype,"pageSize",null),C([E()],lt.prototype,"paginationEnabled",null),C([E()],lt.prototype,"prompt",null),C([E()],lt.prototype,"relatedRecordsEnabled",null),C([E()],lt.prototype,"relatedTable",null),C([E()],lt.prototype,"relatedTables",null),C([E()],lt.prototype,"relationship",null),C([E()],lt.prototype,"relationshipColumnConfigs",null),C([E()],lt.prototype,"relationshipConfig",null),C([E()],lt.prototype,"returnGeometryEnabled",null),C([E()],lt.prototype,"returnMEnabled",null),C([E()],lt.prototype,"returnZEnabled",null),C([E()],lt.prototype,"rowHighlightIds",null),C([E()],lt.prototype,"selectionSource",null),C([E()],lt.prototype,"showAllRelatedTables",null),C([E()],lt.prototype,"showPrompt",null),C([E()],lt.prototype,"showRelatedTableCallback",null),C([E()],lt.prototype,"size",null),C([E({readOnly:!0})],lt.prototype,"state",null),C([E({constructOnly:!0})],lt.prototype,"tableController",null),C([E({constructOnly:!0})],lt.prototype,"tableParent",null),C([E()],lt.prototype,"tableTemplate",null),C([E()],lt.prototype,"tableTemplateOverride",null),C([E()],lt.prototype,"title",void 0),C([E()],lt.prototype,"timeExtent",null),C([E()],lt.prototype,"timeZone",null),C([E()],lt.prototype,"view",null),C([E({type:TT}),sK(["cell-click","cell-dblclick","cell-pointerover","cell-pointerout","cell-keydown","show-related-table"])],lt.prototype,"viewModel",void 0),C([E({type:Xa,nonNullable:!0})],lt.prototype,"visibleElements",void 0),C([E({type:Xa})],lt.prototype,"visibleElementsOverride",null),lt=yb=C([Y("esri.widgets.FeatureTable")],lt);const aK=lt;var dat=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lK(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hK(t,e){for(var i=0;i<e.length;i++){const o=e[i];if(typeof o!="string"&&!Array.isArray(o)){for(const h in o)if(h!=="default"&&!(h in t)){const p=Object.getOwnPropertyDescriptor(o,h);p&&Object.defineProperty(t,h,p.get?p:{enumerable:!0,get:()=>o[h]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}var y5,b5={exports:{}};function cK(){return y5||(y5=1,function(t){function e(){function o(c){if(typeof c=="number")return U.Tc.Zg(c);if(c==null)return null;if(Y2[c]!=null)return U.Tc.Zg(Y2[c]);throw Error("Unrecognised Unit Type")}function h(c){if(typeof c=="number")return U.Tc.Zg(c);if(c==null)return null;if(K2[c]!=null)return U.Tc.Zg(K2[c]);throw Error("Unrecognised Unit Type")}function p(c){if(c)switch(c){case"loxodrome":return 1;case"great-elliptic":return 2;case"normal-section":return 3;case"shape-preserving":return 4}return 0}function m(c,I,y,l){if(y==null||y.B())return null;switch(y.getType()){case U.qn.Point:return c.exportPoint(I,y,l);case U.qn.Polygon:return c.exportPolygon(I,y,l);case U.qn.Polyline:return c.exportPolyline(I,y,l);case U.qn.MultiPoint:return c.exportMultipoint(I,y,l);case U.qn.Envelope:return c.exportExtent(I,y,l)}return null}function v(c,I,y,l){if(y.getType()!==U.qn.Point)throw Error("Geometry not Point");return c.exportPoint(I,y,l)}function w(c,I,y){return c.convertToGEGeometry(I,y)}function A(c){var I=c.wkid;c=c.wkt2||c.wkt;var y=Js.get(I||c);return y==null&&(I!==-1&&I!=null?(y=U.Eg.create(I),Js.set(I,y)):c&&(y=U.Eg.qP(c),Js.set(c,y)),da.has(I||c)&&y.VW(da.get(I||c))),y}function $(c){var I,y,l;if(c==null)return null;var s=A(c);return c=s.Hd(),s=s.Kn(),(I={}).tolerance=s,I.unitType=c==null?-1:c.od,I.unitID=c==null?-1:c.Ec(),I.unitBaseFactor=c==null?0:c.ai,I.unitSquareDerivative=c==null?0:(l=(y=U.Tc.aG(c))===null||y===void 0?void 0:y.Ec())!==null&&l!==void 0?l:0,I}function M(c,I,y,l){return y==null?null:(y=U.$b.clip(w(c,ut,y),w(c,ut,l),A(I)),m(c,ut,y,I))}function P(c,I,y,l){y=U.$b.dl(w(c,ut,y),w(c,ut,l),A(I)),l=[];for(var s=0;s<y.length;s++)l.push(m(c,ut,y[s],I));return l}function R(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.contains(w(c,ut,y),w(c,ut,l),A(I))}function B(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.BP(w(c,ut,y),w(c,ut,l),A(I))}function G(c,I,y,l,s){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.tb(w(c,ut,y),w(c,ut,l),A(I),o(s))}function H(c,I,y,l){return!(y==null&&l!=null||l==null&&y!=null)&&U.$b.Nb(w(c,ut,y),w(c,ut,l),A(I))}function Z(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.TS(w(c,ut,y),w(c,ut,l),A(I))}function X(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.touches(w(c,ut,y),w(c,ut,l),A(I))}function Q(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.qY(w(c,ut,y),w(c,ut,l),A(I))}function rt(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.TP(w(c,ut,y),w(c,ut,l),A(I))}function et(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.DU(w(c,ut,y),w(c,ut,l),A(I))}function nt(c,I,y,l,s){if(y==null||l==null)throw Error("Illegal Argument Exception");return U.$b.yB(w(c,ut,y),w(c,ut,l),A(I),s)}function bt(c,I,y){if(y==null)throw Error("Illegal Argument Exception");return U.$b.dT(w(c,ut,y),A(I))}function gt(c,I,y){if(y==null)throw Error("Illegal Argument Exception");return y=U.$b.eC(w(c,ut,y),A(I)),m(c,ut,y,I)}function At(c,I,y,l){if(l===void 0&&(l=!1),y==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){var s=l,r=[];for(l=0;l<y.length;l++)r.push(w(c,ut,y[l]));for(y=U.$b.jP(r,s),s=Array(y.length),l=0;l<y.length;l++)s[l]=m(c,ut,y[l],I);return s}return l=U.$b.iP(w(c,ut,y),A(I)),m(c,ut,l,I)}function wt(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){for(var s=[],r=0;r<y.length;r++)s.push(w(c,ut,y[r]));for(y=U.$b.QP(s,w(c,ut,l),A(I)),l=Array(y.length),r=0;r<y.length;r++)l[r]=m(c,ut,y[r],I);return l}return r=U.$b.im(w(c,ut,y),w(c,ut,l),A(I)),m(c,ut,r,I)}function $t(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){for(var s=[],r=0;r<y.length;r++)s.push(w(c,ut,y[r]));for(y=U.$b.VX(s,w(c,ut,l),A(I)),l=Array(y.length),r=0;r<y.length;r++)l[r]=m(c,ut,y[r],I);return l}return r=U.$b.ep(w(c,ut,y),w(c,ut,l),A(I)),m(c,ut,r,I)}function Ht(c,I,y,l){if(y==null||l==null)throw Error("Illegal Argument Exception");if(Array.isArray(y)){for(var s=[],r=0;r<y.length;r++)s.push(w(c,ut,y[r]));for(y=U.$b.RS(s,w(c,ut,l),A(I)),l=Array(y.length),r=0;r<y.length;r++)l[r]=m(c,ut,y[r],I);return l}return r=U.$b.Ea(w(c,ut,y),w(c,ut,l),A(I)),m(c,ut,r,I)}function Ce(c,I,y,l){if(y==null)return null;var s=[];if(Array.isArray(y)){if(y.length===0)return null;for(l=0;l<y.length;l++)s.push(w(c,ut,y[l]))}else s.push(w(c,ut,y)),l!=null&&s.push(w(c,ut,l));return m(c,ut,U.$b.jY(s,A(I)),I)}function Vt(c,I,y,l,s,r,n,a){var u=0;if(r!=null)switch(r){case"round":u=0;break;case"bevel":u=1;break;case"miter":u=2;break;case"square":u=3}if(Array.isArray(y)){if(y==null)c=null;else if(y.length===0)c=[];else{var d=[];for(r=0;r<y.length;r++)d.push(w(c,ut,y[r]));for(y=U.$b.BU(d,A(I),l,u,n,a,o(s)),l=Array(y.length),r=0;r<y.length;r++)l[r]=m(c,ut,y[r],I);c=l}return c}return y=U.$b.offset(w(c,ut,y),A(I),l,u,n,a,o(s)),m(c,ut,y,I)}function Xe(c,I,y,l,s,r){if(r===void 0&&(r=!1),Array.isArray(y)){if(!Array.isArray(l)){for(var n=[],a=0;a<y.length;a++)n.push(l);l=n}if(l.length!=y.length){if(l.length==0)throw Error("Illegal Argument Exception");n=[];var u=0;for(a=0;a<y.length;a++)l[a]===void 0?n.push(u):(n.push(l[a]),u=l[a]);l=n}return Ji(c,I,y,l,s,!1,r,"geodesic",NaN)}return y=U.$b.buffer(w(c,ut,y),A(I),l,o(s),!1,0,NaN),m(c,ut,y,I)}function pr(c,I,y,l,s,r,n,a){if(Array.isArray(y)){if(!Array.isArray(l)){for(var u=[],d=0;d<y.length;d++)u.push(l);l=u}if(l.length!==y.length){if(l.length===0)throw Error("Illegal Argument Exception");u=[];var f=0;for(d=0;d<y.length;d++)l[d]===void 0?u.push(f):(u.push(l[d]),f=l[d]);l=u}return Ji(c,I,y,l,s,!0,r,n,a)}return n===void 0&&(n=NaN),y=U.$b.buffer(w(c,ut,y),A(I),l,o(s),!0,p(r),n),m(c,ut,y,I)}function Ji(c,I,y,l,s,r,n,a,u){if(u===void 0&&(u=NaN),y==null)return null;if(y.length===0)return[];for(var d=[],f=0;f<y.length;f++)d.push(w(c,ut,y[f]));for(y=U.$b.MN(d,A(I),l,o(s),r,n,p(a),u),l=Array(y.length),f=0;f<y.length;f++)l[f]=m(c,ut,y[f],I);return l}function fe(c,I,y,l,s){var r;return s===void 0&&(s=!0),y=U.$b.nz(w(c,ut,y),w(c,ut,l),s),(r={}).coordinate=v(c,ut,y.fz(),I),r.distance=y.hz(),r.isRightSide=y.Sz(),r.vertexIndex=y.Ua(),r.isEmpty=y.B(),r}function Bn(c,I,y,l){var s;return y=U.$b.oz(w(c,ut,y),w(c,ut,l)),(s={}).coordinate=v(c,ut,y.fz(),I),s.distance=y.hz(),s.isRightSide=y.Sz(),s.vertexIndex=y.Ua(),s.isEmpty=y.B(),s}function Ou(c,I,y,l,s,r){var n;for(y=U.$b.pz(w(c,ut,y),w(c,ut,l),s,r),l=[],s=0;s<y.length;s++)y[s].B()===!1&&l.push(((n={}).coordinate=v(c,ut,y[s].fz(),I),n.distance=y[s].hz(),n.isRightSide=y[s].Sz(),n.vertexIndex=y[s].Ua(),n.isEmpty=y[s].B(),n));return l}function Pu(c,I,y,l,s,r){return y=U.$b.QQ(w(c,ut,y),A(I),l,s,o(r)),m(c,ut,y,I)}function Nu(c,I,y,l,s){return y=U.$b.Qr(w(c,ut,y),A(I),l,o(s)),m(c,ut,y,I)}function jr(c,I,y,l,s,r){return r===void 0&&(r=0),y=U.$b.Wy(w(c,ut,y),A(I),l,o(s),r),m(c,ut,y,I)}function Vn(c,I,y,l){if(y==null)throw Error("Illegal Argument Exception");return U.$b.JU(w(c,ut,y),A(I),h(l))}function Yl(c,I,y,l){if(y==null)throw Error("Illegal Argument Exception");return U.$b.KU(w(c,ut,y),A(I),o(l))}function MT(c,I,y,l,s){if(y==null)throw Error("Illegal Argument Exception");return U.$b.WQ(w(c,ut,y),A(I),h(l),p(s))}function OT(c,I,y,l,s){if(y==null)throw Error("Illegal Argument Exception");return U.$b.ZQ(w(c,ut,y),A(I),o(l),p(s))}function PT(c){U.NL.bind(c)}function NT(c,I,y,l,s){var r=null,n=null;if(l){if(!s)throw U.i.N("AOI missing Spatial Reference");r=w(c,ut,l),n=A(s).fh()}return(c=U.gu.XR(A(I).fh(),A(y).fh(),r,n))!==null?c:null}function RT(c,I,y,l,s){var r=null,n=null;if(l){if(!s)throw U.i.N("AOI missing Spatial Reference");r=w(c,ut,l),n=A(s).fh()}return U.gu.YR(A(I).fh(),A(y).fh(),r,n)}function LT(c,I,y,l,s,r){if(s===void 0&&(s=null),r===void 0&&(r=null),r){var n=new U.yC;n.Vu=r.densificationStep,n.Jr=r.centralMeridianOfOutputGCS,r.clipWithInputHorizon&&n.PW(r.clipWithInputHorizon),r.clipWithOutputHorizon&&n.QW(r.clipWithOutputHorizon)}if(this.KY===!1)throw Error("Projection Engine must be enabled using enableProjection");if(I.length===0)return[];if(s){if(!(r=s.getCachedGeTransformation(y,l)))t:{if(r=s,s=null,r){var a=r.getGTListEntry();if(a!==null){s=new U.wC(null);for(var u=0,d=a.steps;u<d.length;u++){a=d[u];var f=new U.Dx(a.geogtran);a.isInverse&&f.Qz(),s.add(f)}n=U.vr.Nr(A(y).fh(),A(l).fh(),s,n),r.assignCachedGe(y,l,n),r=n;break t}}if(s===null&&r&&r.steps&&0<r.steps.length){for(s=new U.wC(null),u=0,d=r.steps;u<d.length;u++)(a=d[u]).wkid!=-1&&a.wkid!=null?s.add(U.Dx.create(a.wkid,a.isInverse)):s.add(U.Dx.uP(a.wkt,a.isInverse));n=U.vr.Nr(A(y).fh(),A(l).fh(),s,n),r.assignCachedGe(y,l,n),r=n}else r=U.vr.Nr(A(y).fh(),A(l).fh(),s,n)}for(y=[],s=0;s<I.length;s++)n=I[s],y.push(J2(c,n,l,r))}else for(r=U.vr.Nr(A(y).fh(),A(l).fh(),null),y=[],s=0;s<I.length;s++)n=I[s],y.push(J2(c,n,l,r));return y}function J2(c,I,y,l){return I=U.$b.zh(w(c,ut,I),l),m(c,ut,I,y)}function DT(c,I){c!=null&&(c=c.wkid||c.wkt2||c.wkt,da.has(c),da.set(c,I),Js.has(c)&&Js.delete(c))}function zT(c){c!=null&&(c=c.wkid||c.wkt2||c.wkt,da.has(c)&&(da.delete(c),Js.has(c)&&Js.delete(c)))}function jT(c,I,y,l){if(y==null||l==null)return[];var s=[],r=0;for(y=U.$b.QS(w(c,ut,y),w(c,ut,l),A(I))||[];r<y.length;r++)s.push(m(c,ut,y[r],I));return s}var Qe,U,wi,Z2,Yt=this&&this.__extends||function(){function c(I,y){return(c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var r in s)s.hasOwnProperty(r)&&(l[r]=s[r])})(I,y)}return function(I,y){function l(){this.constructor=I}c(I,y),I.prototype=y===null?Object.create(y):(l.prototype=y.prototype,new l)}}();(function(c){var I;(I=c.qn||(c.qn={}))[I.Unknown=0]="Unknown",I[I.Point=33]="Point",I[I.Line=322]="Line",I[I.Envelope=197]="Envelope",I[I.MultiPoint=550]="MultiPoint",I[I.Polyline=1607]="Polyline",I[I.Polygon=1736]="Polygon",function(l){l[l.enumMild=0]="enumMild",l[l.enumMedium=1]="enumMedium",l[l.enumHot=2]="enumHot"}(c.YK||(c.YK={}));var y=function(){function l(){this.description=null,this.VA=0}return l.prototype.getType=function(){return 0},l.prototype.Db=function(){return-1},l.prototype.Nf=function(s){this.vc(),s!=this.description&&this.sn(s)},l.prototype.sn=function(){},l.prototype.Jl=function(s){this.vc(),s!=this.description&&(s=c.ee.CR(this.description,s))!=this.description&&this.sn(s)},l.prototype.hasAttribute=function(s){return this.description.hasAttribute(s)},l.prototype.re=function(s){this.vc(),this.description.hasAttribute(s)||(s=c.ee.BR(this.description,s),this.sn(s))},l.prototype.Tg=function(){return null},l.prototype.bn=function(){},l.prototype.A=function(){},l.prototype.Qo=function(){},l.prototype.xc=function(s){this.A(s)},l.prototype.B=function(){return!0},l.prototype.Oa=function(){},l.prototype.Oc=function(){},l.prototype.Ia=function(){return null},l.prototype.copyTo=function(){},l.prototype.Ke=function(){return 0},l.prototype.Qb=function(){return 0},l.prototype.iG=function(){return this.hasAttribute(1)},l.tf=function(s){return 1+((192&s)>>6)>>1},l.Rn=function(s){return!!(32&s)},l.US=function(s){return!!(128&s)},l.yd=function(s){return!!(256&s)},l.xj=function(s){return!!(512&s)},l.Hc=function(s){return!!(1024&s)},l.prototype.Of=function(){var s=this.Ia();return this.copyTo(s),s},l.prototype.mg=function(){return null},l.jg=function(s){var r=s.Ia();return s.copyTo(r),r},l.prototype.vc=function(){0<=this.VA&&(this.VA+=2147483649)},l.Ax=function(s){var r=s.getType();if(l.xj(r))return s.I();if(s.B())return 0;if(r==197)return 4;if(r==33)return 1;if(l.yd(r))return 2;throw c.i.fa("missing type")},l}();c.aa=y})(U||(U={})),wi=U||(U={}),Z2=function(){function c(){this.y=this.x=0}return c.construct=function(I,y){var l=new c;return l.x=I,l.y=y,l},c.al=function(I){var y=new c;return y.x=I.x,y.y=I.y,y},c.prototype.ma=function(I,y){this.x=I,this.y=y},c.prototype.L=function(I){this.x=I.x,this.y=I.y},c.prototype.fq=function(I,y){return this.x===I&&this.y===y},c.prototype.Rz=function(I){return 2220446049250313e-31>=Math.abs(this.x-I.x)&&2220446049250313e-31>=Math.abs(this.y-I.y)},c.prototype.qb=function(I){return this.x===I.x&&this.y===I.y},c.prototype.Nb=function(I){return I==this||I instanceof c&&this.x==I.x&&this.y==I.y},c.prototype.sub=function(I){this.x-=I.x,this.y-=I.y},c.prototype.uc=function(I,y){this.x=I.x-y.x,this.y=I.y-y.y},c.prototype.add=function(I,y){y!==void 0?(this.x=I.x+y.x,this.y=I.y+y.y):(this.x+=I.x,this.y+=I.y)},c.prototype.Sq=function(){this.x=-this.x,this.y=-this.y},c.prototype.mt=function(I){this.x=-I.x,this.y=-I.y},c.prototype.NS=function(I,y,l){this.x=I.x*(1-l)+y.x*l,this.y=I.y*(1-l)+y.y*l},c.prototype.Ct=function(I,y){this.x=this.x*I+y.x,this.y=this.y*I+y.y},c.prototype.HW=function(I,y,l){this.x=y.x*I+l.x,this.y=y.y*I+l.y},c.prototype.scale=function(I){this.x*=I,this.y*=I},c.prototype.compare=function(I){return this.y<I.y?-1:this.y>I.y?1:this.x<I.x?-1:this.x>I.x?1:0},c.prototype.normalize=function(){var I=this.length();I==0&&(this.x=1,this.y=0),this.x/=I,this.y/=I},c.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},c.prototype.Sk=function(){return this.x*this.x+this.y*this.y},c.tb=function(I,y){return Math.sqrt(this.yc(I,y))},c.Oy=function(I,y,l,s){return I-=l,y-=s,Math.sqrt(I*I+y*y)},c.prototype.Qh=function(I){return this.x*I.x+this.y*I.y},c.prototype.fD=function(I){return Math.abs(this.x*I.x)+Math.abs(this.y*I.y)},c.prototype.wi=function(I){return this.x*I.y-this.y*I.x},c.prototype.Bt=function(I,y){var l=-this.x*y+this.y*I;this.x=this.x*I+this.y*y,this.y=l},c.prototype.Hv=function(){var I=this.x;this.x=-this.y,this.y=I},c.prototype.MG=function(I){this.x=-I.y,this.y=I.x},c.prototype.ar=function(){var I=this.x;this.x=this.y,this.y=-I},c.prototype.qu=function(){return 0<this.x?0<=this.y?1:4:0<this.y?2:this.x==0?4:3},c.nu=function(I,y){var l=I.qu(),s=y.qu();return s==l?0>(I=I.wi(y))?1:0<I?-1:0:l<s?-1:1},c.yc=function(I,y){var l=I.x-y.x;return l*l+(I=I.y-y.y)*I},c.prototype.toString=function(){return"("+this.x+" , "+this.y+")"},c.prototype.Rc=function(){this.y=this.x=NaN},c.prototype.isNaN=function(){return isNaN(this.x)||isNaN(this.y)},c.prototype.offset=function(I,y){var l=c.tb(I,y),s=c.construct(this.x,this.y);if(l==0)return c.tb(s,I);var r=new c;return r.L(y),r.sub(I),s.sub(I),s.wi(r)/l},c.Uq=function(I,y,l){var s=new wi.Wb;s.set(y.x),s.sub(I.x);var r=new wi.Wb;r.set(l.y),r.sub(I.y);var n=new wi.Wb;n.set(y.y),n.sub(I.y);var a=new wi.Wb;return a.set(l.x),a.sub(I.x),s.Ag(r),n.Ag(a),s.sub(n),s.ps()?(s=new wi.hp(y.x),r=new wi.hp(I.x),n=new wi.hp(I.y),s=s.jt(r),I=(I=new wi.hp(l.y)).jt(n),y=(y=new wi.hp(y.y)).jt(n),l=(l=new wi.hp(l.x)).jt(r),s=s.lr(I),y=y.lr(l),(s=s.lr(y)).nT()?-1:s.fS()?1:0):0>(l=s.value())?-1:0<l?1:0},c.prototype.cc=function(){return wi.O.uj(wi.O.uj())},c}(),wi.h=Z2,function(c){var I=function(){function y(l){this.Fy=this.Mt=0,this.OX=l}return y.prototype.reset=function(){this.Fy=this.Mt=0},y.prototype.add=function(l){l-=this.Fy;var s=this.Mt+l;this.Fy=s-this.Mt-l,this.Mt=s},y.prototype.sub=function(l){this.add(-l)},y.prototype.rm=function(){return this.OX+this.Mt},y}();c.Fx=I,c.lc=function(){function y(){}return y.Cn=function(l,s){return 0<=s?Math.abs(l):-Math.abs(l)},y.sign=function(l){return 0>l?-1:0<l?1:0},y.RK=function(l){return l-360*Math.floor(l/360)},y.round=function(l){return Math.floor(l+.5)},y.ox=function(l){return l*l},y.hq=function(l,s,r){return .5>=r?l+(s-l)*r:s-(s-l)*(1-r)},y.OG=function(l,s,r,n){.5>=r?(n.x=l.x+(s.x-l.x)*r,n.y=l.y+(s.y-l.y)*r):(n.x=s.x-(s.x-l.x)*(1-r),n.y=s.y-(s.y-l.y)*(1-r))},y.lT=function(l,s,r,n,a,u){.5>=a?(u.x=l+(r-l)*a,u.y=s+(n-s)*a):(u.x=r-(r-l)*(1-a),u.y=n-(n-s)*(1-a))},y}()}(U||(U={})),function(c){var I=function(y){function l(){var s=y.call(this)||this;return s.sa=0,s.na=0,s.pa=0,s.la=0,s.ka=null,s}return Yt(l,y),l.prototype.ac=function(){return c.h.construct(this.sa,this.na)},l.prototype.Yp=function(s){s.x=this.sa,s.y=this.na},l.prototype.Dc=function(s){this.em(0,s)},l.prototype.ZB=function(s,r){this.em(0,c.h.construct(s,r))},l.prototype.To=function(s){this.hD(0,s)},l.prototype.setStart=function(s){this.uD(0,s)},l.prototype.wv=function(s,r){return this.Od(0,s,r)},l.prototype.YB=function(s,r,n){this.tn(0,s,r,n)},l.prototype.wc=function(){return c.h.construct(this.pa,this.la)},l.prototype.Tr=function(s){s.x=this.pa,s.y=this.la},l.prototype.Qc=function(s){this.em(1,s)},l.prototype.Ql=function(s,r){this.em(1,c.h.construct(s,r))},l.prototype.Po=function(s){this.hD(1,s)},l.prototype.setEnd=function(s){this.uD(1,s)},l.prototype.gv=function(s,r){return this.Od(1,s,r)},l.prototype.OB=function(s,r,n){this.tn(1,s,r,n)},l.prototype.Db=function(){return 1},l.prototype.B=function(){return this.Ac()},l.prototype.Oa=function(){},l.prototype.Ke=function(){return 0},l.prototype.Ea=function(s,r,n,a,u){return this.KM(s,r,n,a,u)},l.prototype.isIntersecting=function(s,r){return this.zr(s,r,!1)!=0},l.prototype.qs=function(s,r){return this.ru(s,r,!1)},l.prototype.ru=function(){return null},l.prototype.Ac=function(){return!1},l.prototype.ay=function(s){if(this.vc(),this.ka==null&&0<s)this.ka=c.O.lg(2*s);else if(this.ka!=null&&this.ka.length<2*s){for(var r=this.ka.slice(0),n=this.ka.length;n<2*s;n++)r[n]=0;this.ka=r}},l.gM=function(s,r,n){if(0<n)var a=0;for(var u=0;u<n;u++)r[0+a]=s[0],a++},l.prototype.em=function(s,r){s!=0?(this.pa=r.x,this.la=r.y):(this.sa=r.x,this.na=r.y)},l.prototype.sn=function(s){if(this.ka!=null){for(var r=c.ee.Iw(s,this.description),n=[],a=l.Gg(this.description,0),u=l.Gg(this.description,1),d=l.Gg(s,0),f=l.Gg(s,1),g=0,b=1,_=s.Aa;b<_;b++){var S=s.kd(b),T=c.ra.Va(S);if(r[b]==-1){var k=c.ra.se(S);for(S=0;S<T;S++)n[d+g]=k,n[f+g]=k,g++}else for(k=this.description.$j(r[b])-2,S=0;S<T;S++)n[d+g]=this.ka[a+k],n[f+g]=this.ka[u+k],g++,k++}this.ka=n}this.description=s},l.prototype.hD=function(s,r){if(this.Ac())throw c.i.fa("empty geometry");r.Nf(this.description),r.Ac()&&r.un();for(var n=0;n<this.description.Aa;n++)for(var a=this.description.Ed(n),u=0,d=c.ra.Va(a);u<d;u++){var f=this.Od(s,a,u);r.setAttribute(a,u,f)}},l.prototype.uD=function(s,r){if(this.vc(),r.Ac())throw c.i.fa("empty geometry");for(var n=r.description,a=0,u=n.Aa;a<u;a++)for(var d=n.Ed(a),f=c.ra.Va(d),g=0;g<f;g++){var b=r.Uc(d,g);this.tn(s,d,g,b)}},l.prototype.Od=function(s,r,n){if(this.Ac())throw c.i.fa("This operation was performed on an Empty Geometry.");if(r==0)return s!=0?n!=0?this.la:this.pa:n!=0?this.na:this.sa;if(n>=c.ra.Va(r))throw c.i.ce();var a=this.description.Pf(r);return 0<=a?(this.ka!=null&&this.ay(this.description.Ae.length-2),this.ka[l.Gg(this.description,s)+this.description.$j(a)-2+n]):c.ra.se(r)},l.prototype.tn=function(s,r,n,a){if(this.vc(),n>=c.ra.Va(r))throw c.i.ce();var u=this.description.Pf(r);0>u&&(this.re(r),u=this.description.Pf(r)),r==0?s!=0?n!=0?this.la=a:this.pa=a:n!=0?this.na=a:this.sa=a:(this.ka==null&&this.ay(this.description.Ae.length-2),this.ka[l.Gg(this.description,s)+this.description.$j(u)-2+n]=a)},l.prototype.copyTo=function(s){if(s.getType()!=this.getType())throw c.i.N();s.description=this.description,s.ay(this.description.Ae.length-2),l.gM(this.ka,s.ka,2*(this.description.Ae.length-2)),s.sa=this.sa,s.na=this.na,s.pa=this.pa,s.la=this.la,s.vc(),this.op(s)},l.prototype.Tg=function(s,r){var n=new c.Nc;return this.Ac()?(n.Oa(),n):(n.oa=this.Od(0,s,r),n.va=n.oa,n.Lk(this.Od(1,s,r)),n)},l.prototype.ZI=function(s){this.Ac()?s.Oa():(s.oa=this.Od(0,0,0),s.va=s.oa,s.Lk(this.Od(1,0,0)))},l.prototype.Tw=function(s,r){r.Nf(this.description),r.Cb(this.hc(s));for(var n=1,a=this.description.Aa;n<a;n++)for(var u=this.description.Ed(n),d=c.ra.Va(u),f=0;f<d;f++){var g=this.Uc(s,u,f);r.setAttribute(u,f,g)}},l.prototype.FM=function(s){if(this.description!=s.description||this.sa!=s.sa||this.pa!=s.pa||this.na!=s.na||this.la!=s.la)return!1;for(var r=0;r<2*(this.description.Ae.length-2);r++)if(this.ka[r]!=s.ka[r])return!1;return!0},l.prototype.BG=function(){return this.sa==this.pa&&this.na==this.la},l.prototype.reverse=function(){var s=this.sa;this.sa=this.pa,this.pa=s,s=this.na,this.na=this.la,this.la=s,s=1;for(var r=this.description.Aa;s<r;s++)for(var n=this.description.kd(s),a=0,u=c.ra.Va(n);a<u;a++){var d=this.Od(0,n,a),f=this.Od(1,n,a);this.tn(0,n,a,f),this.tn(1,n,a,d)}},l.prototype.zr=function(s,r,n){var a=this.getType(),u=s.getType();if(a===322){if(u==322)return c.yb.OM(this,s,r,n);throw c.i.Qa()}throw c.i.Qa()},l.prototype.KM=function(s,r,n,a,u){var d=this.getType(),f=s.getType();if(d===322){if(f==322)return c.yb.Zx(this,s,r,n,a,u);throw c.i.Qa()}throw c.i.Qa()},l.prototype.Tx=function(){return null},l.Gg=function(s,r){return r*(s.Ae.length-2)},l.prototype.hc=function(s,r){if(r===void 0)return r=new c.h,this.hc(s,r),r;c.lc.lT(this.sa,this.na,this.pa,this.la,s,r)},l.prototype.fe=function(){return null},l.prototype.eG=function(){return null},l.prototype.cq=function(){return null},l.prototype.Bi=function(){return null},l.prototype.Pn=function(){return null},l.prototype.kg=function(){return null},l.prototype.Ux=function(s,r){return r!==void 0?this.vx(r)-this.vx(s):this.vx(s)},l.prototype.op=function(){},l.prototype.dl=function(){return null},l.prototype.ah=function(){},l.prototype.Uc=function(){return null},l.prototype.Pe=function(){return null},l.prototype.vx=function(){return null},l.prototype.NG=function(){return null},l.prototype.tb=function(s,r){if(!r&&this.zr(s,0,!1)!=0)return 0;r=17976931348623157e292;var n=this.ac(),a=s.fe(n,!1);return n.sub(s.hc(a)),(n=n.length())<r&&(r=n),n=this.wc(),a=s.fe(n,!1),n.sub(s.hc(a)),(n=n.length())<r&&(r=n),n=s.ac(),a=this.fe(n,!1),n.sub(this.hc(a)),(n=n.length())<r&&(r=n),n=s.wc(),a=this.fe(n,!1),n.sub(this.hc(a)),(n=n.length())<r&&(r=n),r},l.prototype.mg=function(){return c.pi.gm(this,null)},l}(c.aa);c.SC=I}(U||(U={})),new U.h,function(c){var I;(I=c.$K||(c.$K={}))[I.Unknown=-1]="Unknown",I[I.Not=0]="Not",I[I.Weak=1]="Weak",I[I.Strong=2]="Strong",function(l){l[l.DirtyIsKnownSimple=1]="DirtyIsKnownSimple",l[l.IsWeakSimple=2]="IsWeakSimple",l[l.IsStrongSimple=4]="IsStrongSimple",l[l.DirtyOGCFlags=8]="DirtyOGCFlags",l[l.DirtyVerifiedStreams=32]="DirtyVerifiedStreams",l[l.DirtyExactIntervals=64]="DirtyExactIntervals",l[l.DirtyLooseIntervals=128]="DirtyLooseIntervals",l[l.DirtyIntervals=192]="DirtyIntervals",l[l.DirtyIsEnvelope=256]="DirtyIsEnvelope",l[l.DirtyLength2D=512]="DirtyLength2D",l[l.DirtyRingAreas2D=1024]="DirtyRingAreas2D",l[l.DirtyCoordinates=1993]="DirtyCoordinates",l[l.DirtyAllInternal=65535]="DirtyAllInternal",l[l.DirtyAll=16777215]="DirtyAll"}(c.MK||(c.MK={}));var y=function(l){function s(){var r=l.call(this)||this;return r.Hm=65535,r.wa=0,r.Pg=-1,r.Bb=null,r}return Yt(s,l),s.prototype.op=function(){},s.prototype.$x=function(){},s.prototype.iy=function(){},s.prototype.I=function(){return this.wa},s.prototype.B=function(){return this.Ac()},s.prototype.Ac=function(){return this.wa==0},s.prototype.ak=function(r){return!!(this.Hm&r)},s.prototype.Lf=function(r,n){this.Hm=n?this.Hm|r:this.Hm&~r},s.prototype.mc=function(){this.ak(32)&&this.bN()},s.prototype.wx=function(){if(this.Ac())throw c.i.fa("This operation was performed on an Empty Geometry.")},s.prototype.ve=function(r,n){if(0>r||r>=this.wa)throw c.i.fa("index out of bounds");this.mc(),n.Nf(this.description),n.B()&&n.un();for(var a=0;a<this.description.Aa;a++)for(var u=this.description.Ed(a),d=0,f=c.ra.Va(u);d<f;d++){var g=this.za[a].eg(f*r+d);n.setAttribute(u,d,g)}},s.prototype.Ht=function(r,n){this.mc();for(var a=n.description,u=0;u<a.Aa;u++)for(var d=a.Ed(u),f=c.ra.Va(d),g=0;g<f;g++){var b=n.Uc(d,g);this.setAttribute(d,r,g,b)}},s.prototype.D=function(r,n){if(0>r||r>=this.I())throw c.i.ce();this.mc(),this.za[0].tc(2*r,n)},s.prototype.Na=function(r){var n=new c.h;return this.D(r,n),n},s.prototype.Gc=function(r,n){this.za[0].tc(2*r,n)},s.prototype.Cb=function(r,n,a){if(0>r||r>=this.wa)throw c.i.ce();this.mc();var u=this.za[0];a!==void 0?(u.write(2*r,n),u.write(2*r+1,a)):u.Tt(2*r,n),this.Pc(1993)},s.prototype.Cz=function(){if(void 0>=this.I())throw c.i.ce();this.mc();var r=this.za[0],n=new c.Nd;return n.x=r.read(NaN),n.y=r.read(NaN),n.z=this.hasAttribute(1)?this.za[1].eg():c.ra.se(1),n},s.prototype.dC=function(r){if(0>r||r>=this.I())throw c.i.ce();this.re(1),this.mc(),this.Pc(1993);var n=this.za[0];n.write(2*r,(void 0).x),n.write(2*r+1,(void 0).y),this.za[1].pr(r,(void 0).z)},s.prototype.Uc=function(r,n,a){if(0>n||n>=this.wa)throw c.i.ce();var u=c.ra.Va(r);if(a>=u)throw c.i.ce();this.mc();var d=this.description.Pf(r);return 0<=d?this.za[d].eg(n*u+a):c.ra.se(r)},s.prototype.yF=function(r,n){return this.Uc(r,n)},s.prototype.setAttribute=function(r,n,a,u){if(0>n||n>=this.wa)throw c.i.ce();var d=c.ra.Va(r);if(a>=d)throw c.i.ce();this.re(r),this.mc(),r=this.description.Pf(r),this.Pc(1993),this.za[r].pr(n*d+a,u)},s.prototype.ub=function(r){return this.wx(),this.re(r),this.mc(),this.za[this.description.Pf(r)]},s.prototype.hn=function(r,n){if(n!=null&&c.ra.Tp(r)!=n.Tp())throw c.i.N();this.re(r),r=this.description.Pf(r),this.za==null&&(this.za=c.Yc.qI(this.description.Aa)),this.za[r]=n,this.Pc(16777215)},s.prototype.sn=function(r){var n=null;if(this.za!=null){var a=c.ee.Iw(r,this.description);n=[];for(var u=0,d=r.Aa;u<d;u++)a[u]!=-1&&(n[u]=this.za[a[u]])}this.description=r,this.za=n,this.Pg=-1,this.Pc(16777215)},s.prototype.AD=function(r){this.wu(!0),r instanceof c.l?this.$.A(r):this.$.Qo(r)},s.prototype.aN=function(r){this.wu(!1),r instanceof c.l?this.$.A(r):this.$.Qo(r)},s.prototype.bn=function(r){this.wu(!0),this.$.copyTo(r)},s.prototype.A=function(r){this.AD(r)},s.prototype.Qo=function(r){this.AD(r)},s.prototype.xc=function(r){this.aN(r)},s.prototype.Tg=function(r,n){var a=new c.Nc;return this.Ac()?(a.Oa(),a):(this.wu(!0),this.$.Tg(r,n))},s.prototype.cc=function(){var r=this.description.cc();if(!this.Ac())for(var n=this.I(),a=0,u=this.description.Aa;a<u;a++)r=this.za[a].An(r,0,n*c.ra.Va(this.description.Ed(a)));return r},s.prototype.Nb=function(r){if(r==this)return!0;if(!(r instanceof s&&this.description.Nb(r.description))||this.Ac()!=r.Ac())return!1;if(this.Ac())return!0;var n=this.I();if(n!=r.I())return!1;for(var a=0;a<this.description.Aa;a++){var u=this.description.kd(a),d=this.ub(u),f=r.ub(u);if(!d.Nb(f,0,n*c.ra.Va(u)))return!1}return!0},s.prototype.copyTo=function(r){if(r.getType()!=this.getType())throw c.i.N();this.dD(r)},s.prototype.dD=function(r){this.mc(),r.description=this.description,r.za=null;var n=this.description.Aa,a=null;if(this.za!=null){a=[];for(var u=0;u<n;u++)this.za[u]!=null&&(a[u]=this.za[u].GB(this.I()*c.ra.Va(this.description.Ed(u))))}this.$!=null?(r.$=this.$.Ia(),this.$.copyTo(r.$)):r.$=null,r.wa=this.wa,r.Hm=this.Hm,r.za=a;try{this.op(r)}catch{throw r.Oa(),c.i.fu()}},s.prototype.wD=function(){this.wa=0,this.Pg=-1,this.za=null,this.Pc(16777215)},s.prototype.Pc=function(r){r==16777215&&(this.Pg=-1,this.$x()),this.Hm|=r,this.lM(),this.vc()},s.prototype.wu=function(r){if(this.mc(),this.ak(192))if(this.$==null?this.$=new c.Fh(this.description):this.$.Nf(this.description),this.B())this.$.Oa();else{this.hy(r);for(var n=1;n<this.description.Aa;n++)for(var a=this.description.Ed(n),u=c.ra.Va(a),d=this.za[n],f=0;f<u;f++){var g=new c.Nc;g.Oa();for(var b=0;b<this.wa;b++){var _=d.eg(b*u+f);g.Zb(_)}this.$.setInterval(a,f,g)}r&&this.Lf(192,!1)}},s.prototype.hy=function(){this.$.Oa();for(var r=this.za[0],n=new c.h,a=0;a<this.wa;a++)r.tc(2*a,n),this.$.Zb(n)},s.prototype.yp=function(r){r.Oa();for(var n=this.za[0],a=new c.h,u=0;u<this.wa;u++)n.tc(2*u,a),r.Zb(a)},s.prototype.bN=function(){if(this.Pg<this.wa){this.za==null&&(this.za=c.Yc.qI(this.description.Aa)),this.Pg=2147483647;for(var r=0;r<this.description.Aa;r++){var n=this.description.Ed(r);if(this.za[r]!=null){var a=c.ra.Va(n),u=c.O.truncate(this.za[r].size/a);u<this.wa&&(u=c.O.truncate(this.Pg>this.wa+5?(5*this.wa+3)/4:this.wa),this.za[r].resize(u*a,c.ra.se(n))),u<this.Pg&&(this.Pg=u)}else this.za[r]=c.Yc.YE(n,this.wa),this.Pg=this.wa}}this.iy(),this.Lf(32,!1)},s.prototype.dm=function(r){if(0>r)throw c.i.N();r!=this.wa&&(this.wa=r,this.Pc(65535))},s.prototype.om=function(r){if(!this.ak(1)){if(!this.ak(2))return 0;if(this.QT>=r)return this.ak(8)?1:2}return-1},s.prototype.Ch=function(r,n){if(this.QT=n,r==-1)this.Lf(1,!0),this.Lf(8,!0);else if(this.Lf(1,!1),this.Lf(8,!0),r==0)this.Lf(2,!1),this.Lf(4,!1);else if(r==1)this.Lf(2,!0),this.Lf(4,!1);else{if(r!=2)throw c.i.fa("internal error.");this.Lf(2,!0),this.Lf(4,!0)}},s.prototype.lM=function(){this.Bb!=null&&(this.Bb=null)},s.prototype.kD=function(r,n,a,u){if(0>r||r>=this.wa||0>n||n>=this.wa)throw c.i.fa("index out of bounds");this.mc(),u.Nf(this.description),u.B()&&u.un();for(var d=0;d<this.description.Aa;d++)for(var f=this.description.Ed(d),g=0,b=c.ra.Va(f);g<b;g++){var _=this.za[d].eg(b*r+g),S=this.za[d].eg(b*n+g);u.setAttribute(f,g,c.lc.hq(_,S,a))}},s.prototype.yr=function(r,n){var a=this.za[0].o,u=a[2*r]-a[2*n];return r=a[2*r+1]-a[2*n+1],Math.sqrt(u*u+r*r)},s.prototype.KR=function(r){if(0>r||r>=this.wa)throw c.i.ce();this.mc();var n=new c.Sa;n.Nf(this.description),n.B()&&n.un();for(var a=0;a<this.description.Aa;a++)for(var u=this.description.kd(a),d=0,f=c.ra.Va(u);d<f;d++){var g=this.za[a].eg(f*r+d);n.setAttribute(u,d,g)}return n},s.prototype.Dh=function(r,n){if(0>r||r>=this.wa)throw c.i.ce();if(n.B())throw c.i.N();this.mc();for(var a=n.description,u=0;u<a.Aa;u++)for(var d=a.kd(u),f=c.ra.Va(d),g=0;g<f;g++){var b=n.Uc(d,g);this.setAttribute(d,r,g,b)}},s.prototype.lu=function(){return null},s.prototype.fj=function(){return null},s}(c.aa);c.Gx=y}(U||(U={})),function(c){var I=function(){function y(){this.ob=this.Zn=null,this.Tm=124234251,this.Rv=!0,this.Qe=-1,this.ob=new c.$c(7),this.Zn=null}return y.prototype.Vo=function(l){this.Zn=l},y.prototype.RP=function(){this.Rv=!1},y.prototype.De=function(l){this.ob.De(l)},y.prototype.Pr=function(l){var s=this.ob.Ce();return this.rX(s),this.uX(l,s),s},y.prototype.MP=function(l){this.ob.jd(l)},y.prototype.addElement=function(l,s){return s==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),s=this.Qe),this.FD(l,0,s)},y.prototype.KD=function(l){return this.Qe==-1&&(this.Qe=this.Pr(-1)),this.FD(l,1,this.Qe)},y.prototype.xn=function(l){this.Qe==-1&&(this.Qe=this.Pr(-1));var s=this.Qe,r=this.ob.o;if(s==-1||r[7*s]==-1)return l=this.ob.Ll([-1,-1,-1,l,this.gl(),-1,-1]),(r=this.ob.o)[7*s]=l,this.vp(-1,l,s,r),l;var n=s==-1?-1:r[7*s+2];return l=this.ob.Ll([-1,-1,n,l,this.gl(),-1,-1]),(r=this.ob.o)[7*n+1]=l,this.oy(l,r),r[7*l+2]===-1&&(r[7*s]=l),this.vp(-1,l,s,r),l},y.prototype.zu=function(l,s,r,n){var a=-1;a==-1&&(this.Qe==-1&&(this.Qe=this.Pr(-1)),a=this.Qe);var u=this.ob.o;if(a==-1||u[7*a]==-1)return r=this.ob.Ll([-1,-1,-1,r,this.gl(),-1,-1]),(u=this.ob.o)[7*a]=r,this.vp(-1,r,a,u),r;if(n){n=s!=-1?this.Zn.compare(this,r,s):-1;var d=l!=-1?this.Zn.compare(this,r,l):1}else n=-1,d=1;if(n==0||d==0)return u[7*a+3]=n==0?s:l,-1;for((s!=-1&&l!=-1?this.Tm>c.O.bB(this.Tm)>>1:s!=-1)?l=s:n=d,s=!0;;){if(0>n){if((d=u[7*l])==-1){n=l,r=this.ob.Ll([-1,-1,l,r,this.gl(),-1,-1]),(u=this.ob.o)[7*l]=r;break}l=d}else{if((d=u[7*l+1])==-1){n=u[7*l+6],r=this.ob.Ll([-1,-1,l,r,this.gl(),-1,-1]),(u=this.ob.o)[7*l+1]=r;break}l=d}s&&(n*=-1,s=!1)}return this.oy(r,u),u[7*r+2]===-1&&(u[7*a]=r),this.vp(n,r,a,u),r},y.prototype.FF=function(){return this.iR(this.Qe)},y.prototype.vd=function(l,s){s=s==-1?this.Qe:s,this.Rv?this.LP(l,s):this.iY(l,s)},y.prototype.search=function(l,s){for(s=this.sv(s);s!=-1;){var r=this.Zn.compare(this,l,s);if(r==0)return s;s=0>r?this.ll(s):this.Xp(s)}return-1},y.prototype.IW=function(l){for(var s=this.sv(-1),r=-1;s!=-1;){var n=l.compare(this,s);if(n==0)return s;0>n?s=this.ll(s):(r=s,s=this.Xp(s))}return r},y.prototype.uJ=function(l){for(var s=this.sv(-1),r=-1;s!=-1;){var n=l.compare(this,s);if(n==0)return s;0>n?(r=s,s=this.ll(s)):s=this.Xp(s)}return r},y.prototype.ja=function(l){return this.ob.T(l,3)},y.prototype.ll=function(l){return this.ob.T(l,0)},y.prototype.Xp=function(l){return this.ob.T(l,1)},y.prototype.getParent=function(l){return this.ob.T(l,2)},y.prototype.lb=function(l){return this.ob.T(l,6)},y.prototype.we=function(l){return this.ob.T(l,5)},y.prototype.rc=function(l){return l==-1?this.kl(this.Qe):this.kl(l)},y.prototype.Fc=function(l){return l==-1?this.Zr(this.Qe):this.Zr(l)},y.prototype.ZR=function(l){return l==-1?this.bG(this.Qe):this.bG(l)},y.prototype.Sj=function(l,s){this.NB(l,s)},y.prototype.sv=function(l){return l==-1?this.YF(this.Qe):this.YF(l)},y.prototype.clear=function(){this.ob.mj(!1),this.Qe=-1},y.prototype.size=function(l){return l==-1?this.$F(this.Qe):this.$F(l)},y.prototype.KN=function(l,s){for(var r=s[7*l],n=s[7*l+1],a=s[7*l+4];r!=-1||n!=-1;){var u=r!=-1?s[7*r+4]:2147483647;if(n=n!=-1?s[7*n+4]:2147483647,a<=Math.min(u,n))break;u<=n?this.sJ(r,s):this.rJ(l,s),r=s[7*l],n=s[7*l+1]}},y.prototype.oy=function(l,s){if(this.Rv)for(var r=s[7*l+4],n=s[7*l+2];n!=-1&&s[7*n+4]>r;)s[7*n]==l?this.sJ(l,s):this.rJ(n,s),n=s[7*l+2]},y.prototype.rJ=function(l,s){var r=s[7*l+1];s[7*r+2]=s[7*l+2],s[7*l+2]=r;var n=s[7*r];s[7*l+1]=n,n!=-1&&(s[7*n+2]=l),s[7*r]=l,(n=s[7*r+2])!=-1&&(s[7*n]==l?s[7*n]=r:s[7*n+1]=r)},y.prototype.sJ=function(l,s){var r=s[7*l+2];s[7*l+2]=s[7*r+2],s[7*r+2]=l;var n=s[7*l+1];s[7*r]=n,n!=-1&&(s[7*n+2]=r),s[7*l+1]=r,(n=s[7*l+2])!=-1&&(s[7*n]===r?s[7*n]=l:s[7*n+1]=l)},y.prototype.Pk=function(l,s){this.ob.S(l,2,s)},y.prototype.TB=function(l,s){this.ob.S(l,0,s)},y.prototype.XB=function(l,s){this.ob.S(l,1,s)},y.prototype.WB=function(l,s){this.ob.S(l,5,s)},y.prototype.ex=function(l,s){this.ob.S(l,6,s)},y.prototype.XJ=function(l,s){this.ob.S(s,0,l)},y.prototype.rX=function(l){this.ob.S(l,4,0)},y.prototype.uX=function(l,s){this.ob.S(s,5,l)},y.prototype.YF=function(l){return l==-1?-1:this.ob.T(l,0)},y.prototype.kl=function(l){return l==-1?-1:this.ob.T(l,1)},y.prototype.Zr=function(l){return l==-1?-1:this.ob.T(l,2)},y.prototype.iR=function(l){return l==-1?-1:this.ob.T(l,3)},y.prototype.$F=function(l){return l==-1?0:this.ob.T(l,4)},y.prototype.bG=function(l){return this.ob.T(l,5)},y.prototype.Pw=function(){return this.ob.Ll([-1,-1,-1,void 0,this.gl(),-1,-1])},y.prototype.fl=function(l){l!=-1&&this.ob.jd(l)},y.prototype.gl=function(){return this.Tm=c.O.bB(this.Tm),1073741823&this.Tm},y.prototype.FD=function(l,s,r){var n=this.ob.o;if(r==-1||n[7*r]==-1)return l=this.ob.Ll([-1,-1,-1,l,this.gl(),-1,-1]),(n=this.ob.o)[7*r]=l,this.vp(-1,l,r,n),l;for(var a=r==-1?-1:n[7*r];;){var u=s==-1?1:this.Zn.compare(this,l,a);if(0>u){if((u=this.ll(a))==-1){s=a,l=this.ob.Ll([-1,-1,a,l,this.gl(),-1,-1]),(n=this.ob.o)[7*a]=l;break}a=u}else{if(s==1&&u==0)return n[7*r+3]=a,-1;if((u=n[7*a+1])==-1){s=n[7*a+6],l=this.ob.Ll([-1,-1,a,l,this.gl(),-1,-1]),(n=this.ob.o)[7*a+1]=l;break}a=u}}return this.oy(l,n),n[7*l+2]===-1&&(n[7*r]=l),this.vp(s,l,r,n),l},y.prototype.vp=function(l,s,r,n){if(l!=-1){var a=n[7*l+5];n[7*l+5]=s}else a=r==-1?-1:n[7*r+2];n[7*s+5]=a,a!=-1&&(n[7*a+6]=s),n[7*s+6]=l,l==(r==-1?-1:n[7*r+1])&&(n[7*r+1]=s),l==-1&&(n[7*r+2]=s),n[7*r+4]=(r==-1?0:n[7*r+4])+1},y.prototype.AB=function(l,s){var r=this.ob.o,n=r[7*l+5];l=r[7*l+6],n!=-1?r[7*n+6]=l:r[7*s+1]=l,l!=-1?r[7*l+5]=n:r[7*s+2]=n,r[7*s+4]=s===-1?-1:r[7*s+4]-1},y.prototype.iY=function(l,s){this.AB(l,s);var r=this.ll(l),n=this.Xp(l),a=this.getParent(l),u=l;if(r!=-1&&n!=-1){this.Tm=c.O.bB(this.Tm);var d=1073741823<this.Tm?this.lb(l):this.we(l),f=this.getParent(d)==l;this.ob.gC(l,d,0),this.ob.gC(l,d,1),this.ob.gC(l,d,2),a!=-1?this.ll(a)==l?this.TB(a,d):this.XB(a,d):this.XJ(d,s),f?(r==d?(this.TB(d,l),this.Pk(n,d)):n==d&&(this.XB(d,l),this.Pk(r,d)),this.Pk(l,d),a=d):(this.Pk(r,d),this.Pk(n,d),a=this.getParent(l),u=d),r=this.ll(l),n=this.Xp(l),r!=-1&&this.Pk(r,l),n!=-1&&this.Pk(n,l)}r=r!=-1?r:n,a==-1?this.XJ(r,s):this.ll(a)==u?this.TB(a,r):this.XB(a,r),r!=-1&&this.Pk(r,a),this.fl(l)},y.prototype.LP=function(l,s){var r=this.ob.o;r[7*l+4]=2147483647;var n=-1,a=-1,u=s===-1?-1:r[7*s],d=u==l;if(d&&(n=r[7*u],a=r[7*u+1],n==-1&&a==-1))return this.AB(u,s),this.fl(u),void(r[7*s]=-1);this.KN(l,r),(u=r[7*l+2])!=-1&&(r[7*u]==l?r[7*u]=-1:r[7*u+1]=-1),this.AB(l,s),this.fl(l),d&&(r[7*s]=n==-1||r[7*n+2]!=-1?a:n)},y.prototype.NB=function(l,s){this.ob.S(l,3,s)},y}();c.Yj=I}(U||(U={})),function(c){var I=function(){function y(l,s){l!==void 0&&this.K(l,s)}return y.prototype.K=function(l,s){this.oa=l,this.va=s,this.normalize()},y.prototype.isIntersecting=function(l){return this.oa<=l.oa?this.va>=l.oa:l.va>=this.oa},y.prototype.move=function(l){this.B()||(this.oa+=l,this.va+=l)},y.prototype.normalize=function(){if(!isNaN(this.oa)){if(this.oa>this.va){var l=this.oa;this.oa=this.va,this.va=l}isNaN(this.va)&&this.Oa()}},y.prototype.Oa=function(){this.va=this.oa=NaN},y.prototype.B=function(){return isNaN(this.oa)},y.prototype.Zb=function(l){typeof l=="number"?this.B()?this.va=this.oa=l:this.Lk(l):l.B()||(this.B()?(this.oa=l.oa,this.va=l.va):(this.oa>l.oa&&(this.oa=l.oa),this.va<l.va&&(this.va=l.va),this.oa>this.va&&this.Oa()))},y.prototype.Lk=function(l){l<this.oa?this.oa=l:l>this.va&&(this.va=l)},y.prototype.contains=function(l){return typeof l=="number"?l>=this.oa&&l<=this.va:l.oa>=this.oa&&l.va<=this.va},y.prototype.Ea=function(l){this.B()||l.B()?this.Oa():(this.oa<l.oa&&(this.oa=l.oa),this.va>l.va&&(this.va=l.va),this.oa>this.va&&this.Oa())},y.prototype.W=function(l){this.B()||(this.oa-=l,this.va+=l,this.va<this.oa&&this.Oa())},y.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.oa)+Math.abs(this.va)+1)},y.prototype.KB=function(l,s){l>s?(this.oa=s,this.va=l):(this.oa=l,this.va=s)},y.prototype.It=function(l){return c.O.Rk(l,this.oa,this.va)},y.prototype.R=function(){return this.va-this.oa},y.prototype.sf=function(){return .5*(this.oa+this.va)},y.prototype.Nb=function(l){return l==this||l instanceof y&&(!(!this.B()||!l.B())||this.oa==l.oa&&this.va==l.va)},y.prototype.cc=function(){return c.O.uj(c.O.uj())},y}();c.Nc=I}(U||(U={})),function(c){var I=new c.Nc,y=new c.Nc,l=function(){this.ne=null,this.pb=-1,this.sb=new c.yb,this.qA=55555555,this.Tv=this.Vv=!1,this.Uf=new c.Nc,this.Uf.KB(0,0)};c.IY=l;var s=function(){function r(n,a,u){this.g=n,this.Hk=NaN,this.NH=this.Kq=0,this.OH=NaN,this.qa=a,this.Nq=10*a,this.PH=this.QH=NaN,this.rg=!1,this.Dm=this.gt=this.Lo=this.Xs=this.Ws=-1,this.gA=u,this.TA=new l,this.YH=new l,c.O.truncate(3*n.fd/2)}return r.prototype.mG=function(n,a,u,d){n.ne=d===null?null:d[u[5*a]],n.Tv=n.ne!=null,n.Tv||((d=u[5*a+2])!==-1&&this.g.mW(u[5*a],u[5*d],n.sb),n.ne=n.sb,n.Uf.KB(n.sb.sa,n.sb.pa),n.Uf.va+=this.qa,n.sb.rI(),n.Vv=n.sb.la==n.sb.na,n.Vv||(n.qA=(n.sb.pa-n.sb.sa)/(n.sb.la-n.sb.na)))},r.prototype.OO=function(n,a){var u=n.zr(a,this.qa,!0);return u!=0?u==2?this.Qy():this.xi():(n.Yp(cn),n.Tr(Gn),a.Yp(qn),a.Tr(Ws),De.ma(this.Kq,this.Hk),cn.qb(qn)&&this.Hk==cn.y?0>Gn.compare(Ws)?De.L(Gn):De.L(Ws):cn.qb(Ws)&&this.Hk==cn.y?0>Gn.compare(qn)?De.L(Gn):De.L(qn):qn.qb(Gn)&&this.Hk==qn.y?0>cn.compare(Ws)?De.L(cn):De.L(Ws):Gn.qb(Ws)&&this.Hk==Gn.y&&(0>cn.compare(qn)?De.L(cn):De.L(qn)),n.Pe(De.y,De.x)<a.Pe(De.y,De.x)?-1:1)},r.prototype.MO=function(n,a){if(n.sb.na==a.sb.na&&n.sb.sa==a.sb.sa)return n.sb.la==a.sb.la&&n.sb.pa==a.sb.pa?this.gA?this.Qy():0:this.PE(n,a);if(n.sb.la==a.sb.la&&n.sb.pa==a.sb.pa)return this.OE(n,a);var u=this.OE(n,a);return n=this.PE(n,a),0>u&&0>n?-1:0<u&&0<n?1:this.xi()},r.prototype.IO=function(n,a){if(n.pa>a.pa){if(a.pa>a.sa&&a.la-a.na<2*this.qa&&n.vi(a.pa,a.la,this.qa))return this.xi()}else if((a.la-a.na)/(a.pa-a.sa)*(n.pa-n.sa)<this.Nq&&a.vi(n.pa,n.la,this.qa))return this.xi();return 1},r.prototype.JO=function(n,a){if(n.sa<a.sa){if(a.pa>a.sa&&a.la-a.na<2*this.qa&&n.vi(a.pa,a.la,this.qa))return this.xi()}else if((a.la-a.na)/(a.pa-a.sa)*(n.sa-n.pa)<this.Nq&&a.vi(n.sa,n.na,this.qa))return this.xi();return-1},r.prototype.KO=function(n,a){var u=new c.h;u.uc(a.wc(),a.ac()),u.ar(),u.normalize();var d=new c.h;d.uc(n.ac(),a.ac());var f=new c.h;f.uc(n.wc(),a.ac()),d=d.Qh(u),u=f.Qh(u),f=Math.abs(d);var g=Math.abs(u);if(f<g){if(f<this.Nq&&a.vi(n.sa,n.na,this.qa))return this.xi()}else if(g<this.Nq&&a.vi(n.pa,n.la,this.qa))return this.xi();return 0>d&&0>u?-1:0<d&&0<u?1:this.xi()},r.prototype.NE=function(n,a){return n.na==a.na&&n.sa==a.sa?this.IO(n,a):n.la==a.la&&n.pa==a.pa?this.JO(n,a):this.KO(n,a)},r.prototype.LO=function(n,a){return n.la==a.la&&n.pa==a.pa&&n.na==a.na&&n.sa==a.sa?this.gA?this.Qy():0:this.xi()},r.prototype.OE=function(n,a){var u=1;if(n.sb.na<a.sb.na){u=-1;var d=n;n=a,a=d}n=n.sb,d=a.sb;var f=n.sa-d.sa;a=a.qA*(n.na-d.na);var g=this.Nq;return f<a-g?-u:f>a+g?u:d.vi(n.sa,n.na,this.qa)?this.xi():f<a?-u:u},r.prototype.PE=function(n,a){var u=1;if(a.sb.la<n.sb.la){u=-1;var d=n;n=a,a=d}n=n.sb,d=a.sb;var f=n.pa-d.sa;a=a.qA*(n.la-d.na);var g=this.Nq;return f<a-g?-u:f>a+g?u:d.vi(n.pa,n.la,this.qa)?this.xi():f<a?-u:u},r.prototype.Qy=function(){return this.rg=!0,this.Ni=new c.Md(5,this.Lo,this.gt),-1},r.prototype.xi=function(){return this.rg=!0,this.gA?this.Ni=new c.Md(4,this.Lo,this.gt):this.gt=this.Lo=this.Xs=this.Ws=-1,-1},r.prototype.NO=function(n,a,u,d){if(this.rg)return-1;var f=this.OH==this.Hk&&this.NH==this.Kq;if(f&&n==this.Ws)var g=this.PH;else g=NaN,this.Ws=-1;return f&&a==this.Xs?f=this.QH:(f=NaN,this.Xs=-1),u.ne.ZI(I),d.ne.ZI(y),I.va<y.oa?-1:y.va<I.oa?1:(this.OH=this.Hk,this.NH=this.Kq,isNaN(g)&&(this.Ws=n,this.PH=g=n=u.ne.Pe(this.Hk,this.Kq)),isNaN(f)&&(this.Xs=a,this.QH=f=n=d.ne.Pe(this.Hk,this.Kq)),Math.abs(g-f)<=this.qa?this.OO(u.ne,d.ne):g<f?-1:g>f?1:0)},r.prototype.Kr=function(){this.rg=!1},r.prototype.rm=function(){return this.Ni},r.prototype.$J=function(n,a){this.Hk=n,this.Kq=a,this.gt=this.Lo=this.Xs=this.Ws=-1},r.prototype.compare=function(n,a,u){return this.rg?-1:(n=n.ja(u),this.Dm=u,this.RE(a,a,n,n))},r.prototype.RE=function(n,a,u,d){if(this.Lo==a)var f=this.TA;else this.Lo=a,f=this.TA,this.TA.pb=n,this.mG(f,a,this.g.td.o,this.g.We);if(g==null){this.gt=d;var g=this.YH;this.YH.pb=u,this.mG(g,d,this.g.td.o,this.g.We)}return f.Tv||g.Tv?this.NO(a,d,f,g):f.Uf.va<g.Uf.oa?-1:g.Uf.va<f.Uf.oa?1:(n=f.Vv?1:0,(n|=g.Vv?2:0)==0?this.MO(f,g):n==1?this.NE(f.sb,g.sb):n==2?-1*this.NE(g.sb,f.sb):this.LO(f.sb,g.sb))},r}();c.UC=s}(U||(U={})),function(c){var I=function(){function y(l,s){this.g=l,this.qa=s,this.rg=!1,this.Lo=-1,this.Uf=new c.Nc,this.Gq=new c.h,this.Gq.Rc(),this.ie=new c.yb,this.Dm=-1,this.BA=17976931348623157e292}return y.prototype.Kr=function(){this.rg=!1,this.BA=17976931348623157e292},y.prototype.Dh=function(l){this.Gq.L(l)},y.prototype.compare=function(l,s){return this.SE(s,l.ja(s))},y.prototype.SE=function(l,s){var r=this.g.bc(s)!=null;if(r||(this.g.ed(s,this.ie),this.Uf.KB(this.ie.sa,this.ie.pa)),r)throw c.i.fa("not implemented");if(this.Gq.x+this.qa<this.Uf.oa)return-1;if(this.Gq.x-this.qa>this.Uf.va)return 1;if(this.ie.na==this.ie.la)return this.Dm=l,this.rg=!0,0;this.ie.rI(),r=this.ie.ac(),(s=new c.h).uc(this.ie.wc(),r),s.ar();var n=new c.h;return n.uc(this.Gq,r),r=s.Qh(n),(r/=s.length())<10*-this.qa?-1:r>10*this.qa?1:this.ie.qs(this.Gq,this.qa)&&((s=Math.abs(r))<this.BA&&(this.Dm=l,this.BA=s),this.rg=!0,s<.25*this.qa)?0:0>r?-1:1},y}();c.aM=I}(U||(U={})),function(c){function I(l,s,r,n){r=new Float64Array(l.subarray(r,n)),l.set(r,s)}var y=function(){function l(s){this.Pb=this.pk=!1,this.o=null;var r=s;2>r&&(r=2),this.o=new Float64Array(r),this.size=s}return l.prototype.rotate=function(s,r,n){if(this.Pb)throw c.i.fa("invalid_call");if(r<s||r>n||s>n)throw c.i.N();s!=r&&n!=r&&(this.ni(s,r-s,1),this.ni(r,n-r,1),this.ni(s,n-s,1))},l.qf=function(s,r){var n=new l(s),a=n.o;if(2>s&&(s=2),r!==0)for(var u=0;u<s;u++)a[u]=r;return n},l.Bn=function(s){var r=new l(0);return r.o=new Float64Array(s.o),r.size=s.size,r},l.Lr=function(s,r){var n=new l(0);return n.size=s.size,n.size>r&&(n.size=r),2>(r=n.size)&&(r=2),n.o=new Float64Array(r),n.o.set(s.o.length<=r?s.o:s.o.subarray(0,r),0),n},l.prototype.Jb=function(s){0>=s||(this.o==null?this.o=new Float64Array(s):s<=this.o.length||(0<this.o.length?((s=new Float64Array(s)).set(this.o),this.o=s):this.o=new Float64Array(s)))},l.prototype.read=function(s){return this.o[s]},l.prototype.tc=function(s,r){r.x=this.o[s],r.y=this.o[s+1]},l.prototype.get=function(s){return this.o[s]},l.prototype.write=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r},l.prototype.set=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r},l.prototype.Tt=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r.x,this.o[s+1]=r.y},l.prototype.add=function(s){this.resize(this.size+1),this.o[this.size-1]=s},l.prototype.GB=function(s){return l.Lr(this,s)},l.prototype.eg=function(s){return this.read(s)},l.prototype.resize=function(s,r){if(r===void 0&&(r=0),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(s<=this.size){if(30<this.o.length&&5*s/4<this.o.length){var n=new Float64Array(this.o,0,s);this.o=n}}else{s>this.o.length&&(n=c.O.truncate(64>s?Math.max(2*s,4):5*s/4),(n=new Float64Array(n)).set(this.o),this.o=n),n=this.o;for(var a=this.size;a<s;a++)n[a]=r}this.size=s},l.prototype.Bh=function(s){if((this.o==null||s>this.o.length)&&this.resize(s),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=s},l.prototype.pr=function(s,r){this.write(s,r)},l.prototype.An=function(s,r,n){for(var a=this.size;r<a&&r<n;r++)s=c.O.uj(this.read(r));return s},l.prototype.Nb=function(s,r,n){if(s==null||!(s instanceof l))return!1;var a=this.size,u=s.size;if(n>a||n>u&&a!=u)return!1;for(n>a&&(n=a);r<n;r++)if(this.read(r)!=s.read(r))return!1;return!0},l.prototype.addRange=function(s,r,n,a,u){if(this.Pb)throw c.i.Hb();if(!a&&(1>u||n%u!=0))throw c.i.N();var d=this.size;if(this.resize(d+n),a)this.o.set(s.o.subarray(r,r+n),d);else{a=n;for(var f=0;f<n;f+=u){a-=u;for(var g=0;g<u;g++)this.o[d+f+g]=s.o[r+a+g]}}},l.prototype.Mn=function(s,r,n,a,u,d,f){if(this.Pb)throw c.i.Hb();if(!u&&(1>d||a%d!=0))throw c.i.N();var g=this.size-f;if(g<a&&this.resize(this.size+a-g),I(this.o,s+a,s,s+(f-s)),this.o==r.o&&s<n&&(n+=a),u)this.o.set(r.o.subarray(n,n+a),s);else for(u=a,f=0;f<a;f+=d)for(u-=d,g=0;g<d;g++)this.o[s+f+g]=r.o[n+u+g]},l.prototype.Iz=function(s,r,n,a,u,d){if(this.Pb)throw c.i.Hb();if(0>d&&(d=this.size),this.size+2*a>this.o.length?this.resize(this.size+2*a):this.size+=2*a,I(this.o,s+2*a,s,s+(d-s)),u)for(u=0;u<a;u++)d=r[n++],this.o[s++]=d.x,this.o[s++]=d.y;else{u=0;for(var f=a-1;u<a;++u)d=r[n+f],this.o[s++]=d.x,this.o[s++]=d.y,f--}},l.prototype.Ln=function(s,r,n,a){if(this.Pb)throw c.i.Hb();for(a-=s,I(this.o,s+a,s,s+a),a=0;a<n;a++)this.o[s+a]=r},l.prototype.vj=function(s,r,n){if(this.Pb)throw c.i.Hb();I(this.o,s+2,s,s+(n-s)),this.o[s]=r.x,this.o[s+1]=r.y},l.prototype.Ut=function(s,r,n,a,u,d){if(0>s||0>r||0>a||!u&&(0>=d||r%d!=0)||n.size<a+r)throw c.i.N();if(r!=0)if(this.size<r+s&&this.resize(r+s),n==this)this.Ar(s,r,a,u,d);else if(u)for(u=0;u<r;u++)this.o[s]=n.o[a],s++,a++;else if(a=a+r-d,d==1)for(u=0;u<r;u++)this.o[s]=n.o[a],s++,a--;else for(u=0,r=c.O.truncate(r/d);u<r;u++){for(var f=0;f<d;f++)this.o[s+f]=n.o[a+f];s+=d,a-=d}},l.prototype.En=function(s,r,n){if(this.Pb||s+r>this.size)throw c.i.Hb();0<n-(s+r)&&I(this.o,s,s+r,s+(n-(s+r))+r),this.size-=r},l.prototype.ni=function(s,r,n){if(this.Pb||1>n||r%n!=0)throw c.i.Hb();for(var a=r>>1,u=0;u<a;u+=n){r-=n;for(var d=0;d<n;d++){var f=this.o[s+u+d];this.o[s+u+d]=this.o[s+r+d],this.o[s+r+d]=f}}},l.prototype.Wj=function(s,r,n){if(0>r||0>n||0>r||n+r>this.size)throw c.i.N();for(var a=r;a<r+n;a++)this.o[a]=s},l.prototype.Ar=function(s,r,n,a,u){if(!(a&&s==n||(this.o.set(this.o.subarray(n,n+r),s),a)))for(n=s,s=s+r-u,a=0,r=c.O.truncate(r/2);a<r;a++){for(var d=0;d<u;d++){var f=this.o[n+d];this.o[n+d]=this.o[s+d],this.o[s+d]=f}n+=u,s-=u}},l.prototype.vC=function(s,r,n,a,u){if(0>s||0>r||0>a)throw c.i.N();if(r!=0)for(this.size<(r<<1)+s&&this.resize((r<<1)+s),u||(s+=r-1<<1),u=u?2:-2,r+=a;a<r;a++)this.o[s]=n[a].x,this.o[s+1]=n[a].y,s+=u},l.prototype.uC=function(s,r,n){if(0>s||0>r)throw c.i.N();if(r!=0){this.size<(r<<1)+s&&this.resize((r<<1)+s),r+=0;for(var a=0;a<r;a++)this.o[s]=n[a][0],this.o[s+1]=n[a][1],s+=2}},l.prototype.Vw=function(s,r,n,a,u){if(0>s||0>r||0>a||this.size<r+s)throw c.i.N();if(u)for(u=0;u<r;u++)n[a+u]=this.o[s+u];else for(a=a+r-1;s<r;s++)n[a]=this.o[s],a--},l.prototype.uB=function(s,r,n){if(0>s||0>r||this.size<(r>>1)+s)throw c.i.N();if(r!=0){r=0+r;for(var a=0;a<r;a++)n[a][0]=this.o[s],n[a][1]=this.o[s+1],s+=2}},l.prototype.clear=function(s){s?this.resize(0):this.Bh(0)},l.prototype.ix=function(){this.pk=this.Pb=!0},l.prototype.Vd=function(s,r,n){Array.prototype.sort.call(this.o.subarray(s,r),n)},l.prototype.Tp=function(){return 1},l}();c.be=y}(U||(U={})),function(c){function I(l,s,r,n){r=new Int32Array(l.subarray(r,n)),l.set(r,s)}c.rY=function(){this.random=1973};var y=function(){function l(s){this.Pb=this.pk=!1,this.o=null;var r=s;2>r&&(r=2),this.o=new Int32Array(r),this.size=s}return l.prototype.rotate=function(s,r,n){if(this.Pb)throw c.i.fa("invalid_call");if(r<s||r>n||s>n)throw c.i.N();s!=r&&n!=r&&(this.ni(s,r-s,1),this.ni(r,n-r,1),this.ni(s,n-s,1))},l.qf=function(s,r){var n=new l(s),a=n.o;if(2>s&&(s=2),r!==0)for(var u=0;u<s;u++)a[u]=r;return n},l.Bn=function(s){var r=new l(0);return r.o=new Int32Array(s.o),r.size=s.size,r},l.Lr=function(s,r){var n=new l(0);return n.size=s.size,n.size>r&&(n.size=r),2>(r=n.size)&&(r=2),n.o=new Int32Array(r),n.o.set(s.o.length<=r?s.o:s.o.subarray(0,r),0),n},l.prototype.Jb=function(s){0>=s||(this.o==null?this.o=new Int32Array(s):s<=this.o.length||(0<this.o.length?((s=new Int32Array(s)).set(this.o),this.o=s):this.o=new Int32Array(s)))},l.prototype.read=function(s){return this.o[s]},l.prototype.tc=function(s,r){r.x=this.o[s],r.y=this.o[s+1]},l.prototype.get=function(s){return this.o[s]},l.prototype.write=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r},l.prototype.set=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r},l.prototype.Tt=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r.x,this.o[s+1]=r.y},l.prototype.add=function(s){this.resize(this.size+1),this.o[this.size-1]=s},l.prototype.GB=function(s){return l.Lr(this,s)},l.prototype.eg=function(s){return this.read(s)},l.prototype.resize=function(s,r){if(r===void 0&&(r=0),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(s<=this.size){if(30<this.o.length&&5*s/4<this.o.length){var n=new Int32Array(this.o,0,s);this.o=n}}else{s>this.o.length&&(n=c.O.truncate(64>s?Math.max(2*s,4):5*s/4),(n=new Int32Array(n)).set(this.o),this.o=n),n=this.o;for(var a=this.size;a<s;a++)n[a]=r}this.size=s},l.prototype.Bh=function(s){if((this.o==null||s>this.o.length)&&this.resize(s),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=s},l.prototype.pr=function(s,r){this.write(s,r)},l.prototype.An=function(s,r,n){for(var a=this.size;r<a&&r<n;r++)s=c.O.Th(this.read(r),s);return s},l.prototype.Nb=function(s,r,n){if(s==null||!(s instanceof l))return!1;var a=this.size,u=s.size;if(n>a||n>u&&a!=u)return!1;for(n>a&&(n=a);r<n;r++)if(this.read(r)!=s.read(r))return!1;return!0},l.prototype.addRange=function(s,r,n,a,u){if(this.Pb)throw c.i.Hb();if(!a&&(1>u||n%u!=0))throw c.i.N();var d=this.size;if(this.resize(d+n),a)this.o.set(s.o.subarray(r,r+n),d);else{a=n;for(var f=0;f<n;f+=u){a-=u;for(var g=0;g<u;g++)this.o[d+f+g]=s.o[r+a+g]}}},l.prototype.Mn=function(s,r,n,a,u,d,f){if(this.Pb)throw c.i.Hb();if(!u&&(1>d||a%d!=0))throw c.i.N();if(I(this.o,s+a,s,s+(f-s)),this.o==r.o&&s<n&&(n+=a),u)this.o.set(r.o.subarray(n,n+a),s);else for(u=a,f=0;f<a;f+=d){u-=d;for(var g=0;g<d;g++)this.o[s+f+g]=r.o[n+u+g]}},l.prototype.Iz=function(s,r,n,a,u,d){if(this.Pb)throw c.i.Hb();if(0>d&&(d=this.size),this.size+2*a>this.o.length?this.resize(this.size+2*a):this.size+=2*a,I(this.o,s+2*a,s,s+(d-s)),u)for(u=0;u<a;u++)d=r[n++],this.o[s++]=d.x,this.o[s++]=d.y;else{u=0;for(var f=a-1;u<a;++u)d=r[n+f],this.o[s++]=d.x,this.o[s++]=d.y,f--}},l.prototype.Ln=function(s,r,n,a){if(this.Pb)throw c.i.Hb();for(a-=s,I(this.o,s+a,s,s+a),a=0;a<n;a++)this.o[s+a]=r},l.prototype.vj=function(s,r,n){if(this.Pb)throw c.i.Hb();I(this.o,s+2,s,s+(n-s)),this.o[s]=r.x,this.o[s+1]=r.y},l.prototype.Ut=function(s,r,n,a,u,d){if(0>s||0>r||0>a||!u&&(0>=d||r%d!=0)||n.size<a+r)throw c.i.N();if(r!=0)if(this.size<r+s&&this.resize(r+s),n==this)this.Ar(s,r,a,u,d);else if(u)for(u=0;u<r;u++)this.o[s]=n.o[a],s++,a++;else if(a=a+r-d,d==1)for(u=0;u<r;u++)this.o[s]=n.o[a],s++,a--;else for(u=0,r=c.O.truncate(r/d);u<r;u++){for(var f=0;f<d;f++)this.o[s+f]=n.o[a+f];s+=d,a-=d}},l.prototype.En=function(s,r,n){if(this.Pb||s+r>this.size)throw c.i.Hb();0<n-(s+r)&&I(this.o,s,s+r,s+(n-(s+r))+r),this.size-=r},l.prototype.ni=function(s,r,n){if(this.Pb||1>n||r%n!=0)throw c.i.Hb();for(var a=r>>1,u=0;u<a;u+=n){r-=n;for(var d=0;d<n;d++){var f=this.o[s+u+d];this.o[s+u+d]=this.o[s+r+d],this.o[s+r+d]=f}}},l.prototype.Wj=function(s,r,n){if(0>r||0>n||0>r||n+r>this.size)throw c.i.N();for(var a=r;a<r+n;a++)this.o[a]=s},l.prototype.Ar=function(s,r,n,a,u){if(!(a&&s==n||(this.o.set(this.o.subarray(n,n+r),s),a)))for(n=s,s=s+r-u,a=0,r=c.O.truncate(r/2);a<r;a++){for(var d=0;d<u;d++){var f=this.o[n+d];this.o[n+d]=this.o[s+d],this.o[s+d]=f}n+=u,s-=u}},l.prototype.vC=function(s,r,n,a,u){if(0>s||0>r||0>a)throw c.i.N();if(r!=0)for(this.size<(r<<1)+s&&this.resize((r<<1)+s),u||(s+=r-1<<1),u=u?2:-2,r+=a;a<r;a++)this.o[s]=n[a].x,this.o[s+1]=n[a].y,s+=u},l.prototype.Vw=function(s,r,n,a,u){if(0>s||0>r||0>a||this.size<r+s)throw c.i.N();if(u)for(u=0;u<r;u++)n[a+u]=this.o[s+u];else for(a=a+r-1;s<r;s++)n[a]=this.o[s],a--},l.prototype.clear=function(s){s?this.resize(0):this.Bh(0)},l.prototype.ix=function(){this.pk=this.Pb=!0},l.prototype.Vd=function(s,r,n){10>r-s?l.rG(this.o,s,r,n):l.qB(this.o,s,r-1,n)},l.prototype.Tp=function(){return 2},l.prototype.Fc=function(){return this.o[this.size-1]},l.prototype.If=function(){this.resize(this.size-1)},l.prototype.bX=function(s){this.o[this.size-1]=s},l.prototype.SV=function(s){s<this.size-1&&(this.o[s]=this.o[this.size-1]),this.resize(this.size-1)},l.prototype.lF=function(s){for(var r=0,n=this.size;r<n;r++)if(this.o[r]==s)return r;return-1},l.prototype.hG=function(s){return 0<=this.lF(s)},l.rG=function(s,r,n,a){for(var u=r;u<n;u++){for(var d=s[u],f=u-1;f>=r&&0<a(s[f],d);)s[f+1]=s[f],f--;s[f+1]=d}},l.tx=function(s,r,n){var a=s[n];s[n]=s[r],s[r]=a},l.qB=function(s,r,n,a){if(!(r>=n))for(;;){if(9>n-r){l.rG(s,r,n+1,a);break}var u=s[r];l.tx(s,r,n);for(var d=r,f=r;f<n;f++)0>=a(s[f],u)&&(l.tx(s,d,f),d+=1);l.tx(s,d,n),d-r<n-d?(l.qB(s,r,d-1,a),r=d+1):(l.qB(s,d+1,n,a),n=d-1)}},l}();c.ia=y}(U||(U={})),function(c){function I(l,s,r,n){r=new Int8Array(l.subarray(r,n)),l.set(r,s)}var y=function(){function l(s){this.o=null;var r=s;2>r&&(r=2),this.o=new Int8Array(r),this.size=s}return l.prototype.rotate=function(s,r,n){if(this.Pb)throw c.i.fa("invalid_call");if(r<s||r>n||s>n)throw c.i.N();s!=r&&n!=r&&(this.ni(s,r-s,1),this.ni(r,n-r,1),this.ni(s,n-s,1))},l.qf=function(s,r){var n=new l(s),a=n.o;if(2>s&&(s=2),r!==0)for(var u=0;u<s;u++)a[u]=r;return n},l.Bn=function(s){var r=new l(0);return r.o=new Int8Array(s.o),r.size=s.size,r},l.Lr=function(s,r){var n=new l(0);return n.size=s.size,n.size>r&&(n.size=r),2>(r=n.size)&&(r=2),n.o=new Int8Array(r),n.o.set(s.o.length<=r?s.o:s.o.subarray(0,r),0),n},l.prototype.Jb=function(s){0>=s||(this.o==null?this.o=new Int8Array(s):s<=this.o.length||(0<this.o.length?((s=new Int8Array(s)).set(this.o),this.o=s):this.o=new Int8Array(s)))},l.prototype.read=function(s){return this.o[s]},l.prototype.tc=function(s,r){r.x=this.o[s],r.y=this.o[s+1]},l.prototype.get=function(s){return this.o[s]},l.prototype.write=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r},l.prototype.set=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r},l.prototype.Tt=function(s,r){if(this.Pb)throw c.i.Hb();this.o[s]=r.x,this.o[s+1]=r.y},l.prototype.add=function(s){this.resize(this.size+1),this.o[this.size-1]=s},l.prototype.GB=function(s){return l.Lr(this,s)},l.prototype.eg=function(s){return this.read(s)},l.prototype.resize=function(s,r){if(r===void 0&&(r=0),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");if(s<=this.size){if(30<this.o.length&&5*s/4<this.o.length){var n=new Int8Array(this.o,0,s);this.o=n}}else{s>this.o.length&&(n=c.O.truncate(64>s?Math.max(2*s,4):5*s/4),(n=new Int8Array(n)).set(this.o),this.o=n),n=this.o;for(var a=this.size;a<s;a++)n[a]=r}this.size=s},l.prototype.Bh=function(s){if((this.o==null||s>this.o.length)&&this.resize(s),this.pk)throw c.i.fa("invalid call. Attribute Stream is locked and cannot be resized.");this.size=s},l.prototype.pr=function(s,r){this.write(s,r)},l.prototype.An=function(s,r,n){for(var a=this.size;r<a&&r<n;r++)s=c.O.Th(this.read(r),s);return s},l.prototype.Nb=function(s,r,n){if(s==null||!(s instanceof l))return!1;var a=this.size,u=s.size;if(n>a||n>u&&a!=u)return!1;for(n>a&&(n=a);r<n;r++)if(this.read(r)!=s.read(r))return!1;return!0},l.prototype.addRange=function(s,r,n,a,u){if(this.Pb)throw c.i.Hb();if(!a&&(1>u||n%u!=0))throw c.i.N();var d=this.size;if(this.resize(d+n),a)this.o.set(s.o.subarray(r,r+n),d);else{a=n;for(var f=0;f<n;f+=u){a-=u;for(var g=0;g<u;g++)this.o[d+f+g]=s.o[r+a+g]}}},l.prototype.Mn=function(s,r,n,a,u,d,f){if(this.Pb)throw c.i.Hb();if(!u&&(1>d||a%d!=0))throw c.i.N();if(I(this.o,s+a,s,s+(f-s)),this.o==r.o&&s<n&&(n+=a),u)this.o.set(r.o.subarray(n,n+a),s);else for(u=a,f=0;f<a;f+=d){u-=d;for(var g=0;g<d;g++)this.o[s+f+g]=r.o[n+u+g]}},l.prototype.Ln=function(s,r,n,a){if(this.Pb)throw c.i.Hb();for(a-=s,I(this.o,s+a,s,s+a),a=0;a<n;a++)this.o[s+a]=r},l.prototype.Iz=function(s,r,n,a,u,d){if(this.Pb)throw c.i.Hb();if(0>d&&(d=this.size),this.size+2*a>this.o.length?this.resize(this.size+2*a):this.size+=2*a,I(this.o,s+2*a,s,s+(d-s)),u)for(u=0;u<a;u++)d=r[n++],this.o[s++]=d.x,this.o[s++]=d.y;else{u=0;for(var f=a-1;u<a;++u)d=r[n+f],this.o[s++]=d.x,this.o[s++]=d.y,f--}},l.prototype.vj=function(s,r,n){if(this.Pb)throw c.i.Hb();I(this.o,s+2,s,s+(n-s)),this.o[s]=r.x,this.o[s+1]=r.y},l.prototype.Ut=function(s,r,n,a,u,d){if(0>s||0>r||0>a||!u&&(0>=d||r%d!=0)||n.size<a+r)throw c.i.N();if(r!=0)if(this.size<r+s&&this.resize(r+s),n==this)this.Ar(s,r,a,u,d);else if(u)for(u=0;u<r;u++)this.o[s]=n.o[a],s++,a++;else if(a=a+r-d,d==1)for(u=0;u<r;u++)this.o[s]=n.o[a],s++,a--;else for(u=0,r=c.O.truncate(r/d);u<r;u++){for(var f=0;f<d;f++)this.o[s+f]=n.o[a+f];s+=d,a-=d}},l.prototype.En=function(s,r,n){if(this.Pb||s+r>this.size)throw c.i.Hb();0<n-(s+r)&&I(this.o,s,s+r,s+(n-(s+r))+r),this.size-=r},l.prototype.ni=function(s,r,n){if(this.Pb||1>n||r%n!=0)throw c.i.Hb();for(var a=r>>1,u=0;u<a;u+=n){r-=n;for(var d=0;d<n;d++){var f=this.o[s+u+d];this.o[s+u+d]=this.o[s+r+d],this.o[s+r+d]=f}}},l.prototype.Wj=function(s,r,n){if(0>r||0>n||0>r||n+r>this.size)throw c.i.N();for(var a=r;a<r+n;a++)this.o[a]=s},l.prototype.Ar=function(s,r,n,a,u){if(!(a&&s==n||(this.o.set(this.o.subarray(n,n+r),s),a)))for(n=s,s=s+r-u,a=0,r=c.O.truncate(r/2);a<r;a++){for(var d=0;d<u;d++){var f=this.o[n+d];this.o[n+d]=this.o[s+d],this.o[s+d]=f}n+=u,s-=u}},l.prototype.vC=function(s,r,n,a,u){if(0>s||0>r||0>a)throw c.i.N();if(r!=0)for(this.size<(r<<1)+s&&this.resize((r<<1)+s),u||(s+=r-1<<1),u=u?2:-2,r+=a;a<r;a++)this.o[s]=n[a].x,this.o[s+1]=n[a].y,s+=u},l.prototype.Vw=function(s,r,n,a,u){if(0>s||0>r||0>a||this.size<r+s)throw c.i.N();if(u)for(u=0;u<r;u++)n[a+u]=this.o[s+u];else for(a=a+r-1;s<r;s++)n[a]=this.o[s],a--},l.prototype.clear=function(s){s?this.resize(0):this.Bh(0)},l.prototype.ix=function(){this.pk=this.Pb=!0},l.prototype.Vd=function(s,r,n){r=this.o.subarray(s,r),Array.prototype.sort.call(r,n),this.o.set(r,s)},l.prototype.zJ=function(s,r){if(this.Pb)throw c.i.fa("invalid call. Attribute Stream is read only.");this.o[s]|=r},l.prototype.KE=function(s,r){if(this.Pb)throw c.i.fa("invalid call. Attribute Stream is read only.");this.o[s]&=~r},l.prototype.Tp=function(){return 1},l}();c.pn=y}(U||(U={})),function(c){c.Yc=function(){function I(){}return I.Mr=function(y,l){return c.pn.qf(y,l)},I.Dn=function(y,l){return c.be.qf(y,l)},I.pP=function(y,l,s){switch(y){case 1:y=c.be.qf(l,s);break;case 2:y=c.ia.qf(l,s);break;case 4:y=c.pn.qf(l,s);break;default:throw c.i.Qa()}return y},I.YE=function(y,l){return I.pP(c.ra.Tp(y),l*c.ra.Va(y),c.ra.se(y))},I.Oh=function(y,l){return c.ia.qf(y,l)},I.qI=function(y){var l,s=[];for(l=0;l<y;l++)s.push(null);return s},I}()}(U||(U={})),function(c){c.ga=function(I){I===void 0&&(I=0),this.u=I}}(U||(U={})),function(c){c.NL=function(){function I(){}return I.bind=function(y){c.Sc=y.PeDefs,c.pf=y.PeFactory,c.NC=y.PeVertcs,c.ej=y.PeCSTransformations,c.MC=y.PeGTTransformations,c.LL=y.PeGeogtran,c.KL=y.PeFactoryCodechange,c.LC=y.PeGCSExtent,c.Cg=y.PePCSInfo,c.ML=y.PeHorizon,c.JL=y.PeCoordsys,c.lp=y.PeGTlistExtended,c.lp.PE_GTLIST_OPTS_USE_DEFAULT=128,c.pf.initialize(null),c.Mx=y.PeGTlistExtendedEntry,c.pf.fromString(c.Sc.PE_TYPE_UNIT,'UNIT["Meter",1.0]')},I}(),c.pf=null,c.NC=null,c.JL=null,c.ML=null,c.Cg=null,c.lp=null,c.Mx=null,c.LC=null,c.KL=null,c.LL=null,c.Sc=null,c.MC=null,c.ej=null}(U||(U={})),function(c){var I=function(){function y(){}return y.Mb=function(l,s){return 0<=s?y.P(l):-y.P(l)},y.P=function(l){return 0>l?-l:l},y.ti=function(l){return 3552713678800501e-30>l},y.KC=function(l,s,r){return y.P(l-s)<=r*(1+(y.P(l)+y.P(s))/2)},y.Y=function(l,s){return y.KC(l,s,3552713678800501e-30)},y.FL=function(l){return 3552713678800501e-30>=y.P(l)},y.Cd=function(l){return y.FL(l)},y}();c.s=I,c.F=function(){function y(){}return y.gp=function(l,s){var r=0;return(l=I.P(l))+(s=I.P(s))!=0&&(l>s?(r=s/l,r=l*Math.sqrt(1+r*r)):(r=l/s,r=s*Math.sqrt(1+r*r))),r},y.Wq=function(l,s,r,n,a){for(var u=[0,0,0],d=[0,0,0],f=0;2>=f;f++)s[f]-=l[f],r[f]-=s[f];r=u[1]*d[2]-u[2]*d[1],s=u[2]*d[0]-u[0]*d[2],u=u[0]*d[1]-u[1]*d[0],l=-1*(r*l[0]+s*l[1]+u*l[2]),n[0]=r,n[1]=s,n[2]=u,n[3]=l,d=y.on(n),n[0]/=d,n[1]/=d,n[2]/=d,n[3]/=d,a!=0&&(d=I.Cd(u)?I.Cd(l)?I.Mb(1,s):-I.Mb(1,l):I.Mb(1,u),d*=I.Mb(1,a),n[0]*=d,n[1]*=d,n[2]*=d,n[3]*=d)},y.zx=function(l,s,r){r[0]=l[1]*s[2]-s[1]*l[2],r[1]=l[2]*s[0]-s[2]*l[0],r[2]=l[0]*s[1]-s[0]*l[1]},y.St=function(l,s){return l[0]*s[0]+l[1]*s[1]+l[2]*s[2]},y.on=function(l){return y.gp(y.gp(l[0],l[1]),l[2])},y.cl=function(l,s,r,n,a,u,d,f){l=y.n(l,s,r);var g=Math.cos(r);u.u=(l+a)*g*Math.cos(n),d.u=(l+a)*g*Math.sin(n),f.u=(l*(1-s)+a)*Math.sin(r)},y.jO=function(l,s,r,n,a,u,d){var f=y.gp(s,r),g=1*Math.sqrt(1-l),b=g/1;if(I.Y(f,0))u.u=0,a.u=I.Mb(1.570796326794897,n),d.u=I.P(n)-g;else{u.u=Math.atan2(r,s),r=Math.atan2(1*n,g*f),u=Math.cos(r);var _=Math.sin(r);s=g*l/(1-l),l*=1,r=Math.atan2(n+s*_*_*_,f-l*u*u*u),3.141592653589793<I.P(r)&&(r=I.Mb(3.141592653589793,r)-r),r=Math.atan(b*Math.tan(r)),_=Math.sin(r),u=Math.cos(r),a.u=Math.atan2(n+s*_*_*_,f-l*u*u*u),1.570796326794897<I.P(a.u)&&(a.u=I.Mb(3.141592653589793,a.u)-a.u),r=Math.atan(b*Math.tan(a.u)),_=Math.sin(r),u=Math.cos(r),d.u=(n-g*_)*Math.sin(a.u)+(f-1*u)*Math.cos(a.u)}},y.n=function(l,s,r){return r=Math.sin(r),l/Math.sqrt(1-s*r*r)},y.ot=function(l,s){return Math.atan2(Math.sin(s)*(1-l),Math.cos(s))},y.Qj=function(l,s){return Math.atan2(Math.sin(s),Math.cos(s)*(1-l))},y.Rq=function(l,s){if(I.ti(l)||s==0||I.Y(I.P(s),1.570796326794897))return s;if(.006884661117170036>l){var r=Math.sqrt(1-l),n=(1-r)/(1+r),a=n*n,u=n*a,d=n*u,f=n*d,g=n*f,b=n*g,_=1.572916666666667*u-3.2578125*f+4.295068359375*b;l=2.142578125*d-6.071484375*g,r=3.129296875*f-11.249837239583334*b;var S=4.775276692708333*g,T=7.958636765252976*b,k=Math.cos(2*s);return s+Math.sin(2*s)*(1.5*n-.84375*u+.525390625*f-.2688395182291667*b-_+r-T+k*(2*(1.3125*a-1.71875*d+1.650146484375*g)-4*l+6*S+k*(4*_-12*r+24*T+k*(8*l-32*S+k*(16*r-80*T+k*(32*S+64*k*T))))))}for(r=1-l,n=l/2,u=(a=I.P(s))*y.Zu(l)/(1.570796326794897*r),d=9999,g=a,a=0;1e-16<d&&50>a;a++)b=y.w(l,g),f=g-(_=(f=(y.kG(g,l)-n*Math.sin(2*g)/b)/r-u)/(b=1/(b*b*b))),d=I.P(_),g=f;return 0<=s?g:-g},y.qW=function(l,s){return I.ti(s)?l:l*y.Zu(s)/1.570796326794897},y.ba=function(l){return 0>(l=y.pF(l,6.283185307179586))?l+6.283185307179586:3.141592653589793>I.P(l)||I.Y(I.P(l),3.141592653589793)?l:l-6.283185307179586},y.pF=function(l,s){return l-Math.floor(l/s)*s},y.Ah=function(l,s){if(.006884661117170036>s){var r=(s=(1-(s=Math.sqrt(1-s)))/(1+s))*s,n=r*r;return l/(1+s)*(1+.25*r+.015625*n+.00390625*r*n)*1.570796326794897}return l*y.Zu(s)},y.Vq=function(l,s){var r=I.Mb(1,Math.sin(s));return s=1.570796326794897>=(s=I.P(y.pF(s,3.141592653589793)))?s:3.141592653589793-s,(I.Y(s,1.570796326794897)?s:Math.atan(Math.sqrt(1-l)*Math.tan(s)))*r},y.q=function(l,s,r){if(.006884661117170036>s){var n=(s=(1-(s=Math.sqrt(1-s)))/(1+s))*s,a=s*n,u=s*a,d=s*u,f=s*d,g=s*f,b=-.7291666666666666*a+.2278645833333333*d+.03987630208333334*g,_=.615234375*u-.21533203125*f,S=-.54140625*d+.20302734375*g,T=.48876953125*f,k=-.4488699776785715*g,O=Math.cos(2*r);return l/(1+s)*((1+.25*n+.015625*u+.00390625*f)*r+Math.sin(2*r)*(-1.5*s+.1875*a+.0234375*d+.00732421875*g-b+S-k+O*(2*(.9375*n-.234375*u-.03662109375*f)-4*_+6*T+O*(4*b-12*S+24*k+O*(8*_-32*T+O*(16*S-80*k+O*(32*T+64*O*k)))))))}return l*(y.kG(r,s)-.5*s*Math.sin(2*r)/y.w(s,r))},y.w=function(l,s){return s=Math.sin(s),Math.sqrt(1-l*s*s)},y.Zu=function(l){return I.KC(l,1,2220446049250313e-31)?1:1>l?y.Xw(0,1-l)-l/3*y.Uw(0,1-l):NaN},y.kG=function(l,s){var r=I.Mb(1,l);l=I.P(l);var n=Math.floor(l/1.570796326794897);if(1<s)s=l==0?0:NaN;else if(I.Cd(n))s=(l=y.sin(l))*y.Xw(1-l*l,1-s*l*l)-s/3*l*l*l*y.Uw(1-l*l,1-s*l*l);else{var a=c.O.truncate(n%2),u=y.Zu(s);0<a?(l=1.570796326794897*(n+1)-l,s=u*(n+1)-(s=(l=Math.sin(l))*y.Xw(1-l*l,1-s*l*l)-s/3*l*l*l*y.Uw(1-l*l,1-s*l*l))):(l-=1.570796326794897*n,s=u*n+(s=(l=Math.sin(l))*y.Xw(1-l*l,1-s*l*l)-s/3*l*l*l*y.Uw(1-l*l,1-s*l*l)))}return s*r},y.sin=function(l){l=y.ba(l);var s=I.Mb(1,l);return l=I.P(l),I.Y(l,3.141592653589793)?0:I.Y(l,1.570796326794897)?1*s:Math.sin(l)*s},y.Uw=function(l,s){var r,n,a,u,d=l,f=s,g=1;for(s=0,l=1;n=((r=.2*(d+f+3*g))-d)/r,a=(r-f)/r,u=(r-g)/r,!(1e-4>I.P(n)&&1e-4>I.P(a)&&1e-4>I.P(u));)u=Math.sqrt(f),s+=l/((r=Math.sqrt(g))*(g+(u=Math.sqrt(d)*(u+r)+u*r))),l*=.25,d=.25*(d+u),f=.25*(f+u),g=.25*(g+u);return f=(d=n*a)-(g=u*u),3*s+l*(1+(g=d-6*g)*(.10227272727272728*g-.2142857142857143-.1730769230769231*u*(n=g+f+f))+u*(.1666666666666667*n+u*(-.4090909090909091*f+.1153846153846154*u*d)))/(r*Math.sqrt(r))},y.Xw=function(l,s){for(var r,n,a,u,d=1;n=2-((r=(l+s+d)/3)+l)/r,a=2-(r+s)/r,u=2-(r+d)/r,!(1e-4>I.P(n)&&1e-4>I.P(a)&&1e-4>I.P(u));d=.25*(d+r))r=Math.sqrt(s),n=Math.sqrt(d),l=.25*(l+(r=Math.sqrt(l)*(r+n)+r*n)),s=.25*(s+r);return(1+(.04166666666666666*(l=n*a-u*u)-.1-.06818181818181818*(s=n*a*u))*l+.07142857142857142*s)/Math.sqrt(r)},y.Qw=function(l,s){if(I.ti(l)||s==0||I.Y(I.P(s),1.570796326794897))return s;if(.006884661117170036>l){var r=l*l,n=l*r,a=l*n,u=l*a,d=l*u,f=l*d,g=-(.02708333333333333*n+.03430059523809524*a+.03149181547619048*u+.02634359154541446*d+.02156896735835538*f),b=.007669890873015873*a+.01299603174603175*u+.0148051353064374*d+.01454454953803912*f,_=-(.002275545634920635*u+.004830845032667949*d+.006558395368616723*f),S=.0006957236677288761*d+.001775193002406544*f,T=-.000217324089394402*f,k=Math.cos(2*s);return s+Math.sin(2*s)*(-(.5*l+.2083333333333333*r+.09375*n+.04878472222222222*a+.02916666666666667*u+.01938905423280423*d+.01388255931712963*f)-g+_-T+k*(2*(.1041666666666667*r+.0875*n+.06050347222222222*a+.04151785714285714*u+.02958958540013228*d+.02203667534722222*f)-4*b+6*S+k*(4*g-12*_+24*T+k*(8*b-32*S+k*(16*_-80*T+k*(32*S+64*k*T))))))}return s==0||I.Y(I.P(s),1.570796326794897)?r=s:(a=(n=Math.sqrt(l))*Math.sin(s),r=Math.tan(.7853981633974483+s/2)*Math.pow((1-a)/(1+a),n/2),r=2*Math.atan(r)-1.570796326794897),r},y.yO=function(l,s){if(I.ti(l)||s==0||I.Y(I.P(s),1.570796326794897))return s;if(.006884661117170036>l){var r=l*(S=l*(_=l*(k=l*l))),n=l*(T=l*r),a=.05833333333333333*_+.07232142857142858*S+.05634300595238095*r+.0355325796406526*T+.020235546186067*n,u=.02653149801587302*S+.04379960317460317*r+.0429211791776896*T+.03255384637546096*n,d=.01294022817460318*r+.02668104344536636*T+.03155651254609588*n,f=.00659454790965208*T+.0163075268674227*n,g=.003463473736911237*n,b=Math.cos(2*s);return s+Math.sin(2*s)*(.5*l+.2083333333333333*k+.08333333333333333*_+.03611111111111111*S+.01875*r+.01195601851851852*T+.008863673941798942*n-a+d-g+b*(2*(.1458333333333333*k+.1208333333333333*_+.07039930555555556*S+.03616071428571429*r+.01839451058201058*T+.01017113095238095*n)-4*u+6*f+b*(4*a-12*d+24*g+b*(8*u-32*f+b*(16*d-80*g+b*(32*f+64*b*g))))))}var _=Math.sqrt(l),S=_/2,T=Math.tan(.7853981633974483+s/2);l=0,a=1;for(var k=s;a!=0;k=n)r=_*Math.sin(k),n=T*Math.pow((1+r)/(1-r),S),n=2*Math.atan(n)-1.570796326794897,l++,(I.Y(n,k)||3e4<l)&&(a=0);return k},y}()}(U||(U={})),function(c){var I=function(){function y(l){this.ul=this.Us=null,this.Iv=!1,this.GA=this.HA=0,this.HH=new c.h,this.XH=new c.h,this.KA=!1,this.vq=new c.l,this.wH=this.sw=0,this.tw=null,this.zl=!1,this.Eo=null,this.bA=0,this.Ue=l,this.As=c.zb.xv(this.Ue,0,!0),this.HH.Rc(),this.XH.Rc(),this.RH=NaN;var s=l.getCode();0<s?(this.Kk=s,c.pf.getCode(l)):this.Kk=c.pf.getCode(l),0>this.Kk&&(this.Kk=0);var r=this.Ue.getType();if(this.jH=r==c.Sc.PE_TYPE_PROJCS?2:1,r==c.Sc.PE_TYPE_PROJCS&&!l.loadConstants())throw c.i.N("PeProjcs.loadConstants failed");s=r==c.Sc.PE_TYPE_GEOGCS?this.Ue:this.Ue.getGeogcs(),r!=c.Sc.PE_TYPE_GEOGCS&&c.pf.getCode(s),this.Eo=l.getUnit(),this.RH=s.getPrimem().getLongitude(),this.wH=l=s.getUnit().getUnitFactor(),l=Math.PI/(180*l),1e-10>Math.abs(l-1)&&(l=1),this.GA=l,r&c.Sc.PE_TYPE_PROJCS?(s=this.Ue,this.HA=1/s.getUnit().getUnitFactor(),this.sw=.001/this.Ue.getUnit().getUnitFactor(),this.tw=c.Cg.generate(s,c.Cg.PE_PCSINFO_OPTION_NONE),this.zl=this.tw.isPannableRectangle(),this.bA=c.zb.qN(this.tw.getCentralMeridian(),this.GA)):(this.KA=this.zl=!0,this.HA=0,r=1/s.getUnit().getUnitFactor(),this.sw=.001/s.getDatum().getSpheroid().getAxis()*r,this.bA=0),this.zl&&(this.xx(),this.DK(),this.nY(),this.CK(),this.lY(),this.mY())}return y.prototype.$r=function(){return this.Kk},y.prototype.kk=function(){return this.tw},y.Py=function(l,s){return l==s||l!=null&&s!=null&&l.Kk==0&&s.Kk==0&&l.As===s.As},y.prototype.Wc=function(){return this.zl},y.prototype.gh=function(l){l.K(this.so)},y.prototype.pv=function(){return this.so.v},y.prototype.ov=function(){return this.so.C},y.prototype.GR=function(l){l.K(this.uw)},y.prototype.lY=function(){var l=this.Ue.getType();if(l==c.Sc.PE_TYPE_PROJCS){l=this.Ue;var s=this.kk().getCentralMeridian(),r=l.getGeogcs();if(r==null)throw c.i.fa("internal error");s=[[s+(r=1/r.getUnit().getUnitFactor()*Math.PI),0]],c.ej.geogToProj(l,1,s),s=s[0][0],r=l.getParameters()[c.Sc.PE_PARM_X0].getValue();var n=this.ml();l=new c.l,n.A(l),s=(n=Math.abs(s-r))+r,r=-1*n+r,n=l.H,l=l.G;var a=new c.l;a.K(r,l,s,n),this.so==null&&(this.so=a)}else{if(l!=c.Sc.PE_TYPE_GEOGCS)throw c.i.fa("internal error");r=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(l=new c.l).K(-r,-r/2,r,r/2),this.so==null&&(this.so=l)}},y.prototype.mY=function(){var l=this.Ue.getType();if(l==c.Sc.PE_TYPE_PROJCS){var s=this.Ue;if(l=this.kk().getCentralMeridian(),(s=s.getGeogcs())==null)throw c.i.fa("internal error");s=1/s.getUnit().getUnitFactor()*Math.PI;var r=this.Vr(),n=new c.l;r.A(n),(r=new c.l).K(l-s,n.G,l+s,n.H),this.uw==null&&(this.uw=r)}else{if(l!=c.Sc.PE_TYPE_GEOGCS)throw c.i.fa("internal error");s=1/this.Ue.getUnit().getUnitFactor()*Math.PI,(l=new c.l).K(-s,-s/2,s,s/2),this.uw==null&&(this.uw=l)}},y.prototype.bf=function(){return this.GA},y.prototype.pm=function(){return this.HA},y.prototype.Vr=function(){if(this.zl)return this.ul;var l=this.ul;return l??(this.xx(),this.ul)},y.prototype.Wr=function(){return this.zl?null:(this.ul!=null||this.xx(),this.YG)},y.prototype.xx=function(){if(this.Ue.getType()==c.Sc.PE_TYPE_PROJCS){var l=this.Ue,s=l.getGeogcs(),r=l.horizonGcsGenerate();if(r!=null){var n=r[0].getNump(),a=r[0].getKind();l=0<r[0].getInclusive();var u=this.bf(),d=90*u,f=360*u,g=370*u,b=180*u*c.Sc.PE_HORIZON_DELTA/Math.PI,_=new c.l,S=null;if(1<n){for(var T=1;T<n;T++)if(r[T].getKind()==c.Sc.PE_HORIZON_LINE){S==null&&(S=new c.Ta);var k=r[T].getCoord();S.sx(k[0][0],k[0][1]),S.yj(k[1][0],k[1][1])}}if(a==c.Sc.PE_HORIZON_RECT)r=r[0].getCoord(),_.K(r[0][0],r[0][1]),_.Zb(r[1][0],r[1][1]),Math.abs(_.H-d)<1e-7*b&&(_.H=d),Math.abs(_.G+d)<1e-7*b&&(_.G=-d),_.R()>g&&(r=-400*u,_.K(r,_.G,r+5*f,_.H)),r=new c.Fh(_),this.ul==null&&(this.ul=r,this.Iv=l);else{if(g=new c.Da,f=this.kk().isGcsHorizonMultiOverlap(),_=c.gu.bF(s,c.hu.Integer64),f){for(g=new c.gL,b=c.Gh.local().V(g,_,null),T=0;T<n;T++)if(r[T].getKind()==c.Sc.PE_HORIZON_POLY){for(s=r[T].getSize(),u=r[T].getCoord(),a=[],d=0;d<s;d++)a[d]=c.h.construct(u[d][0],u[d][1]);r[T].getInclusive(),f&&((u=new c.Da).Yk(a,s-1),g.ZX(u),b.qe())}g=b.next()}else for(T=0;T<n;T++)if(r[T].getKind()==c.Sc.PE_HORIZON_POLY){for(s=r[T].getSize(),u=r[T].getCoord(),f=[],d=0;d<s;d++)f[d]=c.h.construct(u[d][0],u[d][1]);r[T].getInclusive(),g.Yk(f,s-1)}l?c.Xj.local().wn(g,_,1):c.kp.local().wn(g,_,1),c.dj.local().wn(g,_,1),this.ul==null&&(this.ul=g,this.Iv=l,this.YG=S)}}}},y.prototype.hv=function(){return this.zl||this.ul==null&&this.xx(),this.Iv},y.prototype.DK=function(){if(this.jH==2){var l=this.Ue.horizonPcsGenerate();if(l!=null){var s=l[0].getKind();l[0].getInclusive();var r=l[0].getNump(),n=!1;if(s==c.Sc.PE_HORIZON_RECT)l=l[0].getCoord(),(r=new c.l).K(l[0][0],l[0][1]),r.Zb(l[1][0],l[1][1]),l=new c.Fh(r);else{for(s=-1,n=0;n<r;n++)l[n].getKind()==c.Sc.PE_HORIZON_POLY&&(s=n);for(n=l[s].getSize()-1,l=l[s].getCoord(),r=[],s=0;s<n;s++)r[s]=c.h.construct(l[s][0],l[s][1]);l=s=new c.Da,s.Yk(r,n),n=!0}this.kk().isDensificationNeeded()&&(r=1e5*this.pm(),l=c.Xl.local().V(l,r,null)),n&&(n=new c.Fh,l.bn(n),l.Ke(),l.Qb(),l.qR(),c.Xj.local().wn(l,null,1)),this.Us==null&&(this.Us=l)}}},y.prototype.ml=function(){if(this.zl)return this.Us;var l=this.Us;return l??(this.DK(),this.Us)},y.prototype.nY=function(){if(this.Ue.getType()==c.Sc.PE_TYPE_PROJCS){var l=90*this.bf();l=[[0,l],[0,-l]],c.ej.geogToProj(this.Ue,2,l);var s=this.kk(),r=s.getNorthPoleLocation()!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY;s=s.getSouthPoleLocation()!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY,this.KA||(r&&this.HH.ma(l[0][0],l[0][1]),s&&this.XH.ma(l[1][0],l[1][1]))}this.KA=!0},y.prototype.CK=function(){if(this.jH==1){var l=400*this.bf();this.vq.K(-l,-l,l,l)}else l=c.Cg.generate(this.Ue,c.Cg.PE_PCSINFO_OPTION_DOMAIN),l=c.l.construct(l.getDomainMinx(),l.getDomainMiny(),l.getDomainMaxx(),l.getDomainMaxy()),this.vq.B()&&this.vq.K(l)},y.prototype.hR=function(l){this.zl&&l.K(this.vq),this.vq.B()&&this.CK(),l.K(this.vq)},y.prototype.Up=function(){return this.RH},y.prototype.zi=function(){return this.bA},y.prototype.Hd=function(){return this.Eo},y.prototype.Xr=function(){return this.wH},y}();c.OC=I}(U||(U={})),function(c){var I=function(){function y(l){this.KT=l,this.As=c.zb.xv(l,0,!0);var s=l.getCode();this.ss=0<s?s:c.pf.getCode(l),0>this.ss&&(this.ss=0),this.Eo=s=this.KT.getUnit(),this.IH=1/s.getUnitFactor(),c.pf.getCode(l)}return y.Py=function(l,s){return l==s||l!=null&&s!=null&&l.ss==0&&s.ss==0&&l.As===s.As},y.prototype.$r=function(){return this.ss},y}();c.PL=I}(U||(U={})),function(c){c.Yg=function(){function I(){}return I.tb=function(y,l,s,r,n,a,u,d){if(a!=null||u!=null||d!=null){r=c.F.ba(r),l=c.F.ba(l),s=c.F.ba(s),n=c.F.ba(n),1.570796326794897<c.s.P(s)&&(s=c.s.Mb(3.141592653589793,s)-s,l=c.F.ba(l+3.141592653589793)),1.570796326794897<c.s.P(n)&&(n=c.s.Mb(3.141592653589793,n)-n,r=c.F.ba(r+3.141592653589793));var f=c.F.ba(r-l);if(c.s.Y(s,n)&&(c.s.Y(l,r)||c.s.Y(c.s.P(s),1.570796326794897)))a!=null&&(a.u=0),u!=null&&(u.u=0),d!=null&&(d.u=0);else{if(c.s.Y(s,-n)){if(c.s.Y(c.s.P(s),1.570796326794897))return a!=null&&(a.u=3.141592653589793*y),u!=null&&(u.u=0<s?c.F.ba(3.141592653589793-c.F.ba(r)):c.F.ba(r)),void(d!=null&&(d.u=0<s?c.F.ba(r):c.F.ba(3.141592653589793-c.F.ba(r))));if(c.s.Y(c.s.P(f),3.141592653589793))return a!=null&&(a.u=3.141592653589793*y),u!=null&&(u.u=0),void(d!=null&&(d.u=0))}var g=c.s.P(s)==1.570796326794897?0:Math.cos(s),b=Math.sin(s),_=c.s.P(n)==1.570796326794897?0:Math.cos(n),S=Math.sin(n),T=c.s.P(f)==1.570796326794897?0:Math.cos(f),k=c.s.P(f)==3.141592653589793?0:Math.sin(f);if(a!=null){var O=Math.sin((n-s)/2);f=Math.sin(f/2),a.u=2*Math.asin(Math.sqrt(O*O+g*_*f*f))*y}u!=null&&(u.u=c.s.Y(c.s.P(s),1.570796326794897)?0>s?r:c.F.ba(3.141592653589793-r):Math.atan2(_*k,g*S-b*_*T)),d!=null&&(c.s.Y(c.s.P(n),1.570796326794897)?d.u=0>n?l:c.F.ba(3.141592653589793-l):(d.u=Math.atan2(g*k,S*g*T-_*b),d.u=c.F.ba(d.u+3.141592653589793)))}}},I.rf=function(y,l,s,r,n,a,u){if(a!=null||u!=null){l=c.F.ba(l),s=c.F.ba(s),1.570796326794897<c.s.P(s)&&(s=c.s.Mb(3.141592653589793,s)-s,l=c.F.ba(l+3.141592653589793)),c.s.Y(c.s.P(s),1.570796326794897)&&(l=0),n=c.F.ba(n);var d=c.s.Y(c.s.P(n),1.570796326794897)?0:Math.cos(n),f=c.s.Y(c.s.P(n),3.141592653589793)?0:Math.sin(n),g=c.s.Y(c.s.P(s),1.570796326794897)?0:Math.cos(s),b=Math.sin(s);y=r/y,r=c.s.Y(c.s.P(y),1.570796326794897)?0:Math.cos(y);var _=c.s.Y(c.s.P(y),3.141592653589793)?0:Math.sin(y),S=Math.asin(b*r+g*_*d);u!=null&&(u.u=S),a!=null&&(a.u=c.s.Y(c.s.P(S),1.570796326794897)?c.s.Y(s,-S)?0>S?n:c.F.ba(3.141592653589793-n):l:c.s.Y(c.s.P(s),1.570796326794897)&&c.s.Y(y,3.141592653589793)?0>s?n:c.F.ba(3.141592653589793-n):c.F.ba(l+Math.atan2(_*f,g*r-b*_*d)))}},I}()}(U||(U={})),function(c){c.Wk=function(){function I(){}return I.tb=function(y,l,s,r,n,a,u,d,f){var g=new c.ga(0),b=new c.ga(0),_=[0,0,0],S=[0,0,0],T=[0,0,0],k=new c.ga(0),O=new c.ga(0),N=new c.ga(0),D=new c.ga(0),z=new c.ga(0);if(u!=null||d!=null||f!=null)if(c.s.ti(l))c.Yg.tb(y,s,r,n,a,u,d,f);else{n=c.F.ba(n),s=c.F.ba(s);var L=c.F.ba(n-s);if(c.s.Y(r,a)&&(c.s.Y(s,n)||c.s.Y(c.s.P(r),1.570796326794897)))u!=null&&(u.u=0),d!=null&&(d.u=0),f!=null&&(f.u=0);else{if(c.s.Y(r,-a)){if(c.s.Y(c.s.P(r),1.570796326794897))return u!=null&&(u.u=2*c.F.Ah(y,l)),d!=null&&(d.u=0<r?c.F.ba(3.141592653589793-c.F.ba(n)):c.F.ba(n)),void(f!=null&&(f.u=0<r?c.F.ba(n):c.F.ba(3.141592653589793-c.F.ba(n))));c.s.Y(c.s.P(L),3.141592653589793)&&(u!=null&&(u.u=2*c.F.Ah(y,l)),d!=null&&(d.u=0),f!=null&&(f.u=0))}else(c.s.Y(c.s.P(r),1.570796326794897)||c.s.Y(c.s.P(a),1.570796326794897))&&(c.s.Y(c.s.P(r),1.570796326794897)?s=n:n=s);var F=0;if(0>L){F=1;var V=s;s=n,n=V,V=r,r=a,a=V}L=c.F.ot(l,r);var q=c.F.ot(l,a);d==null&&f==null||(c.Yg.tb(y,s,L,n,q,null,g,b),g=Math.atan2(Math.sin(g.u)*Math.cos(r-L),Math.cos(g.u)),b=Math.atan2(Math.sin(b.u)*Math.cos(a-q),Math.cos(b.u)),F!=0&&(V=g,g=b,b=V),d!=null&&(d.u=g),f!=null&&(f.u=b)),u!=null&&(c.F.cl(1,l,r,s,0,N,D,z),_[0]=N.u,_[1]=D.u,_[2]=z.u,c.F.cl(1,l,a,n,0,N,D,z),S[0]=N.u,S[1]=D.u,S[2]=z.u,T[0]=_[1]*S[2]-S[1]*_[2],T[1]=-(_[0]*S[2]-S[0]*_[2]),T[2]=_[0]*S[1]-S[0]*_[1],l=1-c.F.w(l,c.F.Vq(l,c.F.Qj(l,Math.acos(T[2]/Math.sqrt(T[0]*T[0]+T[1]*T[1]+T[2]*T[2]))))),l*=2-l,d=Math.atan2(-T[1],-T[0]),T=c.F.ba(d-1.570796326794897),d=c.F.ba(d+1.570796326794897),T=c.s.P(c.F.ba(s-T))<=c.s.P(c.F.ba(s-d))?T:d,c.Yg.tb(1,T,0,s,L,k,null,null),c.Yg.tb(1,T,0,n,q,O,null,null),3.141592653589793<k.u+O.u&&(T=c.F.ba(T+3.141592653589793),c.Yg.tb(1,T,0,s,L,k,null,null),c.Yg.tb(1,T,0,n,q,O,null,null)),k.u*=c.s.Mb(1,r),O.u*=c.s.Mb(1,a),k.u=c.F.Qj(l,k.u),O.u=c.F.Qj(l,O.u),s=c.F.q(y,l,k.u),y=c.F.q(y,l,O.u),u.u=c.s.P(y-s))}}},I.rf=function(y,l,s,r,n,a,u,d){var f=0,g=new c.ga(0),b=new c.ga(0),_=[0,0,0],S=[0,0,0],T=new c.ga(0),k=new c.ga(0),O=new c.ga(0);if(u!=null||d!=null)if(c.s.ti(l))c.Yg.rf(y,s,r,n,a,u,d);else if(c.s.Cd(n))u!=null&&(u.u=s),d!=null&&(d.u=r);else if(a=c.F.ba(a),0>n&&(n=c.s.P(n),a=c.F.ba(a+3.141592653589793)),s=c.F.ba(s),r=c.F.ba(r),1.570796326794897<c.s.P(r)&&(s=c.F.ba(s+3.141592653589793),r=c.s.Mb(3.141592653589793,r)-r),c.s.Y(c.s.P(r),1.570796326794897)&&(s=0),c.s.Cd(r)){var N=c.s.P(1.570796326794897-c.s.P(a));N=c.F.Qj(l,N),N=1-c.F.w(l,c.F.Vq(l,N)),N*=2-N,y=n/c.F.Ah(y,N)*1.570796326794897,y=c.F.Rq(N,y),y=c.F.ot(N,y),c.Yg.rf(1,s,r,y,a,u,g),d!=null&&(f=g.u),d!=null&&(d.u=c.F.Qj(l,f))}else if(c.s.Y(c.s.P(r),1.570796326794897))g=2*(f=c.F.Ah(y,l)),a=0<(y=c.s.Mb(1.570796326794897,r))?c.F.ba(3.141592653589793-a):a,r=f-n,c.s.P(r)<=f?u!=null&&(u.u=a):(r=Math.floor(n/g),c.O.truncate(r%2)==0?(u!=null&&(u.u=a),n-=r*g):(u!=null&&(u.u=c.F.ba(a+3.141592653589793)),n=(r+1)*g-n),r=f-n),d!=null&&(d.u=c.F.Rq(l,r/f*y));else{N=c.F.ot(l,r),a=Math.atan2(Math.sin(a),Math.cos(a)*Math.cos(r-N));var D=c.O.truncate(c.s.Mb(1,N))*(1.570796326794897>=c.s.P(a)?1:-1);a=c.F.ba(s+Math.atan(Math.tan(a)*-Math.sin(N))),c.Yg.tb(y,a,0,s,N,null,b,null),N=c.s.P(1.570796326794897-c.s.P(b.u)),N=c.F.Qj(l,N),N=1-c.F.w(l,c.F.Vq(l,N)),N*=2-N,c.F.cl(1,l,0,a,0,T,k,O),_[0]=T.u,_[1]=k.u,_[2]=O.u,c.F.cl(1,l,r,s,0,T,k,O),S[0]=T.u,S[1]=k.u,S[2]=O.u,r=Math.acos((_[0]*S[0]+_[1]*S[1]+_[2]*S[2])/Math.sqrt(S[0]*S[0]+S[1]*S[1]+S[2]*S[2])),r=c.F.Qj(N,r),n=0<(r=c.F.q(y,N,r)+n*D)?b.u:c.F.ba(b.u+3.141592653589793),y=c.s.P(r)/c.F.Ah(y,N)*1.570796326794897,y=c.F.Rq(N,y),y=c.F.ot(N,y),c.Yg.rf(1,a,0,y,n,u,g),d!=null&&(f=g.u),d!=null&&(d.u=c.F.Qj(l,f))}},I}()}(U||(U={})),function(c){c.cu=function(){function I(){}return I.tb=function(y,l,s,r,n,a,u,d,f){var g=0,b=0,_=0;if(u!=null||d!=null||f!=null)if(c.s.ti(l))c.Yg.tb(y,s,r,n,a,u,d,f);else{var S=c.F.ba(n-s);if(c.s.Y(r,a)&&(c.s.Cd(S)||c.s.Y(c.s.P(r),1.570796326794897)))u!=null&&(u.u=0),d!=null&&(d.u=0),f!=null&&(f.u=0);else{if(c.s.Y(r,-a)){if(c.s.Y(c.s.P(r),1.570796326794897))return u!=null&&(u.u=2*c.F.Ah(y,l)),d!=null&&(d.u=0<r?c.F.ba(3.141592653589793-c.F.ba(n)):c.F.ba(n)),void(f!=null&&(f.u=0<r?c.F.ba(n):c.F.ba(3.141592653589793-c.F.ba(n))));c.s.Y(c.s.P(S),3.141592653589793)&&(u!=null&&(u.u=2*c.F.Ah(y,l)),d!=null&&(d.u=0),f!=null&&(f.u=0))}else if(c.s.Y(c.s.P(r),1.570796326794897)||c.s.Y(c.s.P(a),1.570796326794897)||c.s.Cd(S)||c.s.Y(c.s.P(S),3.141592653589793))return void c.Wk.tb(y,l,s,r,n,a,u,d,f);var T=1-Math.sqrt(1-l),k=l/(1-l),O=y*(1-T);y=c.F.Vq(l,r);var N=c.F.Vq(l,a);l=c.s.P(y)==1.570796326794897?0:Math.cos(y);var D=Math.sin(y),z=c.s.P(N)==1.570796326794897?0:Math.cos(N),L=Math.sin(N),F=S,V=Math.cos(F),q=Math.sin(F),W=1,K=0;do{var tt=F,st=Math.sqrt(Math.pow(z*q,2)+Math.pow(l*L-D*z*V,2)),it=D*L+l*z*V,mt=Math.atan2(st,it);if(st==0){W=0;break}var ct=l*z*q/st;if(g=Math.cos(Math.asin(ct)),b=it-2*D*L/(g*=g),1<c.s.P(b)&&(b=c.s.Mb(1,b)),F=S+(1-(F=T/16*g*(4+T*(4-3*g))))*T*ct*(mt+F*st*(b+F*it*(2*(_=b*b)-1))),V=Math.cos(F),q=Math.sin(F),K++,3.141592653589793<c.s.P(F)&&30<K){W=0;break}}while(5e3>=K&&!c.s.Y(tt,F));if(W!=0)T=(k*=g)*(256+k*(k*(74-47*k)-128))/1024,u!=null&&(u.u=O*(1+k*(4096+k*(k*(320-175*k)-768))/16384)*(mt-T*st*(b+T/4*(it*(2*_-1)-T/6*b*(4*st*st-3)*(4*_-3))))),d!=null&&(d.u=c.s.Y(c.s.P(r),1.570796326794897)?0>r?n:c.F.ba(3.141592653589793-n):Math.atan2(z*q,l*L-D*z*V)),f!=null&&(c.s.Y(c.s.P(a),1.570796326794897)?f.u=0>a?s:c.F.ba(3.141592653589793-s):(f.u=Math.atan2(l*q,l*L*V-D*z),f.u=c.F.ba(f.u+3.141592653589793)));else{F=c.s.Mb(3.141592653589793,S),it=D*L-l*z,mt=Math.acos(it),st=Math.sin(mt),g=1,K=ct=0;do _=ct,V=1-.25*(ct=T*(g*=g)*(1+T+T*T))+.1875*(b=T*T*(V=g*g)*(1+2.25*T))-.1953125*(W=T*T*T*V*g),ct=.25*ct-.25*b+.29296875*W,q=.03125*b-.05859375*W,W*=.00651041666666667,b=it-2*D*L/g,1<c.s.P(b)&&(b=c.s.Mb(1,b)),g=Math.acos(b),it=Math.cos(2*g),tt=Math.cos(3*g),q=(ct=c.s.Y(r,-a)?c.F.ba(3.141592653589793-S)/(3.141592653589793*T*V):c.F.ba(F-S)/(T*(V*mt+ct*st*b+q*Math.sin(2*mt)*it+W*Math.sin(3*mt)*tt)))*st/(l*z),F=1.570796326794897<c.s.P(S)?c.s.Mb(3.141592653589793,q)-Math.asin(q):Math.asin(q),V=Math.cos(F),st=Math.sqrt(Math.pow(z*q,2)+Math.pow(l*L-D*z*V,2)),mt=3.141592653589793-Math.asin(c.s.P(st)),it=Math.cos(mt),g=Math.cos(Math.asin(ct)),K++;while(70>=K&&!c.s.Y(_,ct));u!=null&&(V=1+(k*=g*=g)*(4096+k*(k*(320-175*k)-768))/16384,c.s.Y(r,-a)?u.u=3.141592653589793*O*V:(b=it-2*D*L/g,g=Math.acos(b),it=Math.cos(2*g),tt=Math.cos(3*g),u.u=O*(V*mt+k*(k*(128+k*(35*k-60))-512)/2048*st*b+k*(5*k-4)/6144*k*k*Math.sin(2*mt)*it+W*Math.sin(3*mt)*tt+-762939453125e-16*k*k*k*k*Math.sin(4*mt)*Math.cos(4*g)))),d!=null&&(c.s.Cd(r)&&c.s.Cd(a)?(g=Math.sqrt(1-ct*ct),d.u=Math.acos(g),0>S&&(d.u*=-1)):c.s.Y(c.s.P(r),1.570796326794897)?d.u=0>r?n:c.F.ba(3.141592653589793-n):(u=ct/l,O=Math.sqrt(1-u*u),0>l*L-D*z*Math.cos(F)&&(O*=-1),d.u=Math.atan2(u,O),c.s.Y(r,-a)&&c.s.P(c.F.ba(s-n))>3.141592653589793*(1-T*Math.cos(r))&&(0<r&&1.570796326794897>c.s.P(d.u)||0>r&&1.570796326794897<c.s.P(d.u))&&(d.u=c.s.Mb(3.141592653589793,d.u)-d.u))),f!=null&&(c.s.Cd(r)&&c.s.Cd(a)?(g=Math.sqrt(1-ct*ct),f.u=Math.acos(g),0<=S&&(f.u*=-1)):c.s.Y(c.s.P(a),1.570796326794897)?f.u=0>a?s:c.F.ba(3.141592653589793-s):(S=ct/z,u=Math.sqrt(1-S*S),O=Math.sin(F/2),0>Math.sin(N-y)-2*l*L*O*O&&(u*=-1),f.u=Math.atan2(S,u),f.u=c.F.ba(f.u+3.141592653589793),c.s.Y(r,-a)&&!c.s.Cd(r)&&!c.s.Y(c.s.P(r),1.570796326794897)&&c.s.P(c.F.ba(s-n))>3.141592653589793*(1-T*Math.cos(r))&&(d!=null?O=d.u:(u=ct/l,O=Math.sqrt(1-u*u),0>l*L-D*z*Math.cos(F)&&(O*=-1),O=Math.atan2(u,O),c.s.Y(r,-a)&&c.s.P(c.F.ba(s-n))>3.141592653589793*(1-T*Math.cos(r))&&(0<r&&1.570796326794897>c.s.P(O)||0>r&&1.570796326794897<c.s.P(O))&&(O=c.s.Mb(3.141592653589793,O)-O)),1.570796326794897>=c.s.P(O)&&1.570796326794897<c.s.P(f.u)||1.570796326794897<=c.s.P(O)&&1.570796326794897>c.s.P(f.u))&&(f.u=-1*c.F.ba(f.u+3.141592653589793))))}}}},I.rf=function(y,l,s,r,n,a,u,d){if(u!=null||d!=null)if(c.s.ti(l))c.Yg.rf(y,s,r,n,a,u,d);else if(a=c.F.ba(a),c.s.Y(c.s.P(r),1.570796326794897)||c.s.Cd(a)||c.s.Y(c.s.P(a),3.141592653589793))c.Wk.rf(y,l,s,r,n,a,u,d);else{var f=c.s.P(a)==1.570796326794897?0:Math.cos(a),g=c.s.P(a)==3.141592653589793?0:Math.sin(a);c.s.Y(c.s.P(r),1.570796326794897)&&(s=0),a=1-Math.sqrt(1-l);var b=c.F.Vq(l,r);r=c.s.P(b)==1.570796326794897?0:Math.cos(b);var _=Math.sin(b);b=Math.atan2(Math.tan(b),f);var S=r*g,T=S*S,k=1-T,O=l/(1-l)*k,N=(l=O*(256+O*(O*(74-47*O)-128))/1024)/4,D=l/6,z=n/(y*(1-a)*(1+O*(4096+O*(O*(320-175*O)-768))/16384)),L=z;do{var F=L;n=c.s.P(L)==1.570796326794897?0:Math.cos(L);var V=(O=c.s.P(L)==3.141592653589793?0:Math.sin(L))*O;L=l*O*((y=Math.cos(2*b+L))+N*(n*(2*(L=y*y)-1)-D*y*(4*V-3)*(4*L-3)))+z}while(!c.s.Y(F,L));n=c.s.P(L)==1.570796326794897?0:Math.cos(L),O=c.s.P(L)==3.141592653589793?0:Math.sin(L),u!=null&&(g=Math.atan2(O*g,r*n-_*O*f),k=a/16*k*(4+a*(4-3*k)),y=Math.cos(2*b+L),u.u=c.F.ba(s+(g-(1-k)*a*S*(L+k*O*(y+k*n*(2*y*y-1)))))),d!=null&&(k=_*O-r*n*f,k=(1-a)*Math.sqrt(T+k*k),d.u=Math.atan2(_*n+r*O*f,k))}},I}()}(U||(U={})),function(c){c.PC=function(){function I(){}return I.tb=function(y,l,s,r,n,a,u,d,f){var g=c.F.ba(n-s),b=c.s.Y(c.s.P(r),1.570796326794897),_=c.s.Y(c.s.P(a),1.570796326794897);if(c.s.Y(r,a)&&(c.s.Cd(g)||b))u!=null&&(u.u=0),d!=null&&(d.u=0),f!=null&&(f.u=0);else{if(c.s.ti(l)){var S=Math.sin(r),T=Math.sin(a);S=Math.sqrt((1+S)/(1-S)),T=Math.sqrt((1+T)/(1-T)),S=Math.log(T)-Math.log(S),S=Math.atan2(g,S),u!=null&&(u.u=c.s.Y(r,a)?c.s.P(y*Math.cos(r)*g):c.s.P((y*a-y*r)/Math.cos(S)))}else T=c.F.Qw(l,a),S=Math.sin(c.F.Qw(l,r)),T=Math.sin(T),S=Math.sqrt((1+S)/(1-S)),T=Math.sqrt((1+T)/(1-T)),S=Math.log(T)-Math.log(S),S=Math.atan2(g,S),u!=null&&(c.s.Y(r,a)?u.u=c.s.P(y*g*Math.cos(r)/c.F.w(l,r)):(g=c.F.q(y,l,r),y=c.F.q(y,l,a),u.u=c.s.P((y-g)/Math.cos(S))));d==null&&f==null||(u=c.F.ba(S+3.141592653589793),b&&_||!b&&!_||(b?S=0>r?n:c.F.ba(3.141592653589793-n):_&&(u=0>a?s:c.F.ba(3.141592653589793-s))),d!=null&&(d.u=S),f!=null&&(f.u=u))}},I.rf=function(y,l,s,r,n,a,u,d){a=c.F.ba(a),0>n&&(n=c.s.P(n),a=c.F.ba(a+3.141592653589793)),c.s.ti(l)?c.s.Y(c.s.P(r),1.570796326794897)?(s=0>r?a:c.F.ba(3.141592653589793-a),3.141592653589793>=(a=n/y%6.283185307179586)?y=r-c.s.Mb(a,r):(s=c.F.ba(s+3.141592653589793),y=-r+c.s.Mb(a-3.141592653589793,r))):c.s.Y(c.s.P(a),1.570796326794897)?(s=c.F.ba(s+c.s.Mb(n,a)/(y*Math.cos(r))),y=r):(y=r+n*Math.cos(a)/y,1.570796326794897<c.s.P(y)&&(y=1.570796326794897),c.s.Y(c.s.P(y),1.570796326794897)&&(c.s.Cd(a)||c.s.Y(c.s.P(a),3.141592653589793))||(1.570796316258184<c.s.P(y)&&(y=c.s.Mb(1.570796316258184,y)),l=Math.sin(r),r=Math.sin(y),l=Math.sqrt((1+l)/(1-l)),r=Math.sqrt((1+r)/(1-r)),l=Math.log(r)-Math.log(l),s=c.F.ba(s+Math.tan(a)*l))):c.s.Y(c.s.P(r),1.570796326794897)?(s=0>r?a:c.F.ba(3.141592653589793-a),a=n/c.F.qW(y,l),3.141592653589793>=(a%=6.283185307179586)?y=r-c.s.Mb(a,r):(s=c.F.ba(s+3.141592653589793),y=-r+c.s.Mb(a-3.141592653589793,r)),y=c.F.Rq(l,y)):c.s.Y(c.s.P(a),1.570796326794897)?(s=c.F.ba(s+c.s.Mb(n,a)*c.F.w(l,r)/(y*Math.cos(r))),y=r):(y=1.570796326794897*(n*Math.cos(a)+c.F.q(y,l,r))/c.F.Ah(y,l),1.570796326794897<c.s.P(y)&&(y=c.s.Mb(1.570796326794897,y)),y=c.F.Rq(l,y),c.s.Y(c.s.P(y),1.570796326794897)&&(c.s.Cd(a)||c.s.Y(c.s.P(a),3.141592653589793))||(n=c.F.Qw(l,r),r=c.F.Qw(l,y),1.570796316258184<c.s.P(r)&&(r=c.s.Mb(1.570796316258184,y),y=c.F.yO(l,r)),l=Math.sin(n),r=Math.sin(r),l=Math.sqrt((1+l)/(1-l)),r=Math.sqrt((1+r)/(1-r)),l=Math.log(r)-Math.log(l),s=c.F.ba(s+Math.tan(a)*l))),u!=null&&(u.u=s),d!=null&&(d.u=y)},I}()}(U||(U={})),function(c){c.kb=function(){function I(){}return I.Xy=function(y,l,s,r,n,a,u){c.cu.tb(y,l,s,r,n,a,null,u,null)},I.yi=function(y,l,s,r,n,a,u,d){c.cu.rf(y,l,s,r,n,a,u,d)},I.wd=function(y,l,s,r,n,a,u,d,f,g){switch(g){case 2:c.Wk.tb(y,l,s,r,n,a,u,d,f);break;case 3:c.QC.tb(y,l,s,r,n,a,u,d,f);break;case 1:c.PC.tb(y,l,s,r,n,a,u,d,f);break;default:c.cu.tb(y,l,s,r,n,a,u,d,f)}},I.oj=function(y,l,s,r,n,a,u,d,f){switch(f){case 2:c.Wk.rf(y,l,s,r,n,a,u,d);break;case 3:c.QC.rf(y,l,s,r,n,a,u,d);break;case 1:c.PC.rf(y,l,s,r,n,a,u,d);break;default:c.cu.rf(y,l,s,r,n,a,u,d)}},I}()}(U||(U={})),function(c){var I=function(){function l(){this.y=this.x=null}return l.construct=function(s){var r=new l;return r.x=new c.Wb,r.x.set(s.x),r.y=new c.Wb,r.y.set(s.y),r},l.VE=function(s,r){var n=new l;return n.x=new c.Wb,n.x.set(s),n.y=new c.Wb,n.y.set(r),n},l.prototype.qg=function(){return this.x.qg()&&this.y.qg()},l.prototype.value=function(){return c.h.construct(this.x.value(),this.y.value())},l}();c.vY=I;var y=function(){function l(){this.z=this.y=this.x=null}return l.construct=function(s){var r=new l;return r.x=new c.Wb,r.x.set(s.x),r.y=new c.Wb,r.y.set(s.y),r.z=new c.Wb,r.z.set(s.z),r},l.VE=function(s,r,n){var a=new l;return a.x=new c.Wb,a.x.set(s),a.y=new c.Wb,a.y.set(r),a.z=new c.Wb,a.z.set(n),a},l.prototype.qg=function(){return this.x.qg()&&this.y.qg()&&this.z.qg()},l.prototype.value=function(){return new c.Nd(this.x.value(),this.y.value(),this.z.value())},l.prototype.Qh=function(s){var r=new c.Wb,n=new c.Wb,a=new c.Wb;return r.Kl(this.x,s.x),n.Kl(this.y,s.y),a.Kl(this.z,s.z),(s=new c.Wb).dN(r,n),s.add(a),s},l.prototype.cF=function(s){var r=new l;r.x.Kl(this.y,s.z),r.y.Kl(this.z,s.x),r.z.Kl(this.x,s.y);var n=new c.Wb,a=new c.Wb,u=new c.Wb;return n.Kl(this.z,s.y),a.Kl(this.x,s.z),u.Kl(this.y,s.x),r.x.sub(n),r.y.sub(a),r.z.sub(u),r},l}();c.wY=y,c.Ox=function(){function l(){}return l.EP=function(s,r,n){var a=r.x;r=r.y,l.cl(1,s,Math.cos(a),Math.sin(a),Math.cos(r),Math.sin(r),n)},l.DP=function(s,r){var n=new c.Nd;return l.EP(s,r,n),n},l.cl=function(s,r,n,a,u,d,f){s/=Math.sqrt(1-r*d*d),f.K(s*u*n,s*u*a,s*(1-r)*d)},l.Yu=function(s,r){var n=new c.Wb,a=new c.Wb,u=new c.Wb,d=new c.Wb;n.cos(r.x),a.sin(r.x),u.cos(r.y),d.sin(r.y);var f=new c.Wb;return f.set(d),f.Ag(d),f.No(s),f.No(-1),f.kN(),f.sqrt(),(r=new c.Wb).set(1),r.jm(f),(f=new c.Wb).set(r),f.Ag(u),f.Ag(n),(n=new c.Wb).set(r),n.Ag(u),n.Ag(a),(a=new c.Wb).set(r),a.No(1-s),a.Ag(d),y.VE(f,n,a)},l.SS=function(s,r,n,a){if(Math.abs(r.x-n.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(n.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(n.y)==.5*Math.PI)&&r.x!=n.x)return NaN;if(a=l.cB(a,Math.min(r.x,n.x),Math.max(r.x,n.x)),!new c.Nc(r.x,n.x).contains(a))return NaN;var u=I.construct(r);if(n=I.construct(n),u=l.Yu(s,u),n=l.Yu(s,n),(n=u.cF(n)).z.qg())return r.y;var d=new c.Wb;d.set(n.x),d.jm(n.z),d.No(-1);var f=new c.Wb;f.set(n.y),f.jm(n.z),f.No(-1);var g=new c.Wb;return g.set(f),g.Ag(f),(u=new c.Wb).set(d),u.Ag(d),u.add(g),u.sqrt(),u.qg()||d.qg()&&f.qg()?r.y:(r=Math.atan2(f.value(),d.value()),r=Math.atan2(u.value()*Math.cos(r-a),1-s),a=l.DP(s,c.h.construct(a,r)),s=new c.Nd(a.x,a.y,-a.z),a=n.value().Qh(a),s=n.value().Qh(s),Math.abs(s)<Math.abs(a)&&(r=-r),r)},l.Oz=function(s,r,n,a,u){if(u[0]=NaN,u[1]=NaN,Math.abs(r.x-n.x)>Math.PI||Math.abs(r.y)>.5*Math.PI||Math.abs(n.y)>.5*Math.PI||(Math.abs(r.y)==.5*Math.PI||Math.abs(n.y)==.5*Math.PI)&&r.x!=n.x||Math.abs(a)>=.5*Math.PI||0<r.y&&0<n.y&&r.y>a&&n.y>a||0>r.y&&0>n.y&&r.y<a&&n.y<a)return 0;var d=I.construct(r),f=I.construct(n);d=l.Yu(s,d),f=l.Yu(s,f);var g=d.cF(f);if(g.z.qg())return new c.Nc(r.y,n.y).contains(a)?(u[0]=r.x,1):0;(f=new c.Wb).set(g.x),f.jm(g.z),f.No(-1),(d=new c.Wb).set(g.y),d.jm(g.z),d.No(-1),(g=new c.Wb).set(d),g.Ag(d);var b=new c.Wb;return b.set(f),b.Ag(f),b.add(g),b.sqrt(),b.qg()||f.qg()&&d.qg()?a==0?(u[0]=r.x,u[1]=n.x,2):0:(s=(1-s)*Math.tan(a)/b.value(),1<Math.abs(s)?0:(s=Math.acos(s),g=Math.atan2(d.value(),f.value()),f=Math.min(r.x,n.x),d=Math.max(r.x,n.x),n=l.cB(g-s,f,d),s=a!=0?l.cB(g+s,f,d):n,a=0,f<=n&&n<=d&&(u[a]=n,a++),s!=n&&f<=s&&s<=d&&(u[a]=s,++a==2&&Math.abs(u[0]-r.x)>Math.abs(u[1]-r.x)&&(r=u[0],u[0]=u[1],u[1]=r)),a))},l.cB=function(s,r,n){return s>n?s-=2*(r=Math.ceil((s-n)/(2*Math.PI)))*Math.PI:s<r&&(s+=2*(r=Math.ceil((r-s)/(2*Math.PI)))*Math.PI),s},l}()}(U||(U={})),function(c){c.XK=function(){function I(){}return I.$X=function(y,l){var s=8,r=[0,0,0,0],n=new c.h;n.L(l),n.scale(c.cb.sc(y).Hd().Ec()==9102?1:c.cb.sc(y).Hd().ai/3.141592653589793*180),-180>n.x?(n.x-=n.x%360,-180>n.x&&(n.x+=360)):180<n.x&&(n.x-=n.x%360,180<n.x&&(n.x-=360)),90<n.y&&(n.y=90),-90>n.y&&(n.y=-90);for(var a=-180,u=180,d=(y=5*s)-1,f=(l=(y+31)/32)-1;0<=f;f--)for(var g=d-32*f,b=Math.min(32,y-32*f),_=1;_<b;_+=2){var S=.5*(u+a);n.x>=S?(r[f]|=1<<g,a=S):u=S,g-=2,d-=2}for(a=-90,u=90,d=y-2,f=l-1;0<=f;f--)for(g=d-32*f,b=Math.min(32,y-32*f),_=0;_<b;_+=2)S=.5*(u+a),n.y>=S?(r[f]|=1<<g,a=S):u=S,g-=2,d-=2;return I.$P(r,s,s)},I.$P=function(y,l,s){for(var r=[],n=0;n<l;n++)r[n]="";for(var a=n=0,u=0;u<l;u++){var d=y[n]>>a&31;if(31<(a+=5)){var f=37-a;d&=(1<<f)-1,a-=32,d|=(y[++n]&(1<<a)-1)<<f}r[l-1-u]="0123456789bcdefghjkmnpqrstuvwxyz".split("")[d]}if(s>l)for(u=0;u<s-l;u++)r.push("0");else s<l&&(r.length=s);return r.join("")},I}()}(U||(U={})),function(c){var I={gcstol:[0,2e-9,1,2241706620489156e-24,2,2313672246530541e-24,3,898240164660333e-23,4,8982433838020134e-24,5,8982439417325895e-24,6,8982466029667677e-24,7,8982476760268133e-24,8,8982492642167149e-24,9,898251968292634e-23,10,898253685210448e-23,11,8982546725256576e-24,12,8982557456049832e-24,13,898257333682596e-23,14,8982575482995276e-24,15,8982578488197342e-24,16,8982579775336987e-24,17,89825840676828e-22,18,8982599090925448e-24,19,8982605529473397e-24,20,8982609220517402e-24,21,8982611968030573e-24,22,8982616260407152e-24,23,8982620552787834e-24,24,8982633429954492e-24,25,8982637722351582e-24,26,898264416095491e-23,27,8982646307158072e-24,28,8982654891980968e-24,29,8982667769246082e-24,30,8982674207892485e-24,31,8982680646548117e-24,32,8982682792768713e-24,33,8982685798042582e-24,34,8982689231436652e-24,35,898269137766135e-23,36,898269266624163e-23,37,8982705114087017e-24,38,8982706830791106e-24,39,8982711958374661e-24,40,8982712839964735e-24,41,8982717991496125e-24,42,8982721424914803e-24,43,8982723571154887e-24,44,8982727863638127e-24,45,8982730868942154e-24,46,8982734302370678e-24,47,8982745033612112e-24,48,8982751472369276e-24,49,8982755764879183e-24,50,8982762203651733e-24,51,8982764776628385e-24,52,8982766496171896e-24,53,898277722749025e-23,54,898278152002477e-23,55,898279933943848e-23,56,89829143024805e-22,57,8982922161948598e-24,58,898292327314211e-23,59,8982925667349601e-24,60,8982932222965576e-24,61,8982961298941316e-24,62,8982965524049989e-24,63,8982994818246099e-24,64,8982994895706967e-24,65,898299489597736e-23,66,8983000733443498e-24,67,8983055097289157e-24,68,8983064111047368e-24,69,8983111996941178e-24,70,8983120447446023e-24,71,898312748954554e-23,72,8983134531656096e-24,73,8983141573777694e-24,74,8983148615910332e-24,75,8983152841195215e-24,76,8983153545409748e-24,77,8983153827095593e-24,78,898315396793852e-23,79,8983154249624393e-24,80,8983155658054012e-24,81,8983960794340072e-24,82,8984061344391998e-24,83,8984072829255685e-24,84,8984194981201908e-24,85,8984275233099427e-24,86,8984326127007554e-24,87,8984330099816539e-24,88,898433275258421e-23,89,8984333047023206e-24,90,8984333885258723e-24,91,8984337959508212e-24,92,8984365176209457e-24,93,8984727360418079e-24,94,8984901041679577e-24,95,898542662091587e-23,96,898610024130669e-23,97,8992894229037531e-24,98,8993203677616635e-24,99,8993206178094346e-24,100,8993216059187305e-24,101,899322029394808e-23,102,8994627867045891e-24,103,9467559984315793e-24,104,946881168618118e-23,105,9980888154931644e-24,106,9981105353606775e-24,107,9983807356573187e-24,108,1687060485811522e-23,109,1688447560354875e-23,110,2176606011487185e-23,111,2225078816042032e-23,112,2348476432064694e-23,113,2348765250187846e-23,114,2378108974103778e-23,115,314559636297708e-22,116,3297788621680806e-23,117,3667892343788279e-23,118,4235973644320739e-23,119,4794625900676345e-23,120,7262742998235812e-23,121,7499447580246377e-23,122,7525056410964318e-23,123,7979913581209237e-23,124,9662020153976783e-23,125,9799175562353741e-23,126,9897353517547472e-23,127,102313891987647e-21,128,1081460541960784e-22,129,121905913857622e-21,130,2246893314238523e-22,131,2297344808062643e-22,132,242984645941825e-21,133,2754604784282804e-22,134,2884548130346993e-22,135,3370339971357784e-22,136,4307953346848296e-22,137,5208707228462029e-22,138,5509209568565608e-22,139,6452227422644406e-22,140,6740679942715567e-22,141,6861770001566745e-22,142,7252630318111686e-22,143,7441010326374328e-22,144,7742672907173287e-22,145,9629542775307953e-22,146,1061032953945969e-21,147,1143628333594458e-21,148,1162186197019925e-21,149,136418522650196e-20,150,1367441038498385e-21,151,1432394487827058e-21,152,1736235742820677e-21,153,1848250952034914e-21,154,1909859317102744e-21,155,1975716534933873e-21,156,2122065907891938e-21,157,272837045300392e-20,158,3183098861837907e-21,159,3580986219567645e-21,160,3819718634205488e-21,161,409255567950588e-20,162,4407367654852486e-21,163,4774648292756861e-21,164,5161781938115525e-21,165,520870722846203e-20,166,5729577951308232e-21,167,6031134685587613e-21,168,6987290184522236e-21,169,9241254760174569e-21,170,1145915590261646e-20],pcstol:[0,6666666666666667e-24,1,2e-8,2,4970973863636364e-20,3,4970978156565657e-20,4,4970980410559237e-20,5,.001,6,.001093615055555556,7,.001093615194444445,8,.001093619003239988,9,.001093623110088878,10,.003280833333333333,11,.003280839895013123,12,.003280843014596366,13,.003280845583333334,14,.003280869330266636,15,.00497101413676763],newtoold:[2154,102110,2195,102200,2204,32036,2205,26979,2225,102641,2226,102642,2227,102643,2228,102644,2229,102645,2230,102646,2231,102653,2232,102654,2233,102655,2234,102656,2235,102657,2236,102658,2237,102659,2238,102660,2239,102666,2240,102667,2241,102668,2242,102669,2243,102670,2246,102679,2247,102680,2248,102685,2249,102686,2250,102687,2254,102694,2255,102695,2257,102712,2258,102713,2259,102714,2260,102715,2261,102716,2262,102717,2263,102718,2264,102719,2267,102724,2268,102725,2271,102728,2272,102729,2274,102736,2275,102737,2276,102738,2277,102739,2278,102740,2279,102741,2283,102746,2284,102747,2285,102748,2286,102749,2287,102752,2288,102753,2289,102754,2312,23433,2326,102140,2395,2091,2396,2092,2397,2166,2398,2167,2399,2168,2759,102229,2760,102230,2761,102248,2762,102249,2763,102250,2764,102251,2765,102252,2766,102241,2767,102242,2768,102243,2769,102244,2770,102245,2771,102246,2772,102253,2773,102254,2774,102255,2775,102256,2776,102257,2777,102258,2778,102259,2779,102260,2780,102266,2781,102267,2782,102261,2783,102262,2784,102263,2785,102264,2786,102265,2787,102268,2788,102269,2789,102270,2790,102271,2791,102272,2792,102273,2793,102274,2794,102275,2795,102276,2796,102277,2797,102278,2798,102279,2799,102280,2800,102281,2801,102282,2802,102283,2803,102284,2804,102285,2805,102286,2806,102287,2807,102288,2808,102289,2809,102290,2810,102291,2811,102292,2812,102293,2813,102294,2814,102295,2815,102296,2816,102297,2817,102298,2818,102300,2819,102304,2820,102307,2821,102308,2822,102309,2823,102310,2824,102311,2825,102312,2826,102313,2827,102314,2828,102315,2829,102316,2830,102317,2831,102318,2832,102320,2833,102321,2834,102322,2835,102323,2836,102324,2837,102325,2838,102326,2839,102327,2840,102330,2841,102334,2842,102335,2843,102336,2844,102337,2845,102338,2846,102339,2847,102340,2848,102341,2849,102342,2850,102343,2851,102344,2852,102345,2853,102346,2854,102347,2855,102348,2856,102349,2857,102350,2858,102351,2859,102352,2860,102353,2861,102354,2862,102355,2863,102356,2864,102357,2865,102358,2866,102361,2942,102167,2943,102169,2944,2139,2945,2140,2946,2141,2947,2142,2948,2143,2949,2144,2950,2145,2951,2146,2952,2147,2953,2036,2954,2291,2955,2153,2956,2152,2957,2151,2958,2150,2959,2149,2960,2037,2961,2038,2962,2148,2965,2244,2966,2245,3003,102091,3004,102092,3005,102190,3060,2982,3067,102139,3072,102606,3074,102608,3075,102208,3077,102210,3078,102123,3080,102119,3081,102603,3082,102602,3083,102601,3088,65163,3089,102763,3090,102363,3092,102151,3093,102152,3094,102153,3095,102154,3096,102155,3097,102145,3098,102146,3099,102147,3100,102148,3101,102149,3102,2155,3107,102172,3110,102170,3111,102171,3119,2214,3158,102234,3159,102235,3160,102236,3336,2979,3338,102006,3346,2600,3370,102126,3371,102127,3372,102130,3373,102131,3389,2577,3390,2694,3400,102184,3401,102185,3404,3359,3407,3366,3417,102675,3418,102676,3419,102677,3420,102678,3421,102707,3422,102708,3423,102709,3424,102711,3433,102651,3434,102652,3435,102671,3436,102672,3437,102710,3438,102730,3448,102095,3451,102681,3452,102682,3455,102735,3461,2063,3462,2064,3463,3073,3464,3076,3560,102742,3566,102743,3567,102744,3734,102722,3735,102723,3736,102755,3737,102756,3738,102757,3739,102758,3741,102205,3742,102206,3743,102207,3748,102211,3750,102202,3751,102203,3759,102663,3760,102463,3764,102112,3770,102090,3771,102180,3772,102181,3773,102182,3775,102186,3776,102187,3777,102188,3800,102183,3801,102189,3812,102199,3814,102609,3815,102469,3819,104990,3821,104136,3824,104137,3825,102444,3826,102443,3827,102442,3828,102441,3857,102100,3889,104991,3906,104992,4048,103201,4049,103202,4050,103203,4051,103204,4056,103205,4057,103206,4058,103207,4059,103208,4060,103209,4061,103210,4062,103211,4063,103212,4071,103213,4082,103214,4083,103215,4093,103216,4094,103217,4095,103218,4096,103219,4167,104108,4169,37252,4171,104107,4189,104110,4197,4234,4223,37223,4304,104304,4414,102201,4415,102762,4417,102764,4434,102765,4437,102647,4455,32029,4456,32018,4457,3454,4462,102439,4463,4466,4470,4469,4484,103794,4485,103795,4486,103796,4487,103797,4488,103798,4489,103799,4611,104104,4612,104111,4613,37255,4615,37247,4616,37250,4617,4140,4618,4291,4620,37211,4626,37235,4647,102362,4658,37204,4668,37201,4669,4126,4672,37217,4673,104125,4675,37220,4684,37232,4698,4631,4707,37213,4708,37231,4709,37212,4710,37238,4711,37214,4712,37237,4713,37208,4714,37215,4715,37253,4716,37216,4717,37239,4719,37219,4722,37242,4724,37233,4725,37222,4727,37224,4728,37246,4729,37226,4730,37227,4731,37228,4732,37229,4733,37230,4734,37251,4735,37259,4736,37254,4739,37205,4758,104133,4760,37001,4762,104114,4826,102214,5013,104142,5014,102331,5015,102332,5016,102333,5173,102085,5174,102086,5175,102087,5176,102088,5177,102089,5178,102040,5179,102080,5185,102081,5186,102082,5187,102083,5188,102084,5221,102066,5246,104100,5247,102490,5324,104144,5325,102420,5329,2934,5365,104143,5367,102305,5451,104132,5513,102065,5514,102067,5519,102111,5520,31461,5646,102745,5839,5388,5858,5532,5879,4474,6207,104256,6244,102769,6245,102790,6246,102770,6247,102771,6248,102793,6249,102796,6250,102772,6251,102788,6252,102775,6253,102795,6254,102781,6255,102767,6256,102774,6257,102768,6258,102797,6259,102789,6260,102780,6261,102783,6262,102787,6263,102791,6264,102777,6265,102798,6266,102779,6267,102784,6268,102792,6269,102782,6270,102785,6271,102794,6272,102773,6273,102778,6274,102786,6275,102776,6311,104141,6318,104145,6322,104287,6325,104286,6328,102046,6329,102047,6330,102048,6331,102049,6332,102050,6333,102051,6334,102052,6335,102053,6336,102054,6337,102055,6338,102056,6339,102057,6340,102058,6341,102059,6342,102382,6343,102383,6344,102384,6345,102385,6346,102386,6347,102387,6348,102388,6350,102965,6355,102975,6356,102976,6391,6141,6393,102966,6394,102977,6395,102978,6396,102979,6397,102980,6398,102981,6399,102982,6400,102983,6401,102984,6402,102985,6403,102986,6404,102988,6405,102991,6406,102987,6407,102990,6408,102989,6409,102992,6410,102993,6411,102995,6412,102994,6413,102996,6414,102962,6415,102997,6416,103003,6417,102998,6418,103004,6419,102999,6420,103005,6421,103e3,6422,103006,6423,103001,6424,103007,6425,103002,6426,103008,6427,103010,6428,103013,6429,103009,6430,103012,6431,103011,6432,103014,6433,103015,6434,103016,6435,103017,6436,103018,6437,103019,6438,103022,6439,102967,6440,103021,6441,103024,6442,103020,6443,103023,6444,103025,6445,103027,6446,103026,6447,103028,6448,103030,6449,103033,6450,103029,6451,103032,6452,103031,6453,103034,6454,103035,6455,103037,6456,103036,6457,103038,6458,103039,6459,103041,6460,103040,6461,103042,6462,103043,6463,103045,6464,103044,6465,103046,6466,103047,6467,103049,6468,103048,6469,103050,6470,103051,6471,103052,6472,103053,6473,103054,6474,103055,6475,103056,6476,103057,6477,103059,6478,103058,6479,103060,6480,103066,6481,103065,6482,103067,6483,103061,6484,103063,6485,103062,6486,103064,6487,103068,6488,103069,6489,103071,6490,103073,6491,103070,6492,103072,6493,103075,6494,103078,6495,103074,6496,103077,6497,102968,6498,103076,6499,103079,6500,103081,6501,103084,6502,103080,6503,103083,6504,103082,6505,103085,6506,103086,6507,103088,6508,102963,6509,103087,6510,103089,6511,103091,6512,103090,6513,103092,6514,103093,6515,103094,6516,103095,6518,103098,6519,103101,6520,103097,6521,103100,6522,103099,6523,103102,6524,103103,6525,103104,6526,103105,6527,103106,6528,103108,6529,103111,6530,103107,6531,103110,6532,103109,6533,103112,6534,103114,6535,103118,6536,103113,6537,103117,6538,103116,6539,103120,6540,103115,6541,103119,6542,103121,6543,103122,6544,103123,6545,103125,6546,103124,6547,103126,6548,103127,6549,103129,6550,103128,6551,103130,6552,103131,6553,103133,6554,103132,6555,103134,6556,102969,6557,102970,6558,103135,6559,103137,6560,103136,6561,103138,6562,103139,6563,103140,6564,103141,6565,103142,6566,103200,6567,103143,6568,103144,6569,103145,6570,103146,6571,103147,6572,103149,6573,103148,6574,103150,6575,103151,6576,103152,6577,103155,6578,103160,6579,102971,6580,102972,6581,103153,6582,103158,6583,103154,6584,103159,6585,103157,6586,103162,6587,103156,6588,103161,6589,103172,6590,103173,6592,103174,6593,103176,6594,103175,6595,103177,6596,103178,6597,103180,6598,103179,6599,103181,6600,103182,6601,103184,6602,103183,6603,103185,6605,103190,6606,103186,6607,103189,6608,103188,6609,103191,6610,102973,6611,103192,6612,103196,6613,103193,6614,103197,6615,103195,6616,103199,6617,103194,6618,103198,6619,103164,6620,103163,6621,103165,6625,103170,6626,103169,6627,103171,6628,102520,6629,102521,6630,102522,6631,102523,6632,102524,6633,102527,6634,102493,6635,102494,6636,102496,6637,102495,6668,104020,6669,102610,6670,102611,6671,102612,6672,102613,6673,102614,6674,102615,6675,102616,6676,102617,6677,102618,6678,102619,6679,102620,6680,102621,6681,102622,6682,102623,6683,102624,6684,102625,6685,102626,6686,102627,6687,102628,6688,102593,6689,102594,6690,102595,6691,102596,6692,102597,6783,104223,6784,102530,6785,102500,6788,102532,6789,102502,6792,102533,6793,102503,6796,102531,6797,102501,6800,102534,6801,102504,6804,102535,6805,102505,6808,102536,6809,102506,6812,102537,6813,102507,6816,102538,6817,102508,6820,102539,6821,102509,6824,102540,6825,102510,6828,102541,6829,102511,6832,102542,6833,102512,6836,102543,6837,102513,6840,102544,6841,102514,6844,102546,6845,102516,6848,102545,6849,102515,6852,102547,6853,102517,6856,102548,6857,102518,6860,102549,6861,102519,6867,102380,6868,102381,6879,103187,6880,103096,6884,102376,6885,102378,6886,102377,6887,102379,7136,6980,7139,6987,7142,102706,7692,102557,7693,102558,7694,102559,7695,102560,7696,102561,8090,103318,8091,103418,8092,103317,8093,103417,8095,103371,8096,103471,8097,103369,8098,103469,8099,103368,8100,103468,8101,103367,8102,103467,8103,103366,8104,103466,8105,103365,8106,103465,8107,103364,8108,103464,8109,103363,8110,103463,8111,103362,8112,103462,8113,103361,8114,103461,8115,103360,8116,103460,8117,103359,8118,103459,8119,103357,8120,103457,8121,103356,8122,103456,8123,103355,8124,103455,8125,103354,8126,103454,8127,103353,8128,103453,8129,103352,8130,103452,8131,103350,8132,103450,8133,103349,8134,103449,8135,103348,8136,103448,8139,103343,8140,103443,8141,103342,8142,103442,8143,103341,8144,103441,8145,103339,8146,103439,8147,103337,8148,103437,8149,103336,8150,103436,8151,103334,8152,103434,8153,103333,8154,103433,8155,103331,8156,103431,8161,103326,8162,103426,8163,103325,8164,103425,8165,103324,8166,103424,8171,103321,8172,103421,8173,103320,8177,103420,8179,103316,8180,103416,8181,103315,8182,103415,8184,103314,8185,103414,8191,103312,8193,103412,8196,103311,8197,103411,8198,103310,8200,103410,8201,103309,8202,103409,8203,103308,8204,103408,8207,103306,8208,103406,8209,103305,8210,103405,8212,103304,8213,103404,8214,103303,8216,103403,8218,103302,8220,103402,8222,103301,8224,103401,8431,104248,8441,102590,8693,102449,8826,102605,8857,54035,8858,54036,8859,54037,8860,8449,8988,104115,8989,104116,8990,104117,8991,104118,8992,104119,8993,104120,8994,104121,8995,104122,8996,104123,8997,104124,8998,104896,8999,104257,9e3,104019,9014,104010,9019,104021,9053,104011,9054,104012,9055,104013,9056,104014,9057,104015,9059,104258,9060,104179,9061,104180,9062,104181,9063,104182,9064,104183,9065,104184,9066,104185,9067,104186,21896,21891,21897,21892,21898,21893,21899,21894,26701,102124,26702,102125,26799,26747,26847,102683,26848,102684,26849,102691,26850,102692,26851,102693,26852,102704,26853,102750,26854,102751,26857,102466,26858,102467,26859,102468,26901,102128,26902,102129,27493,27492,29101,29100,29168,29118,29169,29119,29170,29120,29171,29121,29172,29122,29187,29177,29188,29178,29189,29179,29190,29180,29191,29181,29192,29182,29193,29183,29194,29184,29195,29185,29902,29900,31279,31278,31281,31291,31282,31292,31283,31293,31284,31294,31285,31295,31286,31296,31287,31297,31466,31462,31467,31463,31468,31464,31469,31465,31986,31917,31987,31918,31988,31919,31989,31920,31990,31921,31991,31922,32064,32074,32065,32075,32066,32076,32067,32077,102550,2181,102551,2182,102552,2183,102553,2184,102554,2185,102555,2186,102556,2187],pcsid:[2066,15,2136,12,2155,10,2157,5,2158,5,2159,12,2160,12,2219,5,2220,5,2244,10,2245,10,2256,11,2265,11,2266,11,2269,11,2270,11,2273,11,2290,5,2291,5,2294,5,2295,5,2313,5,2314,14,2899,10,2900,10,2901,11,2909,11,2910,11,2911,10,2912,10,2913,11,2914,11,2964,10,2967,10,2968,10,2991,5,2992,11,2993,5,2994,11,3073,5,3076,5,3079,5,3091,10,3106,5,3108,5,3109,5,3141,5,3142,5,3167,4,3337,5,3347,5,3348,5,3359,10,3360,5,3361,11,3362,5,3363,10,3364,5,3365,10,3366,14,3402,5,3403,5,3405,5,3406,5,3439,5,3440,5,3447,5,3449,5,3450,5,3453,10,3454,10,3460,5,3479,11,3480,5,3481,11,3482,5,3483,11,3484,5,3485,10,3486,5,3487,10,3488,5,3489,5,3490,10,3491,5,3492,10,3493,5,3494,10,3495,5,3496,10,3497,5,3498,10,3499,5,3500,10,3501,5,3502,10,3503,5,3504,10,3505,5,3506,10,3507,5,3508,10,3509,5,3510,10,3511,5,3512,10,3513,5,3514,5,3515,10,3516,5,3517,10,3518,5,3519,10,3520,5,3521,10,3522,5,3523,10,3524,5,3525,10,3526,5,3527,10,3528,5,3529,10,3530,5,3531,10,3532,5,3533,10,3534,5,3535,10,3536,5,3537,10,3538,5,3539,10,3540,5,3541,10,3542,5,3543,10,3544,5,3545,10,3546,5,3547,10,3548,5,3549,10,3550,5,3551,10,3552,5,3553,10,3582,10,3583,5,3584,10,3585,5,3586,10,3587,5,3588,11,3589,5,3590,11,3591,5,3592,5,3593,11,3598,10,3599,5,3600,10,3605,11,3606,5,3607,5,3608,10,3609,5,3610,10,3611,5,3612,10,3613,5,3614,10,3615,5,3616,10,3617,5,3618,10,3619,5,3620,10,3621,5,3622,10,3623,5,3624,10,3625,5,3626,10,3627,5,3628,10,3629,5,3630,10,3631,5,3632,10,3633,5,3634,11,3635,5,3636,11,3640,10,3641,5,3642,10,3643,5,3644,11,3645,5,3646,11,3647,5,3648,11,3649,5,3650,10,3651,5,3652,10,3653,5,3654,10,3655,5,3656,11,3657,5,3658,10,3659,5,3660,10,3661,5,3662,10,3663,5,3664,10,3668,10,3669,5,3670,10,3671,5,3672,10,3673,5,3674,10,3675,5,3676,11,3677,10,3678,5,3679,11,3680,10,3681,5,3682,11,3683,10,3684,5,3685,5,3686,10,3687,5,3688,10,3689,5,3690,10,3691,5,3692,10,3696,10,3697,5,3698,10,3699,5,3700,10,3740,5,3749,5,3783,5,3784,5,3793,5,3794,5,3802,5,3816,5,3829,5,3854,5,3911,5,3912,5,3920,5,3978,5,3979,5,3991,10,3992,10,4026,5,4037,5,4038,5,4087,5,4088,5,4217,10,4438,10,4439,10,4467,5,4471,5,4474,5,4559,5,4822,5,4839,5,5018,5,5048,5,5167,5,5168,5,5223,5,5234,5,5235,5,5243,5,5266,5,5316,5,5320,5,5321,5,5330,5,5331,5,5337,5,5361,5,5362,5,5382,5,5383,5,5396,5,5456,5,5457,5,5469,5,5472,9,5490,5,5518,5,5523,5,5559,5,5588,11,5589,14,5596,5,5627,5,5629,5,5641,5,5643,5,5644,5,5654,10,5655,10,5659,5,5700,5,5825,5,5836,5,5837,5,5842,5,5844,5,5880,5,5887,5,5890,5,6128,11,6129,11,6141,11,6204,5,6210,5,6211,5,6307,5,6312,5,6316,5,6362,5,6591,5,6646,5,6703,5,6786,5,6787,11,6790,5,6791,11,6794,5,6795,11,6798,5,6799,11,6802,5,6803,11,6806,5,6807,11,6810,5,6811,11,6814,5,6815,11,6818,5,6819,11,6822,5,6823,11,6826,5,6827,11,6830,5,6831,11,6834,5,6835,11,6838,5,6839,11,6842,5,6843,11,6846,5,6847,11,6850,5,6851,11,6854,5,6855,11,6858,5,6859,11,6862,5,6863,11,6870,5,6875,5,6876,5,6915,5,6922,5,6923,10,6924,5,6925,10,6962,5,6984,5,6991,5,7128,10,7131,5,7132,10,7257,5,7258,10,7259,5,7260,10,7261,5,7262,10,7263,5,7264,10,7265,5,7266,10,7267,5,7268,10,7269,5,7270,10,7271,5,7272,10,7273,5,7274,10,7275,5,7276,10,7277,5,7278,10,7279,5,7280,10,7281,5,7282,10,7283,5,7284,10,7285,5,7286,10,7287,5,7288,10,7289,5,7290,10,7291,5,7292,10,7293,5,7294,10,7295,5,7296,10,7297,5,7298,10,7299,5,7300,10,7301,5,7302,10,7303,5,7304,10,7305,5,7306,10,7307,5,7308,10,7309,5,7310,10,7311,5,7312,10,7313,5,7314,10,7315,5,7316,10,7317,5,7318,10,7319,5,7320,10,7321,5,7322,10,7323,5,7324,10,7325,5,7326,10,7327,5,7328,10,7329,5,7330,10,7331,5,7332,10,7333,5,7334,10,7335,5,7336,10,7337,5,7338,10,7339,5,7340,10,7341,5,7342,10,7343,5,7344,10,7345,5,7346,10,7347,5,7348,10,7349,5,7350,10,7351,5,7352,10,7353,5,7354,10,7355,5,7356,10,7357,5,7358,10,7359,5,7360,10,7361,5,7362,10,7363,5,7364,10,7365,5,7366,10,7367,5,7368,10,7369,5,7370,10,7877,5,7878,5,7882,5,7883,5,7887,5,7899,5,7991,5,7992,5,8035,10,8036,10,8058,5,8059,5,8082,5,8083,5,8088,5,8137,5,8138,10,8157,5,8158,10,8159,5,8160,10,8167,5,8168,10,8169,5,8170,10,8187,5,8189,10,8205,5,8206,10,8225,5,8226,10,8311,5,8312,11,8313,5,8314,11,8315,5,8316,11,8317,5,8318,11,8319,5,8320,11,8321,5,8322,11,8323,5,8324,11,8325,5,8326,11,8327,5,8328,11,8329,5,8330,11,8331,5,8332,11,8333,5,8334,11,8335,5,8336,11,8337,5,8338,11,8339,5,8340,11,8341,5,8342,11,8343,5,8344,11,8345,5,8346,11,8347,5,8348,11,8352,5,8353,5,8379,5,8380,10,8381,5,8382,10,8383,5,8384,10,8385,5,8387,10,8391,5,8395,5,8433,5,8455,5,8456,5,8531,10,8682,5,8687,5,8692,5,8903,5,8950,5,8951,5,9039,5,9040,5,9141,5,9149,5,9150,5,9191,5,9221,5,9222,5,20499,5,20538,5,20539,5,20790,5,20791,5,21291,5,21292,5,21500,5,21817,5,21818,5,22032,5,22033,5,22091,5,22092,5,22332,5,22391,5,22392,5,22700,5,22770,5,22780,5,22832,5,23090,5,23095,5,23239,5,23240,5,23433,5,23700,5,24047,5,24048,5,24100,14,24200,5,24305,5,24306,5,24382,6,24383,5,24500,5,24547,5,24548,5,24571,2,24600,5,25e3,5,25231,5,25884,5,25932,5,26237,5,26331,5,26332,5,26591,5,26592,5,26632,5,26692,5,26855,10,26856,10,27120,5,27200,5,27291,7,27292,7,27429,5,27492,5,27500,5,27700,5,28232,5,28600,5,28991,5,28992,5,29100,5,29220,5,29221,5,29333,5,29635,5,29636,5,29701,5,29738,5,29739,5,29849,5,29850,5,29871,3,29872,13,29873,5,29900,5,29901,5,29903,5,30200,15,30339,5,30340,5,30791,5,30792,5,31028,5,31121,5,31154,5,31170,5,31171,5,31370,5,31528,5,31529,5,31600,5,31700,5,31838,5,31839,5,31901,5,32061,5,32062,5,32098,5,32099,10,32100,5,32104,5,32161,5,32766,5,53048,5,53049,5,54090,5,54091,5,65061,10,65062,10,65161,5,65163,5,102041,10,102064,8,102068,1,102069,0,102118,10,102119,11,102120,10,102121,10,102217,10,102218,5,102219,10,102220,10,102378,11,102379,11,102380,5,102381,11,102498,5,102499,5,102589,10,102590,5,102599,10,102600,10,102604,10,102605,5,102606,5,102647,5,102704,10,102705,10,102706,5,102733,10,102761,10,102762,5,102763,10,102764,5,102765,5,102766,10,102962,5,102963,5,102970,11,102974,10,102993,5,102994,5,102995,10,102996,10,103015,5,103016,10,103017,5,103018,10,103025,5,103026,5,103027,10,103028,10,103035,5,103036,5,103037,10,103038,10,103039,5,103040,5,103041,10,103042,10,103043,5,103044,5,103045,10,103046,10,103047,5,103048,5,103049,10,103050,10,103051,5,103052,10,103053,5,103054,10,103055,5,103056,10,103057,5,103058,5,103059,10,103060,10,103061,5,103062,5,103063,10,103064,10,103069,10,103070,5,103071,5,103072,10,103073,10,103086,5,103087,5,103088,10,103089,10,103094,11,103095,5,103096,10,103103,5,103104,10,103105,5,103106,10,103121,5,103122,10,103123,5,103124,5,103125,11,103126,11,103127,5,103128,5,103129,10,103130,10,103131,5,103132,5,103133,10,103134,10,103135,5,103136,5,103137,11,103138,11,103139,5,103140,10,103141,5,103142,10,103143,5,103144,10,103145,5,103146,11,103147,5,103148,5,103149,10,103150,10,103151,5,103152,10,103172,5,103173,10,103174,5,103175,5,103176,10,103177,10,103178,5,103179,5,103180,10,103181,10,103182,5,103183,5,103184,10,103185,10,103228,5,103229,5,103230,10,103231,10,103250,5,103251,10,103252,5,103253,10,103260,5,103261,5,103262,10,103263,10,103270,5,103271,5,103272,10,103273,10,103274,5,103275,5,103276,10,103277,10,103278,5,103279,5,103280,10,103281,10,103282,5,103283,5,103284,10,103285,10,103286,5,103287,10,103288,5,103289,10,103290,5,103291,10,103292,5,103293,5,103294,10,103295,10,103296,5,103297,5,103298,10,103299,10,103376,10,103377,5,103378,5,103379,10,103380,10,103393,5,103394,5,103395,10,103396,10,103472,5,103473,11,103474,5,103475,10,103482,5,103483,10,103484,5,103485,10,103500,5,103501,10,103502,5,103503,5,103504,11,103505,11,103506,5,103507,5,103508,10,103509,10,103510,5,103511,5,103512,10,103513,10,103514,5,103515,10,103516,5,103517,10,103518,5,103519,10,103520,5,103521,11,103522,5,103523,5,103524,10,103525,10,103526,5,103527,10,103561,10,103562,10,103563,5,103564,5,103565,10,103566,10,103567,5,103568,5,103569,10,103570,10,103585,10,103586,5,103587,10,103588,11,103589,5,103590,10,103591,11,103592,5,103593,10,103594,11,103695,10,103846,5,103946,10],pcsidc:[[2e3,2045,5],[2056,2065,5],[2067,2135,5],[2137,2153,5],[2161,2170,5],[2172,2193,5],[2196,2198,5],[2200,2203,5],[2206,2217,5],[2222,2224,11],[2251,2253,11],[2280,2282,11],[2308,2311,5],[2315,2325,5],[2327,2394,5],[2400,2491,5],[2494,2758,5],[2867,2869,11],[2870,2888,10],[2891,2895,10],[2896,2898,11],[2902,2908,10],[2915,2920,10],[2921,2923,11],[2924,2930,10],[2931,2941,5],[2969,2973,5],[2975,2982,5],[2984,2988,5],[2995,3002,5],[3006,3051,5],[3054,3059,5],[3061,3066,5],[3068,3071,5],[3084,3087,5],[3112,3118,5],[3120,3138,5],[3146,3151,5],[3153,3157,5],[3161,3166,5],[3168,3172,5],[3174,3203,5],[3294,3313,5],[3315,3335,5],[3339,3345,5],[3350,3358,5],[3367,3369,5],[3374,3388,5],[3391,3399,5],[3408,3416,5],[3425,3432,10],[3441,3446,10],[3456,3459,10],[3465,3478,5],[3554,3559,5],[3561,3565,10],[3568,3570,10],[3571,3581,5],[3594,3597,5],[3601,3604,5],[3637,3639,5],[3665,3667,5],[3693,3695,5],[3701,3727,5],[3728,3733,10],[3744,3747,5],[3753,3758,10],[3761,3763,5],[3765,3769,5],[3779,3781,5],[3788,3791,5],[3797,3799,5],[3832,3841,5],[3844,3852,5],[3873,3885,5],[3890,3893,5],[3942,3950,5],[3968,3970,5],[3973,3976,5],[3986,3989,5],[3994,3997,5],[4390,4398,5],[4399,4413,10],[4418,4433,10],[4491,4554,5],[4568,4589,5],[4652,4656,5],[4766,4800,5],[5069,5072,5],[5105,5130,5],[5180,5184,5],[5253,5259,5],[5269,5275,5],[5292,5311,5],[5343,5349,5],[5355,5357,5],[5387,5389,5],[5459,5463,5],[5479,5482,5],[5530,5539,5],[5550,5552,5],[5562,5583,5],[5623,5625,10],[5631,5639,5],[5649,5653,5],[5663,5680,5],[5682,5685,5],[5875,5877,5],[5896,5899,5],[5921,5940,5],[6050,6125,5],[6351,6354,5],[6366,6372,5],[6381,6387,5],[6622,6624,5],[6707,6709,5],[6720,6723,5],[6732,6738,5],[6931,6933,5],[7005,7007,5],[7057,7070,10],[7074,7082,5],[7109,7118,5],[7119,7127,11],[7374,7376,5],[7528,7586,5],[7587,7645,10],[7755,7787,5],[7791,7795,5],[7799,7801,5],[7803,7805,5],[7825,7831,5],[7845,7859,5],[8013,8032,5],[8065,8068,11],[8518,8529,10],[8533,8536,10],[8538,8540,10],[8677,8679,5],[8836,8840,5],[8908,8910,5],[9154,9159,5],[9205,9218,5],[20002,20032,5],[20062,20092,5],[20135,20138,5],[20248,20258,5],[20348,20358,5],[20436,20440,5],[20822,20824,5],[20934,20936,5],[21035,21037,5],[21095,21097,5],[21148,21150,5],[21413,21423,5],[21473,21483,5],[21780,21782,5],[21891,21894,5],[22171,22177,5],[22181,22187,5],[22191,22197,5],[22234,22236,5],[22521,22525,5],[22991,22994,5],[23028,23038,5],[23830,23853,5],[23866,23872,5],[23877,23884,5],[23886,23894,5],[23946,23948,5],[24311,24313,5],[24342,24347,5],[24370,24374,6],[24375,24381,5],[24718,24721,5],[24817,24821,5],[24877,24882,5],[24891,24893,5],[25391,25395,5],[25828,25838,5],[26191,26195,5],[26391,26393,5],[26703,26722,5],[26729,26760,10],[26766,26798,10],[26860,26870,10],[26891,26899,5],[26903,26923,5],[26929,26946,5],[26948,26998,5],[27037,27040,5],[27205,27232,5],[27258,27260,5],[27391,27398,5],[27561,27564,5],[27571,27574,5],[27581,27584,5],[27591,27594,5],[28191,28193,5],[28348,28358,5],[28402,28432,5],[28462,28492,5],[29118,29122,5],[29177,29185,5],[30161,30179,5],[30491,30494,5],[30729,30732,5],[31251,31259,5],[31265,31268,5],[31275,31278,5],[31288,31297,5],[31461,31465,5],[31491,31495,5],[31917,31922,5],[31965,31985,5],[31992,32e3,5],[32001,32003,10],[32005,32031,10],[32033,32060,10],[32074,32077,10],[32081,32086,5],[32107,32130,5],[32133,32158,5],[32164,32167,10],[32180,32199,5],[32201,32260,5],[32301,32360,5],[32601,32662,5],[32664,32667,10],[32701,32761,5],[53001,53004,5],[53008,53019,5],[53021,53032,5],[53034,53037,5],[53042,53046,5],[53074,53080,5],[54001,54004,5],[54008,54019,5],[54021,54032,5],[54034,54037,5],[54042,54046,5],[54048,54053,5],[54074,54080,5],[54098,54101,5],[102001,102040,5],[102042,102063,5],[102065,102067,5],[102070,102112,5],[102114,102117,5],[102122,102208,5],[102210,102216,5],[102221,102300,5],[102304,102377,5],[102382,102388,5],[102389,102398,10],[102399,102444,5],[102445,102447,10],[102448,102458,5],[102459,102468,10],[102469,102496,5],[102500,102519,11],[102520,102524,5],[102525,102529,10],[102530,102549,5],[102557,102588,5],[102593,102598,5],[102601,102603,5],[102608,102628,5],[102629,102646,10],[102648,102672,10],[102675,102700,10],[102701,102703,5],[102707,102730,10],[102735,102758,10],[102767,102900,5],[102965,102969,5],[102971,102973,5],[102975,102989,5],[102990,102992,11],[102997,103002,5],[103003,103008,10],[103009,103011,5],[103012,103014,10],[103019,103021,5],[103022,103024,10],[103029,103031,5],[103032,103034,10],[103065,103068,5],[103074,103076,5],[103077,103079,11],[103080,103082,5],[103083,103085,10],[103090,103093,5],[103097,103099,5],[103100,103102,10],[103107,103109,5],[103110,103112,10],[103113,103116,5],[103117,103120,10],[103153,103157,5],[103158,103162,10],[103163,103165,5],[103166,103168,11],[103169,103171,10],[103186,103188,5],[103189,103191,10],[103192,103195,5],[103196,103199,10],[103200,103224,5],[103225,103227,11],[103232,103237,5],[103238,103243,10],[103244,103246,5],[103247,103249,10],[103254,103256,5],[103257,103259,10],[103264,103266,5],[103267,103269,10],[103300,103375,5],[103381,103383,5],[103384,103386,11],[103387,103389,5],[103390,103392,10],[103397,103399,5],[103400,103471,10],[103476,103478,5],[103479,103481,10],[103486,103488,5],[103489,103491,10],[103492,103495,5],[103496,103499,10],[103539,103543,5],[103544,103548,10],[103549,103551,5],[103552,103554,11],[103555,103557,10],[103558,103560,5],[103571,103573,5],[103574,103576,10],[103577,103580,5],[103581,103583,10],[103595,103597,5],[103600,103694,5],[103696,103698,5],[103700,103793,10],[103794,103799,5]],gcsid:[4001,81,4002,85,4003,70,4004,84,4005,82,4006,83,4007,60,4008,67,4009,39,4010,57,4011,63,4012,64,4013,64,4014,63,4015,92,4016,90,4018,86,4019,75,4020,68,4021,70,4022,55,4023,75,4024,66,4025,73,4027,95,4028,59,4029,58,4031,75,4032,78,4033,77,4034,65,4035,100,4036,70,4042,88,4044,87,4045,89,4046,75,4047,99,4052,101,4053,97,4054,61,4075,75,4081,75,4120,84,4121,75,4122,80,4123,55,4124,84,4126,75,4130,75,4131,92,4132,64,4133,75,4134,64,4140,75,4141,75,4142,64,4143,64,4144,92,4145,87,4146,89,4147,66,4148,75,4149,84,4150,84,4151,75,4152,75,4153,55,4154,55,4155,63,4156,84,4157,60,4162,84,4163,75,4164,66,4165,55,4166,75,4168,58,4170,75,4172,75,4173,75,4174,58,4175,64,4176,75,4178,66,4179,66,4180,75,4188,81,4190,75,4191,66,4192,55,4193,63,4198,64,4199,55,4200,66,4201,64,4202,70,4203,70,4204,55,4205,66,4206,63,4207,55,4208,55,4209,64,4210,64,4211,84,4212,64,4213,63,4214,66,4215,55,4216,67,4218,55,4219,84,4220,64,4221,55,4222,64,4224,55,4225,55,4229,68,4230,55,4231,55,4232,64,4234,64,4235,55,4236,55,4237,70,4238,70,4239,92,4240,92,4241,65,4242,67,4243,88,4244,92,4245,86,4246,64,4250,64,4251,64,4252,63,4253,67,4254,55,4255,55,4256,64,4257,84,4258,75,4259,55,4260,64,4261,106,4262,84,4263,64,4265,55,4266,63,4267,67,4269,75,4270,64,4271,55,4272,55,4273,82,4274,55,4275,63,4276,73,4280,84,4281,57,4282,63,4283,75,4284,66,4285,55,4286,68,4288,55,4289,84,4291,70,4292,55,4293,83,4294,84,4295,84,4296,63,4297,55,4298,90,4299,85,4300,85,4301,84,4302,60,4303,68,4306,84,4307,64,4308,84,4309,55,4310,63,4311,55,4312,84,4313,55,4314,84,4315,63,4316,55,4317,66,4318,75,4319,75,4322,80,4324,80,4326,75,4466,75,4469,75,4475,55,4483,75,4490,75,4555,66,4558,75,4608,67,4609,67,4610,74,4614,55,4619,75,4624,75,4625,55,4627,75,4636,55,4637,55,4638,67,4639,55,4657,93,4659,75,4660,55,4661,75,4666,84,4667,75,4670,75,4671,63,4674,75,4679,64,4680,64,4682,92,4683,67,4686,75,4687,75,4693,75,4694,75,4695,67,4696,64,4697,64,4702,75,4703,64,4704,55,4705,55,4706,68,4718,55,4720,80,4721,55,4723,67,4726,67,4737,75,4738,60,4740,79,4741,55,4742,75,4743,64,4744,64,4745,84,4746,84,4747,75,4748,56,4749,75,4750,75,4751,91,4752,56,4753,55,4754,55,4759,75,4761,75,4801,84,4802,55,4803,55,4804,84,4805,84,4806,55,4807,106,4808,84,4809,55,4810,105,4811,106,4816,106,4817,82,4818,84,4820,84,4821,106,4823,55,4824,55,4901,107,4902,107,4903,59,4904,84,5228,84,5229,84,5233,92,5252,75,5264,75,5340,75,5354,75,5360,75,5371,75,5373,75,5381,75,5393,75,5464,60,5467,67,5489,75,5524,55,5527,70,5546,75,5561,66,5593,75,5681,84,5886,75,6135,75,6365,75,6706,75,6881,64,6882,64,6883,55,6892,64,6894,64,6980,75,6983,75,6987,75,6990,75,7035,75,7037,75,7039,75,7041,75,7073,75,7084,75,7086,75,7133,75,7373,75,7683,76,7798,75,7844,75,7881,75,7886,75,8042,96,8043,96,8086,75,8232,75,8237,75,8240,75,8246,75,8249,75,8252,75,8255,75,8351,84,8427,75,8428,55,8449,75,8545,75,8685,75,8694,64,8699,75,8818,75,8888,75,8900,75,8902,75,8907,75,8949,75,9003,75,9006,75,9009,75,9012,75,9017,75,9068,75,9069,75,9140,75,9148,75,9153,75,37001,73,37002,69,37003,72,37004,71,37005,62,37006,91,37007,94,37008,101,37201,55,37202,92,37203,87,37204,55,37205,55,37206,64,37207,71,37208,64,37211,64,37220,67,37221,55,37222,55,37223,63,37224,55,37225,106,37226,55,37227,55,37228,64,37229,62,37230,55,37231,70,37232,55,37233,55,37235,55,37237,55,37238,55,37239,67,37240,64,37241,55,37242,55,37243,67,37252,67,37253,55,37254,64,37255,84,37257,66,37259,55,37260,67,104017,79,104018,79,104024,75,104027,75,104047,98,104050,75,104100,75,104101,84,104102,84,104103,64,104104,55,104105,84,104106,55,104107,75,104108,75,104109,67,104110,75,104111,75,104112,67,104113,67,104128,102,104129,75,104130,55,104131,84,104132,67,104133,75,104134,75,104135,66,104136,70,104137,75,104138,55,104139,106,104140,106,104223,75,104248,55,104256,92,104261,63,104286,75,104287,75,104304,63,104700,49,104701,9,104702,24,104703,15,104704,28,104705,32,104706,53,104707,46,104708,37,104709,54,104710,11,104711,14,104712,30,104713,52,104714,4,104715,4,104716,23,104717,14,104718,48,104719,29,104720,22,104721,21,104722,35,104723,21,104724,46,104725,22,104726,49,104727,45,104728,52,104729,10,104730,10,104731,21,104732,31,104733,26,104734,40,104735,19,104736,30,104737,34,104738,27,104739,46,104740,5,104741,12,104742,50,104743,9,104744,43,104745,21,104746,26,104747,25,104748,21,104749,7,104750,53,104751,6,104752,33,104753,29,104754,19,104755,41,104756,31,104757,3,104758,41,104759,25,104760,49,104761,41,104762,44,104763,50,104764,46,104765,6,104766,40,104767,16,104768,8,104769,17,104770,48,104771,42,104772,50,104773,25,104774,29,104775,25,104776,32,104777,13,104778,36,104779,47,104780,14,104781,29,104782,23,104783,38,104784,42,104785,18,104786,20,104808,51,104896,75,104900,112,104901,104,104902,103,104903,116,104904,109,104905,108,104906,169,104907,164,104908,0,104909,168,104910,141,104911,166,104912,114,104913,160,104914,151,104915,117,104916,110,104917,140,104918,115,104919,170,104920,163,104921,154,104922,158,104923,161,104924,148,104925,0,104926,159,104927,167,104928,127,104929,131,104930,145,104931,159,104932,136,104933,123,104934,139,104935,134,104936,166,104937,150,104938,137,104939,147,104940,121,104941,165,104942,128,104943,111,104944,1,104945,126,104946,152,104947,157,104948,162,104949,153,104950,156,104951,149,104952,132,104953,122,104954,160,104955,146,104956,143,104957,156,104958,120,104959,125,104960,2,104961,144,104962,142,104963,138,104964,155,104965,135,104966,133,104967,151,104968,118,104969,119,104970,124,104971,108,104972,129,104973,130,104974,113,104975,0,104990,84,104991,75,104992,84],gcsidc:[[4127,4129,67],[4135,4139,67],[4158,4161,55],[4181,4185,55],[4194,4196,55],[4226,4228,63],[4247,4249,55],[4277,4279,81],[4600,4607,64],[4621,4623,55],[4628,4633,55],[4641,4646,55],[4662,4665,55],[4676,4678,66],[4688,4692,55],[4699,4701,64],[4755,4757,75],[4763,4765,75],[4813,4815,84],[8972,8987,75],[37212,37219,55],[37245,37247,55],[37249,37251,55],[104009,104015,75],[104019,104022,75],[104114,104124,75],[104125,104127,55],[104141,104145,75],[104179,104186,75],[104257,104260,75]]},y={c:[[2e3,2035,9001],[2039,2045,9001],[2056,2062,9001],[2067,2090,9001],[2093,2135,9001],[2161,2165,9001],[2172,2180,9001],[2188,2193,9001],[2195,2198,9001],[2200,2203,9001],[2205,2213,9001],[2215,2217,9001],[2222,2224,9002],[2225,2243,9003],[2246,2250,9003],[2251,2253,9002],[2257,2264,9003],[2274,2279,9003],[2280,2282,9002],[2283,2289,9003],[2308,2313,9001],[2315,2491,9001],[2494,2576,9001],[2578,2599,9001],[2601,2693,9001],[2695,2866,9001],[2867,2869,9002],[2870,2888,9003],[2891,2895,9003],[2896,2898,9002],[2902,2908,9003],[2915,2920,9003],[2921,2923,9002],[2924,2930,9003],[2931,2933,9001],[2935,2962,9001],[2964,2968,9003],[2969,2973,9001],[2975,2978,9001],[2984,2988,9001],[2995,3051,9001],[3054,3072,9001],[3077,3079,9001],[3081,3088,9001],[3092,3101,9001],[3106,3138,9001],[3146,3151,9001],[3153,3166,9001],[3168,3172,9001],[3174,3203,9001],[3294,3313,9001],[3315,3348,9001],[3350,3358,9001],[3367,3403,9001],[3408,3416,9001],[3417,3438,9003],[3441,3446,9003],[3447,3450,9001],[3451,3453,9003],[3455,3459,9003],[3460,3478,9001],[3554,3559,9001],[3560,3570,9003],[3571,3581,9001],[3594,3597,9001],[3601,3604,9001],[3637,3639,9001],[3665,3667,9001],[3693,3695,9001],[3701,3727,9001],[3728,3739,9003],[3740,3751,9001],[3753,3760,9003],[3761,3773,9001],[3775,3777,9001],[3779,3781,9001],[3788,3791,9001],[3797,3802,9001],[3814,3816,9001],[3825,3829,9001],[3832,3841,9001],[3844,3852,9001],[3873,3885,9001],[3890,3893,9001],[3942,3950,9001],[3968,3970,9001],[3973,3976,9001],[3986,3989,9001],[3994,3997,9001],[4001,4016,9102],[4018,4025,9102],[4027,4029,9102],[4031,4036,9102],[4044,4047,9102],[4048,4051,9001],[4052,4054,9102],[4056,4063,9001],[4093,4096,9001],[4120,4124,9102],[4127,4139,9102],[4141,4176,9102],[4178,4185,9102],[4188,4216,9102],[4218,4232,9102],[4235,4260,9102],[4265,4267,9102],[4269,4286,9102],[4292,4304,9102],[4306,4319,9102],[4390,4398,9001],[4399,4413,9003],[4418,4433,9003],[4455,4457,9003],[4484,4489,9001],[4491,4554,9001],[4568,4589,9001],[4600,4630,9102],[4636,4639,9102],[4641,4646,9102],[4652,4656,9001],[4657,4680,9102],[4682,4684,9102],[4686,4765,9102],[4766,4800,9001],[4801,4806,9102],[4813,4815,9102],[5014,5016,9001],[5069,5072,9001],[5105,5130,9001],[5173,5188,9001],[5253,5259,9001],[5269,5275,9001],[5292,5311,9001],[5329,5331,9001],[5343,5349,9001],[5355,5357,9001],[5459,5463,9001],[5479,5482,9001],[5518,5520,9001],[5533,5539,9001],[5550,5552,9001],[5562,5583,9001],[5623,5625,9003],[5631,5639,9001],[5649,5653,9001],[5663,5680,9001],[5682,5685,9001],[5875,5877,9001],[5896,5899,9001],[5921,5940,9001],[6050,6125,9001],[6244,6275,9001],[6328,6348,9001],[6350,6356,9001],[6366,6372,9001],[6381,6387,9001],[6393,6404,9001],[6480,6483,9001],[6511,6514,9001],[6579,6581,9001],[6619,6624,9001],[6625,6627,9003],[6628,6632,9001],[6634,6637,9001],[6669,6692,9001],[6707,6709,9001],[6720,6723,9001],[6732,6738,9001],[6881,6883,9102],[6931,6933,9001],[7005,7007,9001],[7057,7070,9003],[7074,7082,9001],[7109,7118,9001],[7119,7127,9002],[7374,7376,9001],[7528,7586,9001],[7587,7645,9003],[7692,7696,9001],[7755,7787,9001],[7791,7795,9001],[7799,7801,9001],[7803,7805,9001],[7825,7831,9001],[7845,7859,9001],[8013,8032,9001],[8065,8068,9002],[8518,8529,9003],[8533,8536,9003],[8538,8540,9003],[8677,8679,9001],[8836,8840,9001],[8857,8859,9001],[8908,8910,9001],[8972,9e3,9102],[9053,9057,9102],[9059,9069,9102],[9154,9159,9001],[9205,9218,9001],[20002,20032,9001],[20062,20092,9001],[20135,20138,9001],[20248,20258,9001],[20348,20358,9001],[20436,20440,9001],[20822,20824,9001],[20934,20936,9001],[21035,21037,9001],[21095,21097,9001],[21148,21150,9001],[21413,21423,9001],[21473,21483,9001],[21780,21782,9001],[21896,21899,9001],[22171,22177,9001],[22181,22187,9001],[22191,22197,9001],[22234,22236,9001],[22521,22525,9001],[22991,22994,9001],[23028,23038,9001],[23830,23853,9001],[23866,23872,9001],[23877,23884,9001],[23886,23894,9001],[23946,23948,9001],[24311,24313,9001],[24342,24347,9001],[24370,24374,9084],[24375,24381,9001],[24718,24721,9001],[24817,24821,9001],[24877,24882,9001],[24891,24893,9001],[25391,25395,9001],[25828,25838,9001],[26191,26195,9001],[26391,26393,9001],[26701,26722,9001],[26729,26746,9003],[26748,26760,9003],[26766,26799,9003],[26847,26870,9003],[26891,26899,9001],[26901,26923,9001],[26929,26946,9001],[26948,26978,9001],[26980,26998,9001],[27037,27040,9001],[27205,27232,9001],[27258,27260,9001],[27391,27398,9001],[27561,27564,9001],[27571,27574,9001],[27581,27584,9001],[27591,27594,9001],[28191,28193,9001],[28348,28358,9001],[28402,28432,9001],[28462,28492,9001],[29168,29172,9001],[29187,29195,9001],[29901,29903,9001],[30161,30179,9001],[30491,30494,9001],[30729,30732,9001],[31251,31259,9001],[31265,31268,9001],[31275,31277,9001],[31281,31290,9001],[31466,31469,9001],[31491,31495,9001],[31965,32e3,9001],[32001,32003,9003],[32005,32017,9003],[32019,32028,9003],[32033,32035,9003],[32037,32060,9003],[32064,32067,9003],[32081,32086,9001],[32107,32130,9001],[32133,32158,9001],[32164,32167,9003],[32180,32199,9001],[32201,32260,9001],[32301,32360,9001],[32601,32662,9001],[32664,32667,9003],[32701,32761,9001],[37002,37008,9102],[53001,53004,9001],[53008,53019,9001],[53021,53032,9001],[53034,53037,9001],[53042,53046,9001],[53074,53080,9001],[54001,54004,9001],[54008,54019,9001],[54021,54032,9001],[54042,54046,9001],[54048,54053,9001],[54074,54080,9001],[54098,54101,9001],[102001,102005,9001],[102007,102039,9001],[102042,102045,9001],[102060,102063,9001],[102070,102079,9001],[102096,102099,9001],[102101,102109,9001],[102114,102117,9001],[102132,102138,9001],[102141,102144,9001],[102156,102166,9001],[102173,102179,9001],[102191,102198,9001],[102221,102228,9001],[102231,102233,9001],[102237,102240,9001],[102364,102375,9001],[102389,102398,9003],[102399,102419,9001],[102421,102438,9001],[102445,102447,9003],[102450,102458,9001],[102459,102462,9003],[102470,102489,9001],[102550,102556,9001],[102562,102588,9001],[102629,102640,9003],[102648,102650,9003],[102688,102690,9003],[102696,102700,9003],[102701,102703,9001],[102799,102900,9001],[103166,103168,9002],[103220,103224,9001],[103225,103227,9002],[103232,103237,9001],[103238,103243,9003],[103244,103246,9001],[103247,103249,9003],[103254,103256,9001],[103257,103259,9003],[103264,103266,9001],[103267,103269,9003],[103327,103330,9001],[103344,103347,9001],[103372,103375,9001],[103381,103383,9001],[103384,103386,9002],[103387,103389,9001],[103390,103392,9003],[103397,103399,9001],[103427,103430,9003],[103444,103447,9003],[103476,103478,9001],[103479,103481,9003],[103486,103488,9001],[103489,103491,9003],[103492,103495,9001],[103496,103499,9003],[103539,103543,9001],[103544,103548,9003],[103549,103551,9001],[103552,103554,9002],[103555,103557,9003],[103558,103560,9001],[103571,103573,9001],[103574,103576,9003],[103577,103580,9001],[103581,103583,9003],[103595,103597,9001],[103600,103694,9001],[103696,103698,9001],[103700,103793,9003],[104101,104103,9102],[104126,104131,9102],[104259,104261,9102],[104700,104786,9102],[104900,104975,9102]],nc:[2065,9001,2066,9039,2136,9094,2137,9001,2138,9001,2154,9001,2157,9001,2158,9001,2159,9094,2160,9094,2169,9001,2170,9001,2204,9003,2219,9001,2220,9001,2254,9003,2255,9003,2256,9002,2265,9002,2266,9002,2267,9003,2268,9003,2269,9002,2270,9002,2271,9003,2272,9003,2273,9002,2290,9001,2294,9001,2295,9001,2314,9005,2899,9003,2900,9003,2901,9002,2909,9002,2910,9002,2911,9003,2912,9003,2913,9002,2914,9002,2980,9001,2981,9001,2991,9001,2992,9002,2993,9001,2994,9002,3074,9001,3075,9001,3080,9002,3089,9003,3090,9001,3091,9003,3102,9003,3141,9001,3142,9001,3167,9301,3360,9001,3361,9002,3362,9001,3363,9003,3364,9001,3365,9003,3404,9003,3405,9001,3406,9001,3407,9005,3439,9001,3440,9001,3479,9002,3480,9001,3481,9002,3482,9001,3483,9002,3484,9001,3485,9003,3486,9001,3487,9003,3488,9001,3489,9001,3490,9003,3491,9001,3492,9003,3493,9001,3494,9003,3495,9001,3496,9003,3497,9001,3498,9003,3499,9001,3500,9003,3501,9001,3502,9003,3503,9001,3504,9003,3505,9001,3506,9003,3507,9001,3508,9003,3509,9001,3510,9003,3511,9001,3512,9003,3513,9001,3514,9001,3515,9003,3516,9001,3517,9003,3518,9001,3519,9003,3520,9001,3521,9003,3522,9001,3523,9003,3524,9001,3525,9003,3526,9001,3527,9003,3528,9001,3529,9003,3530,9001,3531,9003,3532,9001,3533,9003,3534,9001,3535,9003,3536,9001,3537,9003,3538,9001,3539,9003,3540,9001,3541,9003,3542,9001,3543,9003,3544,9001,3545,9003,3546,9001,3547,9003,3548,9001,3549,9003,3550,9001,3551,9003,3552,9001,3553,9003,3582,9003,3583,9001,3584,9003,3585,9001,3586,9003,3587,9001,3588,9002,3589,9001,3590,9002,3591,9001,3592,9001,3593,9002,3598,9003,3599,9001,3600,9003,3605,9002,3606,9001,3607,9001,3608,9003,3609,9001,3610,9003,3611,9001,3612,9003,3613,9001,3614,9003,3615,9001,3616,9003,3617,9001,3618,9003,3619,9001,3620,9003,3621,9001,3622,9003,3623,9001,3624,9003,3625,9001,3626,9003,3627,9001,3628,9003,3629,9001,3630,9003,3631,9001,3632,9003,3633,9001,3634,9002,3635,9001,3636,9002,3640,9003,3641,9001,3642,9003,3643,9001,3644,9002,3645,9001,3646,9002,3647,9001,3648,9002,3649,9001,3650,9003,3651,9001,3652,9003,3653,9001,3654,9003,3655,9001,3656,9002,3657,9001,3658,9003,3659,9001,3660,9003,3661,9001,3662,9003,3663,9001,3664,9003,3668,9003,3669,9001,3670,9003,3671,9001,3672,9003,3673,9001,3674,9003,3675,9001,3676,9002,3677,9003,3678,9001,3679,9002,3680,9003,3681,9001,3682,9002,3683,9003,3684,9001,3685,9001,3686,9003,3687,9001,3688,9003,3689,9001,3690,9003,3691,9001,3692,9003,3696,9003,3697,9001,3698,9003,3699,9001,3700,9003,3783,9001,3784,9001,3793,9001,3794,9001,3812,9001,3819,9102,3821,9102,3824,9102,3854,9001,3857,9001,3889,9102,3906,9102,3911,9001,3912,9001,3920,9001,3978,9001,3979,9001,3991,9003,3992,9003,4026,9001,4037,9001,4038,9001,4042,9102,4071,9001,4075,9102,4081,9102,4082,9001,4083,9001,4087,9001,4088,9001,4217,9003,4261,9105,4262,9102,4263,9102,4288,9102,4289,9102,4322,9102,4324,9102,4326,9102,4414,9001,4415,9001,4417,9001,4434,9001,4437,9001,4438,9003,4439,9003,4462,9001,4463,9102,4467,9001,4470,9102,4471,9001,4475,9102,4483,9102,4490,9102,4555,9102,4558,9102,4559,9001,4632,9102,4633,9102,4647,9001,4807,9105,4808,9102,4809,9102,4810,9105,4811,9105,4816,9105,4817,9102,4818,9102,4820,9102,4821,9105,4822,9001,4823,9102,4824,9102,4826,9001,4839,9001,4901,9105,4902,9105,4903,9102,4904,9102,5013,9102,5018,9001,5048,9001,5167,9001,5168,9001,5221,9001,5223,9001,5228,9102,5229,9102,5233,9102,5234,9001,5235,9001,5243,9001,5246,9102,5247,9001,5252,9102,5264,9102,5266,9001,5316,9001,5320,9001,5321,9001,5324,9102,5325,9001,5337,9001,5340,9102,5354,9102,5360,9102,5361,9001,5362,9001,5365,9102,5367,9001,5371,9102,5373,9102,5381,9102,5382,9001,5383,9001,5387,9001,5389,9001,5393,9102,5396,9001,5451,9102,5456,9001,5457,9001,5464,9102,5467,9102,5469,9001,5472,9037,5489,9102,5490,9001,5513,9001,5514,9001,5523,9001,5524,9102,5527,9102,5530,9001,5531,9001,5546,9102,5559,9001,5561,9102,5588,9002,5589,9005,5593,9102,5596,9001,5627,9001,5629,9001,5641,9001,5643,9001,5644,9001,5646,9003,5654,9003,5655,9003,5659,9001,5681,9102,5700,9001,5825,9001,5836,9001,5837,9001,5839,9001,5842,9001,5844,9001,5858,9001,5879,9001,5880,9001,5886,9102,5887,9001,5890,9001,6128,9002,6129,9002,6135,9102,6204,9001,6207,9102,6210,9001,6211,9001,6307,9001,6311,9102,6312,9001,6316,9001,6318,9102,6322,9102,6325,9102,6362,9001,6365,9102,6391,9002,6405,9002,6406,9001,6407,9002,6408,9001,6409,9002,6410,9001,6411,9003,6412,9001,6413,9003,6414,9001,6415,9001,6416,9003,6417,9001,6418,9003,6419,9001,6420,9003,6421,9001,6422,9003,6423,9001,6424,9003,6425,9001,6426,9003,6427,9001,6428,9003,6429,9001,6430,9003,6431,9001,6432,9003,6433,9001,6434,9003,6435,9001,6436,9003,6437,9001,6438,9003,6439,9001,6440,9001,6441,9003,6442,9001,6443,9003,6444,9001,6445,9003,6446,9001,6447,9003,6448,9001,6449,9003,6450,9001,6451,9003,6452,9001,6453,9003,6454,9001,6455,9003,6456,9001,6457,9003,6458,9001,6459,9003,6460,9001,6461,9003,6462,9001,6463,9003,6464,9001,6465,9003,6466,9001,6467,9003,6468,9001,6469,9003,6470,9001,6471,9003,6472,9001,6473,9003,6474,9001,6475,9003,6476,9001,6477,9003,6478,9001,6479,9003,6484,9003,6485,9001,6486,9003,6487,9001,6488,9003,6489,9001,6490,9003,6491,9001,6492,9003,6493,9001,6494,9002,6495,9001,6496,9002,6497,9001,6498,9001,6499,9002,6500,9001,6501,9003,6502,9001,6503,9003,6504,9001,6505,9003,6506,9001,6507,9003,6508,9001,6509,9001,6510,9003,6515,9002,6516,9001,6518,9001,6519,9003,6520,9001,6521,9003,6522,9001,6523,9003,6524,9001,6525,9003,6526,9001,6527,9003,6528,9001,6529,9003,6530,9001,6531,9003,6532,9001,6533,9003,6534,9001,6535,9003,6536,9001,6537,9003,6538,9001,6539,9003,6540,9001,6541,9003,6542,9001,6543,9003,6544,9001,6545,9002,6546,9001,6547,9002,6548,9001,6549,9003,6550,9001,6551,9003,6552,9001,6553,9003,6554,9001,6555,9003,6556,9001,6557,9002,6558,9001,6559,9002,6560,9001,6561,9002,6562,9001,6563,9003,6564,9001,6565,9003,6566,9001,6567,9001,6568,9003,6569,9001,6570,9002,6571,9001,6572,9003,6573,9001,6574,9003,6575,9001,6576,9003,6577,9001,6578,9003,6582,9003,6583,9001,6584,9003,6585,9001,6586,9003,6587,9001,6588,9003,6589,9001,6590,9003,6591,9001,6592,9001,6593,9003,6594,9001,6595,9003,6596,9001,6597,9003,6598,9001,6599,9003,6600,9001,6601,9003,6602,9001,6603,9003,6605,9003,6606,9001,6607,9003,6608,9001,6609,9003,6610,9001,6611,9001,6612,9003,6613,9001,6614,9003,6615,9001,6616,9003,6617,9001,6618,9003,6633,9003,6646,9001,6668,9102,6703,9001,6706,9102,6783,9102,6784,9001,6785,9002,6786,9001,6787,9002,6788,9001,6789,9002,6790,9001,6791,9002,6792,9001,6793,9002,6794,9001,6795,9002,6796,9001,6797,9002,6798,9001,6799,9002,6800,9001,6801,9002,6802,9001,6803,9002,6804,9001,6805,9002,6806,9001,6807,9002,6808,9001,6809,9002,6810,9001,6811,9002,6812,9001,6813,9002,6814,9001,6815,9002,6816,9001,6817,9002,6818,9001,6819,9002,6820,9001,6821,9002,6822,9001,6823,9002,6824,9001,6825,9002,6826,9001,6827,9002,6828,9001,6829,9002,6830,9001,6831,9002,6832,9001,6833,9002,6834,9001,6835,9002,6836,9001,6837,9002,6838,9001,6839,9002,6840,9001,6841,9002,6842,9001,6843,9002,6844,9001,6845,9002,6846,9001,6847,9002,6848,9001,6849,9002,6850,9001,6851,9002,6852,9001,6853,9002,6854,9001,6855,9002,6856,9001,6857,9002,6858,9001,6859,9002,6860,9001,6861,9002,6862,9001,6863,9002,6867,9001,6868,9002,6870,9001,6875,9001,6876,9001,6879,9001,6880,9003,6884,9001,6885,9002,6886,9001,6887,9002,6892,9102,6894,9102,6915,9001,6922,9001,6923,9003,6924,9001,6925,9003,6962,9001,6983,9102,6984,9001,6990,9102,6991,9001,7035,9102,7037,9102,7039,9102,7041,9102,7073,9102,7084,9102,7086,9102,7128,9003,7131,9001,7132,9003,7133,9102,7136,9102,7139,9102,7142,9001,7257,9001,7258,9003,7259,9001,7260,9003,7261,9001,7262,9003,7263,9001,7264,9003,7265,9001,7266,9003,7267,9001,7268,9003,7269,9001,7270,9003,7271,9001,7272,9003,7273,9001,7274,9003,7275,9001,7276,9003,7277,9001,7278,9003,7279,9001,7280,9003,7281,9001,7282,9003,7283,9001,7284,9003,7285,9001,7286,9003,7287,9001,7288,9003,7289,9001,7290,9003,7291,9001,7292,9003,7293,9001,7294,9003,7295,9001,7296,9003,7297,9001,7298,9003,7299,9001,7300,9003,7301,9001,7302,9003,7303,9001,7304,9003,7305,9001,7306,9003,7307,9001,7308,9003,7309,9001,7310,9003,7311,9001,7312,9003,7313,9001,7314,9003,7315,9001,7316,9003,7317,9001,7318,9003,7319,9001,7320,9003,7321,9001,7322,9003,7323,9001,7324,9003,7325,9001,7326,9003,7327,9001,7328,9003,7329,9001,7330,9003,7331,9001,7332,9003,7333,9001,7334,9003,7335,9001,7336,9003,7337,9001,7338,9003,7339,9001,7340,9003,7341,9001,7342,9003,7343,9001,7344,9003,7345,9001,7346,9003,7347,9001,7348,9003,7349,9001,7350,9003,7351,9001,7352,9003,7353,9001,7354,9003,7355,9001,7356,9003,7357,9001,7358,9003,7359,9001,7360,9003,7361,9001,7362,9003,7363,9001,7364,9003,7365,9001,7366,9003,7367,9001,7368,9003,7369,9001,7370,9003,7373,9102,7683,9102,7798,9102,7844,9102,7877,9001,7878,9001,7881,9102,7882,9001,7883,9001,7886,9102,7887,9001,7899,9001,7991,9001,7992,9001,8035,9003,8036,9003,8042,9102,8043,9102,8058,9001,8059,9001,8082,9001,8083,9001,8086,9102,8088,9001,8090,9001,8091,9003,8092,9001,8093,9003,8095,9001,8096,9003,8097,9001,8098,9003,8099,9001,8100,9003,8101,9001,8102,9003,8103,9001,8104,9003,8105,9001,8106,9003,8107,9001,8108,9003,8109,9001,8110,9003,8111,9001,8112,9003,8113,9001,8114,9003,8115,9001,8116,9003,8117,9001,8118,9003,8119,9001,8120,9003,8121,9001,8122,9003,8123,9001,8124,9003,8125,9001,8126,9003,8127,9001,8128,9003,8129,9001,8130,9003,8131,9001,8132,9003,8133,9001,8134,9003,8135,9001,8136,9003,8137,9001,8138,9003,8139,9001,8140,9003,8141,9001,8142,9003,8143,9001,8144,9003,8145,9001,8146,9003,8147,9001,8148,9003,8149,9001,8150,9003,8151,9001,8152,9003,8153,9001,8154,9003,8155,9001,8156,9003,8157,9001,8158,9003,8159,9001,8160,9003,8161,9001,8162,9003,8163,9001,8164,9003,8165,9001,8166,9003,8167,9001,8168,9003,8169,9001,8170,9003,8171,9001,8172,9003,8173,9001,8177,9003,8179,9001,8180,9003,8181,9001,8182,9003,8184,9001,8185,9003,8187,9001,8189,9003,8191,9001,8193,9003,8196,9001,8197,9003,8198,9001,8200,9003,8201,9001,8202,9003,8203,9001,8204,9003,8205,9001,8206,9003,8207,9001,8208,9003,8209,9001,8210,9003,8212,9001,8213,9003,8214,9001,8216,9003,8218,9001,8220,9003,8222,9001,8224,9003,8225,9001,8226,9003,8232,9102,8237,9102,8240,9102,8246,9102,8249,9102,8252,9102,8255,9102,8311,9001,8312,9002,8313,9001,8314,9002,8315,9001,8316,9002,8317,9001,8318,9002,8319,9001,8320,9002,8321,9001,8322,9002,8323,9001,8324,9002,8325,9001,8326,9002,8327,9001,8328,9002,8329,9001,8330,9002,8331,9001,8332,9002,8333,9001,8334,9002,8335,9001,8336,9002,8337,9001,8338,9002,8339,9001,8340,9002,8341,9001,8342,9002,8343,9001,8344,9002,8345,9001,8346,9002,8347,9001,8348,9002,8351,9102,8352,9001,8353,9001,8379,9001,8380,9003,8381,9001,8382,9003,8383,9001,8384,9003,8385,9001,8387,9003,8391,9001,8395,9001,8427,9102,8428,9102,8431,9102,8433,9001,8441,9001,8455,9001,8456,9001,8531,9003,8545,9102,8682,9001,8685,9102,8687,9001,8692,9001,8693,9001,8694,9102,8699,9102,8818,9102,8826,9001,8860,9102,8888,9102,8900,9102,8902,9102,8903,9001,8907,9102,8949,9102,8950,9001,8951,9001,9003,9102,9006,9102,9009,9102,9012,9102,9014,9102,9017,9102,9019,9102,9039,9001,9040,9001,9140,9102,9141,9001,9148,9102,9149,9001,9150,9001,9153,9102,9191,9001,9221,9001,9222,9001,20499,9001,20538,9001,20539,9001,20790,9001,20791,9001,21291,9001,21292,9001,21500,9001,21817,9001,21818,9001,22032,9001,22033,9001,22091,9001,22092,9001,22332,9001,22391,9001,22392,9001,22700,9001,22770,9001,22780,9001,22832,9001,23090,9001,23095,9001,23239,9001,23240,9001,23700,9001,24047,9001,24048,9001,24100,9005,24200,9001,24305,9001,24306,9001,24382,9084,24383,9001,24500,9001,24547,9001,24548,9001,24571,9062,24600,9001,25e3,9001,25231,9001,25884,9001,25932,9001,26237,9001,26331,9001,26332,9001,26591,9001,26592,9001,26632,9001,26692,9001,27120,9001,27200,9001,27291,9040,27292,9040,27429,9001,27493,9001,27500,9001,27700,9001,28232,9001,28600,9001,28991,9001,28992,9001,29101,9001,29220,9001,29221,9001,29333,9001,29635,9001,29636,9001,29701,9001,29738,9001,29739,9001,29849,9001,29850,9001,29871,9042,29872,9041,29873,9001,30200,9039,30339,9001,30340,9001,30791,9001,30792,9001,31028,9001,31121,9001,31154,9001,31170,9001,31171,9001,31279,9001,31370,9001,31528,9001,31529,9001,31600,9001,31700,9001,31838,9001,31839,9001,31901,9001,32030,9003,32031,9003,32061,9001,32062,9001,32098,9001,32099,9003,32100,9001,32104,9001,32161,9001,32766,9001,37202,9102,37203,9102,37206,9102,37207,9102,37218,9102,37221,9102,37225,9105,37240,9102,37241,9102,37243,9102,37245,9102,37249,9102,37257,9102,37260,9102,53048,9001,53049,9001,54034,9001,54090,9001,54091,9001,65061,9003,65062,9003,65161,9001,102041,9003,102064,9085,102068,109030,102069,109031,102093,9001,102094,9001,102118,9003,102120,9003,102121,9003,102122,9001,102150,9001,102168,9001,102204,9001,102212,9001,102213,9001,102215,9001,102216,9001,102217,9003,102218,9001,102219,9003,102220,9003,102247,9001,102299,9001,102306,9001,102319,9001,102328,9001,102329,9001,102359,9001,102360,9001,102440,9001,102448,9001,102464,9003,102465,9003,102491,9001,102492,9001,102498,9001,102499,9001,102525,9003,102526,9003,102528,9003,102529,9003,102589,9003,102598,9001,102599,9003,102600,9003,102604,9003,102661,9003,102662,9003,102664,9003,102665,9003,102705,9003,102720,9003,102721,9003,102726,9003,102727,9003,102733,9003,102761,9003,102766,9003,102974,9003,103228,9001,103229,9001,103230,9003,103231,9003,103250,9001,103251,9003,103252,9001,103253,9003,103260,9001,103261,9001,103262,9003,103263,9003,103270,9001,103271,9001,103272,9003,103273,9003,103274,9001,103275,9001,103276,9003,103277,9003,103278,9001,103279,9001,103280,9003,103281,9003,103282,9001,103283,9001,103284,9003,103285,9003,103286,9001,103287,9003,103288,9001,103289,9003,103290,9001,103291,9003,103292,9001,103293,9001,103294,9003,103295,9003,103296,9001,103297,9001,103298,9003,103299,9003,103300,9001,103307,9001,103313,9001,103319,9001,103322,9001,103323,9001,103332,9001,103335,9001,103338,9001,103340,9001,103351,9001,103358,9001,103370,9001,103376,9003,103377,9001,103378,9001,103379,9003,103380,9003,103393,9001,103394,9001,103395,9003,103396,9003,103400,9003,103407,9003,103413,9003,103419,9003,103422,9003,103423,9003,103432,9003,103435,9003,103438,9003,103440,9003,103451,9003,103458,9003,103470,9003,103472,9001,103473,9002,103474,9001,103475,9003,103482,9001,103483,9003,103484,9001,103485,9003,103500,9001,103501,9003,103502,9001,103503,9001,103504,9002,103505,9002,103506,9001,103507,9001,103508,9003,103509,9003,103510,9001,103511,9001,103512,9003,103513,9003,103514,9001,103515,9003,103516,9001,103517,9003,103518,9001,103519,9003,103520,9001,103521,9002,103522,9001,103523,9001,103524,9003,103525,9003,103526,9001,103527,9003,103561,9003,103562,9003,103563,9001,103564,9001,103565,9003,103566,9003,103567,9001,103568,9001,103569,9003,103570,9003,103585,9003,103586,9001,103587,9003,103588,9002,103589,9001,103590,9003,103591,9002,103592,9001,103593,9003,103594,9002,103695,9003,103846,9001,103946,9003,104009,9102,104017,9102,104018,9102,104022,9102,104024,9102,104027,9102,104047,9102,104050,9102,104105,9102,104106,9102,104109,9102,104112,9102,104113,9102,104134,9102,104135,9102,104138,9102,104139,9105,104140,9105,104808,9102]};c.wr=function(){function l(){}return l.Sy=function(s){l.xp===!1&&l.yt();var r=l.FQ(s);if(r==-1){var n=l.Bx(s);n!=s&&(r=l.Sy(n))}return r==-1&&(n=l.FK(s))!=s&&(r=l.Sy(n)),r},l.FQ=function(s){return l.Fw[s]!==void 0?l.Fw[s]:-1},l.CQ=function(s){l.xp===!1&&l.yt();var r=l.nF(s);if(r==1e38){var n=l.Bx(s);if(n!=s&&(r=l.nF(n)),r==1e38)return 1e-10}return r},l.ZS=function(s){if(l.Is[s]!==void 0)return!0;var r=l.Bx(s);return r!=s&&l.Is[r]!==void 0},l.aT=function(s){if(l.xo[s]!==void 0)return!0;var r=l.Bx(s);return r!=s&&l.xo[r]!==void 0},l.nF=function(s){return l.xp===!1&&l.yt(),l.Is[s]!==void 0?l.Is[s]:l.xo[s]!==void 0?l.xo[s]:1e38},l.FK=function(s){return l.xp===!1&&l.yt(),l.WA[s]!==void 0?l.WA[s]:s},l.Bx=function(s){return l.xp===!1&&l.yt(),l.XA[s]!==void 0?l.XA[s]:s},l.yt=function(){for(var s,r=I,n=0;n<r.pcsid.length;n+=2)l.xo[r.pcsid[n]]=r.pcstol[2*r.pcsid[n+1]+1];for(n=0;n<r.pcsidc.length;n+=1)for(var a=(s=r.pcsidc[n])[0];a<=s[1];a++)l.xo[a]=r.pcstol[2*s[2]+1];for(n=0;n<r.gcsid.length;n+=2)l.Is[r.gcsid[n]]=r.gcstol[2*r.gcsid[n+1]+1];for(n=0;n<r.gcsidc.length;n+=1)for(a=(s=r.gcsidc[n])[0];a<=s[1];a++)l.xo[a]=r.gcstol[2*s[2]+1];for(n=0;n<y.c.length;n+=1)for(a=(s=y.c[n])[0];a<=s[1];a++)l.Fw[a]=s[2];for(n=0;n<y.nc.length;n+=2)l.Fw[y.nc[n]]=y.nc[n+1];for(y=null,n=0;n<r.newtoold.length;n+=2)l.WA[r.newtoold[n+1]]=r.newtoold[n],l.XA[r.newtoold[n]]=r.newtoold[n+1];I=null,l.xp=!0},l.xp=!1,l.Is=[],l.xo=[],l.WA=[],l.XA=[],l.Fw=[],l}()}(U||(U={})),function(c){function I(l){return l.length===0?'""':l[0]=='"'||l[0]=="."||"0"<=l[0]&&"9">=l[0]?l:'"'+l.trim()+'"'}var y=[];c.XC=function(){function l(){}return l.EQ=function(s){try{for(var r=0;r<y.length;r++)if(y[r].wkttext===s)return y[r].unit;for(var n,a=r="",u=!1,d=0;d<s.length;d++){var f=s[d];u===!0?f=='"'?s[d+1]=='"'?r+=f:u=u=!1:r+=f:/[\s]/.test(f)||(f==","?(a=r!==""?a+(I(r)+","):a+",",r=""):f==")"||f=="]"?(a=r!==""?a+(I(r)+"]}"):a+"]}",r=""):f=="("||f=="["?(a+='{ "entity": "'+r.toUpperCase().trim()+'", "values":[',r=""):f=='"'?(u=!0,r=""):r+=f)}n=JSON.parse(a);var g=l.mF(n);if(g===null)return null;for(n=null,f=0;f<g.values.length;f++)if(typeof g.values[f]=="object"&&(g.values[f].entity==="UNIT"||g.values[f].entity==="ANGLEUNIT"||g.values[f].entity==="LENGTHUNIT")){n=g.values[f];break}if(n===null)return null;var b=c.Tc.ZO(g.entity==="GEOGCS"||g.entity==="GEOGCRS"?1:0,n.values[1],n.values[2]);return y.push({wkttext:s,unit:b}),10<y.length&&y.shift(),b}catch{return null}},l.mF=function(s){if(s===null)return null;switch(s.entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return s}for(var r=[],n=0;n<s.values.length;n++)if(typeof s.values[n]=="object"&&s.values[n].entity!==void 0)switch(s.values[n].entity){case"GEOGCRS":case"GEOGCS":case"PROJCRS":case"PROJCS":return s.values[n];default:r.push(s.values[n])}for(s=0;s<r.length;s++)if((n=l.mF(r[s]))!==null)return n;return null},l.DQ=function(s){var r=-1;if(s!=null&&0<s.length){var n=s.search(/PROJCR?S/);if(0<=n){var a=0;if(0<=(n=s.lastIndexOf("UNIT"))&&0<(n=s.indexOf(",",n+4))){n++;var u=s.indexOf("]",n+1);if(0<u)try{a=parseFloat(s.substring(n,u))}catch{a=0}}0<a&&(r=.001/a)}else if(0<=(n=s.search(/GEOGCR?S/))){var d=0;if(a=0,(n=s.indexOf("SPHEROID",n+6))===-1&&(n=s.indexOf("ELLIPSOID",n+7)),0<n&&0<(n=s.indexOf(",",n+8))){if(n++,0<(u=s.indexOf(",",n+1)))try{d=parseFloat(s.substring(n,u))}catch{d=0}if(0<d&&((n=s.lastIndexOf("ANGLEUNIT",u+1))===-1&&(n=s.lastIndexOf("UNIT",u+1)),0<=n&&0<(n=s.indexOf(",",n+4))&&(n++,0<(u=s.indexOf("]",n+1)))))try{a=parseFloat(s.substring(n,u))}catch{a=0}}0<d&&0<a&&(r=.001/(d*a))}}return r},l}()}(U||(U={})),function(c){var I;(I=c.eL||(c.eL={}))[I.NONE=0]="NONE",I[I.LINEAR=1]="LINEAR",I[I.ANGULAR=2]="ANGULAR",function(l){l[l.enumFloat=0]="enumFloat",l[l.enumDouble=1]="enumDouble",l[l.enumInt32=2]="enumInt32",l[l.enumInt64=3]="enumInt64",l[l.enumInt8=4]="enumInt8",l[l.enumInt16=5]="enumInt16"}(c.QL||(c.QL={})),function(l){l[l.POSITION=0]="POSITION",l[l.Z=1]="Z",l[l.M=2]="M",l[l.ID=3]="ID",l[l.NORMAL=4]="NORMAL",l[l.TEXTURE1D=5]="TEXTURE1D",l[l.TEXTURE2D=6]="TEXTURE2D",l[l.TEXTURE3D=7]="TEXTURE3D",l[l.ID2=8]="ID2",l[l.MAXSEMANTICS=10]="MAXSEMANTICS"}(c.Ih||(c.Ih={}));var y=function(){function l(s,r){if(this.Vs=this.Ae=null,this.Oq=this.Aa=0,this.uh=this.bg=null,this.wl=0,r!==void 0){for(this.Aa=r.Aa,this.Oq=r.Oq,this.bg=r.bg.slice(0),this.uh=r.uh.slice(0),this.wl=r.wl,this.Vs=[],s=r=0;s<this.Aa;s++)this.Vs[s]=r,r+=l.Va(this.bg[s]);for(this.Oq=r,this.Ae=[],s=0;s<this.Aa;s++){r=l.Va(this.kd(s));for(var n=l.se(this.kd(s)),a=0;a<r;a++)this.Ae[this.Vs[s]+a]=n}}else this.Oq=this.Aa=0}return l.prototype.kd=function(s){if(0>s||s>this.Aa)throw c.i.N();return this.bg[s]},l.prototype.Pf=function(s){return this.uh[s]},l.lz=function(s){return l.JM[s]},l.Tp=function(s){return l.SM[s]},l.Va=function(s){return l.rM[s]},l.prototype.hasAttribute=function(s){return 0<=this.uh[s]},l.prototype.iG=function(){return this.hasAttribute(1)},l.se=function(s){return l.eD[s]},l.prototype.LR=function(s){return this.Vs[s]},l.DG=function(s,r){return l.eD[s]===r},l.prototype.Nb=function(s){return this===s},l.prototype.An=function(){for(var s=c.O.Th(this.bg[0]),r=1;r<this.Aa;r++)s=c.O.Th(this.bg[r],s);return s},l.prototype.$j=function(s){return this.Vs[s]},l.prototype.cc=function(){return this.wl},l.prototype.Ed=function(s){return this.bg[s]},l.eD=[0,0,NaN,0,0,0,0,0,0],l.JM=[1,1,1,0,2,1,1,1,0],l.SM=[1,1,1,2,0,0,0,0,2],l.rM=[2,1,1,1,3,1,2,3,2],l}();c.ra=y}(U||(U={})),function(c){function I(u,d,f){var g=d-(u=new a(u)).e,b=u.c;for(b.length>++d&&y(u,g,a.eu),b[0]?f?g=d:(b=u.c,g=u.e+g+1):++g;b.length<g;b.push(0));return g=u.e,f===1||f&&(d<=g||g<=s)?(0>u.Bd&&b[0]?"-":"")+(1<b.length?b[0]+"."+b.join("").slice(1):b[0])+(0>g?"e":"e+")+g:u.toString()}function y(u,d,f,g){var b=u.c,_=u.e+d+1;if(f===1?g=5<=b[_]:f===2?g=5<b[_]||b[_]==5&&(g||0>_||b[_+1]!==void 0||1&b[_-1]):f===3?g=g||b[_]!==void 0||0>_:(g=!1,f!==0&&l("!Big.RM!")),1>_||!b[0])g?(u.e=-d,u.c=[1]):u.c=[u.e=0];else{if(b.length=_--,g)for(;9<++b[_];)b[_]=0,_--||(++u.e,b.unshift(1));for(_=b.length;!b[--_];b.pop());}return u}function l(u){throw(u=Error(u)).name="BigError",u}var s=-7,r=21,n=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,a=function(){function u(d){if(d instanceof u)this.Bd=d.Bd,this.e=d.e,this.c=d.c.slice();else{var f,g,b;for(d===0&&0>1/d?d="-0":n.test(d+="")||l(NaN),this.Bd=d.charAt(0)=="-"?(d=d.slice(1),-1):1,-1<(f=d.indexOf("."))&&(d=d.replace(".","")),0<(g=d.search(/e/i))?(0>f&&(f=g),f+=+d.slice(g+1),d=d.substring(0,g)):0>f&&(f=d.length),g=0;d.charAt(g)=="0";g++);if(g==(b=d.length))this.c=[this.e=0];else{for(;d.charAt(--b)=="0";);for(this.e=f-g-1,this.c=[],f=0;g<=b;this.c[f++]=+d.charAt(g++));}}}return u.prototype.abs=function(){var d=new u(this);return d.Bd=1,d},u.prototype.cmp=function(d){var f=this.c,g=(d=new u(d)).c,b=this.Bd,_=d.Bd,S=this.e,T=d.e;if(!f[0]||!g[0])return f[0]?b:g[0]?-_:0;if(b!=_)return b;if(d=0>b,S!=T)return S>(T^d)?1:-1;for(b=-1,_=(S=f.length)<(T=g.length)?S:T;++b<_;)if(f[b]!=g[b])return f[b]>(g[b]^d)?1:-1;return S==T?0:S>(T^d)?1:-1},u.prototype.jm=function(d){var f=this.c,g=(d=new u(d)).c,b=this.Bd==d.Bd?1:-1,_=u.rr;if((_!==~~_||0>_||1e6<_)&&l("!Big.DP!"),!f[0]||!g[0])return f[0]==g[0]&&l(NaN),g[0]||l(b/0),new u(0*b);var S,T,k=g.slice(),O=S=g.length,N=f.length,D=f.slice(0,S),z=D.length,L=d,F=L.c=[],V=0,q=_+(L.e=this.e-d.e)+1;for(L.Bd=b,b=0>q?0:q,k.unshift(0);z++<S;D.push(0));do{for(T=0;10>T;T++){if(S!=(z=D.length))var W=S>z?1:-1;else{var K=-1;for(W=0;++K<S;)if(g[K]!=D[K]){W=g[K]>D[K]?1:-1;break}}if(!(0>W))break;for(d=z==S?g:k;z;){if(D[--z]<d[z]){for(K=z;K&&!D[--K];D[K]=9);--D[K],D[z]+=10}D[z]-=d[z]}for(;!D[0];D.shift());}F[V++]=W?T:++T,D[0]&&W?D[z]=f[O]||0:D=[f[O]]}while((O++<N||D[0]!==void 0)&&b--);return F[0]||V==1||(F.shift(),L.e--),V>q&&y(L,_,u.eu,D[0]!==void 0),L},u.prototype.fS=function(){return 0<this.cmp(0)},u.prototype.nT=function(){return 0>this.cmp(0)},u.prototype.jt=function(d){var f,g=this.Bd,b=(d=new u(d)).Bd;if(g!=b)return d.Bd=-b,this.tI(d);var _=this.c.slice(),S=this.e,T=d.c,k=d.e;if(!_[0]||!T[0])return T[0]?(d.Bd=-b,d):new u(_[0]?this:0);if(g=S-k){for((f=0>g)?(g=-g,S=_):(k=S,S=T),S.reverse(),b=g;b--;S.push(0));S.reverse()}else for(S=((f=_.length<T.length)?_:T).length,g=b=0;b<S;b++)if(_[b]!=T[b]){f=_[b]<T[b];break}if(f&&(S=_,_=T,T=S,d.Bd=-d.Bd),0<(b=(S=T.length)-(f=_.length)))for(;b--;_[f++]=0);for(b=f;S>g;){if(_[--S]<T[S]){for(f=S;f&&!_[--f];_[f]=9);--_[f],_[S]+=10}_[S]-=T[S]}for(;_[--b]==0;_.pop());for(;_[0]==0;)_.shift(),--k;return _[0]||(d.Bd=1,_=[k=0]),d.c=_,d.e=k,d},u.prototype.tI=function(d){var f=this.Bd,g=(d=new u(d)).Bd;if(f!=g)return d.Bd=-g,this.jt(d);g=this.e;var b=this.c,_=d.e,S=d.c;if(!b[0]||!S[0])return S[0]?d:new u(b[0]?this:0*f);if(b=b.slice(),f=g-_){for(0<f?(_=g,g=S):(f=-f,g=b),g.reverse();f--;g.push(0));g.reverse()}for(0>b.length-S.length&&(g=S,S=b,b=g),f=S.length,g=0;f;)g=(b[--f]=b[f]+S[f]+g)/10|0,b[f]%=10;for(g&&(b.unshift(g),++_),f=b.length;b[--f]==0;b.pop());return d.c=b,d.e=_,d},u.prototype.pow=function(d){var f=this,g=new u(1),b=g,_=0>d;for((d!==~~d||-1e6>d||1e6<d)&&l("!pow!"),d=_?-d:d;1&d&&(b=b.lr(f)),d>>=1;)f=f.lr(f);return _?g.jm(b):b},u.prototype.round=function(d,f){var g=this;return d==null?d=0:(d!==~~d||0>d||1e6<d)&&l("!round!"),y(g=new u(g),d,f??u.eu),g},u.prototype.sqrt=function(){var d=this.c,f=this.Bd,g=this.e,b=new u("0.5");if(!d[0])return new u(this);0>f&&l(NaN),(f=Math.sqrt(this.toString()))==0||f==1/0?((f=d.join("")).length+g&1||(f+="0"),(d=new u(Math.sqrt(f).toString())).e=((g+1)/2|0)-(0>g||1&g)):d=new u(f.toString()),f=d.e+(u.rr+=4);do g=d,d=b.lr(g.tI(this.jm(g)));while(g.c.slice(0,f).join("")!==d.c.slice(0,f).join(""));return y(d,u.rr-=4,u.eu),d},u.prototype.lr=function(d){var f=this.c,g=(d=new u(d)).c,b=f.length,_=g.length,S=this.e,T=d.e;if(d.Bd=this.Bd==d.Bd?1:-1,!f[0]||!g[0])return new u(0*d.Bd);if(d.e=S+T,b<_){var k=f;f=g,g=k,T=b,b=_,_=T}for(k=Array(T=b+_);T--;k[T]=0);for(S=_;S--;){for(_=0,T=b+S;T>S;)_=k[T]+g[S]*f[T-S-1]+_,k[T--]=_%10,_=_/10|0;k[T]=(k[T]+_)%10}for(_&&++d.e,k[0]||k.shift(),S=k.length;!k[--S];k.pop());return d.c=k,d},u.prototype.toString=function(){var d=this.e,f=this.c.join(""),g=f.length;if(d<=s||d>=r)f=f.charAt(0)+(1<g?"."+f.slice(1):"")+(0>d?"e":"e+")+d;else if(0>d){for(;++d;f="0"+f);f="0."+f}else if(0<d)if(++d>g)for(d-=g;d--;f+="0");else d<g&&(f=f.slice(0,d)+"."+f.slice(d));else 1<g&&(f=f.charAt(0)+"."+f.slice(1));return 0>this.Bd&&this.c[0]?"-"+f:f},u.prototype.toExponential=function(d){return d==null?d=this.c.length-1:(d!==~~d||0>d||1e6<d)&&l("!toExp!"),I(this,d,1)},u.prototype.toFixed=function(d){var f=s,g=r;if(s=-(r=1/0),d==null)var b=this.toString();else d===~~d&&0<=d&&1e6>=d&&(b=I(this,this.e+d),0>this.Bd&&this.c[0]&&0>b.indexOf("-")&&(b="-"+b));return s=f,r=g,b||l("!toFix!"),b},u.prototype.toPrecision=function(d){return d==null?this.toString():((d!==~~d||1>d||1e6<d)&&l("!toPre!"),I(this,d-1,2))},u.rr=20,u.eu=1,u}();c.hp=a}(U||(U={})),function(c){var I=function(){function y(l){this.lf=l}return y.prototype.nr=function(l,s,r){var n=new c.h,a=new c.h,u=this.lf;r.Vd(l,s,function(d,f){return u.tc(2*d,n),u.tc(2*f,a),n.compare(a)})},y.prototype.$p=function(l){return this.lf.read(2*l+1)},y}();c.pi=function(){function y(){}return y.aq=function(l){if(l.B())return!1;var s=l.getType();return s==1736?l.Ke()!=0:s==1607?(s=[!1],y.sE(l,!0,s),s[0]):!(s!=197&&(!c.aa.yd(s)||l.BG()))},y.gm=function(l){var s=l.getType();if(s==1736)return s=new c.Ta(l.description),l.B()||l.dD(s),s;if(s==1607)return y.sE(l,!1,null);if(s==197)return s=new c.Ta(l.description),l.B()||s.ad(l,!1),s;if(c.aa.yd(s)){if(s=new c.de(l.description),!l.B()&&!l.BG()){var r=new c.Sa;l.To(r),s.add(r),l.Po(r),s.add(r)}return s}if(c.aa.Rn(s))return null;throw c.i.N()},y.sE=function(l,s,r){r!=null&&(r[0]=!1);var n=null;if(s||(n=new c.de(l.description)),!l.B()){var a=new c.ia(0);a.Jb(2*l.da());for(var u=0,d=l.da();u<d;u++)if(0<l.Ja(u)&&!l.Nn(u)){var f=l.Ba(u);a.add(f),f=l.Vc(u)-1,a.add(f)}if(0<a.size){d=new c.Xt,u=l.ub(0),d.sort(a,0,a.size,new I(u)),d=new c.h,u.tc(2*a.get(0),d),f=0;for(var g=1,b=new c.Sa,_=new c.h,S=1,T=a.size;S<T;S++)if(u.tc(2*a.get(S),_),_.qb(d))a.get(f)>a.get(S)?(a.set(f,2147483647),f=S):a.set(S,2147483647),g++;else{if(1&g){if(s)return r!=null&&(r[0]=!0),null}else a.set(f,2147483647);d.L(_),f=S,g=1}if(1&g){if(s)return r!=null&&(r[0]=!0),null}else a.set(f,2147483647);if(!s)for(a.Vd(0,a.size,function(k,O){return k-O}),S=0,T=a.size;S<T&&a.get(S)!=2147483647;S++)l.ve(a.get(S),b),n.add(b)}}return s?null:n},y}()}(U||(U={})),function(c){var I=function(){function y(){this.yf=new c.ia(0),this.ys=new c.ia(0),this.EH=1,this.Es=NaN}return y.prototype.sort=function(l,s,r,n){if(32>r-s)n.nr(s,r,l);else{var a=!0;try{for(var u=1/0,d=-1/0,f=s;f<r;f++){var g=n.$p(l.get(f));g<u&&(u=g),g>d&&(d=g)}if(this.reset(r-s,u,d,r-s)){for(f=s;f<r;f++){var b=l.get(f);g=n.$p(b);var _=this.zF(g);this.yf.set(_,this.yf.get(_)+1),this.ys.write(f-s,b)}var S=this.yf.get(0);this.yf.set(0,0),f=1;for(var T=this.yf.size;f<T;f++){var k=this.yf.get(f);this.yf.set(f,S),S+=k}for(f=s;f<r;f++){b=this.ys.read(f-s),g=n.$p(b),_=this.zF(g);var O=this.yf.get(_);l.set(O+s,b),this.yf.set(_,O+1)}a=!1}}catch{this.yf.resize(0),this.ys.resize(0)}if(a)n.nr(s,r,l);else{for(f=r=0,T=this.yf.size;f<T;f++)a=r,(r=this.yf.get(f))>a&&n.nr(s+a,s+r,l);100<this.yf.size&&(this.yf.resize(0),this.ys.resize(0))}}},y.prototype.reset=function(l,s,r,n){return!(2>l||r==s)&&(l=Math.min(y.hL,l),this.yf.Jb(l),this.yf.resize(l),this.yf.Wj(0,0,this.yf.size),this.EH=s,this.ys.resize(n),this.Es=(r-s)/(l-1),!0)},y.prototype.zF=function(l){return c.O.truncate((l-this.EH)/this.Es)},y.hL=65536,y}();c.Xt=I}(U||(U={})),function(c){var I,y;(y=I||(I={}))[y.enum_line=1]="enum_line",y[y.enum_arc=2]="enum_arc",y[y.enum_dummy=4]="enum_dummy",y[y.enum_concave_dip=8]="enum_concave_dip",y[y.enum_connection=3]="enum_connection";var l=function(){function u(){}return u.Qu=function(d,f,g,b,_,S){var T=new u;return T.Im=new c.h,T.Vm=new c.h,T.aw=new c.h,T.Im.L(d),T.Vm.L(f),T.aw.L(g),T.Co=b,T.qh=_,T.sh=S,T},u.construct=function(d,f,g,b){var _=new u;return _.Im=new c.h,_.Vm=new c.h,_.aw=new c.h,_.Im.L(d),_.Vm.L(f),_.aw.Rc(),_.Co=4,_.qh=g,_.sh=b,_},u}(),s=function(){function u(d,f,g,b,_,S){this.Yv=null,this.ya=0,this.EA=d,this.bI=this.$H=0,this.Ka=f,this.Mj=g,this.vk=b,this.Dq=_,this.Ub=S}return u.prototype.next=function(){for(var d=new c.Sa;;){if(this.ya==this.EA.I())return null;if(this.EA.ve(this.ya,d),this.ya++,!d.B())break}var f=!1;if(this.Yv==null&&(this.$H=d.Lg(),this.bI=d.ih(),this.Yv=a.buffer(d,this.Ka,this.Mj,this.vk,this.Dq,this.Ub),f=!0),this.ya<this.EA.I()){var g=new c.Da;this.Yv.copyTo(g)}else g=this.Yv;if(!f){f=new c.Dd;var b=d.Lg()-this.$H;d=d.ih()-this.bI,f.gg(b,d),g.Oc(f)}return g},u.prototype.La=function(){return 0},u.prototype.qe=function(){},u}(),r=function(){function u(d,f){this.Wa=d,this.ya=0,this.oq=f}return u.prototype.next=function(){var d=this.Wa.X;if(this.ya<d.da()){var f=this.ya;if(this.ya++,!d.Nn(f))for(var g=d.Na(d.Vc(f)-1);this.ya<d.da();){var b=d.Na(d.Ba(this.ya));if(d.Nn(this.ya)||b!=g)break;g=d.Na(d.Vc(this.ya)-1),this.ya++}if(this.ya-f==1)return this.Wa.kE(this.Wa.X,f,this.oq);for((g=new c.Ta(this.Wa.X.description)).addPath(this.Wa.X,f,!0),f+=1;f<this.ya;f++)g.Dr(this.Wa.X,f,0,d.rv(f),!1);return this.Wa.kE(g,0,this.oq)}return null},u.prototype.La=function(){return 0},u.prototype.qe=function(){},u}(),n=function(){function u(d){this.Wa=d,this.ya=0}return u.prototype.next=function(){var d=this.Wa.X;if(this.ya<d.da()){var f=this.ya;for(d.Ir(this.ya),this.ya++;this.ya<d.da()&&!(0<d.Ir(this.ya));)this.ya++;return f==0&&this.ya==d.da()?this.Wa.py(d,0,d.da()):this.Wa.py(d,f,this.ya)}return null},u.prototype.La=function(){return 0},u.prototype.qe=function(){},u}(),a=function(){function u(d){this.Ks=this.lw=this.Ls=this.Id=null,this.Zd=[],this.Ub=d,this.rb=this.Kv=this.JT=this.Ka=this.tA=this.ct=this.qa=0,this.oA=this.vk=-1,this.oq=!0}return u.buffer=function(d,f,g,b,_,S){if(d==null||0>b)throw c.i.N();if(d.B())return new c.Da(d.description);var T=new c.l;return d.xc(T),0<f&&T.W(f,f),(S=new u(S)).Mj=g,S.X=d,S.qa=c.ta.Wd(g,T,!0),S.ct=c.ta.Wd(null,T,!0),S.Ka=f,S.JT=d.getType(),0>=_&&(_=96),S.rb=Math.abs(S.Ka),S.Kv=S.rb!=0?1/S.rb:0,isNaN(b)||b==0?b=1e-5*S.rb:b>.5*S.rb&&(b=.5*S.rb),12>_&&(_=12),(d=Math.abs(f)*(1-Math.cos(Math.PI/_)))>b?b=d:(d=Math.PI/Math.acos(1-b/Math.abs(f)))<_-1&&12>(_=c.O.truncate(d))&&(_=12,b=Math.abs(f)*(1-Math.cos(Math.PI/_))),S.vk=b,S.Dq=_,S.tA=Math.min(S.ct,.25*b),S.lE()},u.prototype.cv=function(){if(this.Id==null)this.Id=[];else if(this.Id.length!==0)return;var d=this.qE();d=c.O.truncate((d+3)/4);var f=.5*Math.PI/d;this.oA=f;for(var g=0;g<4*d;g++)this.Id.push(null);var b=Math.cos(f);f=Math.sin(f);var _=c.h.construct(0,1);for(g=0;g<d;g++)this.Id[g+0*d]=c.h.construct(_.y,-_.x),this.Id[g+1*d]=c.h.construct(-_.x,-_.y),this.Id[g+2*d]=c.h.construct(-_.y,_.x),this.Id[g+3*d]=_,(_=c.h.construct(_.x,_.y)).Bt(b,f)},u.prototype.lE=function(){var d=this.X.getType();if(c.aa.yd(d))return(d=new c.Ta(this.X.description)).oc(this.X,!0),this.X=d,this.lE();if(this.Ka<=this.qa){if(!c.aa.US(d))return new c.Da(this.X.description);if(0>=this.Ka&&(d=new c.l,this.X.A(d),d.R()<=2*-this.Ka||d.ca()<=2*this.Ka))return new c.Da(this.X.description)}switch(this.X.getType()){case 33:return this.PN();case 550:return this.ON();case 1607:return this.RN();case 1736:return this.QN();case 197:return this.LN();default:throw c.i.Qa()}},u.prototype.RN=function(){if(this.EG(this.X)){var d=new c.Sa;this.X.ve(0,d);var f=new c.l;return this.X.A(f),d.Cb(f.sf()),this.Gu(d)}return this.X=this.WV(this.X),d=new r(this,this.oq),c.Gh.local().V(d,this.Mj,this.Ub).next()},u.prototype.QN=function(){if(this.Ka==0)return this.X;var d=c.Yl.local();if(this.cv(),this.X=d.V(this.X,null,!1,this.Ub),0>this.Ka){var f=this.X;return f=this.py(f,0,f.da()),d.V(f,this.Mj,!1,this.Ub)}return this.EG(this.X)?(d=new c.Sa,this.X.ve(0,d),f=new c.l,this.X.A(f),d.Cb(f.sf()),this.Gu(d)):(d=new n(this),c.Gh.local().V(d,this.Mj,this.Ub).next())},u.prototype.py=function(d,f,g){for(var b=new c.Da(d.description);f<g;f++)if(!(1>d.Ja(f))){var _=d.Ir(f),S=new c.l;if(d.Rj(f,S),0<this.Ka){if(0<_)if(this.FG(d,f))_=new c.Sa,d.ve(d.Ba(f),_),_.Cb(S.sf()),this.yu(b,_);else{var T=_=new c.Ta(d.description);T=c.Zt.JG(this.X,f)||this.zn(this.X,f,T,!0,1)==2?this.jE(d,f):this.yn(_),b.add(T,!1)}else if(!(S.R()+this.qa<=2*this.rb||S.ca()+this.qa<=2*this.rb||(T=_=new c.Ta(d.description),this.zn(this.X,f,T,!0,1),_.B()))){var k=new c.l;for(k.K(S),k.W(this.rb,this.rb),T.tp(k),S=1,_=(T=this.yn(_)).da();S<_;S++)b.addPath(T,S,!0)}}else if(0<_){if(!(S.R()+this.qa<=2*this.rb||S.ca()+this.qa<=2*this.rb||(T=_=new c.Ta(d.description),this.zn(this.X,f,T,!0,-1),_.B())))for(k=new c.l,T.xc(k),k.W(this.rb,this.rb),T.tp(k),S=1,_=(T=this.yn(_)).da();S<_;S++)b.addPath(T,S,!0)}else for(T=_=new c.Ta(d.description),this.zn(this.X,f,T,!0,-1),S=0,_=(T=this.yn(_)).da();S<_;S++)b.addPath(T,S,!0)}if(0<this.Ka)return 1<b.da()?b=this.yn(b):u.kx(b);if(d=new c.l,b.xc(d),b.B())return u.kx(b);for(d.W(this.rb,this.rb),b.tp(d),b=this.yn(b),d=new c.Da(b.description),S=1,_=b.da();S<_;S++)d.addPath(b,S,!1);return u.kx(d)},u.prototype.PN=function(){return this.Gu(this.X)},u.prototype.Gu=function(d){var f=new c.Da(this.X.description);return this.yu(f,d),this.sX(f)},u.prototype.ON=function(){var d=new s(this.X,this.Ka,this.Mj,this.vk,this.Dq,this.Ub);return c.Gh.local().V(d,this.Mj,this.Ub).next()},u.prototype.LN=function(){var d=new c.Da(this.X.description);if(0>=this.Ka){if(this.Ka==0)d.ad(this.X,!1);else{var f=new c.Fh;this.X.bn(f),f.W(this.Ka,this.Ka),d.ad(f,!1)}return d}return d.ad(this.X,!1),this.X=d,this.jE(d,0)},u.prototype.jE=function(d,f){this.cv();var g=new c.Da(d.description),b=new c.h,_=new c.h,S=new c.h,T=new c.h,k=new c.h,O=new c.h,N=new c.h,D=new c.h,z=d.Ja(f),L=d.Ba(f),F=0;for(f=d.Ja(f);F<f;F++){if(d.D(L+F,_),d.D(L+(F+1)%z,T),d.D(L+(F+2)%z,O),N.uc(T,_),N.length()==0||(N.Hv(),N.normalize(),N.scale(this.rb),b.add(N,_),S.add(N,T),F==0?g.Lt(b):g.Ci(b),g.Ci(S),D.uc(O,T),D.length()==0))throw c.i.Qa();D.Hv(),D.normalize(),D.scale(this.rb),k.add(D,T),this.GD(g,T,S,k,!1)}return u.kx(g)},u.prototype.kE=function(d,f,g){if(this.cv(),1>d.Ja(f))return null;if(this.FG(d,f)&&0<this.Ka){g=new c.Sa,d.ve(d.Ba(f),g);var b=new c.l;return d.Rj(f,b),g.Cb(b.sf()),this.Gu(g)}if(b=new c.Ta(d.description),d.Nn(f))this.zn(d,f,b,g,1),this.zn(d,f,b,g,-1);else{var _=new c.Ta(d.description);_.addPath(d,f,!1),_.Dr(d,f,0,d.rv(f),!1),this.zn(_,0,b,g,1)}return this.yn(b)},u.prototype.Xq=function(){if(this.Ys++,this.Ys%1024==0&&this.Ub!=null&&!this.Ub.progress(-1,-1))throw c.i.fu("user_canceled")},u.prototype.yn=function(d){return c.Fg.Mk(d,this.ct,!0,!0,this.Ub)},u.prototype.qE=function(){if(this.vk==0)return this.Dq;var d=1-this.vk*Math.abs(this.Kv);return 4>(d=-1>d?4:2*Math.PI/Math.acos(d)+.5)?d=4:d>this.Dq&&(d=this.Dq),c.O.truncate(d)},u.prototype.GD=function(d,f,g,b,_){this.cv();var S=new c.h;S.uc(g,f),S.scale(this.Kv);var T=new c.h;T.uc(b,f),T.scale(this.Kv),0>(S=Math.atan2(S.y,S.x)/this.oA)&&(S=this.Id.length+S),S=this.Id.length-S,0>(T=Math.atan2(T.y,T.x)/this.oA)&&(T=this.Id.length+T),(T=this.Id.length-T)<S&&(T+=this.Id.length);var k=c.O.truncate(T);T=c.O.truncate(Math.ceil(S)),(S=new c.h).L(this.Id[T%this.Id.length]),S.Ct(this.rb,f);var O=10*this.qa;for(S.sub(g),S.length()<O&&(T+=1),S.L(this.Id[k%this.Id.length]),S.Ct(this.rb,f),S.sub(b),S.length()<O&&--k,g=k-T,g++,k=0,T%=this.Id.length;k<g;k++,T=(T+1)%this.Id.length)S.L(this.Id[T]),S.Ct(this.rb,f),d.Ci(S),this.Xq();_&&d.Ci(b)},u.prototype.zn=function(d,f,g,b,_){var S=new c.gd,T=S.mN(d,f);if(S.Gp(this.tA,!1,!1),2>S.I(T))return 0>_||(_=d,S=new c.Sa,_.ve(_.Ba(f),S),this.yu(g,S)),1;var k=S.Na(S.Xa(S.Ob(T))),O=new c.Dd;if(O.gg(-k.x,-k.y),S.Oc(O),b&&(this.tQ(S,T,_),2>S.I(T)))return 0>_||(_=d,S=new c.Sa,_.ve(_.Ba(f),S),this.yu(g,S)),1;this.Zd.length=0;var N=S.Ob(T);f=S.Xa(N);var D=_==1?S.Ma(f):S.U(f);d=_==1?S.U(f):S.Ma(f);var z=!0;b=new c.h,T=new c.h;var L=new c.h,F=new c.h,V=new c.h,q=new c.h,W=new c.h,K=new c.h,tt=new c.h,st=new c.h,it=this.rb;N=S.Ja(N);for(var mt=0;mt<N;mt++)S.D(d,T),z&&(S.D(f,b),S.D(D,L),K.uc(b,L),K.normalize(),st.MG(K),st.scale(it),F.add(st,b)),W.uc(T,b),W.normalize(),tt.MG(W),tt.scale(it),V.add(b,tt),D=K.wi(W),z=K.Qh(W),0>D||0>z&&D==0?this.Zd.push(l.Qu(F,V,b,2,this.Zd.length+1,this.Zd.length-1)):F.qb(V)||(this.Zd.push(l.construct(F,b,this.Zd.length+1,this.Zd.length-1,"dummy")),this.Zd.push(l.construct(b,V,this.Zd.length+1,this.Zd.length-1,"dummy"))),q.add(T,tt),this.Zd.push(l.Qu(V,q,b,1,this.Zd.length+1,this.Zd.length-1)),F.L(q),st.L(tt),L.L(b),b.L(T),K.L(W),D=f,f=d,z=!1,d=_==1?S.U(f):S.Ma(f);return this.Zd[this.Zd.length-1].qh=0,this.Zd[0].sh=this.Zd.length-1,this.YV(g),O.gg(k.x,k.y),g.YD(O,g.da()-1),1},u.prototype.YV=function(d){for(var f=this.zO(),g=!0,b=f+1,_=f;b!=f;_=b){var S=this.Zd[_];b=S.qh!=-1?S.qh:(_+1)%this.Zd.length,S.Co!=0&&(g&&d.Lt(S.Im),S.Co==2?this.GD(d,S.aw,S.Im,S.Vm,!0):d.Ci(S.Vm),g=!1)}},u.prototype.zO=function(){this.Ks==null&&(this.Ks=[null,null,null,null,null,null,null,null,null]);for(var d=0,f=0,g=this.Zd.length;f<g;){var b=this.Zd[f];if(3&b.Co){d=f;break}f=b.qh}for(g=d+1,f=d;g!=d;f=g){g=(b=this.Zd[f]).qh;for(var _=1,S=null;g!=f&&!(3&(S=this.Zd[g]).Co);)g=S.qh,_++;_!=1&&(b.Co&S.Co)==1&&(this.Ls==null&&(this.Ls=new c.yb,this.lw=new c.yb),this.Ls.Dc(b.Im),this.Ls.Qc(b.Vm),this.lw.Dc(S.Im),this.lw.Qc(S.Vm),this.Ls.Ea(this.lw,this.Ks,null,null,this.ct)==1&&(b.Vm.L(this.Ks[0]),S.Im.L(this.Ks[0]),b.qh=g,S.sh=f))}return d},u.prototype.Fv=function(d,f,g){var b=new c.h;if(b.uc(g,d),g=b.length(),0<(g=this.rb*this.rb-g*g*.25)){g=Math.sqrt(g),b.normalize(),b.ar();var _=new c.h;if(_.uc(f,d),_.Qh(b)+g>=this.rb)return!0}return!1},u.prototype.tQ=function(d,f,g){for(var b=0;1>b;b++){var _=!1,S=d.Ob(f),T=d.Ja(S);if(T==0)break;var k=T;if(3>T)break;!d.dc(S)&&(k=T-1),S=d.Xa(S),T=0<g?d.Ma(S):d.U(S);for(var O=0<g?d.U(S):d.Ma(S),N=T,D=!0,z=new c.h,L=new c.h,F=new c.h,V=new c.h,q=new c.h,W=c.h.construct(0,0),K=new c.h,tt=new c.h,st=new c.h,it=new c.h,mt=this.rb,ct=0,Et=0;Et<k&&(d.D(O,L),D&&(d.D(S,z),d.D(T,F),N=T),tt.uc(z,F),tt.normalize(),K.uc(L,z),K.normalize(),N!=O);){var xt=tt.wi(K),qt=tt.Qh(K),pe=!0;if(0>xt||0>qt&&xt==0||!this.Fv(F,z,L)||(W.L(L),pe=!1,++ct,_=!0),pe){if(0<ct)for(;(xt=0<g?d.Ma(N):d.U(N))!=S;){if(d.D(xt,V),!this.Fv(V,F,W)){xt!=O&&this.Fv(V,F,L)&&this.Fv(V,z,L)&&(F.L(V),N=xt,pe=!1,++ct);break}F.L(V),N=xt,pe=!1,++ct}if(!pe)continue;if(0<ct){for(N=0<g?d.Ma(T):d.U(T),D=1;D<ct;D++)pe=0<g?d.Ma(N):d.U(N),d.pd(N,!0),N=pe;st.uc(z,F),ct=mt*mt-(ct=st.length())*ct*.25,mt-(ct=Math.sqrt(ct))>.5*this.vk?(q.add(F,z),q.scale(.5),st.normalize(),st.ar(),it.L(st),it.scale(mt-ct),q.add(it),d.mf(T,q)):d.pd(T,!0),ct=0}F.L(z),N=S}z.L(L),T=S,S=O,O=0<g?d.U(S):d.Ma(S),Et++,D=!1}if(0<ct){for(N=0<g?d.Ma(T):d.U(T),D=1;D<ct;D++)pe=0<g?d.Ma(N):d.U(N),d.pd(N,!0),N=pe;q.add(F,z),q.scale(.5),st.uc(z,F),ct=mt*mt-(ct=st.length())*ct*.25,ct=Math.sqrt(ct),st.normalize(),st.ar(),it.L(st),it.scale(mt-ct),q.add(it),d.mf(T,q)}if(d.Gp(this.tA,!1,!1),!_)break}},u.prototype.FG=function(d,f){if(d.Ja(f)==1)return!0;var g=new c.l;return d.Rj(f,g),Math.max(g.R(),g.ca())<.5*this.vk},u.prototype.EG=function(d){var f=new c.l;return d.A(f),Math.max(f.R(),f.ca())<.5*this.vk},u.prototype.WV=function(d){for(var f=0,g=0,b=(d=c.EC.local().V(d,.25*this.vk,!1,this.Ub)).da();g<b;g++)f=Math.max(d.Ja(g),f);return 32>f?(this.oq=!1,d):(this.oq=!0,c.Fg.Mk(d,this.ct,!1,!0,this.Ub))},u.prototype.yu=function(d,f){if(f=f.D(),this.Id!=null&&this.Id.length!==0){var g=new c.h;g.L(this.Id[0]),g.Ct(this.rb,f),d.Lt(g);for(var b=1,_=this.Id.length;b<_;b++)g.L(this.Id[b]),g.Ct(this.rb,f),d.Ci(g)}else{b=this.qE(),g=c.O.truncate((b+3)/4),b=.5*Math.PI/g,_=Math.cos(b);for(var S=Math.sin(b),T=new c.h,k=3;0<=k;k--){switch(T.ma(0,this.rb),k){case 0:for(b=0;b<g;b++)d.yj(T.x+f.x,T.y+f.y),T.Bt(_,S);break;case 1:for(b=0;b<g;b++)d.yj(-T.y+f.x,T.x+f.y),T.Bt(_,S);break;case 2:for(b=0;b<g;b++)d.yj(-T.x+f.x,-T.y+f.y),T.Bt(_,S);break;default:for(d.sx(T.y+f.x,-T.x+f.y),b=1;b<g;b++)T.Bt(_,S),d.yj(T.y+f.x,-T.x+f.y)}this.Xq()}}},u.kx=function(d){return d.Ch(1,0),d},u.prototype.sX=function(d){return d.Ch(2,this.qa),d.fm(),d},u}();c.HK=a}(U||(U={})),function(c){var I=function(){function y(l){this.Ca=l,this.g=new c.gd,this.dd=new c.ia(0)}return y.prototype.Lh=function(l,s,r){switch(s){case 0:if(l.v<r&&l.C<=r)break;return l.v>=r?1:-1;case 1:if(l.G<r&&l.H<=r)break;return l.G>=r?1:-1;case 2:if(l.v>=r&&l.C>r)break;return l.C<=r?1:-1;case 3:if(!(l.G>=r&&l.H>r))return l.H<=r?1:-1}return 0},y.prototype.Ay=function(l,s){return l.getType()==1736?this.Cy(l,s):this.Dy(l)},y.prototype.Cy=function(l,s){if(this.Ca.R()==0||this.Ca.ca()==0)return l.Ia();var r=new c.l;l.xc(r),this.X=this.g.Ib(l);var n=new c.l,a=new c.l,u=new c.h,d=new c.h,f=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0];new c.ig;var b=new c.yb,_=new c.ia(0);_.Jb(Math.min(100,l.I()));for(var S=!1,T=0;!S&&4>T;T++){var k=!1,O=!!(1&T),N=0;switch(T){case 0:N=this.Ca.v,k=r.v<=N&&r.C>=N;break;case 1:N=this.Ca.G,k=r.G<=N&&r.H>=N;break;case 2:N=this.Ca.C,k=r.v<=N&&r.C>=N;break;case 3:N=this.Ca.H,k=r.G<=N&&r.H>=N}if(k)for(S=!0,k=this.g.Ob(this.X);k!=-1;){var D=-1,z=-1,L=this.g.Xa(k),F=L;do{var V=this.g.bc(F);V==null&&(V=b,this.g.D(F,u),V.Dc(u),this.g.D(this.g.U(F),d),V.Qc(d)),V.A(n);var q=this.Lh(n,T,N),W=0,K=-1;if(q==-1){W=0<(V=V.cq(O,N,f,g))?this.g.Ul(F,g,V):0,W+=1;var tt=F,st=this.g.U(tt);for(V=0;V<W;V++){if(this.g.D(tt,u),this.g.D(st,d),(K=this.g.bc(tt))==null&&((K=b).Dc(u),K.Qc(d)),K.A(a),(K=this.Lh(a,T,N))==-1){if(O)(K=Math.abs(u.y-N))<(it=Math.abs(d.y-N))?(u.y=N,this.g.mf(tt,u)):(d.y=N,this.g.mf(st,d));else{K=Math.abs(u.x-N);var it=Math.abs(d.x-N);K<it?(u.x=N,this.g.mf(tt,u)):(d.x=N,this.g.mf(st,d))}(K=this.g.bc(tt))==null&&((K=b).Dc(u),K.Qc(d)),K.A(a),K=this.Lh(a,T,N)}it=D,D=K,z==-1&&(z=D),it==0&&D==1||it==1&&D==0||it!=0||D!=0||_.add(tt),D==1&&(S=!1),K=tt=st,st=this.g.U(st)}}W==0&&(it=D,D=q,z==-1&&(z=D),it==0&&D==1||it==1&&D==0||it!=0||D!=0||_.add(F),D==1&&(S=!1),K=this.g.U(F)),F=K}while(F!=L);for(z==0&&D==0&&_.add(L),V=0,D=_.size;V<D;V++)z=_.get(V),this.g.pd(z,!1);_.clear(!1),k=3>this.g.Ja(k)?this.g.Zq(k):this.g.Rb(k)}}return S?l.Ia():(this.FB(),0<s&&this.My(s),this.g.Ne(this.X))},y.prototype.Dy=function(l){var s=new c.l,r=new c.l,n=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0],u=new c.ig,d=l,f=new c.l;l.xc(f);for(var g=0;4>g;g++){var b=!1,_=!!(1&g),S=0;switch(g){case 0:S=this.Ca.v,b=f.v<=S&&f.C>=S;break;case 1:S=this.Ca.G,b=f.G<=S&&f.H>=S;break;case 2:S=this.Ca.C,b=f.v<=S&&f.C>=S;break;case 3:S=this.Ca.H,b=f.G<=S&&f.H>=S}if(b){b=d,d=l.Ia(),(b=b.Ga()).Zi();for(var T,k=new c.h;b.$a();)for(var O,N=!0;b.Ha();){var D=b.ha();D.A(s);var z=this.Lh(s,g,S);if(z==-1){if(0<(z=D.cq(_,S,n,a))){var L=0;T=D.ac();for(var F=0;F<=z;F++)if(L!=(O=F<z?a[F]:1)){D.ah(L,O,u);var V=u.get();V.Dc(T),F<z&&(_?(k.x=n[F],k.y=S):(k.x=S,k.y=n[F]),V.Qc(k)),V.A(r);var q=this.Lh(r,g,S);if(q==-1){if(T=V.ac(),L=V.wc(),_)(q=Math.abs(T.y-S))<(W=Math.abs(L.y-S))?(T.y=S,V.Dc(T)):(L.y=S,V.Qc(L));else{q=Math.abs(T.x-S);var W=Math.abs(L.x-S);q<W?(T.x=S,V.Dc(T)):(L.x=S,V.Qc(L))}V.A(r),q=this.Lh(r,g,S)}T=V.wc(),L=O,(O=q)==1?(d.oc(V,N),N=!1):N=!0}}}else(O=z)==1?(d.oc(D,N),N=!1):N=!0}}}return d},y.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var l=new c.h,s=this.g.Ob(this.X);s!=-1;s=this.g.Rb(s))for(var r=this.g.Xa(s),n=0,a=this.g.Ja(s);n<a;n++,r=this.g.U(r))this.g.D(r,l),(this.Ca.v==l.x||this.Ca.C==l.x||this.Ca.G==l.y||this.Ca.H==l.y)&&(this.g.Ra(r,this.ji,this.dd.size),this.dd.add(r));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},y.prototype.My=function(l){for(var s=new c.h,r=new c.h,n=c.O.lg(2048,0),a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a)){var u=this.g.Xa(a),d=u;do{var f=this.g.U(d);this.g.D(d,s);var g=-1;if(s.x==this.Ca.v?(this.g.D(f,r),r.x==this.Ca.v&&(g=1)):s.x==this.Ca.C&&(this.g.D(f,r),r.x==this.Ca.C&&(g=1)),s.y==this.Ca.G?(this.g.D(f,r),r.y==this.Ca.G&&(g=0)):s.y==this.Ca.H&&(this.g.D(f,r),r.y==this.Ca.H&&(g=0)),g!=-1&&(g=c.h.tb(s,r),!(1>=(g=c.O.truncate(Math.min(Math.ceil(g/l),2048)))))){for(var b=1;b<g;b++)n[b-1]=1*b/g;this.g.Ul(d,n,g-1)}d=f}while(d!=u)}},y.prototype.Vl=function(l,s){var r=this.g.Gd(),n=new c.h,a=new c.ia(0);a.Jb(100);for(var u=this.g.Ob(this.X);u!=-1;u=this.g.Rb(u))for(var d=this.g.Xa(u),f=0,g=this.g.Ja(u);f<g;f++){var b=this.g.U(d);this.g.D(d,n),(l?n.y==s:n.x==s)&&(this.g.D(b,n),(l?n.y==s:n.x==s)&&(this.g.Pa(d,r)!=1&&(a.add(d),this.g.Ra(d,r,1)),this.g.Pa(b,r)!=1&&(a.add(b),this.g.Ra(b,r,1)))),d=b}if(this.g.Td(r),!(3>a.size)){var _=this;a.Vd(0,a.size,function(q,W){return _.Mh(q,W)}),r=new c.h,u=new c.h,d=new c.h,u.Rc();var S=-1;f=new c.ia(0),g=new c.ia(0),b=this.g.Gd();for(var T=this.g.Gd(),k=0,O=a.size;k<O;k++){var N=a.get(k);if(this.g.D(N,n),!n.qb(u)){if(S!=-1){for(var D=S;D<k;D++){S=a.get(D);var z=this.g.U(S);N=this.g.Ma(S);var L=!1;0>this.Mh(S,z)&&(this.g.D(z,r),l?r.y==s:r.x==s)&&(f.add(S),L=!0,this.g.Ra(S,T,1)),0>this.Mh(S,N)&&(this.g.D(N,r),l?r.y==s:r.x==s)&&(L||f.add(S),this.g.Ra(S,b,1))}for(D=0,L=f.size;D<L;D++){if(S=f.get(D),N=this.g.Pa(S,b),z=this.g.Pa(S,T),N==1){N=this.g.Ma(S),this.g.D(N,d);var F=[0];if(F[0]=0,!d.qb(n)){var V=c.h.tb(u,d);F[0]=c.h.tb(d,n)/V,F[0]==0?F[0]=2220446049250313e-31:F[0]==1&&(F[0]=.9999999999999998),this.g.Ul(N,F,1),N=this.g.Ma(S),this.g.mf(N,n),g.add(N),this.g.Ra(N,b,1),this.g.Ra(N,T,-1)}}z==1&&(z=this.g.U(S),this.g.D(z,d),(F=[0])[0]=0,d.qb(n)||(V=c.h.tb(u,d),F[0]=c.h.tb(u,n)/V,F[0]==0?F[0]=2220446049250313e-31:F[0]==1&&(F[0]=.9999999999999998),this.g.Ul(S,F,1),N=this.g.U(S),this.g.mf(N,n),g.add(N),this.g.Ra(N,b,-1),this.g.Ra(N,T,1)))}S=f,f=g,(g=S).clear(!1)}S=k,u.L(n)}}this.g.Td(b),this.g.Td(T)}},y.prototype.Nl=function(l,s){var r=new c.h,n=new c.ia(0);n.Jb(100);for(var a=this.g.Gd(),u=0,d=this.dd.size;u<d;u++){var f=this.dd.get(u);if(f!=-1){var g=this.g.U(f);this.g.D(f,r),(l?r.y==s:r.x==s)&&(this.g.D(g,r),(l?r.y==s:r.x==s)&&(this.g.Pa(f,a)!=-2&&(n.add(f),this.g.Ra(f,a,-2)),this.g.Pa(g,a)!=-2&&(n.add(g),this.g.Ra(g,a,-2))))}}if(n.size!=0){var b=this;for(n.Vd(0,n.size,function(W,K){return b.Mh(W,K)}),u=0,d=n.size;u<d;u++){var _=n.get(u);this.g.Ra(_,a,u)}f=new c.h,(g=new c.h).Rc();var S=-1;for(u=0,d=n.size;u<d;u++)if((_=n.get(u))!=-1&&(this.g.D(_,r),!r.qb(g))){if(S!=-1)for(;;){_=!1;for(var T=1<u-S?u-1:u,k=S;k<T;k++){var O=n.get(k);if(O!=-1){var N=-1,D=this.g.U(O);0>this.Mh(O,D)&&(this.g.D(D,f),l?f.y==s:f.x==s)&&(N=D),D=-1;var z=this.g.Ma(O);if(0>this.Mh(O,z)&&(this.g.D(z,f),l?f.y==s:f.x==s)&&(D=z),N!=-1&&D!=-1)this.Kh(O,n,a),this.g.pd(O,!1),this.Kh(N,n,a),this.g.pd(N,!1),_=!0;else if(N!=-1||D!=-1){for(z=k+1;z<u;z++){var L=n.get(z);if(L!=-1){var F=this.g.U(L),V=-1;0>this.Mh(L,F)&&(this.g.D(F,f),l?f.y==s:f.x==s)&&(V=F),F=this.g.Ma(L);var q=-1;if(0>this.Mh(L,F)&&(this.g.D(F,f),l?f.y==s:f.x==s)&&(q=F),V!=-1&&q!=-1){this.Kh(L,n,a),this.g.pd(L,!1),this.Kh(V,n,a),this.g.pd(V,!1),_=!0;break}if(N!=-1&&q!=-1){this.zt(n,O,N,L,q,a),_=!0;break}if(D!=-1&&V!=-1){this.zt(n,L,V,O,D,a),_=!0;break}}}if(_)break}}}if(!_)break}S=u,g.L(r)}}this.g.Td(a)},y.prototype.Kh=function(l,s,r){r=this.g.Pa(l,r),s.set(r,-1),r=this.g.Pa(l,this.ji),this.dd.set(r,-1),(s=this.g.bd(l))!=-1&&this.g.Xa(s)==l&&(this.g.Jf(s,-1),this.g.Wg(s,-1))},y.prototype.zt=function(l,s,r,n,a,u){this.g.Bc(s,n),this.g.Cc(n,s),this.g.Cc(r,a),this.g.Bc(a,r),this.Kh(n,l,u),this.g.mi(n,!1),this.Kh(a,l,u),this.g.mi(a,!0)},y.prototype.Ty=function(){for(var l=0,s=this.dd.size;l<s;l++){var r=this.dd.get(l);r!=-1&&this.g.aj(r,-1)}for(var n=0,a=0,u=this.g.Ob(this.X);u!=-1;){var d=this.g.Xa(u);if(d==-1||u!=this.g.bd(d)){var f=u;u=this.g.Rb(u),this.g.Jf(f,-1),this.g.$q(f)}else{r=d,f=0;do this.g.aj(r,u),f++,r=this.g.U(r);while(r!=d);2>=f?(r=this.g.Pa(d,this.ji),this.dd.set(r,-1),d=this.g.pd(d,!1),f==2&&(r=this.g.Pa(d,this.ji),this.dd.set(r,-1),this.g.pd(d,!1)),f=u,u=this.g.Rb(u),this.g.Jf(f,-1),this.g.$q(f)):(this.g.cp(u,!1),this.g.Wg(u,this.g.Ma(d)),this.g.Vj(u,f),a+=f,n++,u=this.g.Rb(u))}}for(l=0,s=this.dd.size;l<s;l++)if((r=this.dd.get(l))!=-1&&(u=this.g.bd(r))==-1){u=this.g.vf(this.X,-1),f=0,d=r;do this.g.aj(r,u),f++,r=this.g.U(r);while(r!=d);2>=f?(r=this.g.Pa(d,this.ji),this.dd.set(r,-1),d=this.g.pd(d,!1),f==2&&(0<=(r=this.g.Pa(d,this.ji))&&this.dd.set(r,-1),this.g.pd(d,!1)),f=u,this.g.Jf(f,-1),this.g.$q(f)):(this.g.kn(u,!0),this.g.Vj(u,f),this.g.Jf(u,d),this.g.Wg(u,this.g.Ma(d)),this.g.cp(u,!1),a+=f,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,a),l=0,s=this.g.ld;s!=-1;s=this.g.ue(s))l+=this.g.I(s);this.g.bC(l)},y.By=function(l,s,r){return new y(s).Ay(l,r)},y.clip=function(l,s,r,n){if(l.B())return l;if(s.B())return l.Ia();if((r=l.getType())==33)return n=l.D(),s.contains(n)?l:l.Ia();if(r==197)return n=new c.l,l.A(n),n.Ea(s)?(s=new c.Fh,l.copyTo(s),s.Xo(n),s):l.Ia();var a=new c.l;if(l.xc(a),s.contains(a))return l;if(!s.isIntersecting(a))return l.Ia();if((a=l.Bb)!=null&&(a=a.Fk)!=null){if((a=a.Ro(s))==1){if(r!=1736)throw c.i.Qa();return(l=new c.Da(l.description)).tp(s),l}if(a==0)return l.Ia()}switch(r){case 550:r=null,a=l.I();for(var u=l.ub(0),d=0,f=0;f<a;f++)n=new c.h,u.tc(2*f,n),s.contains(n)||(d==0&&(r=l.Ia()),d<f&&r.Fd(l,d,f),d=f+1);return 0<d&&r.Fd(l,d,a),d==0?l:r;case 1736:case 1607:return y.By(l,s,n);default:throw c.i.Qa()}},y.prototype.Mh=function(l,s){var r=new c.h;return this.g.D(l,r),l=new c.h,this.g.D(s,l),r.compare(l)},y}();c.Ud=I}(U||(U={})),function(c){var I=function(){function y(l,s){this.Ca=l,this.g=new c.gd,this.dd=new c.ia(0),this.nd=s}return y.prototype.Lh=function(l,s,r){switch(s){case 0:if(l.v<r&&l.C<=r)break;return l.v>=r?1:-1;case 1:if(l.G<r&&l.H<=r)break;return l.G>=r?1:-1;case 2:if(l.v>=r&&l.C>r)break;return l.C<=r?1:-1;case 3:if(!(l.G>=r&&l.H>r))return l.H<=r?1:-1}return 0},y.prototype.Ay=function(l,s){return l.getType()==1736?this.Cy(l,s):this.Dy(l)},y.prototype.Cy=function(l,s){if(this.Ca.R()==0||this.Ca.ca()==0)return l.Ia();var r=new c.l;l.xc(r),this.X=this.g.Ib(l);var n=new c.l,a=new c.l,u=new c.h,d=new c.h,f=[0,0,0,0,0,0,0,0,0],g=[0,0,0,0,0,0,0,0,0],b=new c.yb,_=new c.ia(0);_.Jb(256);for(var S=!1,T=0;!S&&4>T;T++){var k=!1,O=!!(1&T),N=0;switch(T){case 0:N=this.Ca.v,k=r.v<=N&&r.C>=N;break;case 1:N=this.Ca.G,k=r.G<=N&&r.H>=N;break;case 2:N=this.Ca.C,k=r.v<=N&&r.C>=N;break;case 3:N=this.Ca.H,k=r.G<=N&&r.H>=N}if(k)for(S=!0,k=this.g.Ob(this.X);k!=-1;){var D=!0,z=-1,L=-1,F=this.g.Xa(k),V=F;do{var q=this.g.bc(V);q==null&&(q=b,this.g.D(V,u),q.Dc(u),this.g.D(this.g.U(V),d),q.Qc(d)),q.A(n);var W=this.Lh(n,T,N),K=0,tt=-1;if(W==-1){K=0<(q=q.cq(O,N,f,g))?this.g.LX(V,g,q):0,K+=1;var st=V,it=this.g.U(st);for(q=0;q<K;q++){if(this.g.D(st,u),this.g.D(it,d),(tt=this.g.bc(st))==null&&((tt=b).Dc(u),tt.Qc(d)),tt.A(a),(tt=this.Lh(a,T,N))==-1){if(O)(tt=Math.abs(u.y-N))<(mt=Math.abs(d.y-N))?(u.y=N,this.g.mf(st,u)):(d.y=N,this.g.mf(it,d));else{tt=Math.abs(u.x-N);var mt=Math.abs(d.x-N);tt<mt?(u.x=N,this.g.mf(st,u)):(d.x=N,this.g.mf(it,d))}(tt=this.g.bc(st))==null&&((tt=b).Dc(u),tt.Qc(d)),tt.A(a),tt=this.Lh(a,T,N)}mt=z,z=tt,L==-1&&(L=z),mt==0&&z==1||mt==1&&z==0||mt!=0||z!=0||_.add(st),z==1&&(D=S=!1),tt=st=it,it=this.g.U(it)}}if(K==0&&(mt=z,z=W,L==-1&&(L=z),mt==0&&z==1||mt==1&&z==0||mt!=0||z!=0||_.add(V),z==1&&(D=S=!1),tt=this.g.U(V)),V=tt,256<=_.size){for(q=1,W=_.size-1;q<W;q++)K=_.get(q),this.g.pd(K,!1);_.set(1,_.Fc()),_.Bh(2)}}while(V!=F);if(!D)for(L==0&&z==0&&_.add(F),q=0,W=_.size;q<W;q++)K=_.get(q),this.g.pd(K,!1);_.clear(!1),k=D||this.g.Ja(k)==0?this.g.Zq(k):this.g.Rb(k)}}return S?l.Ia():(this.FB(),0<s&&this.My(s),this.g.Ne(this.X))},y.prototype.Dy=function(l){var s=new c.l,r=new c.l,n=[0,0,0,0,0,0,0,0,0],a=[0,0,0,0,0,0,0,0,0],u=new c.ig,d=l,f=new c.l;l.xc(f);for(var g=new c.h,b=new c.h,_=null,S=null,T=0;4>T;T++){var k=!1,O=!!(1&T),N=0;switch(T){case 0:N=this.Ca.v,k=f.v<=N&&f.C>=N;break;case 1:N=this.Ca.G,k=f.G<=N&&f.H>=N;break;case 2:N=this.Ca.C,k=f.v<=N&&f.C>=N;break;case 3:N=this.Ca.H,k=f.G<=N&&f.H>=N}if(k)for(k=d,d=l.Ia(),(k=k.Ga()).Zi();k.$a();)for(var D,z=!0;k.Ha();){var L=k.ha();L.A(s);var F=this.Lh(s,T,N);if(F==-1){if(0<(F=L.cq(O,N,n,a))){var V=0;L.Yp(g);for(var q=0;q<=F;q++)if(V!=(D=q<F?a[q]:1)){L.ah(V,D,u);var W=u.get();W.Dc(g),q<F&&(O?(b.x=n[q],b.y=N):(b.x=N,b.y=n[q]),W.Qc(b)),W.A(r);var K=this.Lh(r,T,N);K==-1&&(_==null&&(_=new c.h),S==null&&(S=new c.h),W.Yp(_),W.Tr(S),O?(V=Math.abs(_.y-N))<(K=Math.abs(S.y-N))?(_.y=N,W.Dc(_)):(S.y=N,W.Qc(S)):(V=Math.abs(_.x-N))<(K=Math.abs(S.x-N))?(_.x=N,W.Dc(_)):(S.x=N,W.Qc(S)),W.A(r),K=this.Lh(r,T,N)),W.Tr(g),V=D,(D=K)==1?(d.oc(W,z),z=!1):z=!0}}}else(D=F)==1?(d.oc(L,z),z=!1):z=!0}}return d},y.prototype.FB=function(){this.ji=-1,this.Vl(!1,this.Ca.v),this.Vl(!1,this.Ca.C),this.Vl(!0,this.Ca.G),this.Vl(!0,this.Ca.H),this.dd.resize(0),this.dd.Jb(100),this.ji=this.g.Gd();for(var l=new c.h,s=this.g.Ob(this.X);s!=-1;s=this.g.Rb(s))for(var r=this.g.Xa(s),n=0,a=this.g.Ja(s);n<a;n++,r=this.g.U(r))this.g.D(r,l),(this.Ca.v==l.x||this.Ca.C==l.x||this.Ca.G==l.y||this.Ca.H==l.y)&&(this.g.Ra(r,this.ji,this.dd.size),this.dd.add(r));this.Nl(!1,this.Ca.v),this.Nl(!1,this.Ca.C),this.Nl(!0,this.Ca.G),this.Nl(!0,this.Ca.H),this.Ty()},y.prototype.My=function(l){for(var s=new c.h,r=new c.h,n=null,a=null,u=c.O.lg(2048,0),d=this.g.Ob(this.X);d!=-1;d=this.g.Rb(d)){var f=this.g.Xa(d),g=f;do{var b=this.g.U(g);this.g.D(g,s);var _=-1;if(s.x==this.Ca.v?(this.g.D(b,r),r.x==this.Ca.v&&(_=1)):s.x==this.Ca.C&&(this.g.D(b,r),r.x==this.Ca.C&&(_=1)),s.y==this.Ca.G?(this.g.D(b,r),r.y==this.Ca.G&&(_=0)):s.y==this.Ca.H&&(this.g.D(b,r),r.y==this.Ca.H&&(_=0)),_!=-1){if(n==null&&(n=new c.h),a==null&&(a=new c.h),n.L(s),a.ma(0,0),_==0){var S=s.x-this.Ca.v;a.x=c.lc.sign(r.x-s.x),n.x=l*c.lc.Cn(Math.floor(Math.abs(S/l)),S)+this.Ca.v,0>n.x&&(n.x+=l)}else S=s.y-this.Ca.G,a.y=c.lc.sign(r.y-s.y),n.y=l*c.lc.Cn(Math.floor(Math.abs(S/l)),S)+this.Ca.G,0>n.y&&(n.y+=l);S=_!=0?r.y-s.y:r.x-s.x;var T=Math.abs(S);if(65536<T/l)throw c.i.fa("internal error");if(0<T){T=c.O.truncate(T/l)+2,u.length<T&&(u=c.O.lg(T));for(var k=T=0;;k++){var O=new c.h;if(O.x=n.x+a.x*k*l,O.y=n.y+a.y*k*l,1<=(O=(_!=0?O.y-s.y:O.x-s.x)/S))break;0>=O||(u[T]=O,T++)}T!=0&&this.g.Ul(g,u,T)}}g=b}while(g!=f)}},y.prototype.Vl=function(l,s){for(var r=-1,n=new c.h,a=null,u=this.g.Ob(this.X);u!=-1;u=this.g.Rb(u))for(var d=this.g.Xa(u),f=0,g=this.g.Ja(u);f<g;f++){var b=this.g.U(d);this.g.D(d,n),(l?n.y==s:n.x==s)&&(this.g.D(b,n),(l?n.y==s:n.x==s)&&(r==-1&&(r=this.g.Gd()),a==null&&(a=new c.ia(0)).Jb(100),this.g.Pa(d,r)!=1&&(a.add(d),this.g.Ra(d,r,1)),this.g.Pa(b,r)!=1&&(a.add(b),this.g.Ra(b,r,1)))),d=b}if(r!=-1&&this.g.Td(r),!(a==null||3>a.size)){var _=this;a.Vd(0,a.size,function(q,W){return _.Mh(q,W)}),r=new c.h,u=new c.h,d=new c.h,u.Rc();var S=-1;f=new c.ia(0),g=new c.ia(0),b=null;for(var T=this.g.Gd(),k=this.g.Gd(),O=0,N=a.size;O<N;O++){var D=a.get(O);if(this.g.D(D,n),!n.qb(u)){if(S!=-1){for(var z=S;z<O;z++){S=a.get(z);var L=this.g.U(S);D=this.g.Ma(S);var F=!1;this.g.D(L,r),0>u.compare(r)&&(l?r.y==s:r.x==s)&&(f.add(S),F=!0,this.g.Ra(S,k,1)),this.g.D(D,r),0>u.compare(r)&&(l?r.y==s:r.x==s)&&(F||f.add(S),this.g.Ra(S,T,1))}for(z=0,F=f.size;z<F;z++){if(S=f.get(z),D=this.g.Pa(S,T),L=this.g.Pa(S,k),D==1&&(D=this.g.Ma(S),this.g.D(D,d),!d.qb(n))){b==null&&(b=[]);var V=c.h.tb(u,d);b[0]=c.h.tb(d,n)/V,b[0]==0?b[0]=2220446049250313e-31:b[0]==1&&(b[0]=.9999999999999998),this.g.Ul(D,b,1),D=this.g.Ma(S),this.g.mf(D,n),g.add(D),this.g.Ra(D,T,1),this.g.Ra(D,k,-1)}L==1&&(L=this.g.U(S),this.g.D(L,d),d.qb(n)||(b==null&&(b=[]),V=c.h.tb(u,d),b[0]=c.h.tb(u,n)/V,b[0]==0?b[0]=2220446049250313e-31:b[0]==1&&(b[0]=.9999999999999998),this.g.Ul(S,b,1),D=this.g.U(S),this.g.mf(D,n),g.add(D),this.g.Ra(D,T,-1),this.g.Ra(D,k,1)))}S=f,f=g,(g=S).clear(!1)}S=O,u.L(n)}}this.g.Td(T),this.g.Td(k)}},y.prototype.Nl=function(l,s){for(var r=new c.h,n=null,a=-1,u=0,d=this.dd.size;u<d;u++){var f=this.dd.get(u);if(f!=-1){var g=this.g.U(f);this.g.D(f,r),(l?r.y==s:r.x==s)&&(this.g.D(g,r),(l?r.y==s:r.x==s)&&(a==-1&&(a=this.g.Gd()),n==null&&(n=new c.ia(0)).Jb(100),this.g.Pa(f,a)!=-2&&(n.add(f),this.g.Ra(f,a,-2)),this.g.Pa(g,a)!=-2&&(n.add(g),this.g.Ra(g,a,-2))))}}if(n==null)a!=-1&&this.g.Td(a);else{var b=this;for(n.Vd(0,n.size,function(W,K){return b.Mh(W,K)}),u=0,d=n.size;u<d;u++){var _=n.get(u);this.g.Ra(_,a,u)}f=new c.h,(g=new c.h).Rc();var S=-1;for(u=0,d=n.size;u<d;u++)if((_=n.get(u))!=-1&&(this.g.D(_,r),!r.qb(g))){if(S!=-1)for(;;){_=!1;for(var T=1<u-S?u-1:u,k=S;k<T;k++){var O=n.get(k);if(O!=-1){var N=-1,D=this.g.U(O);this.g.D(D,f),0>g.compare(f)&&(l?f.y==s:f.x==s)&&(N=D),D=-1;var z=this.g.Ma(O);if(this.g.D(z,f),0>g.compare(f)&&(l?f.y==s:f.x==s)&&(D=z),N!=-1&&D!=-1)this.Kh(O,n,a),this.g.pd(O,!1),this.Kh(N,n,a),this.g.pd(N,!1),_=!0;else if(N!=-1||D!=-1){for(z=k+1;z<u;z++){var L=n.get(z);if(L!=-1){var F=this.g.U(L),V=-1;this.g.D(F,f),0>g.compare(f)&&(l?f.y==s:f.x==s)&&(V=F),F=this.g.Ma(L);var q=-1;if(this.g.D(F,f),0>g.compare(f)&&(l?f.y==s:f.x==s)&&(q=F),V!=-1&&q!=-1){this.Kh(L,n,a),this.g.pd(L,!1),this.Kh(V,n,a),this.g.pd(V,!1),_=!0;break}if(N!=-1&&q!=-1){this.zt(n,O,N,L,q,a),_=!0;break}if(D!=-1&&V!=-1){this.zt(n,L,V,O,D,a),_=!0;break}}}if(_)break}}}if(!_)break}S=u,g.L(r)}this.g.Td(a)}},y.prototype.Kh=function(l,s,r){r=this.g.Pa(l,r),s.set(r,-1),r=this.g.Pa(l,this.ji),this.dd.set(r,-1),(s=this.g.bd(l))!=-1&&this.g.Xa(s)==l&&(this.g.Jf(s,-1),this.g.Wg(s,-1))},y.prototype.zt=function(l,s,r,n,a,u){this.g.Bc(s,n),this.g.Cc(n,s),this.g.Cc(r,a),this.g.Bc(a,r),this.Kh(n,l,u),this.g.mi(n,!1),this.Kh(a,l,u),this.g.mi(a,!0)},y.prototype.Ty=function(){for(var l=0,s=this.dd.size;l<s;l++){var r=this.dd.get(l);r!=-1&&this.g.aj(r,-1)}for(var n=0,a=0,u=this.g.Ob(this.X);u!=-1;){var d=this.g.Xa(u);if(d==-1||u!=this.g.bd(d)){var f=u;u=this.g.Rb(u),this.g.Jf(f,-1),this.g.$q(f)}else{r=d,f=0;do this.g.aj(r,u),f++,r=this.g.U(r);while(r!=d);this.g.cp(u,!1),this.g.Wg(u,this.g.Ma(d)),this.g.Vj(u,f),a+=f,n++,u=this.g.Rb(u)}}for(l=0,s=this.dd.size;l<s;l++)if((r=this.dd.get(l))!=-1&&(u=this.g.bd(r))==-1){u=this.g.vf(this.X,-1),f=0,d=r;do this.g.aj(r,u),f++,r=this.g.U(r);while(r!=d);2>=f?(r=this.g.Pa(d,this.ji),this.dd.set(r,-1),d=this.g.pd(d,!1),f==2&&(0<=(r=this.g.Pa(d,this.ji))&&this.dd.set(r,-1),this.g.pd(d,!1)),f=u,this.g.Jf(f,-1),this.g.$q(f)):(this.g.kn(u,!0),this.g.Vj(u,f),this.g.Jf(u,d),this.g.Wg(u,this.g.Ma(d)),this.g.cp(u,!1),a+=f,n++)}for(this.g.Rl(this.X,n),this.g.Tj(this.X,a),l=0,s=this.g.ld;s!=-1;s=this.g.ue(s))l+=this.g.I(s);this.g.bC(l)},y.By=function(l,s,r,n){return new y(s,n).Ay(l,r)},y.clip=function(l,s,r,n,a){return y.Nu(l,s,null,r,n,a)},y.Nu=function(l,s,r,n,a,u){var d=l.getType();if(d==33)return a=l.D(),s.contains(a)?l:l.Ia();if(d==197)return a=new c.l,l.A(a),a.Ea(s)?(s=new c.Fh,l.copyTo(s),s.Xo(a),s):l.Ia();if(l.B())return l;if(s.B())return l.Ia();var f=new c.l;if(l.xc(f),s.contains(f))return l;if(!s.isIntersecting(f))return l.Ia();if((r!=null||isNaN(n))&&c.ta.ty(r,s,!1),!c.aa.xj(d))throw c.i.N();if((r=l.Bb)!=null&&(r=r.Fk)!=null){if((r=r.Ro(s))==1){if(d!=1736)throw c.i.fa("internal error");return(l=new c.Da(l.description)).tp(s),l}if(r==0)return l.Ia()}switch(d){case 550:for(u=null,d=l.I(),r=l.ub(0),n=0,a=new c.h,f=0;f<d;f++)r.tc(2*f,a),s.contains(a)||(n==0&&(u=l.Ia()),n<f&&u.Fd(l,n,f),n=f+1);return 0<n&&u.Fd(l,n,d),n==0?l:u;case 1736:case 1607:return y.By(l,s,a,u);default:throw c.i.fa("internal error")}},y.prototype.Mh=function(l,s){var r=new c.h;return this.g.D(l,r),l=new c.h,this.g.D(s,l),r.compare(l)},y}();c.ri=I}(U||(U={})),function(c){var I=new c.h,y=function(){function s(r,n,a,u,d){this.Pm=new c.h,this.Dk=new c.h,this.Pi=new c.h,this.g=r,this.Aw=a,this.no=u,this.Pm=n,this.yl=d,this.Dk.Rc(),this.Pi.Rc()}return s.prototype.xE=function(r){this.g.D(r,this.Dk),r=c.O.truncate((this.Dk.x-this.Pm.x)*this.no+.5);var n=c.O.truncate((this.Dk.y-this.Pm.y)*this.no+.5);return l.jG(r,n)},s.prototype.jz=function(r){return this.g.Pa(r,this.yl)},s.prototype.Py=function(r,n){return this.g.D(r,this.Dk),this.g.D(n,this.Pi),l.Cv(this.Dk.x,this.Dk.y,this.Pi.x,this.Pi.y,this.Aw)},s}();c.sY=function(){};var l=function(){function s(){this.Pm=new c.h,this.pq=[0,0,0,0],this.xs=[0,0,0,0],this.qo=this.yl=-1}return s.iQ=function(r,n){var a=new s;return a.g=r,a.qa=n,a.Aw=n*n,a.$v=2*n,a.no=1/a.$v,a.BO()},s.Cv=function(r,n,a,u,d){return(r-=a)*r+(n-=u)*n<=d},s.jG=function(r,n){return c.O.Th(n,c.O.Th(r))},s.prototype.DO=function(r,n){this.g.Gc(r,I);for(var a=(I.y-this.Pm.y)*this.no,u=c.O.truncate((I.x-this.Pm.x)*this.no),d=c.O.truncate(a),f=a=0;1>=f;f+=1)for(var g=0;1>=g;g+=1){var b=s.jG(u+f,d+g),_=this.xl.rR(b);_!=-1&&(this.pq[a]=_,this.xs[a]=b,a++)}for(u=a-1;1<=u;u--)for(_=this.pq[u],d=u-1;0<=d;d--)if(_==this.pq[d]){this.xs[d]=-1,u!=--a&&(this.xs[u]=this.xs[a],this.pq[u]=this.pq[a]);break}for(d=0;d<a;d++)this.EO(r,this.xs[d],I,this.pq[d],n)},s.prototype.EO=function(r,n,a,u,d){for(var f=new c.h;u!=-1;u=this.xl.ER(u)){var g=this.xl.ja(u);r==g||n!=-1&&this.g.Pa(g,this.yl)!=n||(this.g.Gc(g,f),s.Cv(a.x,a.y,f.x,f.y,this.Aw)&&d.add(u))}},s.prototype.Xm=function(r,n,a){var u=this.g.Pa(r,this.qo),d=this.g.Pa(n,this.qo);return u==-1&&(u=this.zd.Ph(),this.zd.addElement(u,r),this.g.Ra(r,this.qo,u)),d==-1?this.zd.addElement(u,n):this.zd.Hy(u,d),this.g.Ra(n,this.qo,-2),n=this.YT(r,n),a&&(a=this.kw.xE(r),this.g.Ra(r,this.yl,a)),n},s.WT=function(r,n,a){r.Nb(n),a=r;var u=new c.h;s.XT(r.D(),n.D(),u),a.Cb(u)},s.XT=function(r,n,a){var u=r.x;r.x!=n.x&&(u=(1*r.x+1*n.x)/2);var d=r.y;r.y!=n.y&&(d=(1*r.y+1*n.y)/2),a.ma(u,d)},s.prototype.YT=function(r,n){var a=new c.h;this.g.D(r,a);var u=new c.h;this.g.D(n,u);var d=this.g.cG(r),f=d+(n=this.g.cG(n)),g=0,b=a.x;a.x!=u.x&&(b=(a.x*d+u.x*n)/f,g++);var _=a.y;return a.y!=u.y&&(_=(a.y*d+u.y*n)/f,g++),0<g&&this.g.Cb(r,b,_),this.g.vX(r,f),g!=0},s.prototype.BO=function(){var r=this.g.fd,n=this.g.IF();for(this.Pm=n.mz(),n=Math.max(n.ca(),n.R())/2147483646,this.$v<n&&(this.$v=n,this.no=1/this.$v),this.zd=new c.au,this.zd.At(c.O.truncate(this.g.fd/3+1)),this.zd.fn(c.O.truncate(this.g.fd/3+1)),this.yl=this.g.Gd(),this.qo=this.g.Gd(),this.kw=new y(this.g,this.Pm,this.Aw,this.no,this.yl),this.xl=new c.dL(c.O.truncate(4*r/3),this.kw),this.xl.AW(this.g.fd),r=!1,n=this.g.ld;n!=-1;n=this.g.ue(n))for(var a=this.g.Ob(n);a!=-1;a=this.g.Rb(a))for(var u=this.g.Xa(a),d=0,f=this.g.Ja(a);d<f;d++){var g=this.kw.xE(u);this.g.Ra(u,this.yl,g),this.xl.addElement(u,g),u=this.g.U(u)}var b=new c.ia(0);for(b.Jb(10),n=this.g.ld;n!=-1;n=this.g.ue(n))for(a=this.g.Ob(n);a!=-1;a=this.g.Rb(a))for(u=this.g.Xa(a),d=0,f=this.g.Ja(a);d<f;d++){if(this.g.Pa(u,this.qo)!=-2)for(g=this.g.Pa(u,this.yl),this.xl.jd(u,g);this.DO(u,b),b.size!=0;){g=!1;for(var _=0,S=b.size;_<S;_++){var T=b.get(_),k=this.xl.ja(T);this.xl.vd(T),g=this.Xm(u,k,_+1==S)||g}if(r=r||g,b.clear(!1),!g)break}u=this.g.U(u)}return r&&this.vN(),this.kw=this.xl=null,this.g.Td(this.yl),this.g.Td(this.qo),r},s.prototype.vN=function(){for(var r=new c.h,n=this.zd.je;n!=-1;n=this.zd.qz(n)){var a=this.zd.rc(n);for(this.g.D(this.zd.ja(a),r),a=this.zd.lb(a);a!=-1;a=this.zd.lb(a))this.g.mf(this.zd.ja(a),r)}},s}();c.Yt=l}(U||(U={})),function(c){var I=function(){function y(l){l===void 0&&(l=null),this.yg=null,this.Pb=!1,this.yg=l===null?[]:l}return y.prototype.copyTo=function(l){if(l.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");for(var s=0;s<this.yg.length;s++)l.yg.push(this.yg[s].Of())},y.prototype.count=function(){return this.yg.length},y.prototype.add=function(l){if(this.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");this.yg.push(l.Of())},y.prototype.clear=function(){if(this.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");this.yg.length=0},y.prototype.remove=function(l){if(this.Pb)throw c.i.fa("CompositeGeographicTransformation is read-only");this.yg.splice(l,1)},y.prototype.jg=function(){var l=new y;return this.copyTo(l),l},y.prototype.Of=function(){return this.jg()},y.prototype.transform=function(l,s,r,n){if(l.length<s)throw c.i.fa("invalid Argument");var a=r;for(r=0;r<this.yg.length;r++){var u=this.yg[r];if(u.qm()!=null){var d=u.Un,f=d?1:0,g=d?u.qm().getGeogcs2():u.qm().getGeogcs1();if(g=a/(g=g.getUnit().getUnitFactor()),3552713678800501e-30<Math.abs(g-1))for(a=0;a<s;a++)l[a][0]*=g,l[a][1]*=g;c.MC.geogToGeog(u.qm(),s,l,null,f),a=(d?u.qm().getGeogcs1():u.qm().getGeogcs2()).getUnit().getUnitFactor()}}if(g=a/n,3552713678800501e-30<Math.abs(g-1))for(a=0;a<s;a++)l[a][0]*=g,l[a][1]*=g;return s},y.prototype.Nb=function(l){if(l==this)return!0;if(!(l instanceof y)||this.yg.length!=l.yg.length)return!1;for(var s=0;s<this.yg.length;s++)if(!this.yg[s].Nb(l.yg[s]))return!1;return!0},y.prototype.ix=function(){this.Pb=!0},y.prototype.toString=function(){for(var l="CGT ("+this.count()+") ",s=0,r=this.count();s<r;++s)l+=this.yg[s].toString()+", ";return 200<l.length?l.substring(0,197)+"... ("+l.length.toString()+" characters)":l},y.create=function(){return new y},y}();c.wC=I}(U||(U={})),function(c){var I,y=Math.PI,l=2*Math.PI,s=Math.PI/2,r=function(){function u(){}return u.TO=function(d,f){var g=new u;return g.x=d,g.y=f,g.type=0,g.Uh=0,g},u.al=function(d){var f=new u;return f.x=d.x,f.y=d.y,f.type=0,f.Uh=0,f},u.SO=function(d){var f=new u;return f.x=d.x,f.y=d.y,f.type=d.type,f.Uh=d.Uh,f},u.Pd=function(d,f,g){var b=new u;return b.x=d.x+f*Math.cos(g),b.y=d.y+f*Math.sin(g),b.type=d.type,b.Uh=d.Uh,b},u.Pu=function(d,f){var g=new u;return g.x=.5*(d.x+f.x),g.y=.5*(d.y+f.y),g.type=d.type,g.Uh=d.Uh,g},u.TE=function(d,f){var g=new u;return g.x=d.x+.001*(f.x-d.x),g.y=d.y+.001*(f.y-d.y),g.type=d.type,g.Uh=d.Uh,g},u}(),n=function(){};(I=c.fL||(c.fL={}))[I.Round=0]="Round",I[I.Bevel=1]="Bevel",I[I.Miter=2]="Miter",I[I.Square=3]="Square";var a=function(){function u(d){this.NA=this.Yb=this.wg=null,this.nd=d}return u.V=function(d,f,g,b,_,S){if(d==null||1>d.Db())throw c.i.N();return f==0||d.B()?d:((S=new u(S)).ko=d,S.Ka=f,S.qa=_,S.Ki=g,S.CA=b,S.Rx())},u.prototype.eM=function(){var d=this.ko,f=d.ac(),g=d.wc(),b=new c.h;return b.uc(g,f),b.normalize(),b.Hv(),b.scale(this.Ka),f.add(b),g.add(b),b=d.Ia(),d.Dc(f),d.Qc(g),b},u.prototype.dM=function(){var d=this.ko;if(0<this.Ka&&this.Ki!=2){var f=new c.Da;return f.ad(d,!1),this.ko=f,this.Rx()}return(d=new c.Fh(d.$)).W(this.Ka,this.Ka),d},u.prototype.tJ=function(d,f,g,b){return(f.x-d.x)*(b.x-g.x)+(f.y-d.y)*(b.y-g.y)},u.prototype.fc=function(d,f){if(f===void 0)this.Yb.push(d),this.gf++;else if(this.gf==0)this.fc(d);else{var g=this.Bw,b=this.wg[f==0?g-1:f-1],_=this.wg[f],S=this.tJ(b,_,this.Yb[this.gf-1],d);0<S?this.fc(d):0>S&&(0<this.tJ(b,_,_,this.Yb[this.gf-1])?(_=this.wg[f==0?g-2:f==1?g-1:f-2],g=r.Pd(b,this.Ka,Math.atan2(b.y-_.y,b.x-_.x)-s),this.Yb[this.gf-1]=g,this.Ki==1||this.Ki==2?(g=r.Pu(g,b),this.fc(g),g=r.Pd(b,this.Ka,this.Jv+s),(b=r.Pu(g,b)).type|=256,this.fc(b)):(g=r.Pd(b,this.Ka,this.Jv+s)).type|=256,this.fc(g),this.fc(d,f)):(g=r.Pd(_,this.Ka,this.Jv+s),this.fc(g),this.Ki==1||this.Ki==2?(g=r.Pu(g,_),this.fc(g),g=r.Pd(_,this.Ka,this.aA-s),(b=r.Pu(g,_)).type|=256,this.fc(b)):(g=r.Pd(_,this.Ka,this.aA-s)).type|=256,this.fc(g)))}},u.prototype.mE=function(){var d,f=this.Bw;this.gf=0;var g=.5*this.qa,b=0,_=0;for(d=0;d<f;d++){var S=this.wg[d],T=d==0?this.wg[f-1]:this.wg[d-1],k=d==f-1?this.wg[0]:this.wg[d+1],O=T.x-S.x,N=T.y-S.y,D=k.x-S.x,z=k.y-S.y,L=Math.atan2(N,O),F=Math.atan2(z,D);if(this.Jv=L,this.aA=F,d==0&&(b=L,_=F),O=O*z-D*N,N=F,F<L&&(F+=l),0<O*this.Ka)this.Ki==1||this.Ki==2?(L=r.Pd(S,this.Ka,L+s),this.fc(L),L=r.TE(S,L),this.fc(L),L=r.Pd(S,this.Ka,F-s),(S=r.TE(S,L)).type|=256,this.fc(S),this.fc(L)):(O=.5*(F-L),O=this.Ka/Math.abs(Math.sin(O)),L=r.Pd(S,O,.5*(L+F)),this.fc(L,d));else if(512&S.type){for(O=1-g/Math.abs(this.Ka),T=1,k=0>this.Ka?-y:y,-1<O&&1>O&&(.017453292519943295>(N=2*Math.acos(O))&&(N=.017453292519943295),1<(T=c.O.truncate(y/N+1.5))&&(k/=T)),N=L+s,L=r.Pd(S,this.Ka,N),d==0&&(L.type|=1024),this.fc(L,d),O=this.Ka/Math.cos(k/2),N+=k/2,(L=r.Pd(S,O,N)).type|=1024,this.fc(L);0<--T;)N+=k,(L=r.Pd(S,O,N)).type|=1024,this.fc(L);(L=r.Pd(S,this.Ka,F-s)).type|=1024,this.fc(L)}else if(this.Ki==1)L=r.Pd(S,this.Ka,L+s),this.fc(L,d),L=r.Pd(S,this.Ka,F-s),this.fc(L);else if(this.Ki==0)for(O=1-g/Math.abs(this.Ka),T=1,k=F-s-(L+s),-1<O&&1>O&&(.017453292519943295>(N=2*Math.acos(O))&&(N=.017453292519943295),1<(T=c.O.truncate(Math.abs(k)/N+1.5))&&(k/=T)),O=this.Ka/Math.cos(.5*k),N=L+s+.5*k,L=r.Pd(S,O,N),this.fc(L,d);0<--T;)N+=k,L=r.Pd(S,O,N),this.fc(L);else this.Ki==2?(O=T.x-S.x,N=T.y-S.y,.99999999<(T=(O*(D=k.x-S.x)+N*(z=k.y-S.y))/Math.sqrt(O*O+N*N)/Math.sqrt(D*D+z*z))?(L=r.Pd(S,1.4142135623730951*this.Ka,F-.25*y),this.fc(L,d),L=r.Pd(S,1.4142135623730951*this.Ka,F+.25*y),this.fc(L)):(T=Math.abs(this.Ka/Math.sin(.5*Math.acos(T))))>(k=Math.abs(this.CA*this.Ka))?(O=.5*(F-L),O=this.Ka/Math.abs(Math.sin(O)),L=r.Pd(S,O,.5*(L+F)),F=c.h.construct(L.x,L.y),L=c.h.construct(S.x,S.y),(S=new c.h).uc(F,L),(F=new c.h).HW(k/S.length(),S,L),L=(T-k)*Math.abs(this.Ka)/Math.sqrt(T*T-this.Ka*this.Ka),0<this.Ka?S.Hv():S.ar(),S.scale(L/S.length()),(L=new c.h).add(F,S),(T=new c.h).uc(F,S),L=r.al(L),this.fc(L,d),L=r.al(T),this.fc(L)):(O=.5*(F-L),O=this.Ka/Math.abs(Math.sin(O)),L=r.Pd(S,O,.5*(L+F)),this.fc(L,d))):(F=N,0<this.Ka?(F>L&&(F-=l),T=L-F<s):(F<L&&(F+=l),T=F-L<s),T?(N=0>(O=1.4142135623730951*this.Ka)?L+.25*y:L+.75*y,L=r.Pd(S,O,N),this.fc(L,d),N=0>O?F-.25*y:F-.75*y,L=r.Pd(S,O,N),this.fc(L)):(O=.5*(F-L),O=this.Ka/Math.abs(Math.sin(O)),F<L&&(F+=l),L=r.Pd(S,O,(L+F)/2),this.fc(L,d)))}return this.Jv=b,this.aA=_,this.fc(this.Yb[0],0),S=r.SO(this.Yb[this.gf-1]),this.Yb[0]=S,this.wW()},u.prototype.Au=function(d,f){if(!(2>f))for(var g=0;g<f;g++){var b=this.Yb[d+g];g!=0?this.NA.Ci(c.h.construct(b.x,b.y)):this.NA.Lt(c.h.construct(b.x,b.y))}},u.prototype.fM=function(d,f,g){var b=d.Ba(f),_=d.Vc(f);if(this.Yb=[],this.NA=g,d.dc(f)){for(f=d.Na(b);d.Na(_-1).qb(f);)_--;if(2<=_-b){for(this.Bw=_-b,this.wg=[],f=b;f<_;f++)this.wg.push(r.al(d.Na(f)));this.mE()&&this.Au(0,this.gf-1)}}else{for(f=d.Na(b);b<_&&d.Na(b+1).qb(f);)b++;for(f=d.Na(_-1);b<_&&d.Na(_-2).qb(f);)_--;if(2<=_-b){for(this.Bw=2*(_-b)-2,this.wg=[],(g=r.al(d.Na(b))).type|=1536,this.wg.push(g),f=b+1;f<_-1;f++)g=r.al(d.Na(f)),this.wg.push(g);for((g=r.al(d.Na(_-1))).type|=512,this.wg.push(g),f=_-2;f>=b+1;f--)(g=r.al(d.Na(f))).type|=1024,this.wg.push(g);if(this.mE())if(2<=this.Yb.length){for(d=-1,(_=!!(1024&this.Yb[this.gf-1].type))||(d=0),f=1;f<this.gf;f++)(b=!!(1024&this.Yb[f].type))?_||1<(_=f-1)-d+1&&this.Au(d,_-d+1):_&&(d=f-1),_=b;_||1<(_=this.gf-1)-d+1&&this.Au(d,_-d+1)}else d=0,_=this.gf-1,0<=d&&1<=_-d&&this.Au(d,_-d+1)}}this.wg=null,this.Bw=0,this.Yb=null,this.gf=0},u.prototype.wW=function(){for(var d=!1,f=0;f<this.gf;f++){var g=this.Yb[f];g.qh=f+1,g.sh=f-1,this.Yb[f]=g}for((g=this.Yb[0]).sh=this.gf-2,this.Yb[0]=g,(g=this.Yb[this.gf-2]).qh=0,this.Yb[this.gf-2]=g,f=g=0;f<this.gf;f++)if(256&this.Yb[g].type){var b=this.GP(g);if(b==-1){d=!0;break}g=b}else g=this.Yb[g].qh;return!d&&(this.QO(g),!0)},u.prototype.GP=function(d){for(var f,g,b=this.gf-1,_=d,S=1;S<=b-2;S++){f=_=this.Yb[_].qh,g=d;for(var T=1;T<=S;T++){if(g=this.Yb[g].sh,!(256&this.Yb[g].type||256&this.Yb[f].type)){var k=this.gS(g,f);if(k!=-1)return k}f=this.Yb[f].sh}}return-1},u.prototype.gS=function(d,f){var g=this.Yb[this.Yb[d].sh],b=this.Yb[d],_=this.Yb[this.Yb[f].sh],S=this.Yb[f];if(!this.JW(g,b,_,S))return-1;var T=new n;return this.xQ(g,b,_,S,T)&&!T.bE&&c.O.bK((b.x-g.x)*(S.y-_.y)-(b.y-g.y)*(S.x-_.x))!=c.O.bK(this.Ka)?(g=this.Yb[d].sh,T.an.type=b.type,T.an.qh=f,T.an.sh=g,this.Yb[d]=T.an,T.an=this.Yb[f],T.an.sh=d,this.Yb[f]=T.an,f):-1},u.prototype.JW=function(d,f,g,b){return Math.max(d.x,f.x)>=Math.min(g.x,b.x)&&Math.max(g.x,b.x)>=Math.min(d.x,f.x)&&Math.max(d.y,f.y)>=Math.min(g.y,b.y)&&Math.max(g.y,b.y)>=Math.min(d.y,f.y)},u.prototype.xQ=function(d,f,g,b,_){_.bE=!1;var S=(f.y-d.y)*(b.x-g.x)-(f.x-d.x)*(b.y-g.y),T=(g.y-d.y)*(f.x-d.x)-(g.x-d.x)*(f.y-d.y);if(0<=(S=S==0?2:T/S)&&1>=S){var k=S;if(S=(b.y-g.y)*(f.x-d.x)-(b.x-g.x)*(f.y-d.y),T=(d.y-g.y)*(b.x-g.x)-(d.x-g.x)*(b.y-g.y),0<=(S=S==0?2:T/S)&&1>=S)return _.an=r.TO(d.x+S*(f.x-d.x),d.y+S*(f.y-d.y)),_.an.Uh=g.Uh+k*(b.Uh-g.Uh),k!=0&&k!=1||S!=0&&S!=1||(_.bE=!0),_.VY=S,_.WY=k,!((k==0||k==1)&&0<S&&1>S||(S==0||S==1)&&0<k&&1>k)}return!1},u.prototype.QO=function(d){for(;this.Yb[d].sh<d;)d=this.Yb[d].sh;var f=0,g=d;do g=this.Yb[g],this.Yb[f]=g,g=g.qh,f++;while(g!=d);this.Yb[f]=this.Yb[0],this.gf=f+1},u.prototype.$C=function(d){var f=this.ko,g=f.Ga();if(g!=null){g.Zi();for(var b=-1;g.$a();)b++,this.fM(f,b,d)}},u.prototype.Rx=function(){var d=this.ko.getType();return d==322?this.eM():d==197?this.dM():c.aa.yd(d)?((d=new c.Ta).oc(this.ko,!0),this.ko=d,this.Rx()):d==1607?(d=new c.Ta,this.$C(d),d):d==1736?(d=new c.Da,this.$C(d),d):null},u}();c.IK=a}(U||(U={})),function(c){var I=function(){function r(n){this.qk=n}return r.prototype.D=function(n,a){this.qk.g.D(n,a)},r.prototype.vd=function(n){var a=this.qk.Fa.ja(n);this.qk.Fa.vd(n,-1),this.qk.g.pd(a,!1)},r}(),y=function(){function r(n){this.qk=n}return r.prototype.D=function(n,a){this.qk.IT.D(n,a)},r.prototype.vd=function(n){this.qk.Fa.vd(n,-1)},r}(),l=function(){function r(n){this.qk=n}return r.prototype.D=function(n,a){a.L(this.qk.LT[n])},r.prototype.vd=function(n){this.qk.Fa.vd(n,-1)},r}(),s=function(){function r(n){n===void 0?(this.Fa=new c.Yj,this.Fa.De(20),this.g=new c.gd,this.xT=this.g.Ig(550),this.Ss=this.g.vf(this.xT,-1),this.Xh=new I(this)):n instanceof Array?(this.Fa=new c.Yj,this.Fa.De(20),this.LT=n,this.Xh=new l(this)):(this.Fa=new c.Yj,this.Fa.De(20),this.IT=n,this.Xh=new y(this))}return r.prototype.Ib=function(n){var a=n.getType();if(c.Gx.xj(a))this.jN(n);else if(c.Vk.yd(a))this.oN(n);else if(a==197)this.gN(n);else{if(a!=33)throw c.i.N("invalid shape type");this.nN(n)}},r.prototype.cR=function(){var n=new c.Sa,a=this.Fa.rc(-1),u=new c.Da(this.g.ht);for(this.g.Vi(this.Fa.ja(a),n),u.nf(n),a=this.Fa.lb(a);a!=-1;a=this.Fa.lb(a))this.g.Vi(this.Fa.ja(a),n),u.lineTo(n);return u},r.RO=function(n){var a=new r(n),u=n.I(),d=1,f=new c.h,g=new c.h,b=new c.h;for(n.D(0,f);n.D(d,g),g.Rz(f)&&d<u-1;)d++;for(a.Fa.addElement(0,-1),a.Fa.xn(d),u=d+1;u<n.I();u++)n.D(u,b),(d=a.pC(b))!=-1&&a.Fa.Sj(d,u);for(b=new c.Sa,d=a.Fa.rc(-1),u=new c.Da(n.description),n.ve(a.Fa.ja(d),b),u.nf(b),d=a.Fa.lb(d);d!=-1;d=a.Fa.lb(d))n.ve(a.Fa.ja(d),b),u.lineTo(b);return u},r.construct=function(n,a,u){for(var d=new r(n),f=1,g=n[0];n[f].Rz(g)&&f<a-1;)f++;for(d.Fa.addElement(0,-1),d.Fa.xn(f),f+=1;f<a;f++)(g=d.pC(n[f]))!=-1&&d.Fa.Sj(g,f);for(n=0,a=d.Fa.rc(-1);a!=-1;a=d.Fa.lb(a))u[n++]=d.Fa.ja(a);return n},r.JG=function(n,a){var u=n.Ba(a),d=n.Vc(a);if(a=!n.dc(a)&&n.Nn(a),n=n.ub(0),d*=2,a&&(d-=2),6>d-(u*=2))return!0;a=new c.h;var f=new c.h,g=new c.h;n.tc(u,a),n.tc(u+2,f),n.tc(u+4,g);var b=r.Wu(f,g,a);if(b.ps()||!r.um(b.value()))return!1;var _=c.h.construct(f.x,f.y),S=new c.h;for(u+=6;u<d;u+=2)if(S.L(f),f.L(g),n.tc(u,g),(b=r.Wu(f,g,a)).ps()||!r.um(b.value())||(b=r.Wu(_,g,a)).ps()||!r.um(b.value())||(b=r.Wu(f,g,S)).ps()||!r.um(b.value()))return!1;return!0},r.prototype.jN=function(n){for(var a=new c.Sa,u=new c.h,d=0;d<n.I();d++){n.D(d,u);var f=this.Cr(u);if(f!=-1){n.ve(d,a);var g=this.g.fc(this.Ss,a);this.Fa.Sj(f,g)}}},r.prototype.gN=function(n){for(var a=new c.Sa,u=new c.h,d=0;4>d;d++){n.mB(d,u);var f=this.Cr(u);if(f!=-1){n.Hf(d,a);var g=this.g.fc(this.Ss,a);this.Fa.Sj(f,g)}}},r.prototype.oN=function(n){var a=new c.Sa,u=n.ac();if((u=this.Cr(u))!=-1){n.To(a);var d=this.g.fc(this.Ss,a);this.Fa.Sj(u,d)}u=n.wc(),(u=this.Cr(u))!=-1&&(n.Po(a),n=this.g.fc(this.Ss,a),this.Fa.Sj(u,n))},r.prototype.nN=function(n){var a=n.D();(a=this.Cr(a))!=-1&&(n=this.g.fc(this.Ss,n),this.Fa.Sj(a,n))},r.prototype.Cr=function(n){var a=-1;if(this.Fa.size(-1)==0)return this.Fa.addElement(-4,-1);if(this.Fa.size(-1)==1){var u=this.g.Na(this.Fa.ja(this.Fa.rc(-1)));return n.Rz(u)||(a=this.Fa.xn(-5)),a}return this.pC(n)},r.prototype.pC=function(n){var a=-1;do{var u=this.Fa.rc(-1),d=this.Fa.Fc(-1),f=this.Fa.ja(u),g=this.Fa.ja(d),b=new c.h,_=new c.h;if(this.Xh.D(f,b),this.Xh.D(g,_),f=c.h.Uq(_,n,b),r.um(f))a=this.Fa.xn(-1),(b=this.nC(n,d,u))!=u&&this.oC(n,u,this.Fa.we(b));else if(r.CG(f)){_=this.Fa.sv(-1);var S=this.Fa.rc(-1),T=this.Fa.Fc(-1);for(f=new c.h,g=new c.h;S!=this.Fa.we(T);){var k=this.Fa.ja(_);this.Xh.D(k,f),k=c.h.Uq(f,n,b),r.CG(k)?(T=_,_=this.Fa.ll(_)):(S=_,_=this.Fa.Xp(_))}if(_=T,b=S,k=this.Fa.ja(_),S=this.Fa.ja(b),this.Xh.D(k,f),this.Xh.D(S,g),b!=u&&(f=c.h.Uq(g,n,f),!r.um(f)))continue;a=this.Fa.zu(b,_,-2,!1),this.oC(n,_,d),this.nC(n,b,u)}else this.sb==null&&(this.sb=new c.yb),this.sb.Dc(_),this.sb.Qc(b),0>(b=this.sb.fe(n,!0))?(b=this.Fa.we(d),this.Fa.vd(d,-1),a=this.Fa.xn(-3),this.nC(n,b,u)):1<b&&(b=this.Fa.lb(u),this.Fa.vd(u,-1),a=this.Fa.zu(-1,b,-3,!1),this.oC(n,b,d))}while(!1);return a},r.prototype.oC=function(n,a,u){if(a!=u){var d=this.Fa.ja(a),f=this.Fa.lb(a),g=new c.h,b=new c.h;for(this.Xh.D(d,g);a!=u&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(f),b),d=c.h.Uq(b,n,g),!r.um(d));)d=a,a=f,g.L(b),f=this.Fa.lb(a),this.Xh.vd(d)}},r.prototype.nC=function(n,a,u){if(a==u)return u;var d=this.Fa.ja(a),f=this.Fa.we(a),g=new c.h,b=new c.h;for(this.Xh.D(d,g);a!=u&&2<this.Fa.size(-1)&&(this.Xh.D(this.Fa.ja(f),b),d=c.h.Uq(g,n,b),!r.um(d));)d=a,a=f,g.L(b),f=this.Fa.we(a),this.Xh.vd(d);return a},r.Wu=function(n,a,u){var d=new c.Wb;d.set(a.x),d.sub(n.x);var f=new c.Wb;f.set(u.y),f.sub(n.y);var g=new c.Wb;return g.set(a.y),g.sub(n.y),(a=new c.Wb).set(u.x),a.sub(n.x),d.Ag(f),g.Ag(a),d.sub(g),d},r.um=function(n){return 0>n},r.CG=function(n){return 0<n},r}();c.Zt=s}(U||(U={})),function(c){var I=function(){function y(l){this.g=null,this.tH=!0,this.nd=l}return y.zU=function(l,s,r){return l=c.ta.Er(l),c.Yt.Cv(s.Lg(),s.ih(),r.Lg(),r.ih(),c.lc.ox(l))},y.CO=function(l,s){var r=new c.Sa;return c.Yt.WT(l,s,r),r},y.V=function(l,s,r,n){return(r=new y(r)).g=l,r.qa=s,r.tH=n,r.EM()},y.prototype.nM=function(l){return c.Yt.iQ(this.g,l)},y.prototype.sM=function(l){return c.$t.V(this.g,l,this.nd)},y.prototype.EM=function(){var l=this.qa,s=c.ta.Er(l),r=1.00001*(l=c.ta.rN(l));l*=1.000001;for(var n=!1,a=30<this.g.fd+10?1e3:(this.g.fd+10)*(this.g.fd+10),u=0,d=this.g.jS();;u++){if(u>a)throw c.i.fa("Internal Error: max number of iterations exceeded");var f=this.nM(s);if(n=n||f,this.tH&&(f=this.g.Gp(s,!0,!1)!=0,n=n||f),f=!1,(u==0||d||c.$t.kI(!0,this.g,l,null,this.nd))&&(f=this.sM(r),n=n||f),!f)break;c.mp.zp(this.nd)}return n},y}();c.Tk=I}(U||(U={})),function(c){var I=function(){function l(s){this.$d=this.Mc=null,this.Ys=0,this.Ub=s,this.cA=!0}return l.prototype.uv=function(s,r){var n=this.g.bc(s);if(n==null){if(!this.g.ed(s,r))return null;n=r}return n},l.prototype.Xq=function(){var s;s===void 0&&(s=!1),this.Ys++,!s&&4095&this.Ys||(this.Ys=0,c.mp.zp(this.Ub))},l.prototype.nP=function(){var s=this.g.Yq(!1),r=!1,n=new c.yb,a=new c.yb,u=new c.l;u.Oa();var d=new c.l;d.Oa();for(var f=new c.Sa,g=new c.TC,b=s.next();b!=-1;b=s.next()){c.mp.zp(this.Ub);var _=null,S=!1;if(!c.aa.Rn(this.g.ic(s.ck))){if((_=this.uv(b,n))==null)continue;if(_.A(u),u.W(this.qa,this.qa),_.Bi(this.qa)){if(!_.Bi(0))continue;S=!0,_=null}}var T=this.g.Yq(s),k=T.next();for(k!=-1&&(k=T.next());k!=-1;k=T.next()){var O=null,N=!1;if(!c.aa.Rn(this.g.ic(T.ck))){if((O=this.uv(k,a))==null)continue;if(O.A(d),O.Bi(this.qa)){if(!O.Bi(0))continue;N=!0,O=null}}var D=0,z=0;if(_!=null&&O!=null)u.HG(d)&&(g.Oo(_),g.Oo(O),g.Ea(this.qa,!1),0<(D=g.ol(0))+(z=g.ol(1))&&(this.g.jr(b,g,0,!0),this.g.jr(k,g,1,!0)),g.clear());else if(_!=null){var L=new c.h;if(this.g.D(k,L),u.contains(L)){if(g.Oo(_),this.g.Vi(k,f),g.Kz(this.qa,f,!1),0<(D=g.ol(0)))if(this.g.jr(b,g,0,!0),N){for(N=-1,L=this.g.U(k);L!=-1&&L!=k&&(N=L,(O=this.uv(L,a))!=null&&O.Bi(0));L=this.g.U(L));for(L=k;L!=-1&&(this.g.Dh(L,g.Bf),L!=N);L=this.g.U(L));}else this.g.Dh(k,g.Bf);g.clear()}}else{if(O==null)continue;if(L=new c.h,this.g.D(b,L),d.W(this.qa,this.qa),d.contains(L)){if(g.Oo(O),this.g.Vi(b,f),g.Kz(this.qa,f,!1),0<(z=g.ol(0)))if(this.g.jr(k,g,0,!0),S){for(N=-1,L=this.g.U(b);L!=-1&&L!=b&&(N=L,(O=this.uv(L,a))!=null&&O.Bi(0));L=this.g.U(L));for(L=b;L!=-1&&(this.g.Dh(L,g.Bf),L!=N);L=this.g.U(L));}else this.g.Dh(b,g.Bf);g.clear()}}if(D+z!=0){if(D!=0){if((_=this.g.bc(b))==null){if(!this.g.ed(b,n))continue;_=n,n.A(u)}else _.A(u);if(_.Bi(this.qa))break}r=!0}}}return r},l.prototype.oP=function(){return this.QU()},l.prototype.QU=function(){return new c.RC().PX(this.g,this.qa)},l.prototype.lI=function(){var s=!1;this.Mc==null&&(this.Mc=new c.Yj);var r=new c.ia(0);r.Jb(this.g.fd+1);for(var n=this.g.Yq(),a=n.next();a!=-1;a=n.next())r.add(a);this.g.nx(r,r.size),r.add(-1),n=this.g.Gd(),a=this.g.Gd(),this.$d=new c.UC(this.g,this.qa,!this.cA),this.Mc.Vo(this.$d);var u=new c.ia(0),d=new c.ia(0),f=0;new c.h;var g=this.g.td;this.g.vb.mc();for(var b,_,S=this.g.vb.za[0].o,T=r.get(f++);T!=-1;){var k=b=S[2*(_=g.T(T,0))],O=_=S[2*_+1];do{var N=g.T(T,2),D=g.T(T,1);if(N!=-1){var z=g.T(N,0),L=S[2*z];0>(O<(z=S[2*z+1])?-1:O>z?1:k<L?-1:k>L?1:0)&&(d.add(T),d.add(N))}D!=-1&&(L=S[2*(z=g.T(D,0))],0>(O<(z=S[2*z+1])?-1:O>z?1:k<L?-1:k>L?1:0)&&(d.add(D),d.add(D))),(L=this.g.Pa(T,n))!=-1&&(u.add(L),this.g.Ra(T,n,-1)),(L=this.g.Pa(T,a))!=-1&&(u.add(L),this.g.Ra(T,a,-1)),(T=r.get(f++))!==-1&&(k=S[2*(O=g.T(T,0))],O=S[2*O+1])}while(T!=-1&&k===b&&O===_);for(k=u.size==1&&d.size==2,L=O=-1,N=0,D=u.size;N<D;N++){z=u.get(N);var F=this.Mc.we(z);if(F==-1||u.hG(F)||(O=F),(z=this.Mc.lb(z))==-1||u.hG(z)||(L=z),O!=-1&&L!=-1)break}for(this.$d.$J(_,b),N=0,D=u.size;N<D;N++)z=u.get(N),this.Mc.vd(z,-1);if(u.clear(!1),!k&&O!=-1&&L!=-1&&this.qO(O,L)){s=!0,this.Ni=this.$d.rm();break}for(N=0,D=d.size;N<D;N+=2){if(_=d.get(N),b=d.get(N+1),k?(_=this.Mc.zu(O,L,_,!0),k=!1):_=this.Mc.addElement(_,-1),this.$d.rg){this.Ni=this.$d.rm(),s=!0;break}this.g.Pa(b,n)==-1?this.g.Ra(b,n,_):this.g.Ra(b,a,_)}if(s)break;d.Bh(0)}return this.g.Td(n),this.g.Td(a),s},l.prototype.qO=function(s,r){return this.$d.compare(this.Mc,this.Mc.ja(s),r),s=this.$d.rg,this.$d.Kr(),s},l.yE=function(s){for(var r=s.ld;r!=-1;r=s.ue(r))if(c.aa.Hc(s.ic(r)))return!0;return!1},l.fQ=function(s,r,n,a){return!!l.yE(s)&&((r=new l(a)).g=s,r.qa=n,15>s.fd?s=r.nP():r.oP())},l.V=function(s,r,n){return l.fQ(s,s.IF(),r,n)},l.kI=function(s,r,n,a,u){if(!l.yE(r))return!1;var d=new l(u);if(d.g=r,d.qa=n,d.cA=s,d.lI())return a!=null&&a.Wt(d.Ni),!0;var f=new c.Dd;return f.$B(),r.Oc(f),(d=new l(u)).g=r,d.qa=n,d.cA=s,s=d.lI(),f.$B(),r.Oc(f),!!s&&(a!=null&&a.Wt(d.Ni),!0)},l.Ml=function(s,r){return!(16>(s=s.I()))&&2*s+Math.log(s)*Math.LOG10E/Math.log(2)*r<1*s*r},l.lP=function(s,r,n,a){var u=r.getType();if(c.aa.Hc(u))return new l(a).mP(s,r,n);throw c.i.fa("crack_A_with_B")},l.prototype.mP=function(s,r,n){var a=new c.l;s.xc(a);var u=new c.l;if(r.xc(u),u.W(n,n),!u.isIntersecting(a))return s;var d=s.Bb,f=null;d!=null&&(f=d.Fb),l.Ml(s,s.I())&&(f=c.ta.jj(s,u));var g=f!=null?f.getIterator():null,b=r.Ga();r=s.Ga();var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(u=[];b.$a();)for(;b.Ha();){var S=b.ha();if(f!=null){for(g.Uo(S,n),d=g.next();d!=-1;d=g.next())if(this.Xq(),r.Vb(f.ja(d),-1),r.Ha()){var T=(d=r.ha()).Ea(S,null,_,null,n);for(d=0;d<T;++d){var k=_[d];if(k!=0&&k!=1){var O=r.wb(),N=new y;N.t=k,N.index=O,u.push(N)}}}}else{var D=new c.l;if(S.xc(D),D.W(n,n),a.isIntersecting(D)){for(r.Zi();r.$a();)for(;r.Ha();)if(this.Xq(),d=r.ha(),k=new c.l,d.xc(k),k.isIntersecting(D))for(T=d.Ea(S,null,_,null,n),d=0;d<T;++d)(k=_[d])!=0&&k!=1&&(O=r.wb(),(N=new y).t=k,N.index=O,u.push(N))}}}if(u.length==0)return s;for(u=u.sort(y.Ey),s=s.Ia(),r.Zi();r.$a()&&!r.Ha(););for(n=r.ha(),a=new c.ig,f=-1,d=0,g=u.length;d<g;){for(_=u[d].index,b=d+1;b<g&&u[b].index==_;)++b;for(;r.wb()<_;){if(this.Xq(),S=r.Ha(),k=r.gb,(D=S||!r.On()||r.Pn())&&s.oc(n,f!=k),f=k,!S)for(;r.$a()&&!r.Ha(););n=r.ha()}for(_=0;d<b;d++)(k=u[d].t)!=_&&(n.ah(_,k,a),_=k,k=r.gb,s.oc(a.get(),f!=k),f=k);if((D=(S=r.Ha())||!r.On()||r.Pn())&&(n.ah(_,1,a),s.oc(a.get(),!1)),S)n=r.ha();else{for(;r.$a()&&!r.Ha(););n=r.Ha()?r.ha():null}d=b}for(n!=null&&(k=r.gb,(D=(S=r.Ha())||!r.On()||r.Pn())&&s.oc(n,f!=k),f=k),S=r.Ha();;){if(!S){for(;r.$a()&&!(S=r.Ha()););if(!S)break}n=r.ha(),k=r.gb,(D=(S=r.Ha())||!r.On()||r.Pn())&&s.oc(n,f!=k),f=k}return s},l}();c.$t=I;var y=function(){function l(){}return l.Ey=function(s,r){return s.index==r.index?s.t>r.t?1:s.t<r.t?-1:0:s.index>r.index?1:-1},l}()}(U||(U={})),function(c){var I;(I=c.KK||(c.KK={}))[I.Left=0]="Left",I[I.Right=1]="Right",I[I.Coincident=2]="Coincident",I[I.Undefined=3]="Undefined",I[I.Uncut=4]="Uncut";var y=function(r,n,a,u,d,f,g,b,_,S,T){this.X=r,this.bt=n,this.Ns=a,this.tg=u,this.Lm=S,this.Al=T};c.uY=y;var l=function(){function r(n,a){this.JH=n,this.Hi=a}return r.prototype.qM=function(n,a){var u=new c.h;this.Hi.D(n,u);var d=new c.h;return this.Hi.D(a,d),(u=u.compare(d))!=0?u:(n=this.Hi.Pa(n,this.JH))<(a=this.Hi.Pa(a,this.JH))?-1:n==a?0:1},r}(),s=function(r,n,a,u,d,f,g,b,_){this.tg=r,this.Ns=n,this.OA=a,this.UH=u,this.Ei=d,this.Al=f,this.Lm=g,this.VH=b,this.OT=_};c.tY=s,c.LK=function(){function r(){}return r.JK=function(n,a,u,d,f,g){if(a.B())n=new y(a,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),f.push(n);else if(u.B())n=new y(a,4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),f.push(n);else{var b=new c.gd;if(b.Ib(a),b.Ib(u),c.Tk.V(b,d,g,!0),b.fd==0)n=new y(a.Ia(),4,-1,-1,NaN,4,-1,-1,NaN,-1,-1),f.push(n);else{for(a=0,u=b.Gd(),d=b.ld;d!=-1;d=b.ue(d))for(g=b.Ob(d);g!=-1;g=b.Rb(g))for(var _=b.Xa(g),S=0,T=b.Ja(g);S<T;_=b.U(_),S++)b.Ra(_,u,a++);a=r.HM(u,b),r.cM(n,a,b,f)}}},r.HM=function(n,a){for(var u=a.fd,d=new c.ia(0),f=a.ld;f!=-1;f=a.ue(f))for(var g=a.Ob(f);g!=-1;g=a.Rb(g))for(var b=a.Xa(g),_=0,S=a.Ja(g);_<S;b=a.U(b),_++)d.add(b);var T=new l(n,a);d.Vd(0,u,function(st,it){return T.qM(st,it)}),n=[];var k=[],O=a.Gd(),N=a.Gd();f=a.ld,g=a.ue(f),S=new c.h;var D=new c.h,z=d.get(0),L=a.bd(z),F=a.Qf(L);a.D(z,S);var V=1;for(b=0;V<u-1;){var q=!1;for(_=V;_<u;_++)if(_!=b){var W=d.get(_),K=a.bd(W),tt=a.Qf(K);if(a.D(W,D),!S.qb(D))break;F==f&&tt==g&&(q=r.uM(O,N,a,n,k,L,z,K,W))}if(q||b==V-1){if(q&&b==V-1&&V--,++b==u)break;z=d.get(b),L=a.bd(z),F=a.Qf(L),a.D(z,S)}q||(V=b+1)}for(u=[],f=a.ld;f!=-1;f=a.ue(f))for(g=a.Ob(f);g!=-1;g=a.Rb(g))for(d=a.Xa(g),_=0,S=a.Ja(g);_<S;d=a.U(d),_++){if(0<=(b=a.Pa(d,N)))for(;b<k.length&&k[b].tg==d;)u.push(k[b++]);if(0<=(b=a.Pa(d,O)))for(;b<n.length&&n[b].tg==d;)u.push(n[b++])}return a.Td(O),a.Td(N),u},r.uM=function(n,a,u,d,f,g,b,_,S){var T=u.rj(g),k=u.rj(_),O=u.Xa(g),N=u.Xa(_),D=u.Ma(b),z=u.Ma(S),L=!1,F=!1,V=!1,q=!1;return b!=O&&(S!=N&&(L=r.vM(n,u,d,g,D,_,z)),S!=k&&(F=r.wM(n,u,d,g,D,_,S))),b!=T&&(S!=N&&(V=r.xM(a,u,f,g,b,_,z,O)),S!=k&&(q=r.yM(a,u,f,g,b,_,S,O))),L&&F&&V?(n=d.length-1,f[q?f.length-2:f.length-1].Ei==2&&(d[n-1]=d[n],--d.length)):L&&F&&q&&f[f.length-1].Ei==2&&(f=d[d.length-1],--d.length,u.Pa(f.tg,n)==d.length&&u.Ra(f.tg,n,-1)),L||F||V||q},r.vM=function(n,a,u,d,f,g,b){var _=new c.yb,S=new c.yb,T=[0,0],k=[0,0],O=a.bc(f);return O==null&&(a.ed(f,_),O=_),(_=a.bc(b))==null&&(a.ed(b,S),_=S),2>(O=O.Ea(_,null,T,k,0))&&(d=new s(f,d,T[0],NaN,O,b,g,k[0],NaN),u.push(d),0>(d=a.Pa(f,n))&&a.Ra(f,n,u.length-1)),!0},r.wM=function(n,a,u,d,f,g,b){var _=new c.yb,S=new c.yb,T=[0,0],k=[0,0],O=a.bc(f);return O==null&&(a.ed(f,_),O=_),(_=a.bc(b))==null&&(a.ed(b,S),_=S),2>(O=O.Ea(_,null,T,k,0))&&(d=new s(f,d,T[0],NaN,O,b,g,k[0],NaN),u.push(d),0>(d=a.Pa(f,n))&&a.Ra(f,n,u.length-1),!0)},r.xM=function(n,a,u,d,f,g,b,_){var S=new c.yb,T=new c.yb,k=[0,0],O=[0,0],N=a.bc(f);return N==null&&(a.ed(f,S),N=S),(S=a.bc(b))==null&&(a.ed(b,T),S=T),(N=N.Ea(S,null,k,O,0))==2?(d=new s(f,d,k[0],k[1],N,b,g,O[0],O[1]),u.push(d),0>(d=a.Pa(f,n))&&a.Ra(f,n,u.length-1),!0):(T=!1,f==_&&(d=new s(f,d,k[0],NaN,N,b,g,O[0],NaN),u.push(d),0>(d=a.Pa(f,n))&&a.Ra(f,n,u.length-1),T=!0),T)},r.yM=function(n,a,u,d,f,g,b,_){var S=new c.yb,T=new c.yb,k=[0,0],O=[0,0],N=a.bc(f);return N==null&&(a.ed(f,S),N=S),(S=a.bc(b))==null&&(a.ed(b,T),S=T),(N=N.Ea(S,null,k,O,0))==2?(d=new s(f,d,k[0],k[1],N,b,g,O[0],O[1]),u.push(d),0>(d=a.Pa(f,n))&&a.Ra(f,n,u.length-1),!0):(T=!1,f==_&&(d=new s(f,d,k[0],NaN,N,b,g,O[0],NaN),u.push(d),0>(d=a.Pa(f,n))&&a.Ra(f,n,u.length-1),T=!0),T)},r.cM=function(n,a,u,d){var f=[];f[0]=new c.h,f[1]=new c.h,f[2]=new c.h,f[3]=new c.h;var g=new c.h,b=new c.h,_=new c.h,S=new c.h,T=null;d!=null&&(T=new c.ig).Or();var k=0,O=null,N=new c.yb;new c.yb;for(var D=u.Ob(u.ld);D!=-1;D=u.Rb(D)){for(var z=4,L=-1,F=-1,V=-1,q=-1,W=NaN,K=!0,tt=!1,st=!0,it=!0,mt=!0,ct=0,Et=D,xt=0,qt=u.Xa(D),pe=u.Ja(D),Je=0;Je<pe;qt=u.U(qt),Je++){var ge=u.bc(qt);if(ge==null){if(!u.ed(qt,N))continue;ge=N}F==-1&&(F=qt);for(var Wt=0;k<a.length&&qt==a[k].tg;){L=a[k].Ns;var te=a[k].tg,zt=a[k].OA,ke=a[k].Lm,be=a[k].Al,mr=a[k].VH;if(a[k].Ei==2){if(tt||(Et=L,F=te,xt=zt,V=ke,q=be,W=mr,z=2,d!=null?O=new c.Ta:ct=0,mt=!1,it=!0),zt=a[k].UH,mr=a[k].OT,d!=null?(ge.ah(Wt,a[k].UH,T),O.oc(T.get(),it)):ct++,Wt=zt,tt=!0,it=K=!1,k+1==a.length||a[k+1].Ei!=2||a[k+1].tg==te&&a[k+1].OA!=Wt){if(d!=null){var Gt=new y(O,2,L,te,zt,z,Et,F,xt,ke,be);d.push(Gt)}else null.add(ct);Et=L,F=te,xt=zt,V=ke,q=be,W=mr,z=2,tt=K=!1,it=mt=!0}}else{var pi=u.U(te);if(k<a.length-1&&a[k+1].tg==pi&&a[k+1].Al==be&&a[k+1].Ei==2)zt!=Wt&&(mt&&(d!=null?O=new c.Ta:ct=0),K=0<k&&a[k-1].Ns==L?z==1?0:z==0?1:3:3,d!=null?(ge.ah(Wt,zt,T),O.oc(T.get(),it),Gt=new y(O,K,L,te,zt,z,Et,F,xt,ke,be),d.push(Gt)):(ct++,null.add(ct)),Wt=zt,Et=L,F=te,xt=zt,V=ke,q=be,W=mr,z=K,K=st=!1,it=mt=!0);else if(!r.CM(n,u,a,k,g,b)){r.zM(u,a,k,D,qt,_,S);var oe=!1;if(pi=!1,Gt=!0,!(g.qb(_)||b.qb(_)||g.qb(S)||b.qb(S))){f[0].L(g),f[1].L(b),f[2].L(_),f[3].L(S),f.sort(c.h.nu);var Ru=f[0],Lu=f[1],Du=f[2],Pp=f[3];Ru.qb(g)?Lu.qb(b)?n?(pi=oe=!0,Gt=!1):oe=!1:Pp.qb(b)?n?Gt=pi=oe=!0:oe=!1:(oe=!0,Gt=Lu.qb(_)):Lu.qb(g)?Du.qb(b)?n?(pi=oe=!0,Gt=!1):oe=!1:Ru.qb(b)?n?Gt=pi=oe=!0:oe=!1:(oe=!0,Gt=Du.qb(_)):Du.qb(g)?Pp.qb(b)?n?(pi=oe=!0,Gt=!1):oe=!1:Lu.qb(b)?n?Gt=pi=oe=!0:oe=!1:(oe=!0,Gt=Pp.qb(_)):Ru.qb(b)?n?(pi=oe=!0,Gt=!1):oe=!1:Du.qb(b)?n?Gt=pi=oe=!0:oe=!1:(oe=!0,Gt=Ru.qb(_))}oe&&(oe=qt==te,(zt!=Wt||oe&&Wt==0)&&(mt&&(d!=null?O=new c.Ta:ct=0),d!=null?(ge.ah(Wt,zt,T),O.oc(T.get(),it)):ct++),Gt?z!=1?((zt!=Wt||oe&&Wt==0)&&(d!=null?(Gt=new y(O,1,L,te,zt,z,Et,F,xt,ke,be),d.push(Gt)):null.add(ct)),pi?(k>=a.length-2||a[k+2].Ns!=L)&&(z=0):z=1):((zt!=Wt||oe&&Wt==0)&&(d!=null?(Gt=new y(O,3,L,te,zt,z,Et,F,xt,ke,be),d.push(Gt)):null.add(ct)),z=1):z!=0?((zt!=Wt||oe&&Wt==0)&&(d!=null?(Gt=new y(O,0,L,te,zt,z,Et,F,xt,ke,be),d.push(Gt)):null.add(ct)),pi?(k>=a.length-2||a[k+2].Ns!=L)&&(z=1):z=0):((zt!=Wt||oe&&Wt==0)&&(d!=null?(Gt=new y(O,3,L,te,zt,z,Et,F,xt,ke,be),d.push(Gt)):null.add(ct)),z=0),(zt!=Wt||oe&&Wt==0)&&(Wt=zt,Et=L,F=te,xt=zt,V=ke,q=be,W=mr,K=st=!1,it=mt=!0))}}k++}Wt!=1&&(mt&&(d!=null?O=new c.Ta:ct=0),d!=null?(ge.ah(Wt,1,T),O.oc(T.get(),it)):ct++,it=mt=!1,st=!0)}st&&(zt=1,te=u.rj(D),te=u.Ma(te),be=ke=-1,mr=NaN,K?d!=null?(Gt=new y(O,4,L,te,zt,z,Et,F,xt,ke,be),d.push(Gt)):null.add(ct):(K=z==1?0:z==0?1:3,d!=null?(Gt=new y(O,K,L,te,zt,z,Et,F,xt,ke,be),d.push(Gt)):null.add(ct)))}},r.CM=function(n,a,u,d,f,g){var b=u[d].VH;if(b==1)return r.AM(n,a,u,d,f,g);if(b==0)return r.BM(n,a,u,d,f,g);throw c.i.Qa()},r.AM=function(n,a,u,d,f,g){var b=new c.yb,_=u[d].tg,S=u[d].Lm,T=u[d].Al,k=-1,O=-1,N=-1,D=-1;if(!n&&0<d){var z=u[d-1];k=z.tg,O=z.Lm,N=z.Al,D=z.Ei}var L=-1,F=-1,V=-1,q=-1;d<u.length-1&&(L=(z=u[d+1]).tg,F=z.Lm,V=z.Al,q=z.Ei);var W=a.U(_);return z=a.U(T),n?d==u.length-1||L!=_||F!=S||V!=z||q==2?((n=a.bc(T))==null&&(a.ed(T,b),n=b),g.L(n.kg()),f.mt(g),g.normalize(),f.normalize(),!1):((n=a.bc(T))==null&&(a.ed(T,b),n=b),f.L(n.kg()),(n=a.bc(z))==null&&(a.ed(z,b),n=b),g.L(n.kg()),f.Sq(),g.normalize(),f.normalize(),!1):0<d&&k==_&&O==S&&N==z&&D==2||d<u.length-1&&L==W&&F==S&&V==z&&q==2?((n=a.bc(T))==null&&(a.ed(T,b),n=b),g.L(n.kg()),f.mt(g),g.normalize(),f.normalize(),!1):!(d<u.length-1&&L==_&&F==S&&V==z)||((n=a.bc(T))==null&&(a.ed(T,b),n=b),f.L(n.kg()),(n=a.bc(z))==null&&(a.ed(z,b),n=b),g.L(n.kg()),f.Sq(),g.normalize(),f.normalize(),!1)},r.BM=function(n,a,u,d,f,g){var b=new c.yb,_=u[d].tg,S=u[d].Lm,T=u[d].Al,k=-1,O=-1,N=-1,D=-1;if(!n&&d<u.length-1){var z=u[d+1];k=z.tg,O=z.Lm,N=z.Al,D=z.Ei}var L=-1,F=-1,V=-1;z=-1,0<d&&(L=(z=u[d-1]).tg,F=z.Lm,V=z.Al,z=z.Ei);var q=a.U(_),W=a.Ma(T);return n?d!=0&&L==_&&F==S&&V==W&&z!=2||((n=a.bc(T))==null&&(a.ed(T,b),n=b),g.L(n.kg()),f.mt(g),g.normalize(),f.normalize(),!1):!(0<d&&L==_&&F==S&&V==W&&z==2||d<u.length-1&&k==q&&O==S&&N==W&&D==2)||((n=a.bc(T))==null&&(a.ed(T,b),n=b),g.L(n.kg()),f.mt(g),g.normalize(),f.normalize(),!1)},r.zM=function(n,a,u,d,f,g,b){var _=new c.yb,S=n.bc(f);if(S==null&&(n.ed(f,_),S=_),a=(u=a[u]).tg,u=u.OA,f=n.U(a),u==1)g.L(S.kg()),f!=-1&&f!=n.rj(d)?((S=n.bc(f))==null&&(n.ed(f,_),S=_),b.L(S.kg()),(S=n.bc(a))==null&&n.ed(a,_)):b.L(g),g.Sq(),b.normalize(),g.normalize();else{if(u!=0)throw c.i.Qa();b.L(S.kg()),g.mt(b),b.normalize(),g.normalize()}},r}()}(U||(U={})),function(c){var I;(I=c.bM||(c.bM={}))[I.Linear=0]="Linear",I[I.Angular=1]="Angular",I[I.Area=2]="Area";var y=function(){function d(f,g,b){this.od=g,this.ai=b,this.vA=f}return d.prototype.Nb=function(f){return f instanceof d&&this.ai===f.ai},d.aG=function(f){return f.od!==0?null:f.vA===-1?new d(-1,2,f.ai*f.ai):d.Zg(a[f.vA])},d.Zg=function(f){return(f=n[f])===void 0?null:f},d.ZO=function(f,g,b){var _=null;if(b!=null)try{b.values[0]==="EPSG"&&(_=d.Zg(parseInt(b.values[1])))}catch{}return _===null&&(_=new d(-1,f,g)),_},d.prototype.Ec=function(){return this.vA},d.prototype.CF=function(f){if(f.od!=this.od)throw c.i.Hb();return this.ai/f.ai},d.Nh=function(f,g,b){return g.CF(b)*f},d.XE=function(f,g,b,_,S){for(b=b.CF(_),_=0;_<g;_++)S[_]=f[_]*b},d}();c.Tc=y;for(var l=[109401,1e4,109402,4046.8564224,109403,4046.87260987425,109404,1,109405,.09290304,109406,.09290341161327487,109407,.09290137299531805,109408,3.34450944,109409,3429904,109410,1.000027193184865,109411,404.6872609874253,109412,.04046872609874253,109413,2.5899984703195216e6,109414,1e6,109415,.8361123569578626,109416,404.67838076760535,109417,.04046783807676053,109418,.8361244606523066,109419,.09290271785025629,109420,404.68423895571647,109421,.04046842389557164,109422,.83612589696064,109423,.0929028774400711,109424,404.6849341289498,109425,.04046849341289498,109426,.836125904805842,109427,.09290287831176021,109428,404.68493792602754,109429,.04046849379260275,109430,.09290354800069446,109431,.09290274144751023,109432,.09290207073852812,109433,.09290279616016,109434,.09290273520025,109435,.836124673027592,109436,.836118636646753,109437,.8361251654414399,109438,.83612461680225,109439,2589988110336e-6,109440,.09290286332673177,109441,.09290349665192114,109442,.83612736,109443,.8361307045194736,109444,404.68564224000005,109445,.04046856422400001,109446,.8361237024040001,109447,.0929026336004445,109448,404.683871963536,109449,.0404683871963536,109450,.01,109451,1e-4,109452,1e-6,109453,64516e-8,109454,.0006451625806477421,109455,25.292852640000003,109456,25.29295381171408,109457,3.4345281495040003e6,109458,3434290937856e-6,109459,2.89612324,109460,25e8,109461,225e8,109462,.7168473118308245,109463,100,109464,1244521604938272e-22,109465,1e-12,109466,1e-18],s=[1031,484813681109536e-23,9101,1,9102,.0174532925199433,9103,.0002908882086657216,9104,484813681109536e-20,9105,.01570796326794897,9106,.01570796326794897,9109,1e-6,9112,.0001570796326794897,9113,1570796326794897e-21,9114,.0009817477042468104],r=[1025,.001,109452,1033,.01,109451,9001,1,109404,9002,.3048,109405,9003,.3048006096012192,109406,9005,.3047972654,109407,9014,1.8288,109408,9030,1852,109409,9031,1.0000135965,109410,9033,20.11684023368047,109411,9034,.2011684023368047,109412,9035,1609.3472186944375,109413,9036,1e3,109414,9037,.9143917962000001,109415,9038,20.1166195164,109416,9039,.201166195164,109417,9040,.9143984146160287,109418,9041,.304799471538676,109419,9042,20.116765121552632,109420,9043,.2011676512155263,109421,9050,.9143992,109422,9051,.3047997333333333,109423,9052,20.1167824,109424,9053,.201167824,109425,9060,.9143992042898124,109426,9061,.3047997347632708,109427,9062,20.116782494375872,109428,9063,.2011678249437587,109429,9070,.3048008333333334,109430,9080,.3047995102481469,109431,9081,.30479841,109432,9082,.3047996,109433,9083,.3047995,109434,9084,.9143985307444408,109435,9085,.91439523,109436,9086,.9143988,109437,9087,.9143985,109438,9093,1609.344,109439,9094,.3047997101815088,109440,9095,.3048007491,109441,9096,.9144,109442,9097,20.1168,109444,9098,.201168,109445,9099,.914398,109446,9300,.3047993333333334,109447,9301,20.116756,109448,9302,.20116756,109449,109001,.9144,109442,109002,.9144018288036576,109443,109003,20.1168,109444,109004,.201168,109445,109005,.1,109450,109006,.01,109451,109007,.001,109452,109008,.0254,109453,109009,.0254000508001016,109454,109010,5.0292,109455,109011,5.029210058420118,109456,109012,1853.248,109457,109013,1853.184,109458,109014,1.7018,109459,109015,.8466683600033867,109462,109016,.0003527777777777778,109464,109017,1e-6,109465,109018,1e-9,109466,109030,5e4,109460,109031,15e4,109461],n=[],a=[],u=0;u<l.length;u+=2)n[l[u]]=new y(l[u],2,l[u+1]);for(l=null,u=0;u<s.length;u+=2)n[s[u]]=new y(s[u],1,s[u+1]);for(s=null,u=0;u<r.length;u+=3)n[r[u]]=new y(r[u],0,r[u+1]),a[r[u]]=r[u+2];r=null}(U||(U={})),function(c){var I=function(){function y(){this.xb=this.pb=0}return y.prototype.set=function(l,s){s!==void 0?(this.pb=l,this.xb=s):typeof l=="number"?(this.pb=l,this.xb=0):(this.pb=l.pb,this.xb=l.xb)},y.prototype.value=function(){return this.pb},y.prototype.add=function(l){var s=this.pb+l.pb;l=this.xb+l.xb+2220446049250313e-31*Math.abs(s),this.pb=s,this.xb=l},y.prototype.kN=function(){var l=this.pb+1,s=this.xb+2220446049250313e-31*Math.abs(l);this.pb=l,this.xb=s},y.prototype.dN=function(l,s){this.pb=l.pb+s.pb,this.xb=l.xb+s.xb+2220446049250313e-31*Math.abs(this.pb)},y.prototype.sub=function(l){if(typeof l=="number"){var s=this.pb-l;l=this.xb+2220446049250313e-31*Math.abs(s)}else s=this.pb-l.pb,l=this.xb+l.xb+2220446049250313e-31*Math.abs(s);this.pb=s,this.xb=l},y.prototype.Ag=function(l){var s=this.pb*l.pb;this.xb=this.xb*Math.abs(l.pb)+l.xb*Math.abs(this.pb)+this.xb*l.xb+2220446049250313e-31*Math.abs(s),this.pb=s},y.prototype.No=function(l){var s=this.pb*l;this.xb=this.xb*Math.abs(l)+2220446049250313e-31*Math.abs(s),this.pb=s},y.prototype.Kl=function(l,s){var r=Math.abs(l.pb)*Math.abs(s.pb);this.xb=l.xb*Math.abs(s.pb)+s.xb*Math.abs(l.pb)+l.xb*s.xb+2220446049250313e-31*Math.abs(r),this.pb=r},y.prototype.jm=function(l){var s=Math.abs(l.pb),r=this.pb/l.pb,n=(this.xb+Math.abs(r)*l.xb)/s;l.xb>.01*s&&(n*=1+(1+(l=l.xb/s))*l),this.pb=r,this.xb=n+2220446049250313e-31*Math.abs(r)},y.prototype.sqrt=function(){if(0<=this.pb){var l=Math.sqrt(this.pb),s=this.pb>10*this.xb?.5*this.xb/l:this.pb>this.xb?l-Math.sqrt(this.pb-this.xb):Math.max(l,Math.sqrt(this.pb+this.xb)-l);s+=2220446049250313e-31*Math.abs(l)}else this.pb<-1*this.xb?s=l=NaN:(l=0,s=Math.sqrt(this.xb));this.pb=l,this.xb=s},y.prototype.sin=function(l){var s=Math.sin(l.pb),r=Math.cos(l.pb);this.pb=s,s=Math.abs(s),this.xb=(Math.abs(r)+.5*s*l.xb)*l.xb+2220446049250313e-31*s},y.prototype.cos=function(l){var s=Math.sin(l.pb),r=Math.cos(l.pb);this.pb=r,r=Math.abs(r),this.xb=(Math.abs(s)+.5*r*l.xb)*l.xb+2220446049250313e-31*r},y.prototype.qg=function(){return Math.abs(this.pb)<=this.xb},y.prototype.ps=function(){return this.qg()&&this.xb!=0},y}();c.Wb=I}(U||(U={}));var De=new U.h,cn=new U.h,Gn=new U.h,qn=new U.h,Ws=new U.h;(function(c){var I,y;(y=I||(I={}))[y.closedPath=1]="closedPath",y[y.exteriorPath=2]="exteriorPath",y[y.ringAreaValid=4]="ringAreaValid";var l=function(){function s(r,n,a,u,d,f,g){n!==void 0?(this.ib=r,this.ck=n,this.bl=a,this.ii=u,this.ya=f,this.hA=g,this.ew=d):(this.ib=r.ib,this.ck=r.ck,this.bl=r.bl,this.ii=r.ii,this.ya=r.ya,this.hA=r.hA,this.ew=r.ew),this.bH=!0}return s.prototype.next=function(){return this.bH?(this.bH=!1,this.ii):this.ii!=-1?(this.ii=this.ib.U(this.ii),this.ya++,this.ii!=-1&&this.ii!=this.ew?this.ii:this.$T()):-1},s.prototype.$T=function(){for(this.bl=this.ib.Rb(this.bl),this.ya=0;this.ck!=-1;){for(;this.bl!=-1;this.bl=this.ib.Rb(this.bl))if(this.ew=this.ii=this.ib.Xa(this.bl),this.ii!=-1)return this.ii;if(this.ck=this.ib.ue(this.ck),this.ck==-1)break;this.hA&&!c.aa.Hc(this.ib.ic(this.ck))||(this.bl=this.ib.Ob(this.ck))}return-1},s.AP=function(r,n,a,u,d,f,g){return new s(r,n,a,u,d,f,g)},s}();c.zY=l,I=function(){function s(){this.jo=this.Am=this.wk=this.cd=this.Ck=this.vo=this.Oi=this.md=this.bi=this.Sg=this.We=this.Il=null,this.qw=this.ld=-1,this.fd=0,this.fA=!1,this.ht=this.it=this.vb=null}return s.prototype.Sh=function(r){return this.We!=null?this.We[r]:null},s.prototype.Xg=function(r,n){if(this.We==null){if(n==null)return;this.We=[];for(var a=0,u=this.vb.I();a<u;a++)this.We.push(null)}this.We[r]=n},s.prototype.bp=function(r,n){this.md.S(r,1,n)},s.prototype.ap=function(r,n){this.md.S(r,2,n)},s.prototype.VB=function(r,n){this.md.S(r,6,n)},s.prototype.Sp=function(r){return this.md.T(r,6)},s.prototype.gx=function(r,n){this.md.S(r,7,n)},s.prototype.qv=function(r){return this.md.T(r,0)},s.prototype.OJ=function(r,n){this.cd.S(r,1,n)},s.prototype.SJ=function(r,n){this.cd.S(r,0,n)},s.prototype.JF=function(r){return this.cd.T(r,7)},s.prototype.Zo=function(r,n){this.cd.S(r,3,n)},s.prototype.$o=function(r,n){this.cd.S(r,4,n)},s.prototype.uU=function(r){this.cd==null&&(this.cd=new c.$c(8));var n=this.cd.Ce();return this.cd.S(n,2,r),this.cd.S(n,5,0),this.cd.S(n,6,0),this.cd.S(n,7,n),n},s.prototype.OQ=function(r){this.cd.jd(r)},s.prototype.wU=function(r){this.md==null&&(this.md=new c.$c(8),this.td=new c.$c(5),this.Oi=new c.be(0),this.vo=new c.be(0));var n=this.md.Ce();return this.md.S(n,0,n),this.md.S(n,3,0),this.md.S(n,6,0),this.gx(n,r),n>=this.Oi.size&&(r=16>n?16:c.O.truncate(3*n/2),this.Oi.resize(r),this.vo.resize(r)),this.Oi.set(n,0),this.vo.set(n,0),n},s.prototype.sF=function(r){this.md.jd(r)},s.prototype.Vy=function(r){this.td.jd(r),this.fd--},s.prototype.oI=function(r){this.md==null&&(this.md=new c.$c(8),this.td=new c.$c(5),this.Oi=new c.be(0),this.vo=new c.be(0));var n=this.td.Ce(),a=0<=r?r:n;if(this.td.S(n,0,a),0>r){if(a>=this.vb.I()){if(r=16>a?16:c.O.truncate(3*a/2),this.vb.resize(r),this.We!=null)for(var u=0;u<r;u++)this.We.push(null);this.Sg!=null&&this.Sg.resize(r),this.it=this.vb.ub(0)}this.vb.Cb(a,-1e38,-1e38),this.We!=null&&(this.We[a]=null),this.Sg!=null&&this.Sg.write(a,1)}return this.td.S(n,4,2*a),this.fd++,n},s.prototype.wj=function(r,n,a){var u=n!=-1?this.Ma(n):this.rj(r),d=u!=-1?this.U(u):-1,f=this.oI(a==null?this.fd:-1),g=this.Ua(f);return a!=null&&this.vb.Ht(g,a),this.aj(f,r),this.Bc(f,d),this.Cc(f,u),d!=-1&&this.Cc(d,f),u!=-1&&this.Bc(u,f),a=this.dc(r),u=this.Xa(r),n==-1&&this.Wg(r,f),n==u&&this.Jf(r,f),a&&d==-1&&(this.Bc(f,f),this.Cc(f,f)),this.Vj(r,this.Ja(r)+1),r=this.Qf(r),this.Tj(r,this.I(r)+1),f},s.prototype.nm=function(){return this.jo==null&&(this.jo=new c.Sa(this.vb.description)),this.jo},s.prototype.Yo=function(r,n){this.cd.S(r,2,-134217729&this.cd.T(r,2)||(n==1?134217728:0))},s.prototype.In=function(r){return 134217728&this.cd.T(r,2)?1:0},s.prototype.hN=function(r){var n=this.Ig(r.getType(),r.description);return r.getType()==1736&&this.Yo(n,r.In()),this.UD(n,r),n},s.prototype.iN=function(r){var n=this.Ig(r.getType(),r.description);return this.VD(n,r),n},s.prototype.XV=function(r,n){this.md==null&&(this.md=new c.$c(8),this.td=new c.$c(5),this.Oi=new c.be(0),this.vo=new c.be(0)),this.md.De(this.md.Hg+r),this.td.De(this.td.Hg+n),this.Oi.Jb(this.Oi.size+r),this.vo.Jb(this.vo.size+r)},s.prototype.UD=function(r,n){this.XV(n.da(),n.I()),this.Il.Fd(n,0,n.I()),this.it=this.vb.ub(0);for(var a=this.We!=null&&n.Ve!=null,u=0,d=n.da();u<d;u++)if(!(2>n.Ja(u))){var f=this.vf(r,-1);this.kn(f,n.dc(u));for(var g=n.Ba(u),b=n.Vc(u);g<b;g++){var _=this.wj(f,-1,null);if(a)if(_=this.Ua(_),1&n.ZF(g))this.Xg(_,null);else{var S=new c.ig;n.bc(g,S,!0),this.Xg(_,S.get())}}}},s.prototype.VD=function(r,n){this.Il.Fd(n,0,n.I()),this.it=this.vb.ub(0),r=this.vf(r,-1);var a=0;for(n=n.I();a<n;a++)this.wj(r,-1,null)},s.prototype.NX=function(r,n,a){var u=this.U(r);if(u==-1)throw c.i.Qa();for(var d=this.nm(),f=this.bd(r),g=0,b=n.ol(a);g<b;g++){var _=this.Ua(r),S=this.U(r),T=n.Vp(a,g);g==0&&(T.To(d),this.Dh(r,d)),T.getType()==322?this.Xg(_,null):this.Xg(_,c.aa.jg(T)),T.Po(d),g<b-1?r=this.wj(f,S,d):this.Dh(u,d)}},s.prototype.MX=function(r,n,a){var u=this.U(r);if(u==-1)throw c.i.Qa();for(var d=this.nm(),f=this.bd(r),g=0,b=n.ol(a);g<b;g++){var _=this.Ua(r),S=this.U(r),T=n.Vp(a,b-g-1);g==0&&(T.Po(d),this.Dh(r,d)),T.getType()==322?this.Xg(_,null):this.Xg(_,c.aa.jg(T)),T.To(d),g<b-1?r=this.wj(f,S,d):this.Dh(u,d)}},s.prototype.IF=function(){var r=new c.l;r.Oa();for(var n=this.Yq(),a=new c.h,u=!0,d=n.next();d!=-1;d=n.next())this.D(d,a),u?r.Zb(a.x,a.y):r.Lk(a.x,a.y),u=!1;return r},s.prototype.Ib=function(r){var n=r.getType();if(c.aa.Hc(n))return this.hN(r);if(n==550)return this.iN(r);throw c.i.Qa()},s.prototype.uN=function(r,n){var a=n.getType();if(c.aa.Hc(a))this.UD(r,n);else{if(a!=550)throw c.i.Qa();this.VD(r,n)}},s.prototype.mN=function(r,n){var a=this.Ig(1736,r.description);if(2>r.Ja(n))return a;this.Il.Fd(r,r.Ba(n),r.Vc(n)),this.it=this.vb.ub(0);var u=this.vf(a,-1);this.kn(u,r.dc(n)||!0);var d=this.We!=null&&r.Ve!=null,f=r.Ba(n);for(n=r.Vc(n);f<n;f++){var g=this.wj(u,-1,null);if(d)if(g=this.Ua(g),1&r.ZF(f))this.Xg(g,null);else{var b=new c.ig;r.bc(f,b,!0),this.Xg(g,b.get())}}return a},s.prototype.Ne=function(r){var n=this.ic(r),a=c.ZK.Ig(n,this.Il.description),u=this.I(r);if(u==0)return a;if(c.aa.Hc(n)){n=this.da(r);for(var d=c.Yc.Oh(n+1),f=c.Yc.Mr(n+1,0),g=a.description,b=0,_=g.Aa;b<_;b++){for(var S=g.kd(b),T=c.ra.Va(S),k=c.Yc.YE(S,u),O=this.vb.ub(S),N=0,D=0,z=0,L=this.Ob(r);L!=-1;L=this.Rb(L)){var F=0;this.dc(L)&&(F|=1),this.YS(L)&&(F|=4),F!=0&&f.zJ(D,F);var V=this.Ja(L);if(d.write(D++,z),z+=V,S==0){V=O;var q=k,W=new c.h;for(F=this.Xa(L);N<z;F=this.U(F),N++){var K=this.Ua(F);V.tc(2*K,W),q.Tt(2*N,W)}}else for(F=this.Xa(L);N<z;F=this.U(F),N++)for(K=this.Ua(F),q=0;q<T;q++)W=O.eg(K*T+q),k.pr(N*T+q,W)}a.hn(S,k),d.write(n,u)}a.PJ(f),a.QJ(d),a.Pc(16777215)}else if(n==550){for(g=a.description,a.resize(u),b=0,_=g.Aa;b<_;b++){for(S=g.kd(b),T=c.ra.Va(S),k=a.ub(S),O=this.vb.ub(S),N=0,L=this.Ob(r),V=this.Ja(L),F=this.Xa(L);N<V;F=this.U(F),N++)for(K=this.Ua(F),q=0;q<T;q++)W=O.eg(K*T+q),k.pr(N*T+q,W);a.hn(S,k)}a.Pc(16777215)}return a},s.prototype.BB=function(r){for(var n=this.Ob(r);n!=-1;n=this.Zq(n));n=this.PR(r);var a=this.ue(r);n!=-1?this.OJ(n,a):this.ld=a,a!=-1?this.SJ(a,n):this.qw=n,this.OQ(r)},s.prototype.Ig=function(r,n){return n===void 0?this.$E(r,c.ee.og()):this.$E(r,n)},s.prototype.$E=function(r,n){return r=this.uU(r),this.vb==null?this.vb=this.Il=new c.de(n):this.Il.Jl(n),this.ht=this.Il.description,this.fA=1<this.ht.Aa,this.ld==-1?this.ld=r:(this.SJ(r,this.qw),this.OJ(this.qw,r)),this.qw=r},s.prototype.ue=function(r){return this.cd.T(r,1)},s.prototype.PR=function(r){return this.cd.T(r,0)},s.prototype.ic=function(r){return 2147483647&this.cd.T(r,2)},s.prototype.HJ=function(r,n,a){n=this.wk[n],(r=this.JF(r))>=n.size&&n.resize(Math.max(c.O.truncate(1.25*r),16),-1),n.write(r,a)},s.prototype.KF=function(r,n){return(r=this.JF(r))<(n=this.wk[n]).size?n.read(r):-1},s.prototype.aF=function(){this.wk==null&&(this.wk=[]);for(var r=0;r<this.wk.length;r++)if(this.wk[r]==null)return this.wk[r]=c.Yc.Oh(0),r;return this.wk.push(c.Yc.Oh(0)),this.wk.length-1},s.prototype.xW=function(r){this.wk[r]=null},s.prototype.Ob=function(r){return this.cd.T(r,3)},s.prototype.kv=function(r){return this.cd.T(r,4)},s.prototype.I=function(r){return this.cd.T(r,5)},s.prototype.da=function(r){return this.cd.T(r,6)},s.prototype.Gp=function(r,n,a){for(var u=0,d=this.ld;d!=-1;d=this.ue(d)){var f=this.ic(d);if(c.aa.Hc(f)&&(!a||f==1736)){f=this.ic(d)==1736;for(var g=this.Ob(d);g!=-1;){for(var b=0,_=this.Xa(g);b<c.O.truncate(this.Ja(g)/2);){var S=this.U(_);if(S==-1)break;var T=this.Ua(_),k=this.Sh(T);k!=null?T=k.Qb():(k=this.Ua(S),T=this.vb.yr(T,k)),T<=r?(T==0?u==0&&(u=-1):u=1,S!=this.rj(g)&&(this.lC(S,_),this.pd(S,!0))):_=this.U(_),b++}for(b=this.Xa(g),_=this.dc(g)?b:this.rj(g);0<this.Ja(g);){if((S=this.Ma(_))==-1){this.pd(_,!0),u==0&&(u=-1);break}var O=this.Ua(S);if((k=this.Sh(O))!=null?T=k.Qb():(T=this.Ua(_),T=this.vb.yr(T,O)),T<=r)T==0?u==0&&(u=-1):u=1,this.lC(S,_),this.pd(S,!1),b==S&&(b=this.Xa(g));else if((_=this.Ma(_))==b)break}_=this.Ja(g),n&&(f?3>_:2>_)?(g=this.Zq(g),u=0<_?1:u==0?-1:u):g=this.Rb(g)}}}return u},s.prototype.lC=function(r,n){var a=this.Ua(r),u=this.Ua(n);if(this.Sg!=null&&(a=this.Sg.read(a),this.Sg.write(u,a)),this.bi!=null){for(u=0,a=this.bi.length;u<a;u++)if(this.bi[u]!=null){var d=this.Pa(r,u);d!=-1&&this.Ra(n,u,d)}}},s.prototype.Ul=function(r,n,a){var u=0,d=this.U(r);if(d==-1)throw c.i.Qa();for(var f=this.Ua(r),g=this.Ua(d),b=this.Sh(f),_=b==null?this.vb.yr(f,g):b.Qb(),S=0;S<a;S++){var T=n[S];if(0<T&&1>T){var k=T;b!=null&&(k=0<_?b.Ux(T)/_:0),this.vb.kD(f,g,k,this.nm());var O=this.wj(this.bd(r),d,this.nm());if(u++,b!=null){var N=b.dl(0,T);k=this.Ua(this.Ma(O)),this.Xg(k,N),this.mf(O,N.wc()),S!=a-1&&n[S+1]!=1||(T=b.dl(T,1),this.Xg(k,T))}}}return u},s.prototype.LX=function(r,n,a){var u=0,d=this.U(r);if(d==-1)throw c.i.fa("internal error");var f=this.Ua(r),g=this.Ua(d),b=this.Sh(f),_=b==null?this.vb.yr(f,g):b.Qb(),S=0;r=this.bd(r);for(var T=0;T<a;T++){var k=n[T];if(S<k&&1>k){var O=k;if(b!=null&&(O=0<_?b.Ux(k)/_:0),this.vb.kD(f,g,O,this.nm()),O=this.yS(r,d,this.nm()),u++,b!=null){S=b.dl(S,k);var N=this.Ua(this.Ma(O));this.Xg(N,S),this.Cb(O,S.pa,S.la),T!=a-1&&n[T+1]!=1||(S=b.dl(k,1),O=this.Ua(O),this.Xg(O,S))}}S=k}return u},s.prototype.yS=function(r,n,a){var u=n!=-1?this.Ma(n):this.rj(r),d=u!=-1?this.U(u):-1,f=this.oI(a==null?this.fd:-1),g=this.Ua(f);return a!=null&&this.vb.Ht(g,a),this.aj(f,r),this.Bc(f,d),this.Cc(f,u),d!=-1&&this.Cc(d,f),u!=-1&&this.Bc(u,f),a=this.dc(r),u=this.Xa(r),n==-1&&this.Wg(r,f),n==u&&(a&&u!=-1||this.Jf(r,f)),a&&d==-1&&(this.Bc(f,f),this.Cc(f,f)),this.Vj(r,this.Ja(r)+1),r=this.Qf(r),this.Tj(r,this.I(r)+1),f},s.prototype.uE=function(r,n,a){var u=this.Ua(n),d=this.Ua(a);if(0>u||d>this.fd-1)throw c.i.N("invalid call");if(u>d&&!this.dc(r))throw c.i.N("cannot iterate across an open path");for(r=0;n!=a;n=this.U(n))u=this.Ua(n),(d=this.Sh(u))!=null?r+=d.Qb():(d=this.Ua(this.U(n)),r+=this.vb.yr(u,d));return r},s.prototype.Dh=function(r,n){var a=this.Ua(r);this.vb.Ht(a,n),(a=this.Sh(a))!=null&&a.setStart(n),(r=this.Ma(r))!=-1&&(r=this.Ua(r),this.Sh(r)!=null&&a.setEnd(n))},s.prototype.Vi=function(r,n){r=this.Ua(r),this.vb.ve(r,n)},s.prototype.mf=function(r,n){this.Cb(r,n.x,n.y)},s.prototype.Cb=function(r,n,a){var u=this.Ua(r);this.vb.Cb(u,n,a),(u=this.Sh(u))!=null&&u.ZB(n,a),(r=this.Ma(r))!=-1&&(r=this.Ua(r),this.Sh(r)!=null&&u.Ql(n,a))},s.prototype.D=function(r,n){this.vb.D(this.td.T(r,0),n)},s.prototype.Gc=function(r,n){this.vb.za[0].tc(2*this.td.T(r,0),n)},s.prototype.Na=function(r){var n=new c.h;return this.vb.D(this.td.T(r,0),n),n},s.prototype.dG=function(r,n){this.it.tc(2*r,n)},s.prototype.Uc=function(r,n,a){return this.vb.Uc(r,this.Ua(n),a)},s.prototype.setAttribute=function(r,n,a,u){this.vb.setAttribute(r,this.Ua(n),a,u)},s.prototype.Ua=function(r){return this.td.T(r,0)},s.prototype.ih=function(){var r=new c.h;return this.D(void 0,r),r.y},s.prototype.fq=function(r,n){r=this.Ua(r),n=this.Ua(n);var a=this.vb.za[0].o;return a[2*r]===a[2*n]&&a[2*r+1]===a[2*n+1]},s.prototype.Dv=function(r,n){r=this.Ua(r);var a=this.vb.za[0].o;return a[2*r]===n.x&&a[2*r+1]===n.y},s.prototype.vX=function(r,n){if(1>n&&(n=1),this.Sg==null){if(n==1)return;this.Sg=c.Yc.Dn(this.vb.I(),1)}(r=this.Ua(r))>=this.Sg.size&&this.Sg.resize(r+1,1),this.Sg.write(r,n)},s.prototype.cG=function(r){return r=this.Ua(r),this.Sg==null||r>=this.Sg.size?1:this.Sg.read(r)},s.prototype.Ra=function(r,n,a){n=this.bi[n],r=this.Ua(r),n.size<this.vb.I()&&n.resize(this.vb.I(),-1),n.write(r,a)},s.prototype.Pa=function(r,n){return(r=this.Ua(r))<(n=this.bi[n]).size?n.read(r):-1},s.prototype.Gd=function(){this.bi==null&&(this.bi=[]);for(var r=0;r<this.bi.length;r++)if(this.bi[r]==null)return this.bi[r]=c.Yc.Oh(0,-1),r;return this.bi.push(c.Yc.Oh(0,-1)),this.bi.length-1},s.prototype.Td=function(r){this.bi[r]=null},s.prototype.bc=function(r){return this.We!=null?(r=this.Ua(r),this.We[r]):null},s.prototype.ed=function(r,n){var a=this.td.T(r,2);if(a==-1)return!1;if(this.fA){var u=new c.Sa;this.Vi(r,u),n.setStart(u),this.Vi(a,u),n.setEnd(u)}else this.vb.Gc(this.td.T(r,0),De),n.em(0,De),this.vb.Gc(this.td.T(a,0),De),n.em(1,De);return!0},s.prototype.mW=function(r,n,a){if(this.fA){var u=new c.Sa;this.Vi(r,u),a.setStart(u),this.Vi(n,u),a.setEnd(u)}else this.vb.Gc(r,De),a.em(0,De),this.vb.Gc(n,De),a.em(1,De)},s.prototype.vf=function(r,n){if(n!=-1){if(r!=this.Qf(n))throw c.i.Qa();var a=this.cs(n)}else a=this.kv(r);var u=this.wU(r);return n!=-1&&this.bp(n,u),this.ap(u,n),this.bp(u,a),a!=-1?this.ap(a,u):this.Zo(r,u),n==-1&&this.$o(r,u),this.Rl(r,this.da(r)+1),u},s.prototype.nG=function(r,n,a,u){r=this.vf(r,-1);for(var d=0,f=n,g=!1;f==a&&(g=!0),this.aj(f,r),d++,(f=this.U(f))!=n;);return this.kn(r,!0),this.Vj(r,d),g&&(n=a),this.Jf(r,n),this.Wg(r,this.Ma(n)),this.cp(r,!1),u!=null&&(u[0]=g),r},s.prototype.Zq=function(r){var n=this.cs(r),a=this.Rb(r),u=this.Qf(r);return n!=-1?this.ap(n,a):this.Zo(u,a),a!=-1?this.bp(a,n):this.$o(u,n),this.AO(r),this.Rl(u,this.da(u)-1),this.sF(r),a},s.prototype.AO=function(r){var n=this.Xa(r);if(n!=-1){for(var a=0,u=this.Ja(r);a<u;a++){var d=n;n=this.U(n),this.Vy(d)}n=this.Qf(r),this.Tj(n,this.I(n)-this.Ja(r))}this.Vj(r,0)},s.prototype.Rb=function(r){return this.md.T(r,2)},s.prototype.cs=function(r){return this.md.T(r,1)},s.prototype.Ja=function(r){return this.md.T(r,3)},s.prototype.dc=function(r){return!!(1&this.Sp(r))},s.prototype.kn=function(r,n){if(this.dc(r)!=n){if(0<this.Ja(r)){var a=this.Xa(r),u=this.rj(r);n?(this.Bc(u,a),this.Cc(a,u),a=this.Ua(u)):(this.Bc(u,-1),this.Cc(a,-1),a=this.Ua(u)),this.Xg(a,null)}this.VB(r,(1|this.Sp(r))-1|(n?1:0))}},s.prototype.Qf=function(r){return this.md.T(r,7)},s.prototype.YS=function(r){return!!(2&this.Sp(r))},s.prototype.PB=function(r,n){this.VB(r,(2|this.Sp(r))-2|(n?2:0))},s.prototype.wz=function(r){if(this.cT(r))return this.Oi.get(this.qv(r));var n=new c.yb,a=this.Xa(r);if(a==-1)return 0;var u=new c.h;this.D(a,u);for(var d=0,f=0,g=this.Ja(r);f<g;f++,a=this.U(a)){var b=this.bc(a);if(b==null){if(!this.ed(a,n))continue;b=n}d+=b.Tx(u.x,u.y)}return this.cp(r,!0),this.Oi.set(this.qv(r),d),d},s.prototype.gr=function(r,n,a){n=this.Ck[n],r=this.qv(r),n.size<this.Oi.size&&n.resize(this.Oi.size,-1),n.write(r,a)},s.prototype.sj=function(r,n){return(r=this.qv(r))<(n=this.Ck[n]).size?n.read(r):-1},s.prototype.Ky=function(){this.Ck==null&&(this.Ck=[]);for(var r=0;r<this.Ck.length;r++)if(this.Ck[r]==null)return this.Ck[r]=c.Yc.Oh(0),r;return this.Ck.push(c.Yc.Oh(0)),this.Ck.length-1},s.prototype.CB=function(r){this.Ck[r]=null},s.prototype.ZT=function(r,n,a){if(a==-1)throw c.i.N();if(n!=a){var u=this.Rb(a),d=this.cs(a),f=this.Qf(a);d==-1?this.Zo(f,u):this.ap(d,u),u==-1?this.$o(f,d):this.bp(u,d),this.Tj(f,this.I(f)-this.Ja(a)),this.Rl(f,this.da(f)-1),d=n==-1?this.kv(r):this.cs(n),this.bp(a,d),this.ap(a,n),n==-1?this.$o(r,a):this.bp(n,a),d==-1?this.Zo(r,a):this.ap(d,a),this.Tj(r,this.I(r)+this.Ja(a)),this.Rl(r,this.da(r)+1),this.gx(a,r)}},s.prototype.ij=function(r,n){this.vb.ve(this.Ua(n),this.nm()),this.wj(r,-1,this.nm())},s.prototype.pd=function(r,n){var a=this.bd(r),u=this.Ma(r),d=this.U(r);u!=-1&&this.Bc(u,d);var f=this.Ja(a);if(r==this.Xa(a)&&this.Jf(a,1<f?d:-1),d!=-1&&this.Cc(d,u),r==this.rj(a)&&this.Wg(a,1<f?u:-1),u!=-1&&d!=-1){u=this.Ua(u);var g=this.Ua(d);n?(n=this.Sh(u))!=null&&(u=new c.h,this.vb.D(g,u),n.Qc(u)):(g=this.Ua(r),n=this.Sh(g),this.Xg(u,n),n!=null&&(u=this.vb.Na(u),n.Dc(u)))}return this.Vj(a,f-1),a=this.Qf(a),this.Tj(a,this.I(a)-1),this.Vy(r),d},s.prototype.Xa=function(r){return this.md.T(r,4)},s.prototype.rj=function(r){return this.md.T(r,5)},s.prototype.U=function(r){return this.td.T(r,2)},s.prototype.Ma=function(r){return this.td.T(r,1)},s.prototype.bd=function(r){return this.td.T(r,3)},s.prototype.fc=function(r,n){return this.wj(r,-1,n)},s.prototype.Yq=function(r){if(r===void 0)return this.Yq(!1);if(r instanceof l)return new l(r);var n,a=-1,u=-1,d=-1,f=0,g=!1;for(n=this.ld;n!=-1;n=this.ue(n))if(!r||c.aa.Hc(this.ic(n))){for(a=this.Ob(n);a!=-1;a=this.Rb(a))if(d=u=this.Xa(a),f=0,u!=-1){g=!0;break}if(g)break}return l.AP(this,n,a,u,d,f,r)},s.prototype.Oc=function(r){if(this.Il.Oc(r),this.We!=null)for(var n=0,a=this.We.length;n<a;n++)this.We[n]!=null&&this.We[n].Oc(r)},s.prototype.jr=function(r,n,a,u){u?this.NX(r,n,a):this.MX(r,n,a)},s.prototype.Cc=function(r,n){this.td.S(r,1,n)},s.prototype.Bc=function(r,n){this.td.S(r,2,n)},s.prototype.aj=function(r,n){this.td.S(r,3,n)},s.prototype.Vj=function(r,n){this.md.S(r,3,n)},s.prototype.Jf=function(r,n){this.md.S(r,4,n)},s.prototype.Wg=function(r,n){this.md.S(r,5,n)},s.prototype.Rl=function(r,n){this.cd.S(r,6,n)},s.prototype.Tj=function(r,n){this.cd.S(r,5,n)},s.prototype.pJ=function(r){var n=r;do{var a=this.U(n);this.Bc(n,this.Ma(n)),this.Cc(n,a),n=a}while(n!=r)},s.prototype.bC=function(r){this.fd=r},s.prototype.$q=function(r){var n=this.cs(r),a=this.Rb(r),u=this.Qf(r);n!=-1?this.ap(n,a):this.Zo(u,a),a!=-1?this.bp(a,n):this.$o(u,n),this.Jf(r,-1),this.Wg(r,-1),this.sF(r)},s.prototype.mi=function(r,n){var a=this.Ma(r),u=this.U(r);if(a!=-1&&this.Bc(a,u),u!=-1&&this.Cc(u,a),a!=-1&&u!=-1)if(a=this.Ua(a),u=this.Ua(u),n){if((n=this.Sh(a))!=null){var d=new c.h;this.vb.D(u,d),n.Qc(d)}}else n=this.Ua(r),n=this.Sh(n),this.Xg(a,n),n!=null&&(d=new c.h,this.vb.D(a,d),n.Dc(d));this.Vy(r)},s.prototype.cT=function(r){return!!(4&this.Sp(r))},s.prototype.cp=function(r,n){this.VB(r,(4|this.Sp(r))-4|(n?4:0))},s.prototype.nx=function(r,n){var a=this.td.o;this.vb.mc();var u=this.vb.za[0].o;r.Vd(0,n,function(d,f){var g=a[5*d];d=a[5*f],f=u[2*g],g=u[2*g+1];var b=u[2*d];return g<(d=u[2*d+1])?-1:g>d?1:f<b?-1:f>b?1:0})},s.prototype.jS=function(){for(var r=this.ld;r!=-1;r=this.ue(r))if(!c.aa.Hc(this.ic(r)))return!0;return!1},s.prototype.hC=function(r,n){for(var a=this.Ob(r),u=this.Ob(n),d=this.kv(r),f=this.kv(n),g=this.Ob(r);g!=-1;g=this.Rb(g))this.gx(g,n);for(g=this.Ob(n);g!=-1;g=this.Rb(g))this.gx(g,r);this.Zo(r,u),this.Zo(n,a),this.$o(r,f),this.$o(n,d),a=this.I(r),u=this.da(r),d=this.da(n),this.Tj(r,this.I(n)),this.Tj(n,a),this.Rl(r,d),this.Rl(n,u),a=this.cd.T(r,2),this.cd.S(r,2,this.cd.T(n,2)),this.cd.S(n,2,a)},s}(),c.gd=I})(U||(U={})),function(c){var I=function(y){function l(s,r,n,a){var u=y.call(this)||this;return u.$=new c.l,s===void 0?u.UE():typeof s=="number"?u.VO(s,r,n,a):s instanceof c.Sa?r!==void 0?u.Qu(s,r,n):u.WO(s):s instanceof c.ra?r!==void 0?u.YO(s,r):u.XO(s):s instanceof c.l?u.UO(s):u.UE(),u}return Yt(l,y),l.prototype.Qu=function(s,r,n){this.description=c.ee.og(),this.$.Oa(),s.B()||this.tu(s,r,n)},l.prototype.UO=function(s){this.description=c.ee.og(),this.$.K(s),this.$.normalize()},l.prototype.XO=function(s){if(s==null)throw c.i.N();this.description=s,this.$.Oa()},l.prototype.YO=function(s,r){if(s==null)throw c.i.N();this.description=s,this.$.K(r),this.$.normalize()},l.prototype.UE=function(){this.description=c.ee.og(),this.$.Oa()},l.prototype.WO=function(s){this.description=c.ee.og(),this.$.Oa(),s.B()||this.tu(s)},l.prototype.VO=function(s,r,n,a){this.description=c.ee.og(),this.K(s,r,n,a)},l.prototype.K=function(s,r,n,a){if(this.vc(),typeof s=="number")this.$.K(s,r,n,a);else for(this.Oa(),r=0,n=s.length;r<n;r++)this.Zb(s[r])},l.prototype.Xo=function(s){if(this.vc(),!s.fT())throw c.i.N();this.$.K(s)},l.prototype.Oa=function(){this.vc(),this.$.Oa()},l.prototype.B=function(){return this.$.B()},l.prototype.R=function(){return this.$.R()},l.prototype.ca=function(){return this.$.ca()},l.prototype.gk=function(){return this.$.gk()},l.prototype.Jp=function(){return this.$.Jp()},l.prototype.Ip=function(){return this.$.sf()},l.prototype.Zb=function(s){if(s instanceof c.h)this.vc(),this.$.Zb(s);else if(s instanceof c.l)this.vc(),this.$.Zb(s);else if(s instanceof c.Sa){if(this.vc(),!s.Ac()){var r=s.description;if(this.description!=r&&this.Jl(r),this.B())this.tu(s);else{this.$.Zb(s.D());for(var n=1,a=r.Aa;n<a;n++)for(var u=r.Ed(n),d=c.ra.Va(u),f=0;f<d;f++){var g=s.Uc(u,f),b=this.Tg(u,f);b.Zb(g),this.setInterval(u,f,b)}}}}else if(s instanceof l&&!s.B())for((r=s.description)!=this.description&&this.Jl(r),this.$.Zb(s.$),n=1,a=r.Aa;n<a;n++)for(u=r.kd(n),d=c.ra.Va(u),f=0;f<d;f++)g=s.Tg(u,f),(b=this.Tg(u,f)).Zb(g),this.setInterval(u,f,b)},l.prototype.tu=function(s,r,n){if(r!==void 0){this.$.K(s.D(),r,n),n=1;for(var a=(r=s.description).Aa;n<a;n++)for(var u=r.Ed(n),d=c.ra.Va(u),f=0;f<d;f++){var g=s.Uc(u,f);this.setInterval(u,f,g,g)}}else for(this.$.K(s.ka[0],s.ka[1]),n=1,a=(r=s.description).Aa;n<a;n++)for(u=r.Ed(n),d=c.ra.Va(u),f=0;f<d;f++)g=s.Uc(u,f),this.setInterval(u,f,g,g)},l.prototype.setInterval=function(s,r,n,a){if(n=typeof n=="number"?new c.Nc(n,a):n,this.vc(),s==0)if(r==0)this.$.v=n.oa,this.$.C=n.va;else{if(r!=1)throw c.i.ce();this.$.G=n.oa,this.$.H=n.va}else this.vD(0,s,r,n.oa),this.vD(1,s,r,n.va)},l.prototype.W=function(s,r){this.vc(),this.$.W(s,r)},l.prototype.Oc=function(s){if(s instanceof c.Dd)this.vc(),s.mC(this.$);else if(this.vc(),!this.$.B()){var r=new c.OK;this.Qo(r),r.XS()?r.Oa():s.mC(r)}},l.prototype.copyTo=function(s){if(s.getType()!=this.getType())throw c.i.N();if(s.vc(),s.description=this.description,s.$.K(this.$),s.ka=null,this.ka!=null){s.ou();for(var r=0;r<2*(this.description.Ae.length-2);r++)s.ka[r]=this.ka[r]}},l.prototype.Ia=function(){return new l(this.description)},l.prototype.Ke=function(){return this.$.wF()},l.prototype.Qb=function(){return this.$.yR()},l.prototype.getType=function(){return 197},l.prototype.Db=function(){return 2},l.prototype.bn=function(s){this.copyTo(s)},l.prototype.A=function(s){s.v=this.$.v,s.G=this.$.G,s.C=this.$.C,s.H=this.$.H},l.prototype.Qo=function(s){s.v=this.$.v,s.G=this.$.G,s.C=this.$.C,s.H=this.$.H,s.K(this.$.v,this.$.G,this.Od(0,1,0),this.$.C,this.$.H,this.Od(1,1,0))},l.prototype.Tg=function(s,r){var n=new c.Nc;return n.K(this.Od(0,s,r),this.Od(1,s,r)),n},l.prototype.Hf=function(s,r){r.Nf(this.description);var n=this.description.Aa-1;switch(s){case 0:for(s=0;s<n;s++)for(var a=this.description.kd(s),u=c.ra.Va(a),d=0;d<u;d++)r.setAttribute(a,d,this.Od(0,a,d));r.Cb(this.$.v,this.$.G);break;case 1:for(s=0;s<n;s++)for(a=this.description.kd(s),u=c.ra.Va(a),d=0;d<u;d++)r.setAttribute(a,d,this.Od(1,a,d));r.Cb(this.$.v,this.$.H);break;case 2:for(s=0;s<n;s++)for(a=this.description.kd(s),u=c.ra.Va(a),d=0;d<u;d++)r.setAttribute(a,d,this.Od(0,a,d));r.Cb(this.$.C,this.$.H);break;case 3:for(s=0;s<n;s++)for(a=this.description.kd(s),u=c.ra.Va(a),d=0;d<u;d++)r.setAttribute(a,d,this.Od(1,a,d));r.Cb(this.$.C,this.$.G);break;default:throw c.i.ce()}},l.prototype.mB=function(s,r){s=this.$.mB(s),r.ma(s.x,s.y)},l.prototype.kR=function(s,r){return r*(s.Oq-2)},l.prototype.xF=function(s,r,n){if(this.$.B())throw c.i.fa("empty geometry");if(r==0)return s!=0?n!=0?this.$.H:this.$.C:n!=0?this.$.G:this.$.v;if(n>=c.ra.Va(r))throw c.i.N();var a=this.description.Pf(r);return this.ou(),0<=a?this.ka[this.kR(this.description,s)+this.description.LR(a)-2+n]:c.ra.se(r)},l.prototype.ou=function(){if(this.vc(),this.ka==null&&2<this.description.Ae.length){this.ka=[];for(var s=l.Gg(this.description,0),r=l.Gg(this.description,1),n=0,a=1,u=this.description.Aa;a<u;a++){var d=this.description.kd(a),f=c.ra.Va(d);d=c.ra.se(d);for(var g=0;g<f;g++)this.ka[s+n]=d,this.ka[r+n]=d,n++}}},l.prototype.sn=function(s){if(this.ka!=null)if(2<s.Ae.length){for(var r=c.ee.Iw(s,this.description),n=[],a=l.Gg(this.description,0),u=l.Gg(this.description,1),d=l.Gg(s,0),f=l.Gg(s,1),g=0,b=1,_=s.Aa;b<_;b++){var S=s.kd(b),T=c.ra.Va(S);if(r[b]==-1){var k=c.ra.se(S);for(S=0;S<T;S++)n[d+g]=k,n[f+g]=k,g++}else for(k=this.description.$j(r[b])-2,S=0;S<T;S++)n[d+g]=this.ka[a+k],n[f+g]=this.ka[u+k],g++,k++}this.ka=n}else this.ka=null;this.description=s},l.prototype.Od=function(s,r,n){if(this.$.B())throw c.i.fa("This operation was performed on an Empty Geometry.");if(r==0)return s!=0?n!=0?this.$.H:this.$.C:n!=0?this.$.G:this.$.v;if(n>=c.ra.Va(r))throw c.i.ce();var a=this.description.Pf(r);return 0<=a?(this.ou(),this.ka[l.Gg(this.description,s)+this.description.$j(a)-2+n]):c.ra.se(r)},l.prototype.vD=function(s,r,n,a){if(this.vc(),r==0)s!=0?n!=0?this.$.H=a:this.$.C=a:n!=0?this.$.G=a:this.$.v=a;else{if(n>=c.ra.Va(r))throw c.i.ce();if(!this.hasAttribute(r)){if(c.ra.DG(r,a))return;this.re(r)}r=this.description.Pf(r),this.ou(),this.ka[l.Gg(this.description,s)+this.description.$j(r)-2+n]=a}},l.Gg=function(s,r){return r*(s.Ae.length-2)},l.prototype.Ea=function(s){this.vc();var r=new c.l;return s.A(r),this.$.Ea(r)},l.prototype.isIntersecting=function(s){return s instanceof c.l?this.$.isIntersecting(s):this.$.isIntersecting(s.$)},l.prototype.Ju=function(s,r){this.vc(),s.B()?this.Oa():r!==void 0?this.tu(s,r):this.$.Ju(s.Lg(),s.ih())},l.prototype.offset=function(s,r){this.vc(),this.$.offset(s,r)},l.prototype.normalize=function(){this.vc(),this.$.normalize()},l.prototype.sf=function(s){if(s===void 0){if(s=new c.Sa(this.description),this.B())return s;for(r=this.description.Aa,n=1;n<r;n++)for(a=this.description.Ed(n),u=c.ra.Va(a),d=0;d<u;d++)f=.5*(this.Od(0,a,d)+this.Od(1,a,d)),s.setAttribute(a,d,f);return s.Cb(this.$.gk(),this.$.Jp()),s}if(s.Nf(this.description),this.B())s.Oa();else{for(var r=this.description.Aa,n=1;n<r;n++)for(var a=this.description.kd(n),u=c.ra.Va(a),d=0;d<u;d++){var f=.5*(this.xF(0,a,d)+this.xF(1,a,d));s.setAttribute(a,d,f)}s.Cb(this.$.sf())}},l.prototype.mz=function(){return new c.Sa(this.$.mz())},l.prototype.contains=function(s){return s instanceof c.Sa?!s.B()&&this.$.contains(s.Lg(),s.ih()):this.$.contains(s.$)},l.prototype.dP=function(s){return this.$.contains(s)},l.prototype.Nb=function(s){if(s==this)return!0;if(!(s instanceof l)||this.description!=s.description)return!1;if(this.B())return!!s.B();if(!this.$.Nb(s.$))return!1;for(var r=0,n=2*(this.description.Ae.length-2);r<n;r++)if(this.ka[r]!=s.ka[r])return!1;return!0},l.prototype.cc=function(){var s=this.description.cc();if(s=c.O.Th(s,this.$.cc()),!this.B()&&this.ka!=null)for(var r=0,n=2*(this.description.Ae.length-2);r<n;r++)s=c.O.Th(s,this.ka[r]);return s},l.prototype.es=function(){return this.$.v},l.prototype.gs=function(){return this.$.G},l.prototype.ds=function(){return this.$.C},l.prototype.fs=function(){return this.$.H},l.prototype.mg=function(){return c.pi.gm(this,null)},l.prototype.toString=function(){return this.B()?"Envelope: []":"Envelope: ["+this.$.v+", "+this.$.G+", "+this.$.C+", "+this.$.H+"]"},l}(c.aa);c.Fh=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n){l===void 0?this.Oa():(this.v=l,this.G=s,this.C=r,this.H=n)}return y.construct=function(l,s,r,n){var a=new y;return a.v=l,a.G=s,a.C=r,a.H=n,a},y.prototype.K=function(l,s,r,n){typeof l=="number"?r!==void 0?(this.v=l,this.G=s,this.C=r,this.H=n,this.normalize()):(this.v=l,this.G=s,this.C=l,this.H=s):l instanceof c.h?s!==void 0?(this.v=l.x-.5*s,this.C=this.v+s,this.G=l.y-.5*r,this.H=this.G+r,this.normalize()):(this.v=l.x,this.G=l.y,this.C=l.x,this.H=l.y):l instanceof y?this.K(l.v,l.G,l.C,l.H):l instanceof c.Nc&&(l.B()||s.B()?this.Oa():(this.v=l.oa,this.C=l.va,this.G=s.oa,this.H=s.va))},y.prototype.Zw=function(l,s){if(s!==void 0)if(s==0)this.Oa();else{this.v=l[0].x,this.G=l[0].y,this.C=this.v,this.H=this.G;for(var r=1;r<s;r++){var n=l[r];n.x<this.v?this.v=n.x:n.x>this.C&&(this.C=n.x),n.y<this.G?this.G=n.y:n.y>this.H&&(this.H=n.y)}}else if(l==null||l.length==0)this.Oa();else for(n=l[0],this.K(n.x,n.y),r=1;r<l.length;r++)s=l[r],this.Lk(s.x,s.y)},y.prototype.Oa=function(){this.H=this.C=this.G=this.v=NaN},y.prototype.B=function(){return isNaN(this.v)},y.prototype.Zb=function(l,s){typeof l=="number"?this.B()?(this.v=l,this.G=s,this.C=l,this.H=s):(this.v>l?this.v=l:this.C<l&&(this.C=l),this.G>s?this.G=s:this.H<s&&(this.H=s)):l instanceof c.h||l instanceof c.Nd?this.Zb(l.x,l.y):l instanceof y&&!l.B()&&(this.Zb(l.v,l.G),this.Zb(l.C,l.H))},y.prototype.Lk=function(l,s){this.v>l?this.v=l:this.C<l&&(this.C=l),this.G>s?this.G=s:this.H<s&&(this.H=s)},y.prototype.W=function(l,s){this.B()||(this.v-=l,this.C+=l,this.G-=s,this.H+=s,(this.v>this.C||this.G>this.H)&&this.Oa())},y.prototype.scale=function(l){0>l&&this.Oa(),this.B()||(this.v*=l,this.C*=l,this.G*=l,this.H*=l)},y.prototype.zoom=function(l,s){this.B()||this.K(this.sf(),l*this.R(),s*this.ca())},y.prototype.isIntersecting=function(l){return!this.B()&&!l.B()&&(this.v<=l.v?this.C>=l.v:l.C>=this.v)&&(this.G<=l.G?this.H>=l.G:l.H>=this.G)},y.prototype.HG=function(l){return(this.v<=l.v?this.C>=l.v:l.C>=this.v)&&(this.G<=l.G?this.H>=l.G:l.H>=this.G)},y.prototype.Ea=function(l){return!this.B()&&!l.B()&&(l.v>this.v&&(this.v=l.v),l.C<this.C&&(this.C=l.C),l.G>this.G&&(this.G=l.G),l.H<this.H&&(this.H=l.H),(l=this.v<=this.C&&this.G<=this.H)||this.Oa(),l)},y.prototype.mB=function(l){switch(l){case 0:return c.h.construct(this.v,this.G);case 1:return c.h.construct(this.v,this.H);case 2:return c.h.construct(this.C,this.H);case 3:return c.h.construct(this.C,this.G);default:throw c.i.ce()}},y.prototype.nB=function(l){if(l==null||4>l.length)throw c.i.N();l[0]!=null?l[0].ma(this.v,this.G):l[0]=c.h.construct(this.v,this.G),l[1]!=null?l[1].ma(this.v,this.H):l[1]=c.h.construct(this.v,this.H),l[2]!=null?l[2].ma(this.C,this.H):l[2]=c.h.construct(this.C,this.H),l[3]!=null?l[3].ma(this.C,this.G):l[3]=c.h.construct(this.C,this.G)},y.prototype.wF=function(){return this.B()?0:this.R()*this.ca()},y.prototype.yR=function(){return this.B()?0:2*(this.R()+this.ca())},y.prototype.gk=function(){return(this.C+this.v)/2},y.prototype.Jp=function(){return(this.H+this.G)/2},y.prototype.R=function(){return this.C-this.v},y.prototype.ca=function(){return this.H-this.G},y.prototype.move=function(l,s){this.B()||(this.v+=l,this.G+=s,this.C+=l,this.H+=s)},y.prototype.Ju=function(l,s){if(s!==void 0)this.move(l-this.gk(),s-this.Jp());else if(l instanceof c.h)this.Ju(l.x,l.y);else{if(!(l instanceof c.Sa))throw c.i.N();s=(this.C-this.v)/2;var r=(this.H-this.G)/2;this.v=l.Lg()-s,this.C=l.Lg()+s,this.G=l.ih()-r,this.H=l.ih()+r}},y.prototype.offset=function(l,s){this.v+=l,this.C+=l,this.G+=s,this.H+=s},y.prototype.normalize=function(){if(!this.B()){var l=Math.min(this.v,this.C),s=Math.max(this.v,this.C);this.v=l,this.C=s,l=Math.min(this.G,this.H),s=Math.max(this.G,this.H),this.G=l,this.H=s}},y.prototype.dn=function(l){l.ma(this.v,this.G)},y.prototype.$I=function(l){l.ma(this.C,this.G)},y.prototype.cJ=function(l){l.ma(this.v,this.H)},y.prototype.en=function(l){l.ma(this.C,this.H)},y.prototype.fT=function(){return this.B()||this.v<=this.C&&this.G<=this.H},y.prototype.sf=function(){return c.h.construct((this.C+this.v)/2,(this.H+this.G)/2)},y.prototype.mz=function(){return c.h.construct(this.v,this.G)},y.prototype.contains=function(l,s){if(s!==void 0)return l>=this.v&&l<=this.C&&s>=this.G&&s<=this.H;if(l instanceof c.Sa)return this.contains(l.Lg(),l.ih());if(l instanceof c.h)return this.contains(l.x,l.y);if(l instanceof y)return l.v>=this.v&&l.C<=this.C&&l.G>=this.G&&l.H<=this.H;throw c.i.N()},y.prototype.hm=function(l,s){if(s!==void 0)return l>this.v&&l<this.C&&s>this.G&&s<this.H;if(l instanceof c.h)return this.hm(l.x,l.y);if(l instanceof y)return l.v>this.v&&l.C<this.C&&l.G>this.G&&l.H<this.H;throw c.i.N()},y.prototype.Nb=function(l){return l==this||l instanceof y&&(!(!this.B()||!l.B())||this.v==l.v&&this.G==l.G&&this.C==l.C&&this.H==l.H)},y.prototype.cc=function(){var l=this.v;l=c.O.truncate(l^l>>>32);var s=c.O.Th(l);return l=this.C,l=c.O.truncate(l^l>>>32),s=c.O.Th(l,s),l=this.G,l=c.O.truncate(l^l>>>32),s=c.O.Th(l,s),l=this.H,l=c.O.truncate(l^l>>>32),c.O.Th(l,s)},y.prototype.xr=function(){return this.B()?2220446049250313e-29:2220446049250313e-29*(Math.abs(this.v)+Math.abs(this.C)+Math.abs(this.G)+Math.abs(this.H)+1)},y.prototype.zy=function(l,s){var r=this.Zj(l),n=this.Zj(s);if(r&n)return 0;if(!(r|n))return 4;var a=(r!=0?1:0)|(n!=0?2:0);do{var u=s.x-l.x,d=s.y-l.y;if(u>d?r&y.YC?(r&y.ju?(l.y+=d*(this.v-l.x)/u,l.x=this.v):(l.y+=d*(this.C-l.x)/u,l.x=this.C),r=this.Zj(l)):n&y.YC?(n&y.ju?(s.y+=d*(this.v-s.x)/u,s.x=this.v):(s.y+=d*(this.C-s.x)/u,s.x=this.C),n=this.Zj(s)):r!=0?(r&y.ku?(l.x+=u*(this.G-l.y)/d,l.y=this.G):(l.x+=u*(this.H-l.y)/d,l.y=this.H),r=this.Zj(l)):(n&y.ku?(s.x+=u*(this.G-s.y)/d,s.y=this.G):(s.x+=u*(this.H-s.y)/d,s.y=this.H),n=this.Zj(s)):r&y.ZC?(r&y.ku?(l.x+=u*(this.G-l.y)/d,l.y=this.G):(l.x+=u*(this.H-l.y)/d,l.y=this.H),r=this.Zj(l)):n&y.ZC?(n&y.ku?(s.x+=u*(this.G-s.y)/d,s.y=this.G):(s.x+=u*(this.H-s.y)/d,s.y=this.H),n=this.Zj(s)):r!=0?(r&y.ju?(l.y+=d*(this.v-l.x)/u,l.x=this.v):(l.y+=d*(this.C-l.x)/u,l.x=this.C),r=this.Zj(l)):(n&y.ju?(s.y+=d*(this.v-s.x)/u,s.x=this.v):(s.y+=d*(this.C-s.x)/u,s.x=this.C),n=this.Zj(s)),r&n)return 0}while(r|n);return a},y.prototype.Zj=function(l){return(l.x<this.v?1:0)|(l.x>this.C?1:0)<<1|(l.y<this.G?1:0)<<2|(l.y>this.H?1:0)<<3},y.prototype.Bi=function(l){return!this.B()&&(this.R()<=l||this.ca()<=l)},y.prototype.tb=function(l){return l instanceof c.h?Math.sqrt(this.iK(l)):Math.sqrt(this.px(l))},y.prototype.px=function(l){var s=0,r=0,n=this.v-l.C;return n>s&&(s=n),(n=this.G-l.H)>r&&(r=n),(n=l.v-this.C)>s&&(s=n),(n=l.G-this.H)>r&&(r=n),s*s+r*r},y.prototype.iK=function(l){var s=0,r=0,n=this.v-l.x;return n>s&&(s=n),(n=this.G-l.y)>r&&(r=n),(n=l.x-this.C)>s&&(s=n),(n=l.y-this.H)>r&&(r=n),s*s+r*r},y.prototype.cn=function(l){this.B()?l.Oa():l.K(this.v,this.C)},y.ju=1,y.ku=4,y.YC=3,y.ZC=12,y}();c.l=I}(U||(U={})),function(c){var I,y;(y=I||(I={}))[y.initialize=0]="initialize",y[y.initializeRed=1]="initializeRed",y[y.initializeBlue=2]="initializeBlue",y[y.initializeRedBlue=3]="initializeRedBlue",y[y.sweep=4]="sweep",y[y.sweepBruteForce=5]="sweepBruteForce",y[y.sweepRedBlueBruteForce=6]="sweepRedBlueBruteForce",y[y.sweepRedBlue=7]="sweepRedBlue",y[y.sweepRed=8]="sweepRed",y[y.sweepBlue=9]="sweepBlue",y[y.iterate=10]="iterate",y[y.iterateRed=11]="iterateRed",y[y.iterateBlue=12]="iterateBlue",y[y.iterateBruteForce=13]="iterateBruteForce",y[y.iterateRedBlueBruteForce=14]="iterateRedBlueBruteForce",y[y.resetRed=15]="resetRed",y[y.resetBlue=16]="resetBlue";var l=function(){function s(r,n){this.ci=r,this.dH=n}return s.prototype.nr=function(r,n,a){this.ci.JX(a,r,n,this.dH)},s.prototype.$p=function(r){return this.ci.Rr(r,this.dH)},s}();I=function(){function s(){this.ow=this.oo=this.ff=this.rd=null,this.wq=new c.l,this.Am=this.Hj=this.Ij=this.Ad=this.Ef=this.Ld=this.cw=this.fo=this.qd=this.Eb=null,this.Xb=-1,this.qa=0,this.Nk()}return s.prototype.kr=function(){this.Nk(),this.Pv=!0,this.Eb==null?(this.fo=new c.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},s.prototype.ad=function(r,n){if(!this.Pv)throw c.i.Hb();var a=new c.l;a.K(n),this.fo.add(r),this.Eb.push(a)},s.prototype.Fp=function(){if(!this.Pv)throw c.i.Hb();this.Pv=!1,this.Eb!=null&&0<this.Eb.length&&(this.Xb=0,this.Ic=!1)},s.prototype.pK=function(){this.Nk(),this.Ov=!0,this.Eb==null?(this.fo=new c.ia(0),this.Eb=[]):(this.fo.Bh(0),this.Eb.length=0)},s.prototype.JD=function(r,n){if(!this.Ov)throw c.i.Hb();var a=new c.l;a.K(n),this.fo.add(r),this.Eb.push(a)},s.prototype.iF=function(){if(!this.Ov)throw c.i.Hb();this.Ov=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==2?this.Xb=3:this.Xb!=3&&(this.Xb=1),this.Ic=!1)},s.prototype.oK=function(){this.Nk(),this.Nv=!0,this.qd==null?(this.cw=new c.ia(0),this.qd=[]):(this.cw.Bh(0),this.qd.length=0)},s.prototype.ED=function(r,n){if(!this.Nv)throw c.i.Hb();var a=new c.l;a.K(n),this.cw.add(r),this.qd.push(a)},s.prototype.hF=function(){if(!this.Nv)throw c.i.Hb();this.Nv=!1,this.Eb!=null&&0<this.Eb.length&&this.qd!=null&&0<this.qd.length&&(this.Xb==-1||this.Xb==1?this.Xb=3:this.Xb!=3&&(this.Xb=2),this.Ic=!1)},s.prototype.next=function(){if(this.Ic)return!1;for(var r=!0;r;)switch(this.Xb){case 0:r=this.Gz();break;case 1:r=this.rS();break;case 2:r=this.oS();break;case 3:r=this.qS();break;case 4:r=this.UX();break;case 5:r=this.QX();break;case 6:r=this.RX();break;case 7:r=this.SX();break;case 8:r=this.ux();break;case 9:r=this.iC();break;case 10:r=this.Uz();break;case 11:r=this.jT();break;case 12:r=this.gT();break;case 13:r=this.hT();break;case 14:r=this.iT();break;case 15:r=this.kJ();break;case 16:r=this.jJ();break;default:throw c.i.Qa()}return!this.Ic},s.prototype.aC=function(r){this.qa=r},s.prototype.uz=function(r){return this.Eb[r]},s.prototype.az=function(r){return this.qd[r]},s.prototype.nl=function(r){return this.fo.read(r)},s.prototype.hl=function(r){return this.cw.read(r)},s.Tz=function(r){return!(1&~r)},s.eq=function(r){return!(1&r)},s.prototype.Nk=function(){this.Pv=this.Nv=this.Ov=!1,this.Cf=this.Df=this.Rg=this.pe=-1,this.Ic=!0},s.prototype.Gz=function(){if(this.Af=this.Vf=-1,10>this.Eb.length)return this.pe=this.Eb.length,this.Xb=5,!0;this.rd==null&&(this.rd=new c.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new c.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var n=this.Eb[r];this.rd.Br(n.v,n.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);return this.Kt(this.Ld,2*this.Eb.length,!0),this.pe=2*this.Eb.length,this.Xb=4,!0},s.prototype.rS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new c.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new c.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var n=this.Eb[r];this.rd.Br(n.v,n.C)}for(this.rd.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ld.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);return this.Kt(this.Ld,this.Ld.size,!0),this.pe=this.Ld.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Xb=7,this.jJ()},s.prototype.oS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.ff==null&&(this.ff=new c.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new c.ia(0)),this.ff.kr();for(var r=0;r<this.qd.length;r++){var n=this.qd[r];this.ff.Br(n.v,n.C)}for(this.ff.Fp(),this.Ef.Jb(2*this.qd.length),this.Ef.resize(0),r=0;r<2*this.qd.length;r++)this.Ef.add(r);return this.Kt(this.Ef,this.Ef.size,!1),this.Rg=this.Ef.size,this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,this.kJ()},s.prototype.qS=function(){if(this.Af=this.Vf=-1,10>this.Eb.length||10>this.qd.length)return this.pe=this.Eb.length,this.Xb=6,!0;this.rd==null&&(this.rd=new c.sr(!0),this.oo=this.rd.getIterator(),this.Ld=new c.ia(0)),this.ff==null&&(this.ff=new c.sr(!0),this.ow=this.ff.getIterator(),this.Ef=new c.ia(0)),this.rd.kr();for(var r=0;r<this.Eb.length;r++){var n=this.Eb[r];this.rd.Br(n.v,n.C)}for(this.rd.Fp(),this.ff.kr(),r=0;r<this.qd.length;r++)n=this.qd[r],this.ff.Br(n.v,n.C);for(this.ff.Fp(),this.Ld.Jb(2*this.Eb.length),this.Ef.Jb(2*this.qd.length),this.Ld.resize(0),this.Ef.resize(0),r=0;r<2*this.Eb.length;r++)this.Ld.add(r);for(r=0;r<2*this.qd.length;r++)this.Ef.add(r);return this.Kt(this.Ld,this.Ld.size,!0),this.Kt(this.Ef,this.Ef.size,!1),this.pe=this.Ld.size,this.Rg=this.Ef.size,this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Xb=7,!0},s.prototype.UX=function(){var r=this.Ld.get(--this.pe),n=r>>1;return s.eq(r)?(this.rd.remove(n),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1)):(this.oo.EB(this.Eb[n].v,this.Eb[n].C,this.qa),this.Vf=n,this.Xb=10,!0)},s.prototype.QX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Rg=this.Vf=this.pe,this.Xb=13,!0)},s.prototype.RX=function(){return--this.pe==-1?(this.Af=this.Vf=-1,this.Ic=!0,!1):(this.Vf=this.pe,this.Rg=this.qd.length,this.Xb=14,!0)},s.prototype.SX=function(){var r=this.Ld.get(this.pe-1),n=this.Ef.get(this.Rg-1),a=this.Rr(r,!0),u=this.Rr(n,!1);return a>u?this.ux():a<u?this.iC():s.Tz(r)?this.ux():s.Tz(n)?this.iC():this.ux()},s.prototype.ux=function(){var r=this.Ld.get(--this.pe),n=r>>1;if(s.eq(r))return this.Df!=-1&&this.Ij.get(n)!=-1?(this.Ad.jd(this.Df,this.Ij.get(n)),this.Ij.set(n,-1)):this.rd.remove(n),this.pe!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Cf!=-1&&0<this.Ad.bs(this.Cf))for(r=this.Ad.rc(this.Cf);r!=-1;){var a=this.Ad.getData(r);this.ff.vj(a),this.Hj.set(a,-1),a=this.Ad.lb(r),this.Ad.jd(this.Cf,r),r=a}return 0<this.ff.size()?(this.ow.EB(this.Eb[n].v,this.Eb[n].C,this.qa),this.Vf=n,this.Xb=12):(this.Df==-1&&(this.Ad==null&&(this.Ad=new c.jp),this.Ij=new c.ia(0),this.Ij.resize(this.Eb.length,-1),this.Ij.Wj(-1,0,this.Eb.length),this.Df=this.Ad.Ph(1)),this.Ij.set(n,this.Ad.addElement(this.Df,n)),this.Xb=7),!0},s.prototype.iC=function(){var r=this.Ef.get(--this.Rg),n=r>>1;if(s.eq(r))return this.Cf!=-1&&this.Hj.get(n)!=-1?(this.Ad.jd(this.Cf,this.Hj.get(n)),this.Hj.set(n,-1)):this.ff.remove(n),this.Rg!=0||(this.Af=this.Vf=-1,this.Ic=!0,!1);if(this.Df!=-1&&0<this.Ad.bs(this.Df))for(r=this.Ad.rc(this.Df);r!=-1;){var a=this.Ad.getData(r);this.rd.vj(a),this.Ij.set(a,-1),a=this.Ad.lb(r),this.Ad.jd(this.Df,r),r=a}return 0<this.rd.size()?(this.oo.EB(this.qd[n].v,this.qd[n].C,this.qa),this.Af=n,this.Xb=11):(this.Cf==-1&&(this.Ad==null&&(this.Ad=new c.jp),this.Hj=new c.ia(0),this.Hj.resize(this.qd.length,-1),this.Hj.Wj(-1,0,this.qd.length),this.Cf=this.Ad.Ph(0)),this.Hj.set(n,this.Ad.addElement(this.Cf,n)),this.Xb=7),!0},s.prototype.Uz=function(){if(this.Af=this.oo.next(),this.Af!=-1)return!1;var r=this.Ld.get(this.pe)>>1;return this.rd.vj(r),this.Xb=4,!0},s.prototype.jT=function(){if(this.Vf=this.oo.next(),this.Vf!=-1)return!1;this.Af=this.Vf=-1;var r=this.Ef.get(this.Rg)>>1;return this.ff.vj(r),this.Xb=7,!0},s.prototype.gT=function(){if(this.Af=this.ow.next(),this.Af!=-1)return!1;var r=this.Ld.get(this.pe)>>1;return this.rd.vj(r),this.Xb=7,!0},s.prototype.hT=function(){if(--this.Rg==-1)return this.Xb=5,!0;this.wq.K(this.Eb[this.pe]);var r=this.Eb[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(r)||(this.Af=this.Rg,!1)},s.prototype.iT=function(){if(--this.Rg==-1)return this.Xb=6,!0;this.wq.K(this.Eb[this.pe]);var r=this.qd[this.Rg];return this.wq.W(this.qa,this.qa),!this.wq.isIntersecting(r)||(this.Af=this.Rg,!1)},s.prototype.kJ=function(){return this.rd==null?(this.Ic=!0,!1):(this.pe=this.Ld.size,0<this.rd.size()&&this.rd.reset(),this.Df!=-1&&(this.Ad.bh(this.Df),this.Ij.resize(0),this.Df=-1),this.Ic=!1,!0)},s.prototype.jJ=function(){return this.ff==null?(this.Ic=!0,!1):(this.Rg=this.Ef.size,0<this.ff.size()&&this.ff.reset(),this.Cf!=-1&&(this.Ad.bh(this.Cf),this.Hj.resize(0),this.Cf=-1),this.Ic=!1,!0)},s.prototype.Kt=function(r,n,a){this.Am==null&&(this.Am=new c.Xt),a=new l(this,a),this.Am.sort(r,0,n,a)},s.prototype.JX=function(r,n,a,u){var d=this;r.Vd(n,a,function(f,g){var b=d.Rr(f,u),_=d.Rr(g,u);return b<_||b==_&&s.eq(f)&&s.Tz(g)?-1:1})},s.prototype.Rr=function(r,n){var a=.5*this.qa;return n?(n=this.Eb[r>>1],s.eq(r)?n.G-a:n.H+a):(n=this.qd[r>>1],s.eq(r)?n.G-a:n.H+a)},s}(),c.xC=I}(U||(U={})),function(c){var I=function(){function y(){}return y.construct=function(l,s,r,n,a,u){var d=new y;return d.v=l,d.G=s,d.Ye=r,d.C=n,d.H=a,d.Bg=u,d},y.prototype.Oa=function(){this.Ye=this.v=NaN},y.prototype.B=function(){return isNaN(this.v)},y.prototype.XS=function(){return isNaN(this.Ye)},y.prototype.K=function(l,s,r,n,a,u){n!==void 0?typeof l=="number"?(this.v=l,this.G=s,this.Ye=r,this.C=n,this.H=a,this.Bg=u):(this.v=l.x-.5*s,this.C=this.v+s,this.G=l.y-.5*r,this.H=this.G+r,this.Ye=l.z-.5*n,this.Bg=this.Ye+n):(this.v=l,this.G=s,this.Ye=r,this.C=l,this.H=s,this.Bg=r)},y.prototype.move=function(l){this.v+=l.x,this.G+=l.y,this.Ye+=l.z,this.C+=l.x,this.H+=l.y,this.Bg+=l.z},y.prototype.copyTo=function(l){l.v=this.v,l.G=this.G,l.C=this.C,l.H=this.H},y.prototype.Lk=function(l,s,r){this.v>l?this.v=l:this.C<l&&(this.C=l),this.G>s?this.G=s:this.H<s&&(this.H=s),isNaN(this.Ye)==0?this.Ye>r?this.Ye=r:this.Bg<r&&(this.Bg=r):this.Bg=this.Ye=r},y.prototype.Zb=function(l,s,r){if(typeof l=="number")this.B()?(this.v=l,this.G=s,this.Ye=r,this.C=l,this.H=s,this.Bg=r):this.Lk(l,s,r);else if(l instanceof c.Nd)this.Zb(l.x,l.y,l.z);else{if(!(l instanceof y))throw c.i.N();l.B()||(this.Zb(l.v,l.G,l.Ye),this.Zb(l.C,l.H,l.Bg))}},y.prototype.construct=function(l,s,r){l.B()||s.B()?this.Oa():(this.v=l.oa,this.C=l.va,this.G=s.oa,this.H=s.va,this.Ye=r.oa,this.Bg=r.va)},y.prototype.nB=function(l){if(l==null||8>l.length)throw c.i.N();l[0]=new c.Nd(this.v,this.G,this.Ye),l[1]=new c.Nd(this.v,this.H,this.Ye),l[2]=new c.Nd(this.C,this.H,this.Ye),l[3]=new c.Nd(this.C,this.G,this.Ye),l[4]=new c.Nd(this.v,this.G,this.Bg),l[5]=new c.Nd(this.v,this.H,this.Bg),l[6]=new c.Nd(this.C,this.H,this.Bg),l[7]=new c.Nd(this.C,this.G,this.Bg)},y.prototype.Zw=function(l){if(l==null||l.length==0)this.Oa();else{var s=l[0];for(this.K(s.x,s.y,s.z),s=1;s<l.length;s++){var r=l[s];this.Lk(r.x,r.y,r.z)}}},y}();c.OK=I}(U||(U={})),function(c){(function(I){I.Qa=function(){var y=Error();return y.message="Internal Error",y},I.Ie=function(){var y=Error();return y.message="Not Implemented",y},I.Xk=function(){var y=Error();return y.message="The input unit and the spatial reference unit are not of the same unit type.ie Linear vs.Angular",y},I.Hb=function(){var y=Error();return y.message="Invalid Call",y},I.N=function(y){var l=Error();return l.message="Illegal Argument Exception",y!==void 0&&(l.message+=": "+y),l},I.fu=function(y){var l=Error();return l.message=y!==void 0?"Runtime Exception: "+y:"Runtime Exception.",l},I.fa=function(y){var l=Error();return l.message="Geometry Exception: "+y,l},I.GK=function(){var y=Error();return y.message="Assert Failed Exception",y},I.ce=function(){var y=Error();return y.message="IndexOutOfBoundsException",y},I.WC=function(){var y=Error();return y.message="UserCancelException",y}})(c.i||(c.i={}))}(U||(U={})),function(c){(c=c.bm||(c.bm={}))[c.forward=0]="forward",c[c.reverse=1]="reverse"}(U||(U={})),function(c){var I=function(){function s(r,n){this.Wa=r,this.FH=n,this.LH=-1,this.sl=!1}return s.prototype.qe=function(){},s.prototype.next=function(){if(++this.LH==this.FH.I())return null;var r=this.FH.Na(this.LH);r.scale(this.Wa.ec);var n=new c.Da;return this.Wa.sy(r,this.sl,n),n},s.prototype.La=function(){return 0},s}(),y=function(){function s(r,n,a){this.Wa=r,this.rw=n,this.Xn=!1,this.co=a,this.bw=[0],this.sk=[0],this.Nj=[0],this.Gs=[0],this.sl=!1,this.qq=new c.Da,this.uk=[]}return s.prototype.qe=function(){},s.prototype.next=function(){if(this.Xn){this.Xn=!1,this.sd.ha();var r=c.aa.jg(this.qq);return c.Fg.Mk(r,this.Wa.Aq,!0,!0,this.Wa.Ub)}if(this.sd==null&&(this.sd=this.rw.Ga(),this.sd.$a(),this.co!=null&&this.co.Yk(null,0)),!this.sd.Ha()){if(!this.sd.$a())return null;this.co!=null&&this.co.Yk(null,0)}r=null,this.sk[0]=0,this.FA=this.bw[0]=0,this.di=NaN,this.Xn=!1;for(var n=this.uk.length=0,a=new c.h,u=new c.h,d=[0];this.sd.Ha()&&8>this.FA;){var f=this.sd.ha();if(a.L(f.ac()),u.L(f.wc()),a.scale(this.Wa.ec),u.scale(this.Wa.ec),c.cj.Mu(a,u)?a.x=u.x:c.cj.Ku(a,u)&&(u.x=a.x),this.uk.length=0,c.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,a,u,this.Wa.QA,this.Wa.Zs,d,this.Nj,this.Gs,this.uk,this.bw),this.co!=null&&(f=this.uk.slice(0),this.co.qG(this.co.da()-1,f,f.length-1)),c.cj.Lu(a,u)?(this.qq.Oa(),this.Wa.sy(a,this.sl,this.qq),this.Xn=!0):(this.qq.Oa(),this.Xn=this.xy(d[0],this.qq)),this.Xn){if(this.sd.li(),this.sd.Ez()){this.sd.li(),this.sd.ha();break}this.sd.DW();break}r==null&&(r=new c.Da).Yk(null,0),this.OD(r),n++}if(this.bw[0]=0,0<n){for(d=this.sd.wb();0<n;)this.sd.li(),a.L(this.rw.Na(this.sd.wb())),u.L(this.rw.Na(this.sd.ik())),a.scale(this.Wa.ec),u.scale(this.Wa.ec),this.sl&&(c.cj.Mu(a,u)?a.x=u.x:c.cj.Ku(a,u)&&(u.x=a.x)),this.uk.length=0,c.cj.tF(this.Wa.Tb,this.Wa.kc,this.Wa.ze,u,a,this.Wa.QA,this.Wa.Zs,null,this.Nj,this.Gs,this.uk,this.bw),this.OD(r),n--;return a.L(this.rw.Na(this.sd.wb())),a.scale(this.Wa.ec),l.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,a,this.di+1.570796326794897,this.di+4.71238898038469,this.Wa.ao,this.sl,this.sk,r,NaN,NaN),this.sd.Vb(d),this.sd.ha(),n=c.ta.kj(null,r,!0),c.Fg.Mk(r,n,!0,!0,this.Wa.Ub)}return this.Xn=!1,this.sd.ha(),r=c.aa.jg(this.qq),c.Fg.Mk(r,this.Wa.Aq,!0,!0,this.Wa.Ub)},s.prototype.OD=function(r){var n=this.uk[0],a=this.Nj[0]-1.570796326794897,u=this.Gs[0]+1.570796326794897;if(!isNaN(this.di)){if(this.di>=this.Nj[0]){var d=this.di+1.570796326794897;a=d+3.141592653589793-(this.di-this.Nj[0])}else a=(d=this.di+1.570796326794897)+3.141592653589793-(6.283185307179586-(this.Nj[0]-this.di));var f=!(this.di>=this.Nj[0]&&3.141592653589793>=this.di-this.Nj[0])&&!(this.di<this.Nj[0]&&3.141592653589793<=this.Nj[0]-this.di),g=!1;if(Math.abs(a-d)<=.5*this.Wa.ao)if(f){var b=r.Na(r.I()-2);b.scale(this.Wa.ec);var _=new c.ga(0);for(c.kb.Xy(this.Wa.Tb,this.Wa.kc,n.x,n.y,b.x,b.y,_),b=_.u;b<=d;)b+=6.283185307179586;for(;b>d;)b-=6.283185307179586;b<a&&(g=!0)}else g=!0;g?(r.DB(0,r.I()-1),this.sl||((n=new c.h).L(r.Na(r.I()-1)),n.scale(this.Wa.ec),-3.141592653589793>n.x-this.sk[0]?this.sk[0]-=6.283185307179586:3.141592653589793<n.x-this.sk[0]&&(this.sk[0]+=6.283185307179586)),f||(a=.5*(a+d))):(f?((d=new c.h).L(n),d.scale(1/this.Wa.ec),r.wf(0,-1,d)):l.Hr(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.uk[0],d,a,this.Wa.ao,this.sl,this.sk,r,NaN,NaN),this.FA+=1)}l.qy(this.Wa.Tb,this.Wa.kc,this.Wa.ec,this.Wa.rb,this.Wa.ze,this.uk,a,u,this.sl,this.sk,r),this.di=this.Gs[0]},s.prototype.xy=function(r,n){return this.Wa.xy(this.uk,r,this.Nj[0],this.Gs[0],this.sl,n)},s.prototype.La=function(){return 0},s}(),l=function(){function s(){}return s.buffer=function(r,n,a,u,d,f){if(r==null)throw c.i.N("Geometry::Geodesic_bufferer::buffer");if(r.B())return new c.Da(r.description);var g=new s;g.Qg=n,g.Jc=c.cb.sc(n);var b=c.cb.vv(g.Jc);if(g.Ub=f,g.Tb=c.cb.ev(g.Jc),g.kc=b*(2-b),g.ec=g.Jc.Hd().ai,g.qa=g.Qg.Kn(),g.Aq=g.Jc.Kn(),g.Zs=g.Aq*g.ec,g.zq=1.570796326794897/g.ec,g.OY=3.141592653589793/g.ec,g.Js=6.283185307179586/g.ec,g.PY=g.Js/6,g.LA=0,g.NY=1.5707963267948966*g.Tb/g.LA,a==4?(g.ze=2,g.Wv=!0):(g.ze=a,g.Wv=!1),g.Ka=u,g.rb=Math.abs(u),isNaN(d)||.001>d?g.xX():g.$n=d,a=r.getType(),c.aa.yd(a)?((a=new c.Ta(r.description)).oc(r,!0),r=a,a=1607):a==197&&(a=new c.l,r.A(a),a.R()<=g.qa||a.ca()<=g.qa?((a=new c.Ta(r.description)).ad(r,!1),r=a,a=1607):((a=new c.Da(r.description)).ad(r,!1),r=a,a=1736)),g.yX(),c.aa.Rn(a)||g.zX(),g.rb<=.5*g.$n)return a!=1736?new c.Da(r.description):g.Wv?r:c.cj.Qr(r,g.Qg,g.ze,g.QA,-1,f);if(0>g.Ka&&a!=1736)return new c.Da(r.description);if(g.Wv&&c.aa.Hc(a)?(n=c.cj.Qr(r,n,4,NaN,g.$n,f),r=c.cb.zh(n,g.Qg,g.Jc)):r=c.cb.zh(r,g.Qg,g.Jc),(r=c.Hh.lj(r,g.Jc)).B())return new c.Da(r.description);switch(!g.Wv&&c.aa.Hc(a)&&(r=c.cj.pI(g.ec,r)),r=s.KX(r,g.Jc),a){case 1736:n=g.UN(r);break;case 1607:n=g.VN(r);break;case 550:n=g.SN(r);break;case 33:n=g.TN(r);break;default:throw c.i.fa("corrupted_geometry")}return(g=c.cb.zh(n,g.Jc,g.Qg)).Jl(r.description),g},s.prototype.UN=function(r){var n=new c.Da;r=new y(this,r,n),r=c.Gh.local().V(r,this.Jc,this.Ub).next(),r=c.ip.nj(r,this.Jc,2);var a=new c.Dd;return a.scale(1/this.ec,1/this.ec),n.Oc(a),n=c.ip.nj(n,this.Jc,2),0<=this.Ka?c.Gh.local().V(n,r,this.Jc,this.Ub):c.kp.local().V(n,r,this.Jc,this.Ub)},s.prototype.VN=function(r){return r=new y(this,r,null),r=c.Gh.local().V(r,this.Jc,this.Ub).next(),c.ip.nj(r,this.Jc,2)},s.prototype.SN=function(r){return r=new I(this,r),r=c.Gh.local().V(r,this.Jc,this.Ub).next(),c.ip.nj(r,this.Jc,2)},s.prototype.TN=function(r){(r=r.D()).scale(this.ec);var n=new c.Da;return this.sy(r,!1,n),c.ip.nj(n,this.Jc,2)},s.prototype.xy=function(r,n,a,u,d,f){var g=r[0],b=r[r.length-1],_=g.y>b.y?g.y:b.y,S=c.F.q(this.Tb,this.kc,g.y<b.y?g.y:b.y);if(_=c.F.q(this.Tb,this.kc,_),.001<this.LA-(S+n+this.rb)&&.001<this.LA+(_-n-this.rb))return!1;S=(n=a-1.570796326794897)-3.141592653589793,_=n+3.141592653589793;var T=(a=u+1.570796326794897)+3.141592653589793,k=[NaN],O=[NaN],N=[NaN],D=[NaN];if(u=!1,s.dJ(this.Tb,this.kc,this.rb,g,n,S,b,a,k,O),s.dJ(this.Tb,this.kc,this.rb,b,T,a,g,S,N,D),(a<k[0]&&k[0]<T||a<O[0]&&O[0]<T)&&(u=!0),u||(S<N[0]&&N[0]<n||S<D[0]&&D[0]<n)&&(u=!0),!u&&d)return!1;for(var z=[],L=r.length-1;0<=L;L--)z.push(r[L]);return f.Oa(),f.Yk(null,0),L=[0],s.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,r,n,a,d,L,f),s.Hr(this.Tb,this.kc,this.ec,this.rb,b,a,T,this.ao,d,L,f,k[0],O[0]),s.qy(this.Tb,this.kc,this.ec,this.rb,this.ze,z,T,_,d,L,f),s.Hr(this.Tb,this.kc,this.ec,this.rb,g,S,n,this.ao,d,L,f,N[0],D[0]),r=!1,d||(r=this.IE(this.ec,f)),u||r},s.prototype.sy=function(r,n,a){a.Oa(),a.Yk(null,0),s.Hr(this.Tb,this.kc,this.ec,this.rb,r,-this.ao,6.283185307179586,this.ao,n,[0],a,NaN,NaN),n||this.IE(this.ec,a)},s.prototype.IE=function(r,n){var a=this.vO(r,n);return r=this.wO(r,n),a||r},s.prototype.vO=function(r,n){var a=n.I(),u=!1,d=new c.l;if(n.A(d),!c.s.Y(d.H*r,1.570796326794897)&&!c.s.Y(d.G*r,-1.570796326794897))return!1;var f=new c.h;for(--a;0<=a;a--)n.D(a,f),(f.y==d.H&&c.s.Y(f.y*r,1.570796326794897)||f.y==d.G&&c.s.Y(f.y*r,-1.570796326794897))&&(u=!0,this.OI(f,a,n));return u},s.prototype.wO=function(r,n){var a=n.Na(0),u=n.Na(n.I()-1);return 3.141592653589793<Math.abs(a.x-u.x)*r?(this.VV(n),!0):this.uO(n)},s.prototype.uO=function(r){return 0>r.Ke()&&(this.UV(r),!0)},s.prototype.OI=function(r,n,a){var u=a.I(),d=0<n?n-1:u-1;if(u=a.Na(n<u-1?n+1:0),d=a.Na(d),!c.s.Y(u.y,r.y)&&!c.s.Y(u.x,r.x)){var f=new c.h;f.ma(u.x,r.y),a.Cb(n,f)}c.s.Y(d.y,r.y)||c.s.Y(d.x,r.x)||((u=new c.h).ma(d.x,r.y),a.wf(0,n,u))},s.prototype.VV=function(r){var n=new c.Da,a=new c.Da,u=new c.Dd,d=r.Na(0),f=r.Na(r.I()-1),g=new c.h;d.x>f.x?(f=this.zq,u.gg(-this.Js,0)):(f=-this.zq,u.gg(this.Js,0)),n.add(r,!1),r.Oa(),a.add(n,!1),a.Oc(u),d=new c.l,a.A(d),d.W((this.Js-d.R())/2,0),d.G=-this.zq,d.H=this.zq;for(var b=0;b<a.I();b++)a.D(b,g),n.wf(0,-1,g);for(a.Oc(u),b=0;b<a.I();b++)a.D(b,g),n.wf(0,-1,g);a=n.Na(0),u=n.Na(n.I()-1),g.ma(u.x,f),n.wf(0,-1,g),g.ma(.5*(u.x+a.x),f),n.wf(0,-1,g),g.ma(a.x,f),n.wf(0,-1,g),n=c.Hh.ks(n,this.Jc,2,!0,d.v),n=c.Hh.ks(n,this.Jc,2,!0,d.C),n=c.Ud.clip(n,d,this.Aq,NaN),r.add(n,!1)},s.prototype.UV=function(r){var n=new c.l;r.A(n),n.W((this.Js-n.R())/2,0),n.G=-this.zq,n.H=this.zq,r.Yk(null,0);var a=new c.h;a.ma(n.v,n.G),r.wf(1,-1,a),a.ma(n.v,n.H),r.wf(1,-1,a),a.ma(.5*(n.v+n.C),n.H),r.wf(1,-1,a),a.ma(n.C,n.H),r.wf(1,-1,a),a.ma(n.C,n.G),r.wf(1,-1,a),a.ma(.5*(n.v+n.C),n.G),r.wf(1,-1,a)},s.qy=function(r,n,a,u,d,f,g,b,_,S,T){var k=null;_||((k=new c.h).Rc(),0<T.I()&&(k.L(T.Na(T.I()-1)),k.scale(a)));var O=new c.ga(0),N=new c.ga(0),D=new c.ga(0),z=new c.h,L=new c.h,F=f[f.length-1];a=1/a;for(var V=0;V<f.length;V++){var q=f[V];if(V==0)var W=g;else V==f.length-1?W=b:(c.kb.wd(r,n,F.x,F.y,q.x,q.y,null,null,O,d),W=O.u-1.570796326794897);c.kb.yi(r,n,q.x,q.y,u,W,N,D),_?L.ma(N.u,D.u):(z.ma(N.u,D.u),s.gJ(q.x,z.x,k.x,S),L.ma(S[0]+z.x,z.y),k.L(L)),L.scale(a),T.wf(0,-1,L)}},s.Hr=function(r,n,a,u,d,f,g,b,_,S,T,k,O){if(!(g-f<b)){var N=new c.ga(0),D=new c.ga(0),z=new c.h,L=new c.h,F=null;_||((F=new c.h).Rc(),0<T.I()&&(F.L(T.Na(T.I()-1)),F.scale(a)));var V=c.O.truncate(Math.ceil(f/b)),q=V++*b;for(q==f&&(q=V++*b),a=1/a;q<g+b&&(f<k&&k<q?(q=k,V--):f<O&&O<q&&(q=O,V--),!(q>=g));)c.kb.yi(r,n,d.x,d.y,u,q,N,D),_?L.ma(N.u,D.u):(z.ma(N.u,D.u),s.gJ(d.x,z.x,F.x,S),L.ma(S[0]+z.x,z.y),F.L(L)),L.scale(a),T.wf(0,-1,L),f=q,q=V++*b}},s.dJ=function(r,n,a,u,d,f,g,b,_,S){var T=new c.h,k=new c.h,O=new c.ga(0),N=new c.ga(0);for(c.kb.yi(r,n,u.x,u.y,a,d,O,N),T.ma(O.u,N.u),c.kb.yi(r,n,u.x,u.y,a,f,O,N),k.ma(O.u,N.u),a=new c.ga(0),c.kb.Xy(r,n,g.x,g.y,T.x,T.y,a),_[0]=a.u,c.kb.Xy(r,n,g.x,g.y,k.x,k.y,a),S[0]=a.u;_[0]<=S[0];)_[0]+=6.283185307179586;for(;_[0]>S[0];)_[0]-=6.283185307179586;for(;_[0]>=b;)_[0]-=6.283185307179586,S[0]-=6.283185307179586;for(;_[0]<b;)_[0]+=6.283185307179586,S[0]+=6.283185307179586},s.gJ=function(r,n,a,u){if(isNaN(a)){for(;3.141592653589793<u[0]+n-r;)u[0]-=6.283185307179586;for(;3.141592653589793<r-(u[0]+n);)u[0]+=6.283185307179586}else 3.141592653589793<u[0]+n-a?u[0]-=6.283185307179586:3.141592653589793<a-(u[0]+n)&&(u[0]+=6.283185307179586)},s.KX=function(r,n){var a=r.getType(),u=c.aa.Hc(a)?r.da():a==550?r.I():1;if(u==1)return r;var d=new c.ia(0);d.resize(u);for(var f=[],g=new c.l,b=0;b<u;b++){if(d.write(b,b),c.aa.Hc(a)){r.Rj(b,g);var _=g.sf()}else _=r.Na(b);_=c.XK.$X(n,_),f[b]=_}for(d.Vd(0,d.size,function(S,T){return f[S]<f[T]?-1:f[S]>f[T]?1:0}),n=r.Ia(),b=0;b<u;b++)g=d.read(b),c.aa.Hc(a)?n.addPath(r,g,!0):n.Fd(r,g,g+1);return n},s.prototype.yX=function(){var r=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);r=Math.min(r,.39269908169872414*this.Tb);var n=new c.h;n.ma(0,10*this.ec);var a=45*this.ec,u=new c.ga(0),d=new c.ga(0),f=new c.ga(0),g=new c.ga(0),b=new c.ga(0),_=new c.ga(0),S=new c.ga(0),T=new c.ga(0),k=new c.h,O=new c.h,N=new c.h,D=new c.h;c.kb.yi(this.Tb,this.kc,n.x,n.y,r,0,u,d),k.ma(u.u,d.u),c.kb.yi(this.Tb,this.kc,n.x,n.y,r,a,f,g),O.ma(f.u,g.u),u=new c.ga(0),d=new c.ga(0);for(var z=new c.ga(0);c.kb.yi(this.Tb,this.kc,n.x,n.y,r,.5*(0+a),b,_),N.ma(b.u,_.u),c.kb.wd(this.Tb,this.kc,k.x,k.y,O.x,O.y,u,d,null,2),c.kb.oj(this.Tb,this.kc,k.x,k.y,.5*u.u,d.u,S,T,2),D.ma(S.u,T.u),c.kb.wd(this.Tb,this.kc,N.x,N.y,D.x,D.y,z,null,null,2),!(z.u<=this.$n);)a*=.9,c.kb.yi(this.Tb,this.kc,n.x,n.y,r,a,f,g),O.ma(f.u,g.u);this.ao=6.283185307179586/Math.ceil(6.283185307179586/(a-0))},s.prototype.zX=function(){var r=Math.min(3.141592653589793*this.Tb-this.rb,this.rb);r=Math.min(r,.39269908169872414*this.Tb);var n=new c.h,a=new c.h;n.ma(0,10*this.ec),a.ma(10*this.ec,10*this.ec);var u=new c.ga(0),d=new c.ga(0),f=new c.ga(0);c.kb.wd(this.Tb,this.kc,n.x,n.y,a.x,a.y,f,u,d,this.ze);var g=new c.ga(0),b=new c.ga(0),_=new c.ga(0),S=new c.ga(0),T=new c.h,k=new c.ga(0),O=new c.ga(0),N=new c.ga(0),D=new c.ga(0),z=new c.ga(0),L=new c.ga(0),F=new c.ga(0),V=new c.ga(0),q=new c.ga(0),W=new c.h,K=new c.h,tt=new c.h,st=new c.h,it=1;u=u.u,d=d.u+1.570796326794897,f=f.u,c.kb.yi(this.Tb,this.kc,n.x,n.y,r,u-1.570796326794897,O,N),W.ma(O.u,N.u),c.kb.yi(this.Tb,this.kc,a.x,a.y,r,d,D,z),K.ma(D.u,z.u),O=new c.ga(0),N=new c.ga(0),d=new c.ga(0);for(var mt=new c.ga(0);c.kb.oj(this.Tb,this.kc,n.x,n.y,.5*(0+it)*f,u,g,b,this.ze),T.ma(g.u,b.u),c.kb.wd(this.Tb,this.kc,n.x,n.y,T.x,T.y,null,null,k,this.ze),c.kb.yi(this.Tb,this.kc,T.x,T.y,r,k.u+1.570796326794897,L,F),tt.ma(L.u,F.u),c.kb.wd(this.Tb,this.kc,W.x,W.y,K.x,K.y,O,N,null,2),c.kb.oj(this.Tb,this.kc,W.x,W.y,.5*O.u,N.u,V,q,2),st.ma(V.u,q.u),c.kb.wd(this.Tb,this.kc,tt.x,tt.y,st.x,st.y,d,null,null,2),!(d.u<=this.$n);)it*=.9,c.kb.oj(this.Tb,this.kc,n.x,n.y,it*f,u,_,S,this.ze),a.ma(_.u,S.u),c.kb.wd(this.Tb,this.kc,n.x,n.y,a.x,a.y,null,null,mt,this.ze),c.kb.yi(this.Tb,this.kc,a.x,a.y,r,mt.u+1.570796326794897,D,z),K.ma(D.u,z.u);1e5<(r=it*f)&&(r=1e5),this.QA=r},s.prototype.xX=function(){var r=5e4<this.rb?100:1e4<this.rb?10:1;500>this.rb/r&&(r=this.rb/500),.01>r&&(r=.01),this.$n=r},s}();c.VK=l}(U||(U={})),function(c){var I=function(){function y(){}return y.Mf=function(l,s){var r=new c.h;r.L(s),l.push(r)},y.up=function(l,s){l.add(s.x),l.add(s.y)},y.hB=function(l){l.Bh(l.size-2)},y.oB=function(l,s){s.ma(l.get(l.size-2),l.get(l.size-1))},y.Qr=function(l,s,r,n,a,u){if(l==null)throw c.i.N();var d=l.getType();if(l.B()||c.aa.Rn(d))return l;var f=new y;f.Qg=s,f.Jc=c.cb.sc(s);var g=c.cb.vv(f.Jc);if(f.Ub=u,f.Tb=c.cb.ev(f.Jc),f.kc=g*(2-g),f.ec=f.Jc.Hd().ai,f.Aq=f.Jc.Kn(),f.Zs=f.Aq*f.ec,f.AA=n,f.zA=a,f.ze=r,d==197?(r=new c.Da(l.description)).ad(l,!1):c.aa.yd(d)?(r=new c.Ta(l.description)).oc(l,!0):r=l,f.ze!=4){if((s=f.Qg.Nb(f.Jc)==0?c.cb.zh(r,f.Qg,f.Jc):c.Hh.lj(r,f.Jc)).B())return s;s=y.pI(f.ec,s),s=f.Zy(s),s=c.ip.nj(s,f.Jc,f.ze),f=c.cb.zh(s,f.Jc,f.Qg)}else{if(c.Eg.Sb(s)==2?(l=c.cb.ml(),(s=c.Xj.local().V(r,l,s,u))==l&&(s=new c.Da,l.copyTo(s))):s=c.Hh.lj(r,f.Jc),s.B())return s;f=f.CX(s)}return f},y.pI=function(l,s){var r=new c.l;if(s.xc(r),3.141592653589793>r.R()*l)return s;var n=!1;r=s.Ga();for(var a=new c.h,u=new c.h;r.$a();)for(;r.Ha();){var d=r.ha();if(a.L(d.ac()),u.L(d.wc()),a.scale(l),u.scale(l),3.141592653589793<Math.abs(a.x-u.x)){var f=y.Lu(a,u);if(!f){n=!0;break}if(6.283185307179586<Math.abs(a.x-u.x)){n=!0;break}}}if(!n)return s;n=s.Ia();var g=1<s.description.Aa,b=new c.h,_=new c.h,S=new c.h,T=new c.h,k=new c.Sa;for(r.Zi();r.$a();)for(var O=NaN,N=[0];r.Ha();){if(d=r.ha(),a.L(d.ac()),u.L(d.wc()),a.scale(l),u.scale(l),isNaN(O)?(y.Wi(a.x,NaN,N),_.L(a)):_.L(S),O=_.x,f=y.Lu(a,u)){if(6.283185307179586<u.x-a.x)for(;6.283185307179586<u.x-a.x;)u.x-=6.283185307179586;if(-6.283185307179586>u.x-a.x)for(;-6.283185307179586>u.x-a.x;)u.x+=6.283185307179586;y.Wi(u.x,NaN,N),S.L(u)}else b.L(u),y.AU(b),y.Wi(b.x,O,N),S.ma(N[0]+b.x,b.y);.5>Math.abs(S.x-u.x)&&S.L(u),g?(d.Tw(0,k),T.L(_),T.scale(1/l),k.Cb(T),(f=r.vm())?n.nf(k):n.lineTo(k),r.Qn()&&!s.dc(r.gb)&&(d.Tw(1,k),T.L(S),T.scale(1/l),k.Cb(T),n.lineTo(k))):((f=r.vm())&&n.Hz(null,0),d=n.da()-1,T.L(_),T.scale(1/l),n.wf(d,-1,T),r.Qn()&&!s.dc(r.gb)&&(T.L(S),T.scale(1/l),n.wf(d,-1,T)))}return n},y.tF=function(l,s,r,n,a,u,d,f,g,b,_,S){var T=new c.h,k=new c.h,O=0<n.compare(a);y.fJ(O,n,a,T,k),y.uF(l,s,r,T,k,u,NaN,d,f,g,b,null,_,S),O&&y.fC(g,b,null,_)},y.prototype.Zy=function(l){var s=l.Ia(),r=l.Ga(),n=[],a=null,u=null,d=1<l.description.Aa;d&&(a=new c.be(0),u=new c.ig);for(var f=[0],g=new c.h,b=new c.h,_=new c.h,S=new c.h;r.$a();)for(f[0]=0;r.Ha();){var T=r.ha();g.L(T.ac()),b.L(T.wc()),g.scale(this.ec),b.scale(this.ec);var k=0<g.compare(b);y.fJ(k,g,b,_,S),n.length=0,a!=null&&a.Bh(0),0<this.AA?y.uF(this.Tb,this.kc,this.ze,_,S,this.AA,this.zA,this.Zs,null,null,null,d?a:null,n,f):y.aR(this.Tb,this.kc,this.ze,_,S,this.zA,this.Zs,d?a:null,n,f),k&&y.fC(null,null,d?a:null,n),n[0].L(T.ac()),n[n.length-1].L(T.wc());for(var O=1;O<n.length-1;O++)n[O].scale(1/this.ec);d?(k=y.eJ(k,T,u),y.TD(r.vm(),r.Qn()&&!l.dc(r.gb),T,k,a,n,s)):y.SD(r.vm(),r.Qn()&&!l.dc(r.gb),n,s)}return s},y.prototype.CX=function(l){var s=l.Ia(),r=l.Ga(),n=[],a=null,u=new c.ig,d=1<l.description.Aa;for(d&&(a=new c.be(0));r.$a();)for(;r.Ha();){var f=r.ha(),g=f.ac(),b=f.wc();g=0<g.compare(b),b=y.eJ(g,f,u),n.length=0,a!=null&&a.Bh(0),y.BX(this.Tb,this.kc,this.ec,b,this.Qg,this.AA,this.zA,d?a:null,n),g&&y.fC(null,null,d?a:null,n),d?y.TD(r.vm(),r.Qn()&&!l.dc(r.gb),f,b,a,n,s):y.SD(r.vm(),r.Qn()&&!l.dc(r.gb),n,s)}return s},y.SD=function(l,s,r,n){l&&n.Hz(null,0),l=n.da()-1;var a=r.slice(0);n.qG(l,a,a.length-1),s&&n.wf(l,-1,r[r.length-1])},y.TD=function(l,s,r,n,a,u,d){var f=new c.Sa;if(r.To(f),l?d.nf(f):d.lineTo(f),2<u.length){l=n.Qb();for(var g=1;g<u.length-1;g++){var b=n.NG(a.get(g)*l);n.Tw(b,f),f.Cb(u[g]),d.lineTo(f)}}s&&(r.Po(f),d.lineTo(f))},y.uF=function(l,s,r,n,a,u,d,f,g,b,_,S,T,k){var O=new c.ga(0),N=new c.ga(0),D=new c.ga(0);c.kb.wd(l,s,n.x,n.y,a.x,a.y,D,O,N,r),D=D.u;var z=O=O.u;0>z&&(z+=6.283185307179586),0>(N=N.u)&&(N+=6.283185307179586),g!=null&&(g[0]=D),b!=null&&(b[0]=z),_!=null&&(_[0]=N),b=g=NaN,S!=null&&(g=((b=c.F.Ah(l,s))-(_=c.F.q(l,s,n.y)))/D,b=(b+_)/D),_=y.Mu(n,a),N=y.Ku(n,a),z=_||N;var L=y.FE(n,a,f),F=new c.ga(0),V=new c.ga(0),q=new c.h,W=new c.h,K=new c.h;y.Wi(n.x,NaN,k);var tt=[k[0]];if(D<=u)y.Mf(T,n),y.Wi(a.x,NaN,k),S!=null&&S.add(0),z?(_&&y.kB(n,a,S,T),N&&y.iB(n,a,S,T)):L?y.jB(n,a,O,g,b,S,T):0<d&&(W.ma(n.x-tt[0],n.y),q.ma(a.x-k[0],a.y),y.Yy(l,s,r,n,D,O,W,q,0,1,d,S,T,tt)),y.Mf(T,a);else{var st=D/((u=1+c.O.truncate(Math.ceil(D/u)))-1),it=new c.h,mt=0;y.Mf(T,n),it.L(n),W.ma(n.x-k[0],n.y),S!=null&&S.add(0);for(var ct=1;ct<u;ct++){if(ct<u-1){c.kb.oj(l,s,n.x,n.y,ct*st,O,F,V,r),q.ma(F.u,V.u),y.Wi(q.x,it.x,k),K.ma(k[0]+q.x,q.y);var Et=ct/(u-1)}else y.Wi(a.x,NaN,k),q.ma(a.x-k[0],a.y),K.L(a),Et=1;z?(ct==1&&_&&y.kB(n,K,S,T),ct==u-1&&N&&y.iB(it,a,S,T)):L?y.EE(it,K,f)&&(n.x<a.x?it.x>K.x&&(k[0]+=6.283185307179586,K.ma(k[0]+q.x,q.y)):it.x<K.x&&(k[0]-=6.283185307179586,K.ma(k[0]+q.x,q.y)),y.jB(it,K,O,g,b,S,T)):0<d&&y.Yy(l,s,r,n,D,O,W,q,mt,Et,d,S,T,tt),y.Mf(T,K),S!=null&&S.add(Et),it.L(K),W.L(q),tt[0]=k[0],mt=Et}}},y.aR=function(l,s,r,n,a,u,d,f,g,b){var _=new c.ga(0),S=new c.ga(0),T=new c.ga(0);c.kb.wd(l,s,n.x,n.y,a.x,a.y,T,_,S,r),S=T.u,_=_.u;var k=T=NaN;if(f!=null){k=c.F.Ah(l,s);var O=c.F.q(l,s,n.y);T=(k-O)/S,k=(k+O)/S}O=y.Mu(n,a);var N=y.Ku(n,a),D=O||N;d=y.FE(n,a,d);var z=y.Lu(n,a);z=D||d||z,y.Wi(n.x,NaN,b);var L=new c.h;y.Mf(g,n),L.L(n),f!=null&&f.add(0),z?(D?(O&&y.kB(n,a,f,g),N&&y.iB(n,a,f,g)):d&&y.jB(n,a,_,T,k,f,g),y.Wi(a.x,NaN,b),y.Mf(g,a)):S<=u?(y.Wi(a.x,NaN,b),y.Mf(g,a)):(T=new c.h,d=new c.h,T.L(n),d.L(a),T.x-=b[0],d.x-=b[0],-3.141592653589793>d.x?d.x+=6.283185307179586:3.141592653589793<d.x&&(d.x-=6.283185307179586),y.Yy(l,s,r,n,S,_,T,d,0,1,u,f,g,b),y.Mf(g,a),y.Wi(a.x,NaN,b)),f!=null&&f.add(1)},y.Yy=function(l,s,r,n,a,u,d,f,g,b,_,S,T,k){var O=new c.h,N=new c.h;O.ma(d.x+k[0],d.y),new c.ga(0),new c.ga(0),new c.ga(0),new c.ga(0);var D=new c.ga(0),z=new c.ga(0),L=new c.ga(0),F=new c.h,V=new c.h,q=new c.h,W=new c.h;F.L(d),V.L(f),d=new c.be(0),f=new c.be(0),y.up(d,V),f.add(b);var K=new c.h,tt=new c.yb,st=[];for(y.YJ(4,st);0<d.size;){for(var it,mt=!1,ct=NaN,Et=0;3>Et;Et++)if(it=st[Et]*b+(1-st[Et])*g,c.kb.oj(l,s,n.x,n.y,it*a,u,D,z,r),q.ma(D.u,z.u),Et==0&&(ct=it,W.L(q)),y.WW(F,q,V,tt),tt.hc(tt.fe(q,!0),K),c.kb.wd(l,s,q.x,q.y,K.x,K.y,L,null,null,2),L.u>_){mt=!0;break}mt?(V.L(W),b=ct,y.up(d,V),f.add(b)):(y.hB(d),f.En(f.size-1,1,f.size-1),0<d.size&&(y.Wi(V.x,O.x,k),N.ma(k[0]+V.x,V.y),y.Mf(T,N),O.L(N),S!=null&&S.add(b),F.L(V),g=b,y.oB(d,V),b=f.get(f.size-1)))}},y.BX=function(l,s,r,n,a,u,d,f,g){var b=new c.h,_=new c.h,S=new c.h,T=new c.h,k=new c.h,O=new c.h,N=new c.h,D=new c.h,z=new c.h,L=new c.h,F=new c.ga(0),V=new c.ga(0),q=new c.h,W=[[],[]],K=c.Eg.Sb(a)==1;a=a.Xd(0);var tt=n.ac(),st=n.wc();K?(O.ma(tt.x*r,tt.y*r),N.ma(st.x*r,st.y*r)):(W[0][0]=tt.x,W[0][1]=tt.y,W[1][0]=st.x,W[1][1]=st.y,c.cb.vt(),O.x=W[0][0]*r,O.y=W[0][1]*r,N.x=W[1][0]*r,N.y=W[1][1]*r);var it=0,mt=0,ct=1,Et=n.Pn();b.L(tt),_.L(st),st=new c.be(0);var xt=new c.be(0),qt=new c.be(0);y.up(st,_),y.up(xt,N),qt.add(ct),y.Mf(g,b),f!=null&&f.add(mt);var pe=[],Je=0<d?Et?5:3:Et?5:1;y.YJ(Je,pe);for(var ge=new c.ga(0),Wt=new c.ga(0),te=new c.ga(0),zt=new c.ga(0),ke=new c.ga(0),be=new c.ga(0),mr=new c.ga(0);0<xt.size;){var Gt=!1,pi=NaN;for(c.kb.wd(l,s,O.x,O.y,N.x,N.y,ge,Wt,null,2),tt=0;tt<Je&&!(tt==0&&(!Et&&0>=d&&ge.u<=u&&3.141592653589793>Math.abs(O.x-N.x)||n.Ux(mt,ct)<=a));tt++){var oe=pe[tt]*ct+(1-pe[tt])*mt;if(n.hc(oe,S),K?D.ma(S.x*r,S.y*r):(W[0][0]=S.x,W[0][1]=S.y,c.cb.vt(),D.x=W[0][0]*r,D.y=W[0][1]*r),tt==0&&(pi=oe,k.L(S),L.L(D),0<u&&(ge.u>u||3.141592653589793<=Math.abs(O.x-N.x)))){Gt=!0;break}if(Et&&0<u){if(c.kb.wd(l,s,O.x,O.y,D.x,D.y,te,null,null,2),te.u>u||3.141592653589793<=Math.abs(O.x-D.x)){Gt=!0;break}}else if(0<d){if(Et?(T.NS(b,_,pe[tt]),K?z.ma(T.x*r,T.y*r):(W[0][0]=T.x,W[0][1]=T.y,c.cb.vt(),z.x=W[0][0]*r,z.y=W[0][1]*r)):(T.L(S),z.L(D)),c.kb.wd(l,s,O.x,O.y,z.x,z.y,zt,null,null,2),!(zt.u<=ge.u)){Gt=!0;break}if(c.kb.oj(l,s,O.x,O.y,zt.u,Wt.u,F,V,2),q.ma(F.u,V.u),c.kb.wd(l,s,q.x,q.y,D.x,D.y,ke,null,null,2),ke.u>d){Gt=!0;break}if(Et){if(c.kb.wd(l,s,q.x,q.y,z.x,z.y,be,null,null,2),be.u>d){Gt=!0;break}if(c.kb.wd(l,s,z.x,z.y,D.x,D.y,mr,null,null,2),mr.u>d){Gt=!0;break}}}}Gt?(_.L(k),N.L(L),ct=pi,y.up(st,_),y.up(xt,N),qt.add(ct)):(y.hB(st),y.hB(xt),qt.En(qt.size-1,1,qt.size-1),y.Mf(g,_),it+=ge.u,f!=null&&f.add(it),0<xt.size&&(b.L(_),O.L(N),mt=ct,y.oB(st,_),y.oB(xt,N),ct=qt.get(qt.size-1)))}if(f!=null)for(l=1/it,tt=0;tt<f.size;tt++)f.write(tt,f.read(tt)*l)},y.fC=function(l,s,r,n){n.reverse(),r!=null&&r.ni(0,r.size,1),r=l!=null?l[0]:NaN,n=s!=null?s[0]:NaN,l!=null&&(l[0]=n),s!=null&&(s[0]=r)},y.fJ=function(l,s,r,n,a){l?(n.L(r),a.L(s)):(n.L(s),a.L(r))},y.eJ=function(l,s,r){return l?(r.create(s.getType()),s.copyTo(r.get()),r.get().reverse(),r.get()):s},y.Wi=function(l,s,r){if(isNaN(s)){for(;3.141592653589793<r[0]-l;)r[0]-=6.283185307179586;for(;3.141592653589793<l-r[0];)r[0]+=6.283185307179586}else 3.141592653589793<r[0]+l-s?r[0]-=6.283185307179586:3.141592653589793<s-(r[0]+l)&&(r[0]+=6.283185307179586)},y.WW=function(l,s,r,n){3.141592653589793>Math.abs(s.x-l.x)?(n.Dc(l),3.141592653589793<=r.x-l.x?n.Ql(r.x-6.283185307179586,r.y):3.141592653589793<=l.x-r.x?n.Ql(r.x+6.283185307179586,r.y):n.Ql(r.x,r.y)):(n.Dc(r),3.141592653589793<=l.x-r.x?n.Ql(l.x-6.283185307179586,l.y):3.141592653589793<=r.x-l.x?n.Ql(l.x+6.283185307179586,l.y):n.Ql(l.x,l.y))},y.YJ=function(l,s){for(var r=0;r<l;r++){var n=Math.ceil(r/2)/(l+1);r%2!=0&&(n=-n),s[r]=.5+n}},y.Mu=function(l,s){return!!(c.s.Y(l.y,1.570796326794897)&&!c.s.Y(s.y,1.570796326794897)||c.s.Y(l.y,-1.570796326794897)&&!c.s.Y(s.y,-1.570796326794897))},y.Ku=function(l,s){return!!(c.s.Y(s.y,1.570796326794897)&&!c.s.Y(l.y,1.570796326794897)||c.s.Y(s.y,-1.570796326794897)&&!c.s.Y(l.y,-1.570796326794897))},y.FE=function(l,s,r){return!(!y.EE(l,s,r)||c.s.Y(l.y,1.570796326794897)||c.s.Y(l.y,-1.570796326794897)||c.s.Y(s.y,1.570796326794897)||c.s.Y(s.y,-1.570796326794897))},y.EE=function(l,s,r){return Math.abs(Math.abs(l.x-s.x)-3.141592653589793)<=r},y.Lu=function(l,s){return!!(c.s.Y(l.y,1.570796326794897)&&c.s.Y(s.y,1.570796326794897)||c.s.Y(l.y,-1.570796326794897)&&c.s.Y(s.y,-1.570796326794897))},y.kB=function(l,s,r,n){if(0<l.y){var a=new c.h;a.ma(s.x,1.570796326794897)}else(a=new c.h).ma(s.x,-1.570796326794897);c.s.Y(l.x,a.x)||c.s.Y(s.y,a.y)||(y.Mf(n,a),r!=null&&r.add(0))},y.iB=function(l,s,r,n){if(0<s.y){var a=new c.h;a.ma(l.x,1.570796326794897)}else(a=new c.h).ma(l.x,-1.570796326794897);c.s.Y(s.x,a.x)||c.s.Y(l.y,a.y)||(y.Mf(n,a),r!=null&&r.add(1))},y.jB=function(l,s,r,n,a,u,d){c.s.Cd(r)?(0<1.570796326794897-l.y&&((r=new c.h).ma(l.x,1.570796326794897),y.Mf(d,r),u!=null&&u.add(n)),0<1.570796326794897-s.y&&((r=new c.h).ma(s.x,1.570796326794897),y.Mf(d,r),u!=null&&u.add(n))):(0<1.570796326794897+l.y&&((r=new c.h).ma(l.x,-1.570796326794897),y.Mf(d,r),u!=null&&u.add(a)),0<1.570796326794897+s.y&&((r=new c.h).ma(s.x,-1.570796326794897),y.Mf(d,r),u!=null&&u.add(a)))},y.AU=function(l){if(-3.141592653589793>l.x)for(;-3.141592653589793>l.x;)l.x+=6.283185307179586;if(3.141592653589793<l.x)for(;3.141592653589793<l.x;)l.x-=6.283185307179586},y}();c.cj=I}(U||(U={})),function(c){c.ip=function(){function I(){}return I.nj=function(y,l,s){if(y==null||l==null||!c.cb.Wc(l))throw c.i.N();if(y.B())return y;var r=y,n=r.getType();if(c.aa.Hc(n)){r=c.Hh.lj(y,l),y=new c.l,r.A(y),n=c.ta.Wd(l,y,!1);for(var a=c.cb.gh(l),u=Math.floor((y.v-a.v)/a.R())*a.R()+a.v;u<y.C;)u>y.v+n&&u<y.C-n&&(r=c.Hh.ks(r,l,s,!0,u)),u+=a.R()}else{if(n==197)return(y=new c.Da(r.description)).ad(r,!1),I.nj(y,l,s);if(c.aa.yd(n))return(y=new c.Ta(r.description)).oc(r,!0),I.nj(y,l,s)}return I.Uy(r,l)},I.Uy=function(y,l){if(y==null||l==null||!c.cb.Wc(l))throw c.i.N();if(y.B())return y;var s=y.getType();return s==197?(s=new c.Da(y.description)).ad(y,!1):c.aa.yd(s)?(s=new c.Ta(y.description)).oc(y,!0):s=y,(s=c.Hh.lj(s,l)).B()?s:c.Eg.Sb(l)==1?c.Hh.Fn(s,l,0,s!=y,0):I.NQ(s,l,s!=y)},I.NQ=function(y,l,s){if(!c.cb.Wc(l))throw c.i.N();if(y.B())return y;var r=c.cb.bf(l),n=-180*r;return r*=360,c.Eg.Sb(l)==2&&(r=(n=c.cb.gh(l)).C,r-=n=n.v),c.Hh.Hp(y,n,r,l,s,0,!0)},I}()}(U||(U={})),function(c){c.BY=function(){function I(){}return I.P=function(y){return 0>y?-y:y},I.Mb=function(y,l){return 0<=l?I.P(y):-I.P(y)},I.Y=function(y,l){return y==l||I.P(y-l)<=I.JC*(1+(I.P(y)+I.P(l))/2)},I.Cd=function(y){return y==0||I.P(y)<=I.JC},I.Ah=function(y,l){var s=(l=(1-(l=Math.sqrt(1-l)))/(1+l))*l;return y/(1+l)*(1+s*(.25+s*(.015625+1/256*s)))*I.EL},I.EL=1.5707963267948966,I.JC=3552713678800501e-30,I}()}(U||(U={})),function(c){var I=function(l){this.Wf=l,this.Kk=this.Wf.getCode(),0>this.Kk&&(this.Kk=0)};c.DY=I;var y=function(){function l(s){s===void 0&&(s=null),this.Cj=null,this.Un=!1,s!==null&&(this.Cj=new I(s))}return l.prototype.Ec=function(){return this.Cj!=null?this.Cj.Kk:0},l.prototype.Of=function(){var s=new l;return this.copyTo(s),s},l.prototype.copyTo=function(s){s.Cj=this.Cj,s.Un=this.Un},l.prototype.Qz=function(){this.Un=!this.Un},l.prototype.qm=function(){return this.Cj!=null?this.Cj.Wf:null},l.prototype.LJ=function(s){if(0>=s)throw c.i.N();if(s!=this.Ec()){if((s=c.pf.geogtran(s))==null)throw c.i.N("Geogtran not found.");this.Cj=new I(s)}},l.prototype.Bz=function(){return this.Cj==null?null:this.Cj.Wf.toString()},l.prototype.tX=function(s){if(s==null)throw c.i.N();var r=null;try{r=c.pf.fromString(c.Sc.PE_TYPE_GEOGTRAN,s)}catch{throw c.i.N()}this.Cj=new I(r)},l.prototype.Nb=function(s){return s==this||!(!(s instanceof l)||(0>=this.Ec()||this.Ec()!=s.Ec())&&!this.qm().isEqual(s.qm()))&&this.Un==s.Un},l.prototype.toString=function(){var s="GeographicTransformation: "+this.Bz();return 200<s.length?s.substring(0,197)+"... ("+s.length.toString()+" characters)":s},l.create=function(s,r){var n=new l;return n.LJ(s),r&&n.Qz(),n},l.uP=function(s,r){var n=new l;return n.tX(s),r&&n.Qz(),n},l}();c.Dx=y}(U||(U={})),function(c){var I=function(){function l(){}return l.construct=function(s,r,n,a){var u=new l;return u.hw=s,u.iw=r,u.QY=n,u.RY=a,u},l.Ey=function(s,r){return s.hw==r.hw?s.iw==r.iw?0:s.iw<r.iw?-1:1:s.hw<r.hw?-1:1},l}(),y=function(){function l(){this.yT=[],this.zT=[],this.qp()}return l.kz=function(){return l.jK==null&&(l.jK=new l),l.jK},l.prototype.qp=function(){this.iD(this.yT),this.iD(this.zT)},l.prototype.iD=function(s){try{var r=[];r=r.sort(I.Ey);for(var n=0;n<r.length;n++)s.push(r[n])}catch{}},l}();c.CY=y}(U||(U={})),function(c){var I=function(){function y(){}return y.prototype.yD=function(l){this.Fk=l},y.prototype.WM=function(l){this.Fb=l},y.prototype.xD=function(l){this.zo=l},y.CE=function(l){return!(l.B()||l.getType()!=1607&&l.getType()!=1736)},y.AE=function(l){return!(l.B()||l.getType()!=1607&&l.getType()!=1736||20>l.I())},y.BE=function(l){return!(l.B()||l.getType()!=1607&&l.getType()!=1736||20>l.I())},y}();c.Uk=I}(U||(U={})),function(c){c.$b=function(){function I(){}return I.TT=function(y){var l=new c.Da;return l.sx(y.es(),y.gs()),l.yj(y.es(),y.fs()),l.yj(y.ds(),y.fs()),l.yj(y.ds(),y.gs()),l},I.zh=function(y,l){return y===null?null:c.Hx.local().V(y,l,null)},I.jY=function(y,l){var s=c.Gh.local();return y=new c.Zc(y),s.V(y,l,null).next()},I.im=function(y,l,s){return c.kp.local().V(y,l,s,null)},I.ep=function(y,l,s){return c.Kx.local().V(y,l,s,null)},I.VX=function(y,l,s){var r=c.Kx.local();for(y=new c.Zc(y),l=new c.Zc(l),s=r.V(y,l,s,null),r=[];(l=s.next())!=null;)r.push(l);return r},I.Nb=function(y,l,s){return c.dj.local().V(3,y,l,s,null)},I.TP=function(y,l,s){return c.dj.local().V(4,y,l,s,null)},I.RS=function(y,l,s){var r=c.Xj.local();for(y=new c.Zc(y),l=new c.Zc(l),s=r.V(y,l,s,null),r=[];(l=s.next())!=null;)r.push(l);return r},I.QP=function(y,l,s){var r=c.kp.local();for(y=new c.Zc(y),l=new c.Zc(l),s=r.V(y,l,s,null),r=[];(l=s.next())!=null;)r.push(l);return r},I.Ea=function(y,l,s){return c.Xj.local().V(y,l,s,null)},I.QS=function(y,l,s){if((y=c.Xj.local().V(y,l,s,null,1))===null)return[];if(y.getType()===550){for(l=[],s=0;s<y.wa;s++)l.push(y.KR(s));return l}return y.getType()===33?[y]:[]},I.qY=function(y,l,s){return c.dj.local().V(2,y,l,s,null)},I.contains=function(y,l,s){return c.dj.local().V(1,y,l,s,null)},I.BP=function(y,l,s){return c.dj.local().V(16,y,l,s,null)},I.touches=function(y,l,s){return c.dj.local().V(8,y,l,s,null)},I.DU=function(y,l,s){return c.dj.local().V(32,y,l,s,null)},I.TS=function(y,l,s){return c.dj.local().V(1073741824,y,l,s,null)},I.yB=function(y,l,s,r){return c.zL.local().V(y,l,s,r,null)},I.tb=function(y,l,s,r){var n=null;if(s!=null){if(n=s.Hd(),r!=null&&n.Ec()!=r.Ec()&&n.od!=r.od)throw c.i.Xk()}else if(r!=null)throw c.i.N();return y=c.rL.local().V(y,l,null),n!==null&&r!==null&&(y=c.Tc.Nh(y,n,r)),y},I.clip=function(y,l,s){return c.kL.local().V(y,c.l.construct(l.es(),l.gs(),l.ds(),l.fs()),s,null)},I.dl=function(y,l,s){if(y==null||l==null)return null;for(y=c.mL.local().V(!0,y,l,s,null),l=[];(s=y.next())!=null;)s.B()||l.push(s);return l.slice(0)},I.MN=function(y,l,s,r,n,a,u,d){if(n===!0)return I.NN(y,l,s,r,a,u,d);if(n=s,l!=null){if(u=l.Hd(),r!=null&&u.Ec()!=r.Ec()){if(u.od!=r.od)throw c.i.Xk();n=[],c.Tc.XE(s,s.length,r,u,n)}}else if(r!=null)throw c.i.N();if(s=c.AC.local(),a){for(y=new c.Zc(y),l=s.V(y,l,n,a,null),y=[];(a=l.next())!=null;)y.push(a);a=y.slice(0)}else for(a=[],r=0;r<y.length;r++)a[r]=s.V(y[r],l,n[r],null);return a},I.NN=function(y,l,s,r,n,a,u){if(l===null||(r==null&&(r=l.Ec()!==4326?l.Hd():c.Tc.Zg(9001)),r.od!==0))throw c.i.N();if(c.Tc.XE(s,s.length,r,c.Tc.Zg(9001),s),r=c.FC.local(),n){for(y=new c.Zc(y),l=r.V(y,l,a,s,u,!1,n,null),s=[];(a=l.next())!=null;)s.push(a);n=s.slice(0)}else{n=[];for(var d=0;d<y.length;d++)n[d]=r.V(y[d],l,a,s[d],u,!1,null)}return n},I.buffer=function(y,l,s,r,n,a,u){var d=s;if(n===!1){if(l!=null){if(n=l.Hd(),r!=null&&n.Ec()!=r.Ec()){if(n.od!=r.od)throw c.i.Xk();d=c.Tc.Nh(s,r,n)}}else if(r!=null)throw c.i.N();y=c.AC.local().V(y,l,d,null)}else{if(l===null||(r==null&&(r=l.Ec()!==4326?l.Hd():c.Tc.Zg(9001)),r.od!==0))throw c.i.N();d=c.Tc.Nh(s,r,c.Tc.Zg(9001)),y=c.FC.local().V(y,l,a,d,u,!1,null)}return y},I.BU=function(y,l,s,r,n,a,u){if(l!=null){var d=l.Hd();if(u!=null&&d.Ec()!=u.Ec()){if(d.od!=u.od)throw c.i.Xk();s=c.Tc.Nh(s,u,d)}}else if(u!=null)throw c.i.N();for(y=new c.Zc(y),l=c.IC.local().V(y,l,s,r,n,a,null),s=[];(r=l.next())!=null;)s.push(r);return s.slice(0)},I.offset=function(y,l,s,r,n,a,u){if(l!=null){var d=l.Hd();if(u!=null&&d.Ec()!=u.Ec()){if(d.od!=u.od)throw c.i.Xk();s=c.Tc.Nh(s,u,d)}}else if(u!=null)throw c.i.N();return c.IC.local().V(y,l,s,r,n,a,null)},I.iP=function(y){return c.CC.local().V(y,null)},I.jP=function(y,l){var s=c.CC.local();for(y=new c.Zc(y),l=s.V(y,l,null),s=[];(y=l.next())!=null;)s.push(y);return s},I.nz=function(y,l,s){return c.Ix.local().nz(y,l,s)},I.oz=function(y,l){return c.Ix.local().oz(y,l)},I.pz=function(y,l,s,r){return c.Ix.local().pz(y,l,s,r)},I.eC=function(y,l){return c.Yl.local().V(y,l,!1,null)},I.dT=function(y,l){return c.Yl.local().rs(y,l,null)},I.QQ=function(y,l,s,r,n){var a=c.EC.local();if(l!=null){if(l=l.Hd(),n!=null&&l.Ec()!=n.Ec()){if(l.od!=n.od)throw c.i.Xk();s=c.Tc.Nh(s,n,l)}}else if(n!=null)throw c.i.N();return a.V(y,s,r,null)},I.Qr=function(y,l,s,r){var n=c.Xl.local();if(l!=null){if(l=l.Hd(),r!=null&&l.Ec()!=r.Ec()){if(l.od!=r.od)throw c.i.Xk();s=c.Tc.Nh(s,r,l)}}else if(r!=null)throw c.i.N();return n.V(y,s,null)},I.Wy=function(y,l,s,r,n){n===void 0&&(n=0);var a=c.tL.local();if(n==4||n!==0)throw c.i.Ie();if(r!==null){if(r.od!==0)throw c.i.N("Unit must be a linear unit type");s=c.Tc.Nh(s,r,c.Tc.Zg(9001))}return a.V(y,s,l,n,null)},I.WQ=function(y,l,s,r){if(y===null)return 0;if(r==4||r!==0)throw c.i.Ie();if(y.getType()==197)y=I.TT(y);else if(y.getType()!=1736)return 0;if(r=c.cb.sc(l),y=c.cb.zh(y,l,r),y=c.UK.XQ([y])[0],s!==null){if(s.od!==2)throw c.i.N("Unit must be a area unit type");y=c.Tc.Nh(y,c.Tc.Zg(109404),s)}return y},I.ZQ=function(y,l,s,r){if(y=c.vL.local().V(y,l,r,null),s!==null){if(s.od!==0)throw c.i.N("Unit must be a linear unit type");y=c.Tc.Nh(y,c.Tc.Zg(9001),s)}return y},I.JU=function(y,l,s){if(y===null)return 0;var r=null;if(l!=null){if((r=l.Hd()).od==0&&(r=c.Tc.aG(r))==null&&s!==null)throw c.i.N();if(s!=null&&r.Ec()!=s.Ec()&&r.od!=s.od)throw c.i.Xk()}else if(s!=null)throw c.i.N();return y.getType()==1736||y.getType()==197?(y=y.Ke(),s!==null?c.Tc.Nh(y,r,s):y):0},I.KU=function(y,l,s){if(y===null||y.B()||1>y.Db())return 0;var r=null;if(l!=null){if(r=l.Hd(),s!=null&&r.Ec()!=s.Ec()&&r.od!=s.od)throw c.i.Xk()}else if(s!=null)throw c.i.N();y.getType()==1736||y.getType()==197?l=y.mg():c.aa.yd(y.getType())?(l=new c.Ta(y.description)).oc(y,!0):l=y,y=0,l=l.Ga();for(var n=new c.h,a=new c.h;l.$a();)for(;l.Ha();){var u=l.ha();u.Yp(n),u.Tr(a),y+=c.h.tb(n,a)}return r!==null&&s!==null&&(y=c.Tc.Nh(y,r,s)),y},I.fP=function(y){return y.points!==void 0?I.mS(y,y.hasZ!==void 0&&y.hasZ,y.hasM!==void 0&&y.hasM):y.rings!==void 0?I.lG(y.rings,y.hasZ!==void 0&&y.hasZ,y.hasM!==void 0&&y.hasM,"P"):y.paths!==void 0?I.lG(y.paths,y.hasZ!==void 0&&y.hasZ,y.hasM!==void 0&&y.hasM,"L"):y.x!==void 0?I.nS(y):y.xmin!==void 0?I.lS(y):null},I.nS=function(y){if(y.x==null||y.x=="NaN")return new c.Sa;var l=new c.Sa(y.x,y.y);return y.z!==void 0&&y.z!==null&&l.wX(y.z),y.m!==void 0&&y.m!==null&&l.hX(y.m),l},I.lS=function(y){if(y.xmin==null||y.xmin=="NaN")return new c.Fh;var l=new c.Fh(y.xmin,y.ymin,y.xmax,y.ymax);return y.zmin!==void 0&&y.zmin!==null&&l.setInterval(1,0,y.zmin,y.zmax),y.mmin!==void 0&&y.mmin!==null&&l.setInterval(2,0,y.mmin,y.mmax),l},I.mS=function(y,l,s){var r=0,n=new c.de,a=3*y.points.length;a%2!=0&&a++,2>a&&(a=2);var u=c.O.truncate(3*y.points.length/2);4>u?u=4:16>u&&(u=16),a=c.Yc.Dn(a,0);var d=c.Yc.Dn(u);u=c.Yc.Dn(u);for(var f=0;f<y.points.length;f++)a.write(2*f,y.points[f][0]),a.write(2*f+1,y.points[f][1]),d.write(f,l||s?y.points[f][2]:NaN),u.write(f,s&&l?y.points[f][3]:NaN),r++;return r!=0&&(n.resize(r),n.hn(0,a)),l&&(n.re(1),n.hn(1,d)),s&&(n.re(2),n.hn(2,l==0?d:u)),n.Pc(16777215),n},I.lG=function(y,l,s,r){var n=0,a=2;if(r=="P"){var u=new c.Da;n=1,a=3}else u=new c.Ta;for(var d=c.Yc.Oh(0),f=c.Yc.Mr(0),g=0,b=0,_=[],S=[],T=0;T<y.length;T++){var k=y[T].length;if(_[T]=!1,r==="P"&&y[T][0][0]===y[T][y[T].length-1][0]&&y[T][0][1]===y[T][y[T].length-1][1]){var O=s==0||y[T][0][3]===y[T][y[T].length-1][3]||y[T][0][3]===void 0&&y[T][y[T].length-1][3]===void 0;(l==0||y[T][0][2]===y[T][y[T].length-1][2]||y[T][0][2]===void 0&&y[T][y[T].length-1][2]===void 0)&&O&&(_[T]=!0,--k)}k>=a?(S[T]=!1,b+=1,d.add(g),f.add(n),g+=k):S[T]=!0}for((r=3*g)%2!=0&&r++,2>r&&(r=2),4>(T=c.O.truncate(3*g/2))?T=4:16>T&&(T=16),r=c.Yc.Dn(r,0),n=c.Yc.Dn(T),a=c.Yc.Dn(T),T=k=0;T<y.length;T++)if(S[T]===!1)for(O=0;O<y[T].length;O++){var N=!1;O===y[T].length-1&&_[T]===!0&&(N=!0),N||(r.write(2*k,y[T][O][0]),r.write(2*k+1,y[T][O][1]),n.write(k,l||s?y[T][O][2]:NaN),a.write(k,s&&l?y[T][O][3]:NaN),k++)}return g!=0&&(y=u,d.resize(b),f.resize(b),0<g&&(d.add(g),f.add(0)),y.hn(0,r),y.PJ(f),y.QJ(d)),l&&(u.re(1),u.hn(1,n)),s&&(u.re(2),u.hn(2,l==0?n:a)),u.Pc(16777215),u},I}()}(U||(U={})),function(c){c.Ex=function(){function I(){}return I.br=function(y){var l,s=0,r=y.length,n=y[0];for(l=0;l<r-1;l++){var a=y[l+1];s+=(a[0]-n[0])*(a[1]+n[1]),n=a}return 0<=s},I.rotate=function(y,l,s){l=l*Math.PI/180;var r=Math.cos(l),n=Math.sin(l);if(y.paths!==void 0){l={paths:[]};for(var a=0;a<y.paths.length;a++){for(var u=y.paths[a],d=[],f=0;f<u.length;f++){var g=u[f].slice(0);d.push(g);var b=r*(u[f][0]-s.x)-n*(u[f][1]-s.y)+s.x,_=n*(u[f][0]-s.x)+r*(u[f][1]-s.y)+s.y;g[0]=b,g[1]=_}l.paths.push(d),y.hasZ!==void 0&&(l.hasZ=y.hasZ),y.hasM!==void 0&&(l.hasM=y.hasM)}return l}if(y.rings!==void 0){for(l={rings:[]},a=0;a<y.rings.length;a++){u=y.rings[a],d=[];var S=I.br(u);for(f=0;f<u.length;f++)g=u[f].slice(0),d.push(g),b=r*(u[f][0]-s.x)-n*(u[f][1]-s.y)+s.x,_=n*(u[f][0]-s.x)+r*(u[f][1]-s.y)+s.y,g[0]=b,g[1]=_;I.br(d)!==S&&d.reverse(),l.rings.push(d),y.hasZ!==void 0&&(l.hasZ=y.hasZ),y.hasM!==void 0&&(l.hasM=y.hasM)}return l}if(y.x!==void 0)return l={x:r*(y.x-s.x)-n*(y.y-s.y)+s.x,y:n*(y.x-s.x)+r*(y.y-s.y)+s.y},y.z!==void 0&&(l.z=y.z),y.m!==void 0&&(l.m=y.m),y.hasZ!==void 0&&(l.hasZ=y.hasZ),y.hasM!==void 0&&(l.hasM=y.hasM),l;if(y.points!==void 0){for(l={points:[]},a=y.points,f=0;f<a.length;f++)(u=a[f].slice(0))[0]=r*(a[f][0]-s.x)-n*(a[f][1]-s.y)+s.x,u[1]=n*(a[f][0]-s.x)+r*(a[f][1]-s.y)+s.y,l.points.push(u);return y.hasZ!==void 0&&(l.hasZ=y.hasZ),y.hasM!==void 0&&(l.hasM=y.hasM),l}return null},I.JQ=function(y,l){if(y.paths!==void 0){for(var s={paths:[]},r=0;r<y.paths.length;r++){for(var n=y.paths[r],a=[],u=0;u<n.length;u++){var d=n[u].slice(0);a.push(d);var f=l.x-n[u][0];d[0]=n[u][0]+2*f}s.paths.push(a)}return y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s}if(y.rings!==void 0){for(s={rings:[]},r=0;r<y.rings.length;r++){n=y.rings[r];var g=I.br(n);for(a=[],u=0;u<n.length;u++)d=n[u].slice(0),a.push(d),f=l.x-n[u][0],d[0]=n[u][0]+2*f;I.br(a)!==g&&a.reverse(),s.rings.push(a)}return y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s}if(y.x!==void 0)return f=l.x-y.x,s={x:y.x+2*f,y:y.y},y.z!==void 0&&(s.z=y.z),y.m!==void 0&&(s.m=y.m),y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s;if(y.points!==void 0){for(s={points:[]},r=y.points,u=0;u<r.length;u++)n=r[u].slice(0),f=l.x-n[0],n[0]+=2*f,s.points.push(n);return y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s}return y.xmin!==void 0?(s={v:y.xmin,G:y.ymin,C:y.xmax,H:y.ymax},y.zmin!==void 0&&(s.zmin=y.zmin,s.zmax=y.zmax),y.mmin!==void 0&&(s.mmin=y.mmin,s.mmax=y.mmax),f=l.x-y.xmin,s.xmax=y.xmin+2*f,f=l.x-y.xmax,s.xmin=y.xmax+2*f,y.zmin!==void 0&&(s.zmin=y.zmin),y.zmax!==void 0&&(s.zmax=y.zmax),y.mmin!==void 0&&(s.mmin=y.mmin),y.mmax!==void 0&&(s.mmax=y.mmax),y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s):null},I.KQ=function(y,l){if(y.paths!==void 0){for(var s={paths:[]},r=0;r<y.paths.length;r++){for(var n=y.paths[r],a=[],u=0;u<n.length;u++){var d=n[u].slice(0);a.push(d);var f=l.y-n[u][1];d[1]=n[u][1]+2*f}s.paths.push(a)}return y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s}if(y.rings!==void 0){for(s={rings:[]},r=0;r<y.rings.length;r++){n=y.rings[r];var g=I.br(n);for(a=[],u=0;u<n.length;u++)d=n[u].slice(0),a.push(d),f=l.y-n[u][1],d[1]=n[u][1]+2*f;I.br(a)!==g&&a.reverse(),s.rings.push(a)}return y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s}if(y.x!==void 0)return f=l.y-y.y,s={y:y.y+2*f,x:y.x},y.z!==void 0&&(s.z=y.z),y.m!==void 0&&(s.m=y.m),y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s;if(y.points!==void 0){for(s={points:[]},r=y.points,u=0;u<r.length;u++)n=r[u].slice(0),f=l.y-n[1],n[1]+=2*f,s.points.push(n);return y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s}return y.xmin!==void 0?(s={v:y.xmin,G:y.ymin,C:y.xmax,H:y.ymax},y.zmin!==void 0&&(s.zmin=y.zmin,s.zmax=y.zmax),y.mmin!==void 0&&(s.mmin=y.mmin,s.mmax=y.mmax),f=l.y-y.ymin,s.ymax=y.ymin+2*f,f=l.y-y.ymax,s.ymin=y.ymax+2*f,y.zmin!==void 0&&(s.zmin=y.zmin),y.zmax!==void 0&&(s.zmax=y.zmax),y.mmin!==void 0&&(s.mmin=y.mmin),y.mmax!==void 0&&(s.mmax=y.mmax),y.hasZ!==void 0&&(s.hasZ=y.hasZ),y.hasM!==void 0&&(s.hasM=y.hasM),s):null},I}()}(U||(U={})),function(c){c.ZK=function(){function I(){}return I.Ig=function(y,l){switch(l==null&&(l=c.ee.og()),y){case 33:return new c.Sa(l);case 322:return new c.yb(l);case 197:return new c.Fh(l);case 550:return new c.de(l);case 1607:return new c.Ta(l);case 1736:return new c.Da(l);default:throw c.i.fa("invalid argument.")}},I}()}(U||(U={})),function(c){var I=function(){function y(l,s){this.Te=c.ia.qf(l,-1),this.ua=new c.au,this.wl=s}return y.prototype.AW=function(l){this.ua.At(Math.min(this.Te.size,l)),this.ua.fn(l)},y.prototype.addElement=function(l,s){if(s===void 0)return this.eN(l);s=c.O.truncate(s%this.Te.size);var r=this.Te.get(s);return r==-1&&(r=this.ua.Ph(),this.Te.set(s,r)),this.ua.addElement(r,l)},y.prototype.eN=function(l){var s=this.wl.jz(l);s=c.O.truncate(s%this.Te.size);var r=this.Te.get(s);return r==-1&&(r=this.ua.Ph(),this.Te.set(s,r)),this.ua.addElement(r,l)},y.prototype.jd=function(l,s){if(s===void 0)this.KP(l);else{s=c.O.truncate(s%this.Te.size);var r=this.Te.get(s);if(r==-1)throw c.i.N();for(var n=this.ua.rc(r),a=-1;n!=-1;){var u=this.ua.lb(n);this.ua.ja(n)==l?(this.ua.jd(r,a,n),this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(s,-1))):a=n,n=u}}},y.prototype.KP=function(l){var s=this.wl.jz(l);s=c.O.truncate(s%this.Te.size);var r=this.Te.get(s);if(r==-1)throw c.i.N();for(var n=this.ua.rc(r),a=-1;n!=-1;){var u=this.ua.lb(n);this.ua.ja(n)==l?(this.ua.jd(r,a,n),this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(s,-1))):a=n,n=u}},y.prototype.rR=function(l){return l=c.O.truncate(l%this.Te.size),(l=this.Te.get(l))==-1?-1:this.ua.rc(l)},y.prototype.ER=function(l){return this.ua.lb(l)},y.prototype.vd=function(l){var s=this.wl.jz(this.ja(l));s=c.O.truncate(s%this.Te.size);var r=this.Te.get(s);if(r==-1)throw c.i.N();for(var n=this.ua.rc(r),a=-1;n!=-1;){if(n==l)return this.ua.jd(r,a,n),void(this.ua.rc(r)==-1&&(this.ua.bh(r),this.Te.set(s,-1)));a=n,n=this.ua.lb(n)}throw c.i.N()},y.prototype.ja=function(l){return this.ua.ja(l)},y.prototype.clear=function(){this.Te=c.ia.qf(this.Te.size,-1),this.ua.clear()},y.prototype.size=function(){return this.ua.TF()},y}();c.dL=I}(U||(U={})),function(c){var I=function(){function y(){this.Li=new c.$c(3),this.ua=new c.$c(6),this.sT=!1,this.je=-1}return y.prototype.fl=function(l){this.Li.jd(l)},y.prototype.Pw=function(){return this.Li.Ce()},y.prototype.bv=function(l){this.ua.jd(l)},y.prototype.$A=function(){return this.ua.Ce()},y.prototype.WB=function(l,s){this.Li.S(l,1,s)},y.prototype.ex=function(l,s){this.Li.S(l,2,s)},y.prototype.gX=function(l,s){this.Li.S(l,3,s)},y.prototype.UB=function(l,s){this.ua.S(l,4,s)},y.prototype.jX=function(l,s){this.ua.S(l,3,s)},y.prototype.TJ=function(l,s){this.ua.S(l,2,s)},y.prototype.Ph=function(l){var s=this.$A();return this.ua.S(s,3,this.je),this.ua.S(s,4,0),this.ua.S(s,5,l),this.je!=-1&&this.TJ(this.je,s),this.je=s},y.prototype.bh=function(l){this.LE(l);var s=this.ua.T(l,2),r=this.ua.T(l,3);return s!=-1?this.jX(s,r):this.je=r,r!=-1&&this.TJ(r,s),this.bv(l),r},y.prototype.At=function(l){this.ua.De(l)},y.prototype.PF=function(l){return this.ua.T(l,5)},y.prototype.fX=function(l,s){this.ua.S(l,5,s)},y.prototype.addElement=function(l,s){return this.tS(l,s)},y.prototype.tS=function(l,s){var r=this.Pw();this.ex(r,-1),this.ua.T(l,0)==-1&&this.ua.S(l,0,r);var n=this.ua.T(l,1);return this.WB(r,n),n!=-1&&this.ex(n,r),this.ua.S(l,1,r),this.setData(r,s),this.UB(l,this.bs(l)+1),this.sT&&this.gX(r,l),r},y.prototype.jd=function(l,s){var r=this.we(s),n=this.lb(s);return r!=-1?this.ex(r,n):this.ua.S(l,0,n),n!=-1?this.WB(n,r):this.ua.S(l,1,r),this.fl(s),this.UB(l,this.bs(l)-1),n},y.prototype.fn=function(l){this.Li.De(l)},y.prototype.getData=function(l){return this.Li.T(l,0)},y.prototype.setData=function(l,s){this.Li.S(l,0,s)},y.prototype.lb=function(l){return this.Li.T(l,2)},y.prototype.we=function(l){return this.Li.T(l,1)},y.prototype.rc=function(l){return this.ua.T(l,0)},y.prototype.Fc=function(l){return this.ua.T(l,1)},y.prototype.clear=function(){for(var l=this.je;l!=-1;)l=this.bh(l)},y.prototype.LE=function(l){for(var s=this.Fc(l);s!=-1;){var r=s;s=this.we(r),this.fl(r)}this.ua.S(l,0,-1),this.ua.S(l,1,-1),this.UB(l,0)},y.prototype.B=function(){return this.Li.size==0},y.prototype.TF=function(){return this.Li.size},y.prototype.bs=function(l){return this.ua.T(l,4)},y.prototype.qz=function(l){return this.ua.T(l,3)},y}();c.jp=I}(U||(U={})),function(c){var I=function(){function y(l){l===void 0?(this.ug=new c.$c(2),this.ua=new c.$c(4),this.je=-1,this.Qv=!0):(this.ug=new c.$c(2),this.ua=new c.$c(l?4:2),this.je=-1,this.Qv=l)}return y.prototype.fl=function(l){this.ug.jd(l)},y.prototype.Pw=function(){return this.ug.Ce()},y.prototype.bv=function(l){this.ua.jd(l)},y.prototype.$A=function(){return this.ua.Ce()},y.prototype.Ph=function(){var l=this.$A();return this.Qv&&(this.ua.S(l,3,this.je),this.je!=-1&&this.ua.S(this.je,2,l),this.je=l),l},y.prototype.bh=function(l){for(var s=this.rc(l);s!=-1;){var r=s;s=this.lb(s),this.fl(r)}this.Qv&&(s=this.ua.T(l,2),r=this.ua.T(l,3),s!=-1?this.ua.S(s,3,r):this.je=r,r!=-1&&this.ua.S(r,2,s)),this.bv(l)},y.prototype.At=function(l){this.ua.De(l)},y.prototype.addElement=function(l,s){var r=this.ua.T(l,1),n=this.Pw();return r!=-1?this.ug.S(r,1,n):this.ua.S(l,0,n),this.ua.S(l,1,n),this.ug.S(n,0,s),n},y.prototype.fn=function(l){this.ug.De(l)},y.prototype.jd=function(l,s,r){s!=-1?(this.ug.S(s,1,this.ug.T(r,1)),this.ua.T(l,1)==r&&this.ua.S(l,1,s)):(this.ua.S(l,0,this.ug.T(r,1)),this.ua.T(l,1)==r&&this.ua.S(l,1,-1)),this.fl(r)},y.prototype.Hy=function(l,s){var r=this.ua.T(l,1),n=this.ua.T(s,0);n!=-1&&(r!=-1?this.ug.S(r,1,n):this.ua.S(l,0,n),this.ua.S(l,1,this.ua.T(s,1))),this.Qv&&(l=this.ua.T(s,2),r=this.ua.T(s,3),l!=-1?this.ua.S(l,3,r):this.je=r,r!=-1&&this.ua.S(r,2,l)),this.bv(s)},y.prototype.ja=function(l){return this.ug.T(l,0)},y.prototype.Sj=function(l,s){this.ug.S(l,0,s)},y.prototype.lb=function(l){return this.ug.T(l,1)},y.prototype.rc=function(l){return this.ua.T(l,0)},y.prototype.Jn=function(l){return this.ja(this.rc(l))},y.prototype.clear=function(){this.ug.mj(!0),this.ua.mj(!0),this.je=-1},y.prototype.B=function(){return this.ug.size==0},y.prototype.TF=function(){return this.ug.size},y.prototype.qz=function(l){return this.ua.T(l,3)},y}();c.au=I}(U||(U={})),function(c){c.ta=function(){function I(){}return I.Wd=function(y,l,s){return l=l.xr(),y=y!=null&&y.Xd!==void 0?y.Xd(0):0,s&&(l*=4,y*=1.1),Math.max(y,l)},I.Er=function(y){return 2*Math.sqrt(2)*y},I.rN=function(y){return Math.sqrt(2)*y},I.kj=function(y,l,s){var r=new c.l;return l.A(r),I.Wd(y,r,s)},I.wE=function(y,l,s){return l=l.Tg(1,0).xr(),y=y!=null?y.Xd(1):0,s&&(l*=4,y*=1.1),Math.max(y,l)},I.mv=function(y,l){var s=new c.l;return y.xc(s),y=new c.l,l.xc(y),s.Zb(y),s},I.YN=function(y){var l=new c.l;if(y.xc(l),l.B())return null;var s=new c.du(l,8),r=-1,n=new c.l,a=!1;do for(var u=0,d=y.da();u<d;u++){if(y.Rj(u,n),(r=s.Jz(u,n,r))==-1){if(a)throw c.i.fa("internal error");y.yp(l,!1),a=!0,s.reset(l,8);break}a=!1}while(a);return s},I.nE=function(y){var l=new c.l;y.xc(l);for(var s=new c.du(l,8),r=-1,n=y.Ga(),a=new c.l,u=!1;n.$a();)for(;n.Ha();){var d=n.ha(),f=n.wb();if(d.A(a),(r=s.Jz(f,a,r))==-1){if(u)throw c.i.Qa();y.yp(l,!1),u=!0,s.reset(l,8),n.Zi();break}}return s},I.jj=function(y,l){var s=new c.l;y.xc(s);for(var r=new c.du(s,8),n=-1,a=new c.l,u=y.Ga(),d=!1;u.$a();)for(;u.Ha();){var f=u.ha(),g=u.wb();if(f.A(a),a.isIntersecting(l)&&(n=r.Jz(g,a,n))==-1){if(d)throw c.i.fa("internal error.");y.yp(s,!1),d=!0,r.reset(s,8),u.Zi();break}}return r},I.oE=function(y,l){for(var s=new c.du(l,8),r=new c.h,n=!1,a=new c.l,u=0;u<y.I();u++)if(y.D(u,r),l.contains(r)&&(a.K(r),s.vj(u,a)==-1)){if(n)throw c.i.Qa();n=!0,u=new c.l,y.yp(u,!1),s.reset(u,8),u=-1}return s},I.lR=function(y,l,s){var r=new c.l,n=new c.l;y.xc(r),l.xc(n),r.W(s,s),n.W(s,s);var a=new c.l;a.K(r),a.Ea(n),y=y.Ga(),l=l.Ga();var u=new c.xC;u.aC(s);var d=!1;for(u.pK();y.$a();)for(;y.Ha();)y.ha().A(r),r.isIntersecting(a)&&(d=!0,(s=new c.l).K(r),u.JD(y.wb(),s));if(u.iF(),!d)return null;for(r=!1,u.oK();l.$a();)for(;l.Ha();)l.ha().A(n),n.isIntersecting(a)&&(r=!0,(s=new c.l).K(n),u.ED(l.wb(),s));return u.hF(),r?u:null},I.mR=function(y,l,s,r,n){var a=y.getType(),u=l.getType(),d=new c.l,f=new c.l;y.xc(d),l.xc(f),d.W(s,s),f.W(s,s);var g=new c.l;g.K(d),g.Ea(f);var b=new c.xC;b.aC(s);var _=!1;b.pK();var S=0;for(s=y.da();S<s;S++)r&&a==1736&&!y.Ev(S)||(y.Rj(S,d),d.isIntersecting(g)&&(_=!0,b.JD(S,d)));if(b.iF(),!_)return null;for(y=!1,b.oK(),r=0,s=l.da();r<s;r++)n&&u==1736&&!l.Ev(r)||(l.Rj(r,f),f.isIntersecting(g)&&(y=!0,b.ED(r,f)));return b.hF(),y?b:null},I.Ru=function(y,l,s){if(y!=l)for(var r=0;r<s;r++)y[r]==null?y[r]=c.h.al(l[r]):y[r].L(l[r])},I.Jy=function(y,l,s,r){var n=0;for(r+=0;n<r;s++,n++)y[n]==null&&(y[n]=[0,0]),y[n][0]=l[s].x,y[n][1]=l[s].y},I.Iy=function(y,l,s,r){var n=l,a=0;for(l=r+l;n<l;a++,n++)y[n]==null?y[n]=c.h.construct(s[a][0],s[a][1]):y[n].ma(s[a][0],s[a][1])},I.kP=function(y,l,s){if(y!=l)for(var r=0;r<s;r++)y[r]==null?y[r]=new c.Sa(l[r]):l[r].copyTo(y[r])},I.vE=function(y,l,s,r){var n=0;return y!=null&&(n=y.Xd(0),r&&!s||y==null||(n+=1.01*y.vz(0))),s&&(l*=4,n*=1.01),Math.max(n,l)},I.ty=function(y,l,s){return I.vE(y,l.xr(),s,!1)},I.gO=function(y,l){var s=new c.l;return l.A(s),I.ty(y,s,!0)},I.uy=function(y,l){return I.vE(y,l.xr(),!1,!0)},I.Hu=function(y,l){var s=new c.l;return l.A(s),I.uy(y,s)},I.AG=function(y,l,s,r){r*=r;var n=new c.h;if(n.uc(y,l),(y=new c.h).uc(s,l),l=n.Sk(),s=y.Sk(),l<=r&&s<=r)return!0;var a=c.lc.ox(n.wi(y));return(a<=r*l||a<=r*s)&&0<=n.Qh(y)},I.dK=function(y,l,s,r){for(var n=0;n<l;n++){var a=y[n].y,u=c.O.Rk(a,s,r);u!=a&&(y[n].y=u)}},I}()}(U||(U={})),function(c){var I,y,l=function(){function a(u){this.Ya=u}return a.prototype.compare=function(u,d,f){u=u.ja(f),f=this.Ya.nk(d);var g=this.Ya.nk(u);return f<g?-1:f==g?n.gq(d)&&n.Gv(u)?-1:n.gq(u)&&n.Gv(d)?1:0:1},a}(),s=function(){function a(u){this.Ya=u}return a.prototype.nr=function(u,d,f){this.Ya.GX(f,u,d)},a.prototype.$p=function(u){return this.Ya.nk(u)},a}();(y=I||(I={}))[y.initialize=0]="initialize",y[y.pIn=1]="pIn",y[y.pL=2]="pL",y[y.pR=3]="pR",y[y.pT=4]="pT",y[y.right=5]="right",y[y.left=6]="left",y[y.all=7]="all";var r=function(){function a(){this.Ya=null,this.Qi=new c.Nc,this.hi=new c.ia(0),this.sg=[0,0]}return a.prototype.Xi=function(u,d){this.Qi.oa=u.oa-d,this.Qi.va=u.va+d,this.hi.resize(0),this.he=0,this.sg[0]=0},a.prototype.EB=function(u,d,f){if(u>d)throw c.i.N();this.Qi.oa=u-f,this.Qi.va=d+f,this.hi.resize(0),this.he=0,this.sg[0]=0},a.prototype.Uo=function(u,d){this.Qi.oa=u-d,this.Qi.va=u+d,this.hi.resize(0),this.he=0,this.sg[0]=0},a.prototype.next=function(){if(!this.Ya.lq)throw c.i.Hb();if(0>this.he)return-1;for(var u=!0;u;)switch(this.sg[this.he]){case 1:u=this.FU();break;case 2:u=this.GU();break;case 3:u=this.HU();break;case 4:u=this.IU();break;case 5:u=this.GW();break;case 6:u=this.kT();break;case 7:u=this.tN();break;case 0:u=this.Gz();break;default:throw c.i.Qa()}return this.Og!=-1?this.Mp()>>1:-1},a.construct=function(u){var d=new a;return d.Ya=u,d.hi.Jb(20),d.he=-1,d},a.prototype.Gz=function(){return this.Og=this.vH=this.Mi=this.Lc=-1,this.Ya.me!=null&&0<this.Ya.me.size?(this.sg[0]=1,this.Mi=this.Ya.kf,!0):(this.he=-1,!1)},a.prototype.FU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.Og=this.he=-1,!1;var u=this.Ya.Np(this.Lc);return this.Qi.va<u?(u=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),u!=-1&&(this.ei=this.Ya.kl(u),this.sg[++this.he]=6),!0):u<this.Qi.oa?(u=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),u!=-1&&(this.ei=this.Ya.Zr(u),this.sg[++this.he]=5),!0):(this.sg[this.he]=2,this.vH=this.Lc,u=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),u!=-1&&(this.ei=this.Ya.kl(u),this.sg[++this.he]=7),!0)},a.prototype.GU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=3,this.Mi=this.Ya.lk(this.vH),!0;if(this.Ya.Np(this.Lc)<this.Qi.oa){var u=this.Ya.mk(this.Lc);return this.Mi=this.Ya.lk(this.Lc),u!=-1&&(this.ei=this.Ya.Zr(u),this.sg[++this.he]=5),!0}return u=this.Ya.mk(this.Lc),this.Mi=this.Ya.qj(this.Lc),u!=-1&&(this.ei=this.Ya.kl(u),this.sg[++this.he]=7),(u=this.Ya.lk(this.Lc))!=-1&&this.hi.add(u),!0},a.prototype.HU=function(){if(this.Lc=this.Mi,this.Lc==-1)return this.sg[this.he]=4,!0;if(this.Qi.va<this.Ya.Np(this.Lc)){var u=this.Ya.mk(this.Lc);return this.Mi=this.Ya.qj(this.Lc),u!=-1&&(this.ei=this.Ya.kl(u),this.sg[++this.he]=6),!0}return u=this.Ya.mk(this.Lc),this.Mi=this.Ya.lk(this.Lc),u!=-1&&(this.ei=this.Ya.kl(u),this.sg[++this.he]=7),(u=this.Ya.qj(this.Lc))!=-1&&this.hi.add(u),!0},a.prototype.IU=function(){if(this.hi.size==0)return this.Og=this.he=-1,!1;this.Lc=this.hi.get(this.hi.size-1),this.hi.resize(this.hi.size-1);var u=this.Ya.mk(this.Lc);return u!=-1&&(this.ei=this.Ya.kl(u),this.sg[++this.he]=7),this.Ya.qj(this.Lc)!=-1&&this.hi.add(this.Ya.qj(this.Lc)),this.Ya.lk(this.Lc)!=-1&&this.hi.add(this.Ya.lk(this.Lc)),!0},a.prototype.kT=function(){return this.Og=this.ei,this.Og!=-1&&n.gq(this.Mp())&&this.Ya.nk(this.Mp())<=this.Qi.va?(this.ei=this.SF(),!1):(this.he--,!0)},a.prototype.GW=function(){return this.Og=this.ei,this.Og!=-1&&n.Gv(this.Mp())&&this.Ya.nk(this.Mp())>=this.Qi.oa?(this.ei=this.QR(),!1):(this.he--,!0)},a.prototype.tN=function(){return this.Og=this.ei,this.Og!=-1&&n.gq(this.Mp())?(this.ei=this.SF(),!1):(this.he--,!0)},a.prototype.SF=function(){return this.Ya.Sf?this.Ya.$f.lb(this.Og):this.Ya.Ti.lb(this.Og)},a.prototype.QR=function(){return this.Ya.Sf?this.Ya.$f.we(this.Og):this.Ya.Ti.we(this.Og)},a.prototype.Mp=function(){return this.Ya.Sf?this.Ya.$f.ja(this.Og):this.Ya.Ti.getData(this.Og)},a}();c.EY=r;var n=function(){function a(u){this.Am=this.$h=this.$f=this.Ti=this.Km=this.Ej=this.me=this.Fj=null,this.Sf=u,this.lq=this.Sv=!1}return a.prototype.kr=function(){this.Nk(!0)},a.prototype.Br=function(u,d){if(!this.Sv)throw c.i.Hb();this.Fj.push(new c.Nc(u,d))},a.prototype.Fp=function(){if(!this.Sv)throw c.i.fa("invalid call");this.Sv=!1,this.lq=!0,this.Sf||(this.vS(),this.Zv=this.Fj.length)},a.prototype.vj=function(u){if(!this.Sf||!this.lq)throw c.i.N("invalid call");if(this.kf==-1){var d=this.Fj.length;if(this.iA){var f=new c.ia(0);f.Jb(2*d),this.bJ(f),this.$h.Jb(2*d),this.$h.resize(0),this.aJ(f),this.Km.resize(d,-1),this.Km.Wj(-1,0,d),this.iA=!1}else this.Km.Wj(-1,0,d);this.kf=this.Tu()}d=this.pG(u<<1,this.kf),f=this.$f.addElement(1+(u<<1),this.xz(d)),this.VJ(d,f),this.Km.set(u,d),this.Zv++},a.prototype.remove=function(u){if(!this.Sf||!this.lq)throw c.i.fa("invalid call");var d=this.Km.get(u);if(d==-1)throw c.i.N("the interval does not exist in the interval tree");this.Km.set(u,-1),this.Zv--;var f=this.xz(d),g=this.$f.ZR(f);this.$f.vd(this.wR(d),f),this.$f.vd(this.TR(d),f),(u=this.$f.size(f))==0&&(this.$f.MP(f),this.ZJ(g,-1)),this.Ej.jd(d),f=this.UF(g);var b=this.qj(g),_=this.lk(g);for(d=0;!(0<u||g==this.kf||b!=-1&&_!=-1);)g==this.qj(f)?b!=-1?(this.Ok(f,b),this.Uj(b,f),this.Ok(g,-1)):_!=-1?(this.Ok(f,_),this.Uj(_,f),this.Qk(g,-1)):this.Ok(f,-1):b!=-1?(this.Qk(f,b),this.Uj(b,f),this.Ok(g,-1)):_!=-1?(this.Qk(f,_),this.Uj(_,f),this.Qk(g,-1)):this.Qk(f,-1),this.Uj(g,-1),d++,g=f,u=(f=this.mk(g))!=-1?this.$f.size(f):0,b=this.qj(g),_=this.lk(g),f=this.UF(g)},a.prototype.reset=function(){if(!this.Sf||!this.lq)throw c.i.N("invalid call");this.Nk(!1)},a.prototype.size=function(){return this.Zv},a.prototype.getIterator=function(){return r.construct(this)},a.prototype.bJ=function(u){for(var d=this.Fj.length,f=0;f<2*d;f++)u.add(f);this.HX(u,2*d)},a.prototype.aJ=function(u){for(var d=NaN,f=0;f<u.size;f++){var g=u.get(f),b=this.nk(g);b!=d&&(this.$h.add(g),d=b)}},a.prototype.vS=function(){var u=this.Fj.length,d=new c.ia(0);d.Jb(2*u),this.bJ(d),this.$h.Jb(2*u),this.$h.resize(0),this.aJ(d),this.Ej.De(u),this.Ti.fn(2*u);var f=c.Yc.Oh(u);for(f.Wj(-1,0,u),this.kf=this.Tu(),u=0;u<d.size;u++){var g=d.get(u),b=f.get(g>>1);b!=-1?this.VJ(b,this.Ti.addElement(this.xz(b),g)):(b=this.pG(g,this.kf),f.set(g>>1,b))}},a.prototype.pG=function(u,d){var f=d,g=d,b=-1,_=0,S=this.$h.size-1,T=0,k=u>>1,O=NaN,N=NaN,D=!0,z=this.DR(k);for(k=this.AR(k);D;){_<S?(T=_+c.O.truncate((S-_)/2),this.gz(f)==-1&&this.FJ(f,this.$h.get(T),this.$h.get(T+1))):this.gz(f)==-1&&this.FJ(f,this.$h.get(_),this.$h.get(_));var L=this.Np(f);if(k<L)d!=-1&&(d==f?(g=f,O=L,N=(d=this.qj(f))!=-1?this.Np(d):NaN):N>L&&(L<O?this.Ok(g,f):this.Qk(g,f),this.Qk(f,d),this.Sf&&(this.Uj(f,g),this.Uj(d,f)),g=f,O=L,d=-1,N=NaN)),(S=this.xR(f))==-1&&(S=this.Tu(),this.dX(f,S)),f=S,S=T;else if(z>L)d!=-1&&(d==f?(g=f,O=L,N=(d=this.lk(f))!=-1?this.Np(d):NaN):N<L&&(L<O?this.Ok(g,f):this.Qk(g,f),this.Ok(f,d),this.Sf&&(this.Uj(f,g),this.Uj(d,f)),g=f,O=L,d=-1,N=NaN)),(_=this.UR(f))==-1&&(_=this.Tu(),this.oX(f,_)),f=_,_=T+1;else{(D=this.mk(f))==-1&&(D=this.zP(f),this.ZJ(f,D));var F=this.fN(D,u);b=this.xP(),this.qX(b,D),this.cX(b,F),f!=d&&(L<O?this.Ok(g,f):this.Qk(g,f),this.Sf&&this.Uj(f,g),d!=-1&&(N<L?this.Ok(f,d):this.Qk(f,d),this.Sf&&this.Uj(d,f))),D=!1}}return b},a.prototype.Tu=function(){return this.me.Ce()},a.prototype.zP=function(u){return this.Sf?this.$f.Pr(u):this.Ti.Ph(u)},a.prototype.xP=function(){return this.Ej.Ce()},a.prototype.Nk=function(u){u?(this.Sv=this.iA=!0,this.lq=!1,this.$h==null?this.$h=c.Yc.Oh(0):this.$h.resize(0),this.Fj==null?this.Fj=[]:this.Fj.length=0):this.iA=!1,this.Sf?this.Km==null?(this.Km=c.Yc.Oh(0),this.$f=new c.Yj,this.$f.Vo(new l(this))):this.$f.clear():this.Ti==null?this.Ti=new c.jp:this.Ti.clear(),this.me==null?(this.Ej=new c.$c(3),this.me=new c.$c(this.Sf?8:7)):(this.Ej.mj(!1),this.me.mj(!1)),this.kf=-1,this.Zv=0},a.prototype.FJ=function(u,d,f){this.XW(u,d),this.YW(u,f)},a.prototype.Np=function(u){var d=this.gz(u);return d==-1?NaN:(d=this.nk(d))==(u=this.nk(this.gR(u)))?d:.5*(d+u)},a.prototype.XW=function(u,d){this.me.S(u,0,d)},a.prototype.YW=function(u,d){this.me.S(u,1,d)},a.prototype.dX=function(u,d){this.me.S(u,3,d)},a.prototype.oX=function(u,d){this.me.S(u,4,d)},a.prototype.ZJ=function(u,d){this.me.S(u,2,d)},a.prototype.Ok=function(u,d){this.me.S(u,5,d)},a.prototype.Qk=function(u,d){this.me.S(u,6,d)},a.prototype.Uj=function(u,d){this.me.S(u,7,d)},a.prototype.qX=function(u,d){this.Ej.S(u,0,d)},a.prototype.fN=function(u,d){return this.Sf?this.$f.addElement(d,u):this.Ti.addElement(u,d)},a.prototype.cX=function(u,d){this.Ej.S(u,1,d)},a.prototype.VJ=function(u,d){this.Ej.S(u,2,d)},a.prototype.kl=function(u){return this.Sf?this.$f.rc(u):this.Ti.rc(u)},a.prototype.Zr=function(u){return this.Sf?this.$f.Fc(u):this.Ti.Fc(u)},a.gq=function(u){return!(1&u)},a.Gv=function(u){return!(1&~u)},a.prototype.gz=function(u){return this.me.T(u,0)},a.prototype.gR=function(u){return this.me.T(u,1)},a.prototype.mk=function(u){return this.me.T(u,2)},a.prototype.xR=function(u){return this.me.T(u,3)},a.prototype.UR=function(u){return this.me.T(u,4)},a.prototype.qj=function(u){return this.me.T(u,5)},a.prototype.lk=function(u){return this.me.T(u,6)},a.prototype.UF=function(u){return this.me.T(u,7)},a.prototype.xz=function(u){return this.Ej.T(u,0)},a.prototype.wR=function(u){return this.Ej.T(u,1)},a.prototype.TR=function(u){return this.Ej.T(u,2)},a.prototype.DR=function(u){return this.Fj[u].oa},a.prototype.AR=function(u){return this.Fj[u].va},a.prototype.HX=function(u,d){this.Am==null&&(this.Am=new c.Xt);var f=new s(this);this.Am.sort(u,0,d,f)},a.prototype.GX=function(u,d,f){var g=this;u.Vd(d,f,function(b,_){var S=g.nk(b),T=g.nk(_);return S<T||S==T&&a.gq(b)&&a.Gv(_)?-1:1})},a.prototype.nk=function(u){var d=this.Fj[u>>1];return a.gq(u)?d.oa:d.va},a}();c.sr=n}(U||(U={})),function(c){var I=function(){function y(l){if(l==null)throw c.i.fa("Invalid arguement");this.hf=l;var s=l.nR();s.hS()?l.ef.IG()?this.lo=c.si.PannableFold:this.lo=c.si.Clip:this.lo=c.si.DontClip,s.iS()?l.Yf.IG()?this.Qm=c.si.PannableFold:this.Qm=c.si.Clip:this.Qm=c.si.DontClip,this.Bm=s.Jr,this.mH=s.Vu,l=this.hf.sH,this.aH=l.hs(2147483648),this.Uv=l.hs(1073741824)}return y.zh=function(l,s,r){return s.ww.zh(l,r)},y.Rt=function(l,s,r,n){return l.ww.Rt(s,r,n)},y.Qt=function(l,s,r,n){if(r=0>r?s.length:r,(l=l.ww.Rt(s,r,n))==r)return l;for(var a=s=0;a<r;a++){var u=n[a];u.isNaN()||(s<a&&n[s].L(u),s++)}for(;s<r;s++)n[s].Rc();return l},y.transform=function(l,s,r,n,a){if(l.isIdentity())return c.ta.kP(n,s,r),r;for(var u=[],d=0,f=0;f<r;){for(var g=Math.min(u.length,r-f),b=f,_=0;b<g;b++,_++)u[_]==null?u[_]=s[b].D():s[b].D(u[_]);var S=a?y.Qt(l,u,g,u):y.Rt(l,u,g,u);for(_=b=0;b<S;b++,_++)n[f]==null&&(n[f]=new c.Sa(s[f])),n[f].Cb(u[_]);f+=g,d+=S}return d},y.prototype.Rt=function(l,s,r){if(this.hf.isIdentity())return l!=r&&c.ta.Ru(r,l,s),s;var n=this.hf.ef,a=this.hf.Yf,u=n.Sb(),d=a.Sb();if(u==0&&u===d){var f=n.Qp();return a=f/(a=a.Qp()),(f=new c.Dd).setScale(a,a),f.eY(l,s,r),s}if(f=c.O.Fu(Math.min(s,64)),u==3){var g=n.Ji;u=(n=g.fk()).Sb(),r!=l&&c.ta.Ru(r,l,s),c.zb.$k(g,r,s,!0),g.Qt(c.bm.forward,r,s),c.zb.Zk(g,r,s,!0)}if(u==3||d===3)throw c.i.fa("image: transform_in_place_");if(u==2)this.lo==c.si.Clip?(r!=l&&c.ta.Ru(r,l,s),l=n.ml(),c.zb.OS(l,n,r,s)):(r!=l&&c.ta.Ru(r,l,s),n.Wc()&&(u=n.Xd(0),g=n.Oe(),c.zb.EX(r,s,g,u),c.zb.qF(r,s,n,0))),c.zb.IL(n,r,s,f);else for(u=n.Xd(0),g=n.Oe(),n=0;n<s;n++)c.zb.FX(l[n],g,u,r[n]);for(c.zb.GL(this.hf,r,s,f),l=0,(d=d==2)?l=a.zi():isNaN(this.Bm)||(l=this.Bm),d&&this.Qm!=c.si.Clip||c.zb.qF(r,s,a.sc(),l),d&&(c.zb.yG(r,s,a,this.Qm),c.zb.HL(a,r,s,f)),l=s,n=0;n<s;++n)r[n].isNaN()&&l--;return l},y.prototype.zh=function(l,s){if(this.hf.isIdentity()||l.B())return l;if(l.getType()==33)return this.XI(l);var r=this.hf.ef,n=this.hf.Yf,a=r.Sb(),u=n.Sb();if(a==0&&a==u)return s=r.Qp(),s/=n=n.Qp(),(n=new c.Dd).setScale(s,s),(l=c.aa.jg(l)).Oc(n),l;switch(l.getType()){case 1607:case 1736:l=this.VI(l,s);break;case 550:l=this.fW(l,s);break;case 197:l=this.eW(l,s);break;default:throw c.i.fa("")}return l},y.prototype.XI=function(l){var s=l.D(),r=[];return r[0]=s,this.Rt(r,1,r),(l=new c.Sa(l)).Cb(r[0]),l},y.prototype.VI=function(l,s){if(l.tm())throw c.i.fa("curves not supported");var r=l.getType();if(r==1736)return this.gW(l,s);if(r==1607)return this.hW(l,s);throw c.i.fa("projectMultiPath")},y.prototype.gW=function(l,s){var r=this.hf.ef,n=this.hf.Yf,a=r.Sb(),u=n.Sb(),d=c.O.Fu(Math.min(l.I(),64)),f=c.Da.jg(l);a==3&&(a=(r=(l=r.Ji).fk()).Sb(),f=l.$k(f,!0),this.wp(l,c.bm.forward,f),f=l.Zk(f,!0)),l=null,u==3&&(u=(n=(l=n.Ji).fk()).Sb());var g=a==2,b=u==2,_=b?n.sc():n,S=!b&&!this.Uv;u=!1;var T=f;if(g){if((T=c.zb.UI(T,r,this.lo,s)).B())return T}else{if(f=new c.l,T.xc(f),a=r.Oe(),f.G<a.G||f.H>a.H){var k=c.l.construct(f.v-1,a.G,f.C+1,a.H);if((T=c.ri.Nu(T,k,r,NaN,0,s)).B())return T}f.R()>2*a.R()&&(T=c.zb.Hp(T,-2*a.R(),2*a.R(),r,!0,0,!0,s))}f=this.mH,(a=!isNaN(f))&&(T=c.Xl.local().V(T,f,s)),k=b?n.kk():null;var O=NaN;g&&(O=r.zi());var N=n.Wr()!=null;if(this.aH)g&&(c.zb.ur(r,O,T,d),a&&(g=r.hh(),f*=(O=r.sc().hh())/g)),c.zb.tr(this.hf,T,S,d),a&&(g=r.sc().hh(),f*=(O=n.sc().hh())/g),r=T;else{var D=new c.Ta(T.description);D.DD(T),g&&(c.zb.ur(r,O,D,d),a&&(g=r.hh(),f*=(O=r.sc().hh())/g)),c.zb.tr(this.hf,D,S,d),a&&(g=r.sc().pm(),f*=(O=n.sc().pm())/g),S=NaN,b?(k=n.kk(),S=n.zi()):isNaN(this.Bm)||(S=this.Bm),g=y.tv(r)|y.tv(n),O=10*_.Xd(0),this.Uv&&(g=3,O=0),r=c.zb.UQ(T,r,D,_,S,s,g,O)}return N&&(r=c.zb.XD(r,n,s)),b&&(u||(b=_.Oe().R(),r.Tg(0,0).R()>=b-_.Xd(0)&&(_=k.getNorthPoleLocation(),b=k.getSouthPoleLocation(),T=k.getNorthPoleGeometry(),k=k.getSouthPoleGeometry(),S=0,T==c.Cg.PE_POLE_POINT&&_!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(S=1),k==c.Cg.PE_POLE_POINT&&b!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(S|=2),S!==0&&(u=!0))),r=c.zb.Mz(r,n,this.Qm,s),a&&(r=c.Xl.local().V(r,f,s)),c.zb.Lx(n,r,d)),r.B()||(u&&(r=c.Yl.local().V(r,n,!1,s)),l!=null&&(r=l.Zk(r,!1),this.wp(l,c.bm.reverse,r),r=l.$k(r,!1))),r},y.tv=function(l){if(l.Sb()!=2)return 0;var s=0,r=l.kk();l=r.getNorthPoleLocation();var n=r.getSouthPoleLocation(),a=r.getNorthPoleGeometry();return r=r.getSouthPoleGeometry(),a==c.Cg.PE_POLE_POINT&&l!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(s=1),r==c.Cg.PE_POLE_POINT&&n!=c.Cg.PE_POLE_OUTSIDE_BOUNDARY&&(s|=2),s},y.prototype.hW=function(l,s){var r=this.hf.ef,n=this.hf.Yf,a=r.Sb(),u=n.Sb(),d=c.O.Fu(Math.min(l.I(),64)),f=c.Ta.jg(l);a==3&&(a=(r=(l=r.Ji).fk()).Sb(),f=l.$k(f,!0),this.wp(l,c.bm.forward,f),f=l.Zk(f,!0)),l=null,u==3&&(u=(n=(l=n.Ji).fk()).Sb());var g=a==2;a=(u=u==2)?n.sc():n;var b=!u&&!this.Uv;if(g){if((f=c.zb.UI(f,r,this.lo,s)).B())return f}else{var _=new c.l;f.xc(_);var S=r.Oe();if((_.G<S.G||_.H>S.H)&&(_=c.l.construct(_.v-1,S.G,_.C+1,S.H),(f=c.ri.Nu(f,_,r,NaN,0,s)).B()))return f}var T=NaN;g&&(T=r.zi()),_=n.Wr()!=null,S=this.mH;var k=!isNaN(S);if(k&&(f=c.Xl.local().V(f,S,s)),this.aH)g&&c.zb.ur(r,T,f,d),k&&(g=r.hh(),S*=(T=r.sc().hh())/g),c.zb.tr(this.hf,f,b,d),k&&(g=r.sc().hh(),S*=(T=n.sc().hh())/g),r=f;else{var O=new c.Ta(f.description);O.DD(f),g&&(c.zb.ur(r,T,O,d),k&&(g=r.hh(),S*=(T=r.sc().hh())/g)),c.zb.tr(this.hf,O,b,d),k&&(g=r.sc().hh(),S*=(T=n.sc().hh())/g),b=NaN,u?b=n.zi():isNaN(this.Bm)||(b=this.Bm),g=y.tv(r)|y.tv(n),T=10*a.Xd(0),this.Uv&&(g=3,T=0),r=c.zb.VQ(f,r,O,a,b,s,g,T)}return _&&(r=c.zb.XD(r,n,s)),u&&(r=c.zb.Mz(r,n,this.Qm,s),k&&(r=c.Xl.local().V(r,S,s)),c.zb.Lx(n,r,d)),r.B()||l!=null&&(r=l.Zk(r,!1),this.wp(l,c.bm.reverse,r),r=l.$k(r,!1)),r},y.prototype.eW=function(l,s){var r=(l.ca()+l.R())/400;return r!=0?(r=c.Xl.local().V(l,r,s),r=this.VI(r,s),s=l.Ia(),r.bn(s)):(s=new c.Sa(l.Ip()),r=this.XI(s),s=l.Ia(),r.B()?s.Oa():(l.copyTo(s),l=r.D(),s.K(l.x,l.y,l.x,l.y))),s},y.prototype.fW=function(l,s){l=c.aa.jg(l);var r=this.hf.ef,n=this.hf.Yf,a=r.Sb(),u=n.Sb(),d=c.O.Fu(Math.min(l.I(),64));if(a==3){var f=r.Ji;a=(r=f.fk()).Sb(),l=f.Zk(l,!0),this.wp(f,c.bm.forward,l),l=f.$k(l,!0)}if(a==2){if(this.lo==c.si.Clip?l=c.Xj.local().V(l,r.ml(),r,s):r.Wc()&&(a=new c.l,l.xc(a),r.Oe().contains(a)||(this.lo==c.si.PannableFold&&(l=c.zb.lj(l,r)),c.zb.Jt(l,r.Oe(),r.Xd(0),!0),l=c.zb.Fn(l,r,0,!0,0,s))),l.B())return l;c.zb.ur(r,0,l,d)}else c.zb.Jt(l,r.Oe(),r.Xd(0),!0);return c.zb.tr(this.hf,l,!1,d),r=0,a=!1,f=null,u==3&&(a=!0,u=(n=(f=n.Ji).fk()).Sb()),(u=u==2)?r=n.zi():isNaN(this.Bm)||(r=this.Bm),u&&this.Qm!=c.si.Clip||(l=c.zb.Fn(l,n.sc(),r,!1,0,s)),u&&(l=c.zb.Mz(l,n,this.Qm,s),c.zb.Lx(n,l,d),l.B())||a&&(l=f.Zk(l,!0),this.wp(f,c.bm.reverse,l),l=f.$k(l,!0)),l},y.prototype.wp=function(l,s,r){var n=r.I();if(n!=0){for(var a=r.ub(0),u=c.O.lg(200,0),d=[],f=0;f<n;){var g=Math.min(100,n-f);a.Vw(2*f,2*g,u,2,!0);for(var b=0;b<g;++b)d[b]=c.h.construct(u[2*f],u[2*f+1]);l.Qt(s,d,g),f+=g}r.Pc(1993)}},y.Uy=function(l,s,r){if(l==null||s==null||!s.Wc())throw c.i.fa("Invalid Arguement");if(l.B())return l;var n=l.getType();return n==197?(n=new c.Da(l.description)).ad(l,!1):c.aa.yd(n)?(n=new c.Ta(l.description)).oc(l,!0):n=l,(n=c.zb.lj(n,s)).B()?n:c.zb.Fn(n,s,0,n!=l,0,r)},y.nj=function(l,s,r,n){if(l==null||s==null||!s.Wc())throw c.i.fa("Invalid Arguement");if(l.B())return l;var a=l.getType();if(c.aa.Hc(a)){l=c.zb.lj(l,s),a=new c.l,l.A(a);for(var u=c.ta.ty(s,a,!1),d=s.gh(),f=Math.floor((a.v-d.v)/d.R())*d.R()+d.v;f<a.C;)f>a.v+u&&f<a.C-u&&(l=c.zb.uS(l,s,r,f)),f+=d.R()}else{if(a==197)return(a=new c.Da(l.description)).ad(l,!1),y.nj(a,s,r,n);if(c.aa.yd(a))return(a=new c.Ta(l.description)).oc(l,!0),y.nj(a,s,r,n)}return y.Uy(l,s,n)},y}();c.bu=I}(U||(U={})),function(c){var I=function(y){function l(s,r,n,a){var u=y.call(this)||this;return s===void 0?u.description=c.ee.og():n===void 0?u.description=s:(u.description=c.ee.og(),u.ZB(s,r),u.Ql(n,a)),u}return Yt(l,y),l.prototype.getType=function(){return 322},l.prototype.Qb=function(){var s=this.sa-this.pa,r=this.na-this.la;return Math.sqrt(s*s+r*r)},l.prototype.Bi=function(s){var r=this.sa-this.pa,n=this.na-this.la;return Math.sqrt(r*r+n*n)<=s},l.prototype.Pn=function(){return!1},l.prototype.kg=function(){var s=new c.h;return s.uc(this.wc(),this.ac()),s},l.cP=function(s,r){return new l(s.x,s.y,r.x,r.y)},l.prototype.bn=function(s){s.Oa(),s.Nf(this.description);var r=new c.l;this.A(r),s.Xo(r),r=1;for(var n=this.description.Aa;r<n;r++)for(var a=this.description.kd(r),u=c.ra.Va(a);r<u;r++){var d=this.Tg(a,0);s.setInterval(a,0,d)}},l.prototype.A=function(s){s.K(this.sa,this.na,this.pa,this.la),s.normalize()},l.prototype.Qo=function(s){s.Oa(),s.Zb(this.sa,this.na,this.Od(0,1,0)),s.Zb(this.pa,this.la,this.Od(1,1,0))},l.prototype.Oc=function(s){if(s instanceof c.Dd){this.vc();var r=new c.h;r.x=this.sa,r.y=this.na,s.Eh(r,r),this.sa=r.x,this.na=r.y,r.x=this.pa,r.y=this.la,s.Eh(r,r),this.pa=r.x,this.la=r.y}else this.vc(),(r=new c.Nd).x=this.sa,r.y=this.na,r.z=this.Od(0,1,0),r=s.fp(r),this.sa=r.x,this.na=r.y,this.tn(0,1,0,r.z),r.x=this.pa,r.y=this.la,r.z=this.Od(1,1,0),r=s.fp(r),this.pa=r.x,this.la=r.y,this.tn(1,1,0,r.z)},l.prototype.Ia=function(){return new l(this.description)},l.prototype.Tx=function(s,r){return(this.pa-s-(this.sa-s))*(this.la-r+(this.na-r))*.5},l.prototype.vx=function(s){return s*this.Qb()},l.prototype.NG=function(s){return s/this.Qb()},l.prototype.DF=function(s){return c.lc.hq(this.sa,this.pa,s)},l.prototype.fR=function(s){return c.lc.hq(this.na,this.la,s)},l.prototype.dl=function(s,r){var n=new c.ig;return this.ah(s,r,n),n.get()},l.prototype.ah=function(s,r,n){if(n==null)throw c.i.N();n.Or(),(n=n.get()).Nf(this.description);var a=new c.h;this.hc(s,a),n.ZB(a.x,a.y),this.hc(r,a),n.Ql(a.x,a.y),a=1;for(var u=this.description.Aa;a<u;a++)for(var d=this.description.Ed(a),f=c.ra.Va(d),g=0;g<f;g++){var b=this.Uc(s,d,g);n.YB(d,g,b),b=this.Uc(r,d,g),n.OB(d,g,b)}},l.prototype.Uc=function(s,r,n){if(r==0)return n==0?this.hc(s).x:this.hc(s).y;switch(c.ra.lz(r)){case 0:return .5>s?this.wv(r,n):this.gv(r,n);case 1:var a=this.wv(r,n);return r=this.gv(r,n),c.lc.hq(a,r,s);case 2:throw c.i.fa("not implemented")}throw c.i.Qa()},l.prototype.fe=function(s,r){var n=this.pa-this.sa,a=this.la-this.na,u=n*n+a*a;return u==0?.5:(s=((s.x-this.sa)*n+(s.y-this.na)*a)/u,r||(0>s?s=0:1<s&&(s=1)),s)},l.prototype.cq=function(s,r,n,a){if(s){if((s=this.la-this.na)==0)return r==this.la?-1:0;if(0>(r=(r-this.na)/s)||1<r)return 0;n!=null&&(n[0]=this.DF(r))}else{if((s=this.pa-this.sa)==0)return r==this.pa?-1:0;if(0>(r=(r-this.sa)/s)||1<r)return 0;n!=null&&(n[0]=this.fR(r))}return a!=null&&(a[0]=r),1},l.prototype.Pe=function(s,r){var n=this.la-this.na;return n==0?s==this.la?r:NaN:(s=(s-this.na)/n,r=this.DF(s),s==1&&(r=this.pa),r)},l.prototype.ru=function(s,r,n){return 0<=this.rp(s.x,s.y,r,n)},l.prototype.vi=function(s,r,n){return 0<=this.rp(s,r,n,!0)},l.prototype.qs=function(s,r){return this.ru(s,r,!1)},l.prototype.rI=function(){if(this.la<this.na||this.la==this.na&&this.pa<this.sa){var s=this.sa;this.sa=this.pa,this.pa=s,s=this.na,this.na=this.la,this.la=s,s=0;for(var r=this.description.Oq-2;s<r;s++){var n=this.ka[s];this.ka[s]=this.ka[s+r],this.ka[s+r]=n}}},l.prototype.uu=function(s,r){(r=c.h.construct(s,r)).sub(this.ac());var n=new c.h;return n.uc(this.wc(),this.ac()),(s=n.wi(r))>(r=8881784197001252e-31*(Math.abs(n.x*r.y)+Math.abs(n.y*r.x)))?-1:s<-r?1:0},l.prototype.rp=function(s,r,n,a){var u=this.sa,d=this.na,f=s-u,g=r-d;if((f=Math.sqrt(f*f+g*g))<=Math.max(n,6661338147750939e-31*f))return a&&f==0?NaN:0;if(f=s-this.pa,g=r-this.la,(f=Math.sqrt(f*f+g*g))<=Math.max(n,6661338147750939e-31*f))return a&&f==0?NaN:1;if(f=this.pa-this.sa,g=this.la-this.na,0<(a=Math.sqrt(f*f+g*g))){var b=1/a,_=s-u,S=r-d,T=_*(f*=b)+S*(g*=b),k=17763568394002505e-31*(Math.abs(_*f)+Math.abs(S*g)),O=f;if(f=-g,g=O,T<-(k=Math.max(n,k))||T>a+k)return NaN;if(Math.abs(_*f+S*g)<=Math.max(n,17763568394002505e-31*(Math.abs(_*f)+Math.abs(S*g)))&&(.5>=(f=c.O.Rk(T*b,0,1))?(g=this.sa+(this.pa-this.sa)*f,a=this.na+(this.la-this.na)*f):(g=this.pa-(this.pa-this.sa)*(1-f),a=this.la-(this.la-this.na)*(1-f)),c.h.Oy(g,a,s,r)<=n)){if(.5>f){if(c.h.Oy(g,a,u,d)<=n)return 0}else if(c.h.Oy(g,a,this.pa,this.la)<=n)return 1;return f}}return NaN},l.prototype.Nb=function(s){return s!=null&&(s==this||s.constructor===this.constructor&&this.FM(s))},l.prototype.rD=function(s,r,n){var a=n?this.sa:this.pa;n=n?this.na:this.la;var u=new c.h;return u.x=s.pa-a,u.y=s.la-n,!(r.Qh(u)>6661338147750939e-31*r.fD(u))||(u.x=s.sa-a,u.y=s.na-n,r.Qh(u)<=6661338147750939e-31*r.fD(u))},l.prototype.qD=function(s){var r=new c.h;return r.x=this.pa-this.sa,r.y=this.la-this.na,!!this.rD(s,r,!1)&&(r.Sq(),!!this.rD(s,r,!0))},l.NM=function(s,r){var n=s.uu(r.sa,r.na),a=s.uu(r.pa,r.la);return!(0>n&&0>a||0<n&&0<a)&&(n=r.uu(s.sa,s.na),a=r.uu(s.pa,s.la),!(0>n&&0>a||0<n&&0<a)&&((n=s.Qb())>(a=r.Qb())?s.qD(r):r.qD(s)))},l.LM=function(s,r,n){var a=c.h.construct(NaN,NaN),u=s.pa-s.sa,d=s.la-s.na,f=r.pa-r.sa,g=r.la-r.na,b=f*d-u*g;if(b==0)return a;var _=8881784197001252e-31*(Math.abs(f*d)+Math.abs(u*g)),S=r.sa-s.sa,T=r.na-s.na,k=f*T-S*g,O=k/b,N=Math.abs(b);return O<-(f=(8881784197001252e-31*(Math.abs(f*T)+Math.abs(S*g))*N+_*Math.abs(k))/(b*b)+2220446049250313e-31*Math.abs(O))||O>1+f||(f=(g=u*T-S*d)/b)<-(u=(8881784197001252e-31*(Math.abs(u*T)+Math.abs(S*d))*N+_*Math.abs(g))/(b*b)+2220446049250313e-31*Math.abs(f))||f>1+u||(O=c.O.Rk(O,0,1),u=c.O.Rk(f,0,1),d=s.hc(O),b=r.hc(u),(_=new c.h).uc(d,b),_.length()>n&&(_.add(d,b),_.scale(.5),O=s.fe(_,!1),u=r.fe(_,!1),s=s.hc(O),r=r.hc(u),s.sub(r),s.length()>n)||a.ma(O,u)),a},l.OM=function(s,r,n,a){var u=0;if((s.sa==r.sa&&s.na==r.na||s.sa==r.pa&&s.na==r.la)&&(u++,!a))return 1;if(s.pa==r.sa&&s.la==r.na||s.pa==r.pa&&s.la==r.la){if(++u==2)return 2;if(!a)return 1}return r.vi(s.sa,s.na,n)||r.vi(s.pa,s.la,n)||s.vi(r.sa,r.na,n)||s.vi(r.pa,r.la,n)?1:a&&u!=0||l.NM(s,r)==0?0:1},l.Zx=function(s,r,n,a,u,d){var f=0,g=s.rp(r.sa,r.na,d,!1),b=s.rp(r.pa,r.la,d,!1),_=r.rp(s.sa,s.na,d,!1),S=r.rp(s.pa,s.la,d,!1);return isNaN(g)||(a!=null&&(a[f]=g),u!=null&&(u[f]=0),n!=null&&(n[f]=c.h.construct(r.sa,r.na)),f++),isNaN(b)||(a!=null&&(a[f]=b),u!=null&&(u[f]=1),n!=null&&(n[f]=c.h.construct(r.pa,r.la)),f++),f==2||isNaN(_)||g==0&&_==0||b==0&&_==1||(a!=null&&(a[f]=0),u!=null&&(u[f]=_),n!=null&&(n[f]=c.h.construct(s.sa,s.na)),f++),f==2||isNaN(S)||g==1&&S==0||b==1&&S==1||(a!=null&&(a[f]=1),u!=null&&(u[f]=S),n!=null&&(n[f]=c.h.construct(r.pa,r.la)),f++),0<f?(f==2&&a!=null&&a[0]>a[1]&&(s=a[0],a[0]=a[1],a[1]=s,u!=null&&(a=u[0],u[0]=u[1],u[1]=a),n!=null&&(u=c.h.construct(n[0].x,n[0].y),n[0]=n[1],n[1]=u)),f):(f=l.LM(s,r,d),isNaN(f.x)?0:(n!=null&&(n[0]=s.hc(f.x)),a!=null&&(a[0]=f.x),u!=null&&(u[0]=f.y),1))},l.prototype.eG=function(){return 0},l.prototype.op=function(){},l.prototype.toString=function(){return"Line: ["+this.sa.toString()+", "+this.na.toString()+", "+this.pa.toString()+", "+this.la.toString()+"]"},l}(c.SC);c.yb=I}(U||(U={})),function(c){var I=function(){function y(){this.Jm=[],this.ya=-1}return y.prototype.La=function(){return this.ya},y.prototype.next=function(){if(this.Jm!=null&&this.Jm.length!=0){this.ya++;var l=this.Jm[0];return this.Jm=1>=this.Jm.length?[]:this.Jm.slice(1),l}return this.Jm=null},y.prototype.ZX=function(l){this.Jm.push(l)},y.prototype.qe=function(){},y}();c.gL=I}(U||(U={})),function(c){var I;(I=c.SL||(c.SL={}))[I.enumFillRuleOddEven=0]="enumFillRuleOddEven",I[I.enumFillRuleWinding=1]="enumFillRuleWinding";var y=function(l){function s(r,n){var a=l.call(this)||this;if(a.xf=!1,a.Eq=null,a.sq=0,a.rq=0,a.Aj=null,a.Mg=!1,a.nb=null,a.mb=null,a.Ve=null,a.Lj=null,a.Sd=null,a.tq=0,a.gb=0,a.xq=0,n===void 0)a.xf=r,a.Mg=!1,a.tq=0,a.sq=0,a.rq=0,a.wa=0,a.description=c.ee.og();else{if(n==null)throw c.i.N();a.xf=r,a.Mg=!1,a.tq=0,a.sq=0,a.rq=0,a.wa=0,a.description=n}return a.Aj=null,a.gb=0,a}return Yt(s,l),s.prototype.tm=function(){return 0<this.tq},s.prototype.Yx=function(){this.vc(),this.Eq==null?this.Eq=new c.Sa(this.description):this.Eq.Nf(this.description)},s.prototype.sx=function(r,n){var a=new c.h;a.x=r,a.y=n,this.Lt(a)},s.prototype.Lt=function(r){this.Yx(),this.Eq.Cb(r),this.Mg=!0},s.prototype.nf=function(r){if(r.B())throw c.i.N();this.Jl(r.description),this.Yx(),r.copyTo(this.Eq),this.Mg=!0},s.prototype.Sx=function(){var r=1;this.Mg&&(this.Yx(),this.nb==null?(this.nb=c.Yc.Oh(2),this.nb.write(0,0),this.mb=c.Yc.Mr(2,0)):(this.nb.resize(this.nb.size+1,0),this.mb.resize(this.mb.size+1,0)),this.xf&&this.mb.write(this.mb.size-2,1),r++);var n=this.wa;this.nb.write(this.nb.size-1,this.wa+r),this.dm(n+r),this.mb.write(this.nb.size-1,0),this.Mg&&(this.Ht(n,this.Eq),this.Mg=!1)},s.prototype.yj=function(r,n){this.Sx(),this.Cb(this.wa-1,r,n)},s.prototype.Ci=function(r){this.Sx(),this.Cb(this.wa-1,r)},s.prototype.lineTo=function(r){this.Sx(),this.Ht(this.wa-1,r)},s.prototype.CU=function(r){if(this.vc(),this.xf)throw c.i.Qa();var n=this.da();if(r>n)throw c.i.Qa();if(this.dc(r)){if(this.mb==null)throw c.i.Qa();var a=this.wa,u=this.Ba(r),d=this.Vc(r);this.dm(this.wa+1),this.mc();for(var f=0,g=this.description.Aa;f<g;f++)if(this.za[f]!=null){var b=c.ra.Va(this.description.Ed(f));this.za[f].Mn(b*d,this.za[f],b*u,b,!0,1,b*a)}for(;n>r;n--)a=this.nb.read(n),this.nb.write(n,a+1);this.mb.KE(r,1)}},s.prototype.Ap=function(){if(this.wx(),r===void 0){this.Mg=!1;var r=this.da()-1}var n=this.mb.read(r);this.mb.write(r,1|n),this.Ve!=null&&(r=this.Vc(r)-1,this.Ve.write(r,1),this.Lj.write(r,-1))},s.prototype.dc=function(r){return!!(1&this.mb.read(r))},s.prototype.Nn=function(r){if(this.dc(r))return!0;var n=this.Ba(r);return!(n>(r=this.Vc(r)-1))&&(n=this.Na(n),r=this.Na(r),n.qb(r))},s.prototype.yv=function(r){return!!(2&this.mb.read(r))},s.prototype.oc=function(r,n){if(this.Jl(r.description),r.getType()!=322)throw c.i.Qa();var a=new c.Sa;(n||this.B())&&(r.To(a),this.nf(a)),r.Po(a),this.lineTo(a)},s.prototype.tp=function(r){var n=this.wa==0;this.sx(r.v,r.G),this.yj(r.v,r.H),this.yj(r.C,r.H),this.yj(r.C,r.G),this.Ap(),this.Mg=!1,n&&this.Lf(256,!1)},s.prototype.ad=function(r,n){if(!r.B()){for(var a=this.wa==0,u=new c.Sa(this.description),d=0;4>d;d++)r.Hf(n?4-d-1:d,u),d==0?this.nf(u):this.lineTo(u);this.Ap(),this.Mg=!1,a&&!n&&this.Lf(256,!1)}},s.prototype.add=function(r,n){for(var a=0;a<r.da();a++)this.addPath(r,a,!n)},s.prototype.addPath=function(r,n,a){this.vf(-1,r,n,a)},s.prototype.Yk=function(r,n){this.Hz(r,n)},s.prototype.Dr=function(r,n,a,u,d){if(d||this.da()!=0||(d=!0),0>n&&(n=r.da()-1),n>=r.da()||0>a||0>u||u>r.rv(n))throw c.i.fa("index out of bounds");if(u!=0){var f=r.dc(n)&&a+u==r.rv(n);if(!f||u!=1){if(this.Mg=!1,this.Jl(r.description),a=r.Ba(n)+a+1,d&&(u++,a--),f&&u--,f=this.wa,this.dm(this.wa+u),this.mc(),d){if(u==0)return;this.nb.add(this.wa),d=r.mb.read(n),d&=-5,this.xf&&(d|=1),this.mb.write(this.mb.size-1,d),this.mb.add(0)}else this.nb.write(this.mb.size-1,this.wa);d=0;for(var g=this.description.Aa;d<g;d++){var b=this.description.kd(d),_=c.ra.Va(b),S=r.description.Pf(b);0>S||r.za[S]==null?this.za[d].Ln(_*f,c.ra.se(b),u*_,_*f):this.za[d].Mn(_*f,r.za[S],_*a,u*_,!0,_,_*f)}if(this.tm()||r.yv(n))throw c.i.Qa();this.Pc(1993)}}},s.prototype.oJ=function(){for(var r=0,n=this.da();r<n;r++)this.FW(r)},s.prototype.FW=function(r){if(this.mc(),r>=this.da())throw c.i.N();var n=this.Ba(r),a=this.Ja(r);r=this.dc(r)?1:0;for(var u=0,d=this.description.Aa;u<d;u++)if(this.za[u]!=null){var f=c.ra.Va(this.description.Ed(u));this.za[u].ni(f*(n+r),f*(a-r),f)}this.Pc(1993)},s.prototype.Zq=function(r){this.mc();var n=this.da();if(0>r&&(r=n-1),r>=n)throw c.i.N();for(var a=this.Ba(r),u=this.Ja(r),d=0,f=this.description.Aa;d<f;d++)if(this.za[d]!=null){var g=c.ra.Va(this.description.Ed(d));this.za[d].En(g*a,g*u,g*this.wa)}for(a=r+1;a<=n;a++)d=this.nb.read(a),this.nb.write(a-1,d-u);if(this.mb==null)for(a=r+1;a<=n;a++)r=this.mb.read(a),this.mb.write(a-1,r);this.nb.resize(n),this.mb.resize(n),this.wa-=u,this.Pg-=u,this.Pc(1993)},s.prototype.vf=function(r,n,a,u){if(n==this||a>=n.da())throw c.i.N();var d=this.da();if(r>d)throw c.i.N();0>r&&(r=d),0>a&&(a=n.da()-1),this.Mg=!1,this.Jl(n.description),n.mc();var f=n.Ba(a),g=n.Ja(a),b=this.wa,_=n.dc(a)&&!u?1:0;this.dm(this.wa+g),this.mc();for(var S=r<d?this.Ba(r):b,T=0,k=this.description.Aa;T<k;T++){var O=this.description.Ed(T),N=n.description.Pf(O),D=c.ra.Va(O);0<=N&&n.za[N]!=null?(_!=0&&this.za[T].Mn(S*D,n.za[N],D*f,D,!0,D,D*b),this.za[T].Mn((S+_)*D,n.za[N],D*(f+_),D*(g-_),u,D,D*(b+_))):this.za[T].Ln(S*D,c.ra.se(O),D*g,D*b)}for(this.nb.add(b+g),u=d;u>=r+1;u--)f=this.nb.read(u-1),this.nb.write(u,f+g);for(n.yv(a),this.mb.add(0),u=d-1;u>=r+1;u--)d=this.mb.read(u),d&=-5,this.mb.write(u+1,d);d=n.JR().read(a),d&=-5,this.xf&&(d|=1),this.mb.write(r,d)},s.prototype.Hz=function(r,n){var a=-1,u=this.da();if(a>u)throw c.i.N();0>a&&(a=u),this.Mg=!1;var d=this.wa;this.dm(this.wa+n),this.mc();var f=a<u?this.Ba(a):d;if(r!=null)this.za[0].Iz(2*f,r,0,n,!0,2*d);else{var g=c.ra.se(0);this.za[0].Ln(2*f,g,2*n,2*d)}r=1;for(var b=this.description.Aa;r<b;r++){g=this.description.kd(r);var _=c.ra.Va(g);g=c.ra.se(g),this.za[r].Ln(f*_,g,_*n,_*d)}for(this.nb.add(this.wa),d=u;d>=a+1;d--)f=this.nb.read(d-1),this.nb.write(d,f+n);for(this.mb.add(0),d=u-1;d>=a+1;d--)n=this.mb.read(d),n&=-5,this.mb.write(d+1,n);this.xf&&this.mb.write(a,1)},s.prototype.qG=function(r,n,a){var u=-1;if(0>r&&(r=this.da()),r>this.da()||u>this.Ja(r)||a>n.length)throw c.i.fa("index out of bounds");if(a!=0){r==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>u&&(u=this.Ja(r)),this.mc();var d=this.wa;this.dm(this.wa+a),this.mc();for(var f=0,g=this.description.Aa;f<g;f++){var b=this.description.Ed(f),_=c.ra.Va(b);this.za[f].Ut(_*(this.Ba(r)+u+a),(d-this.Ba(r)-u)*_,this.za[f],_*(this.Ba(r)+u),!0,_),f==0?this.za[f].vC(_*(this.Ba(r)+u),a,n,0,!0):this.za[f].Wj(c.ra.se(b),(this.Ba(r)+u)*_,a*_)}for(this.tm()&&(this.Ve.Ut(this.Ba(r)+u+a,d-this.Ba(r)-u,this.Ve,this.Ba(r)+u,!0,1),this.Lj.Ut(this.Ba(r)+u+a,d-this.Ba(r)-u,this.Lj,this.Ba(r)+u,!0,1),this.Ve.Wj(1,this.Ba(r)+u,a),this.Lj.Wj(-1,this.Ba(r)+u,a)),r+=1,n=this.da();r<=n;r++)this.nb.write(r,this.nb.read(r)+a)}},s.prototype.wf=function(r,n,a){var u=this.da();if(0>r&&(r=this.da()),r>=u||n>this.Ja(r))throw c.i.fa("index out of bounds");r==this.da()&&(this.nb.add(this.wa),this.xf?this.mb.add(1):this.mb.add(0)),0>n&&(n=this.Ja(r));var d=this.wa;this.dm(this.wa+1),this.mc();var f=this.Ba(r);this.za[0].vj(2*(f+n),a,2*d),a=1;for(var g=this.description.Aa;a<g;a++){var b=this.description.Ed(a),_=c.ra.Va(b);this.za[a].Ln(_*(f+n),c.ra.se(b),_,_*d)}for(r+=1;r<=u;r++)this.nb.write(r,this.nb.read(r)+1)},s.prototype.DB=function(r,n){var a=this.da();if(0>r&&(r=a-1),r>=a||n>=this.Ja(r))throw c.i.fa("index out of bounds");this.mc();var u=this.Ba(r);0>n&&(n=this.Ja(r)-1),n=u+n,u=0;for(var d=this.description.Aa;u<d;u++)if(this.za[u]!=null){var f=c.ra.Va(this.description.Ed(u));this.za[u].En(f*n,f,f*this.wa)}for(;a>=r+1;a--)n=this.nb.read(a),this.nb.write(a,n-1);this.wa--,this.Pg--,this.Pc(1993)},s.prototype.uE=function(r,n,a){var u=this.Ba(r)+n;if((a=this.Ba(a)+void 0)<u||0>u||a>this.I()-1)throw c.i.N();n=0,(r=this.Ga()).Vb(u);do{for(;r.Ha()&&(u=r.ha(),r.wb()!=a);)n+=u=u.Qb();if(r.wb()==a)break}while(r.$a());return n},s.prototype.fO=function(r,n,a){if(n=this.Ba(r)+n,a=this.Ba(r)+a,0>n||a>this.I()-1)throw c.i.N();var u=this.Ga();if(n>a){if(!this.dc(r))throw c.i.N("cannot iterate across an open path");u.JB()}var d=r=0;u.Vb(n);do d+=r,r=u.ha().Qb();while(u.wb()!=a);return d},s.prototype.mg=function(){return c.pi.gm(this,null)},s.prototype.KS=function(r,n,a){for(var u=r;u<a-1;u++)if(this.dc(u))throw c.i.N("cannot interpolate across closed paths");if((u=this.description.Aa)!=1){var d=this.uE(r,n,a);if(d!=0)for(var f=1;f<u;f++){var g=this.description.kd(f);if(c.ra.lz(g)!=2)for(var b=c.ra.Va(g),_=0;_<b;_++)this.MS(g,r,n,a,d,_)}}},s.prototype.JS=function(r,n,a){var u=this.description.Aa;if(u!=1){var d=this.fO(r,n,a);if(d!=0)for(var f=1;f<u;f++){var g=this.description.kd(f);if(c.ra.lz(g)!=2)for(var b=c.ra.Va(g),_=0;_<b;_++)this.LS(g,r,n,a,d,_)}}},s.prototype.MS=function(r,n,a,u,d,f){var g=this.Ga(),b=this.Ba(n)+a;u=this.Ba(u)+void 0,n=this.Uc(r,b,f),a=this.Uc(r,u,f);var _=n,S=0;g.Vb(b);do if(g.Ha()){if(g.ha(),g.wb()==u)break;this.setAttribute(r,g.wb(),f,_),g.li();do{if(b=g.ha(),g.ik()==u)return;S+=b=b.Qb(),_=c.lc.hq(n,a,S/d),g.On()||this.setAttribute(r,g.ik(),f,_)}while(g.Ha())}while(g.$a())},s.prototype.LS=function(r,n,a,u,d,f){var g=this.Ga(),b=this.Ba(n)+a;if((n=this.Ba(n)+u)!=b){u=this.Uc(r,b,f),a=this.Uc(r,n,f);var _=0;g.Vb(b),g.JB(),b=u;do{var S=g.ha();this.setAttribute(r,g.wb(),f,b),_+=b=S.Qb(),b=c.lc.hq(u,a,_/d)}while(g.ik()!=n)}},s.prototype.Oa=function(){this.tq=0,this.Mg=!1,this.Sd=this.Ve=this.Lj=this.mb=this.nb=null,this.wD()},s.prototype.Oc=function(r){r instanceof c.Dd?this.YD(r,-1):this.wN(r)},s.prototype.YD=function(r,n){if(!this.B()&&!r.isIdentity()){this.mc();var a=this.za[0],u=new c.h,d=new c.h;if(0>n){var f=this.tm(),g=0;n=this.wa}else f=this.yv(n),g=this.Ba(n),n=this.Vc(n);for(;g<n;g++){if(u.x=a.read(2*g),u.y=a.read(2*g+1),f){var b=this.Lj.read(g);if(0<=b)switch(7&this.Ve.read(g)){case 2:d.x=this.Sd.read(b),d.y=this.Sd.read(b+1),r.Eh(d,d),this.Sd.write(b,d.x),this.Sd.write(b+1,d.y),d.x=this.Sd.read(b+3),d.y=this.Sd.read(b+4),r.Eh(d,d),this.Sd.write(b+3,d.x),this.Sd.write(b+4,d.y);break;case 4:throw c.i.Qa()}}r.Eh(u,u),a.write(2*g,u.x),a.write(2*g+1,u.y)}this.Pc(1993)}},s.prototype.wN=function(r){if(!this.B()){this.re(1),this.mc();for(var n=this.za[0],a=this.za[1],u=new c.Nd,d=new c.Nd,f=this.tm(),g=0;g<this.wa;g++){if(u.x=n.read(2*g),u.y=n.read(2*g+1),u.z=a.read(g),f){var b=this.Lj.read(g);if(0<=b)switch(7&this.Ve.read(g)){case 2:d.x=this.Sd.read(b),d.y=this.Sd.read(b+1),d.z=this.Sd.read(b+2),d=r.fp(d),this.Sd.write(b,d.x),this.Sd.write(b+1,d.y),this.Sd.write(b+1,d.z),d.x=this.Sd.read(b+3),d.y=this.Sd.read(b+4),d.z=this.Sd.read(b+5),d=r.fp(d),this.Sd.write(b+3,d.x),this.Sd.write(b+4,d.y),this.Sd.write(b+5,d.z);break;case 4:throw c.i.Qa()}}u=r.fp(u),n.write(2*g,u.x),n.write(2*g+1,u.y),a.write(g,u.z)}this.Pc(1993)}},s.prototype.iy=function(){this.nb==null&&(this.nb=c.Yc.Oh(1,0),this.mb=c.Yc.Mr(1,0)),this.Ve!=null&&(this.Ve.resize(this.Pg,1),this.Lj.resize(this.Pg,-1))},s.prototype.op=function(r){r.Mg=!1,r.tq=this.tq,r.xq=this.xq,r.nb=this.nb!=null?c.ia.Bn(this.nb):null,r.mb=this.mb!=null?c.pn.Bn(this.mb):null,r.Lj=this.Lj!=null?c.ia.Bn(this.Lj):null,r.Ve=this.Ve!=null?c.pn.Bn(this.Ve):null,r.Sd=this.Sd!=null?c.be.Bn(this.Sd):null,r.sq=this.sq,r.rq=this.rq,r.Aj=this.ak(1024)?null:this.Aj},s.prototype.Qb=function(){if(!this.ak(512))return this.sq;for(var r=this.Ga(),n=new c.Fx(0);r.$a();)for(;r.Ha();)n.add(r.ha().Qb());return this.sq=n.rm(),this.Lf(512,!1),n.rm()},s.prototype.Nb=function(r){if(r==this)return!0;if(!(r instanceof s&&l.prototype.Nb.call(this,r)))return!1;var n=this.da();return!(n!=r.da()||this.nb!=null&&!this.nb.Nb(r.nb,0,n+1)||this.xq!=r.xq||this.mb!=null&&!this.mb.Nb(r.mb,0,n))&&l.prototype.Nb.call(this,r)},s.prototype.Ga=function(){return new c.YL(this)},s.prototype.hy=function(r){if(l.prototype.hy.call(this,r),this.tm())for(r=this.Ga();r.$a();)r.Ha()},s.prototype.yp=function(r,n){if(l.prototype.yp.call(this,r,n),this.tm())for(r=this.Ga();r.$a();)r.Ha()},s.prototype.$x=function(){this.wa=this.nb==null||this.nb.size==0?0:this.nb.read(this.nb.size-1)},s.prototype.Ke=function(){return this.xf?(this.xu(),this.rq):0},s.prototype.Ev=function(r){return!!this.xf&&(this.ak(8)?(this.xu(),0<this.Aj.read(r)):!!(4&this.mb.read(r)))},s.prototype.Ir=function(r){return this.xf?(this.xu(),this.Aj.read(r)):0},s.prototype.xu=function(){if(this.ak(1024)){var r=this.da();this.Aj==null?this.Aj=new c.be(r):this.Aj.size!=r&&this.Aj.resize(r),r=new c.Fx(0);for(var n=new c.Fx(0),a=new c.h,u=0,d=this.Ga();d.$a();){for(n.reset(),this.D(this.Ba(d.gb),a);d.Ha();)n.add(d.ha().Tx(a.x,a.y));r.add(n.rm());var f=u++;this.Aj.write(f,n.rm())}this.rq=r.rm(),this.Lf(1024,!1)}},s.prototype.FR=function(){if(this.xf){this.fm();for(var r=this.da(),n=0;n<r;n++)4&this.mb.read(n)}},s.prototype.fm=function(){if(this.ak(8)){this.xu();var r=this.da();(this.mb==null||this.mb.size<r)&&(this.mb=c.Yc.Mr(r+1));for(var n=1,a=0;a<r;a++){var u=this.Aj.read(a);a==0&&(n=0<u?1:-1),0<u*n?this.mb.zJ(a,4):this.mb.KE(a,4)}this.Lf(8,!1)}},s.prototype.sz=function(r){var n=this.gb,a=this.da();if(0<=n&&n<a){if(r<this.Vc(n)){if(r>=this.Ba(n))return n;n--}else n++;if(0<=n&&n<a&&r>=this.Ba(n)&&r<this.Vc(n))return this.gb=n}if(5>a){for(n=0;n<a;n++)if(r<this.Vc(n))return this.gb=n;throw c.i.fa("corrupted geometry")}for(n=0,--a;a>n;){var u=n+(a-n>>1);if(r<this.Ba(u))a=u-1;else{if(!(r>=(n=this.Vc(u))))return this.gb=u;n=u+1}}return this.gb=n},s.prototype.yz=function(){var r=this.I();if(!this.xf){r-=this.da();for(var n=0,a=this.da();n<a;n++)this.dc(n)&&r++}return r},s.prototype.rv=function(r){var n=this.Ja(r);return this.dc(r)||n--,n},s.prototype.Ia=function(){return new s(this.xf,this.description)},s.prototype.Db=function(){return this.xf?2:1},s.prototype.getType=function(){return this.xf?1736:1607},s.prototype.QJ=function(r){this.nb=r,this.Pc(16777215)},s.prototype.VR=function(){return this.wx(),this.Ve},s.prototype.JR=function(){return this.wx(),this.mb},s.prototype.PJ=function(r){this.mb=r,this.Pc(16777215)},s.prototype.da=function(){return this.nb!=null?this.nb.size-1:0},s.prototype.Vc=function(r){return this.nb.read(r+1)},s.prototype.Ja=function(r){return this.nb.read(r+1)-this.nb.read(r)},s.prototype.Ba=function(r){return this.nb.read(r)},s.prototype.lu=function(r,n){this.Bb==null&&(this.Bb=new c.Uk),n=c.Nx.pW(n);var a=this.Bb.Fk;if(a!=null){if(!(a.Ik<r||n>a.RR()))return!0;this.Bb.yD(null)}return a=c.Nx.create(this,r,n),this.Bb.yD(a),!0},s.prototype.cc=function(){var r=l.prototype.cc.call(this);if(!this.Ac()){var n=this.da();this.nb!=null&&this.nb.An(r,0,n+1),this.mb!=null&&this.mb.An(r,0,n)}return r},s.prototype.ZF=function(r){return this.Ve!=null?this.Ve.read(r):1},s.prototype.bc=function(r,n,a){var u=this.sz(r);if(r==this.Vc(u)-1&&!this.dc(u))throw c.i.fa("index out of bounds");this.mc();var d=this.Ve,f=1;if(d!=null&&(f=7&d.read(r)),f!==1)throw c.i.Qa();if(n.Or(),n=n.get(),a?n.Nf(c.ee.og()):n.Nf(this.description),u=r==this.Vc(u)-1&&this.dc(u)?this.Ba(u):r+1,d=new c.h,this.D(r,d),n.Dc(d),this.D(u,d),n.Qc(d),!a)for(a=1,d=this.description.Aa;a<d;a++){f=this.description.Ed(a);for(var g=c.ra.Va(f),b=0;b<g;b++){var _=this.Uc(f,r,b);n.YB(f,b,_),_=this.Uc(f,u,b),n.OB(f,b,_)}}},s.prototype.Rj=function(r,n){if(r>=this.da())throw c.i.N();if(this.B())n.Oa();else{if(this.yv(r))throw c.i.fa("not implemented");var a=this.ub(0),u=new c.h,d=new c.l;d.Oa();var f=this.Ba(r);for(r=this.Vc(r);f<r;f++)a.tc(2*f,u),d.Zb(u);n.K(d)}},s.prototype.fj=function(r){return this.Bb==null&&(this.Bb=new c.Uk),!(r==0||16>this.I())&&(r=c.ta.nE(this),this.Bb.WM(r),!0)},s.prototype.hM=function(){if(this.Bb==null&&(this.Bb=new c.Uk),this.Bb.zo==null){this.Bb.xD(null);var r=c.ta.YN(this);this.Bb.xD(r)}},s.prototype.Yo=function(r){this.xq=r},s.prototype.In=function(){return this.xq},s.prototype.DD=function(r){if(this==r)throw c.i.fa("MultiPathImpl.add");for(var n=this.da(),a=0;a<r.da();a++)this.addPath(r,a,!0),this.CU(n),n++},s.prototype.kO=function(r){var n=this.sz(r),a=this.Ba(n);if(a!=r){if(r>=(n=this.Vc(n))||r<a)throw c.i.fa("change_ring_start_point");for(var u=0,d=this.description.Aa;u<d;u++){var f=this.description.kd(u);f=c.ra.Va(f),this.za[u].rotate(a*f,r*f,n*f)}}},s}(c.Gx);c.Vk=y}(U||(U={})),function(c){var I=function(y){function l(s){var r=y.call(this)||this;if(s!==void 0){if(s==null)throw c.i.N();r.description=s}else r.description=c.ee.og();return r.wa=0,r}return Yt(l,y),l.prototype.Ia=function(){return new l(this.description)},l.prototype.add=function(s){this.resize(this.wa+1),this.Dh(this.wa-1,s)},l.prototype.Bu=function(s,r){this.resize(this.wa+1);var n=new c.h;n.ma(s,r),this.Cb(this.wa-1,n)},l.prototype.Fd=function(s,r,n){if(n=0>n?s.I():n,0>r||r>s.I()||n<r)throw c.i.N();if(r!=n){this.Jl(s.description),n-=r;var a=this.wa;this.resize(this.wa+n),this.mc();for(var u=0,d=s.description.Aa;u<d;u++){var f=s.description.Ed(u),g=c.ra.Va(f),b=this.ub(f);f=s.ub(f),b.Mn(a*g,f,r*g,n*g,!0,1,a*g)}}},l.prototype.HD=function(s,r){var n=s.length;if(r=0>r?n:r,0>n||0>r)throw c.i.N();if(r!=0){n=r-0,r=this.wa,this.resize(this.wa+n);for(var a=0;a<n;a++)this.Cb(r+a,s[0+a])}},l.prototype.DB=function(s){if(0>s||s>=this.I())throw c.i.fa("index out of bounds");this.mc();for(var r=0,n=this.description.Aa;r<n;r++)if(this.za[r]!=null){var a=c.ra.Va(this.description.Ed(r));this.za[r].En(a*s,a,a*this.wa)}this.wa--,this.Pg--,this.Pc(1993)},l.prototype.resize=function(s){this.dm(s)},l.prototype.op=function(){},l.prototype.Oa=function(){y.prototype.wD.call(this)},l.prototype.Oc=function(s){if(s instanceof c.Dd){if(this.B())return;this.mc();for(var r=this.za[0],n=new c.h,a=0;a<this.wa;a++)n.x=r.read(2*a),n.y=r.read(2*a+1),s.Eh(n,n),r.write(2*a,n.x),r.write(2*a+1,n.y)}else{if(this.B())return;this.mc(),this.re(1),this.mc(),r=this.za[0],n=this.za[1];var u=new c.Nd;for(a=0;a<this.wa;a++){u.x=r.read(2*a),u.y=r.read(2*a+1),u.z=n.read(a);var d=s.fp(u);r.write(2*a,d.x),r.write(2*a+1,d.y),n.write(a,d.z)}}this.Pc(1993)},l.prototype.Db=function(){return 0},l.prototype.getType=function(){return 550},l.prototype.Ke=function(){return 0},l.prototype.Qb=function(){return 0},l.prototype.Nb=function(s){return s==this||s instanceof l&&y.prototype.Nb.call(this,s)},l.prototype.lW=function(s,r){var n=this.wa;if(n=Math.min(n,r+1e3),0>r||r>=this.wa||n<r||s.length!=1e3)throw c.i.N();var a=n-r,u=[];for(this.ub(0).Vw(2*r,2*a,u,0,!0),r=0;r<a;r++)s[r]=c.h.construct(u[2*r],u[2*r+1]);return n},l.prototype.$x=function(){},l.prototype.iy=function(){},l.prototype.lu=function(){return!1},l.prototype.fj=function(){return!1},l.prototype.mg=function(){return null},l}(c.Gx);c.de=I}(U||(U={})),function(c){var I;(I=c.iL||(c.iL={}))[I.NotDetermined=0]="NotDetermined",I[I.Structure=1]="Structure",I[I.DegenerateSegments=2]="DegenerateSegments",I[I.Clustering=3]="Clustering",I[I.Cracking=4]="Cracking",I[I.CrossOver=5]="CrossOver",I[I.RingOrientation=6]="RingOrientation",I[I.RingOrder=7]="RingOrder",I[I.OGCPolylineSelfTangency=8]="OGCPolylineSelfTangency",I[I.OGCPolygonSelfTangency=9]="OGCPolygonSelfTangency",I[I.OGCDisconnectedInterior=10]="OGCDisconnectedInterior";var y=function(){function l(s,r,n){s===void 0?(this.Jj=0,this.Ko=this.Jo=-1):(this.Jj=s,this.Jo=r,this.Ko=n)}return l.prototype.Wt=function(s){this.Jj=s.Jj,this.Jo=s.Jo,this.Ko=s.Ko},l}();c.Md=y}(U||(U={})),function(c){c.O=function(){function I(){}return I.assert=function(y){if(y===!1)throw c.i.GK()},I.bK=function(y){return isNaN(y)?NaN:y===0?y:0<y?1:-1},I.Fu=function(y){var l;l===void 0&&(l=0);for(var s=[],r=0;r<y;r++)s[r]=I.lg(2,l);return s},I.lg=function(y,l){l===void 0&&(l=0);for(var s=[],r=0;r<y;r++)s[r]=l;return s},I.$u=function(y,l){var s,r;for(s===void 0&&(s=0),r===void 0&&(r=y.length-1);s<=r;s++)y[s]=l},I.Rk=function(y,l,s){return y<l?l:y>s?s:y},I.Th=function(y,l){var s=5381;return((s=((s=((s=l!==void 0?(l<<5)+l+(255&y):(s<<5)+s+(255&y))<<5)+s+(y>>8&255))<<5)+s+(y>>16&255))<<5)+s+(y>>24&255)&2147483647},I.uj=function(){throw Error("Not Implemented")},I.bB=function(y){return I.aU(y)+12345&2147483647},I.XG=function(y){var l=32,s=y%I.Qx|0,r=y/I.Qx|0;return(l&=63)==0?y:(32>l?(y=s>>>l|r<<32-l,l=r>>l):(y=r>>l-32,l=0<=r?0:-1),l*I.Qx+(y>>>0))},I.aU=function(y){var l=1103515245,s=65535&l;return((l-s)*(y|=0)|0)+(s*y|0)|0},I.truncate=function(y){return 0>y?-1*Math.floor(Math.abs(y)):Math.floor(y)},I.MAX_SAFE_INTEGER=Math.pow(2,53)-1,I.MIN_SAFE_INTEGER=-I.MAX_SAFE_INTEGER,I.VC=65536,I.Qx=I.VC*I.VC,I}()}(U||(U={})),function(c){var I;(I=c.CL||(c.CL={}))[I.Project=0]="Project",I[I.Union=1]="Union",I[I.Difference=2]="Difference",I[I.Proximity2D=3]="Proximity2D",I[I.Relate=4]="Relate",I[I.Equals=5]="Equals",I[I.Disjoint=6]="Disjoint",I[I.Intersects=7]="Intersects",I[I.Within=8]="Within",I[I.Contains=9]="Contains",I[I.Crosses=10]="Crosses",I[I.Touches=11]="Touches",I[I.Overlaps=12]="Overlaps",I[I.Buffer=13]="Buffer",I[I.Distance=14]="Distance",I[I.Intersection=15]="Intersection",I[I.Clip=16]="Clip",I[I.Cut=17]="Cut",I[I.DensifyByLength=18]="DensifyByLength",I[I.DensifyByAngle=19]="DensifyByAngle",I[I.LabelPoint=20]="LabelPoint",I[I.GeodesicBuffer=21]="GeodesicBuffer",I[I.GeodeticDensifyByLength=22]="GeodeticDensifyByLength",I[I.ShapePreservingDensify=23]="ShapePreservingDensify",I[I.GeodeticLength=24]="GeodeticLength",I[I.GeodeticArea=25]="GeodeticArea",I[I.Simplify=26]="Simplify",I[I.SimplifyOGC=27]="SimplifyOGC",I[I.Offset=28]="Offset",I[I.Generalize=29]="Generalize",I[I.SymmetricDifference=30]="SymmetricDifference",I[I.ConvexHull=31]="ConvexHull",I[I.Boundary=32]="Boundary",I[I.SimpleRelation=33]="SimpleRelation";var y=function(){function l(){}return l.prototype.getType=function(){return null},l.prototype.wn=function(){},l.prototype.Iu=function(){return!1},l}();c.Je=y}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 13},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n,a,u){return s instanceof c.aa?(u=new c.Zc(s),this.V(u,r,[n],!1,a).next()):a===!0?(n=new c.BC(s,r,n,!1,u),c.Gh.local().V(n,r,u)):new c.BC(s,r,n,!1,u)},l.instance=null,l}(c.Je);c.AC=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n,a){this.ya=-1,this.Rd=l,this.$z=s,this.Cs=r,this.tT=new c.l,this.tT.Oa(),this.eo=-1,this.Ub=a}return y.prototype.next=function(){for(var l;(l=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.eo+1<this.Cs.length&&this.eo++,this.buffer(l,this.Cs[this.eo]);return null},y.prototype.La=function(){return this.ya},y.prototype.buffer=function(l,s){return c.HK.buffer(l,s,this.$z,NaN,96,this.Ub)},y.prototype.qe=function(){},y}();c.BC=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 16},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n,a){return s instanceof c.aa?(s=new c.Zc(s),this.V(s,r,n,a).next()):new c.lL(s,r,n,a)},l.instance=null,l}(c.Je);c.kL=I}(U||(U={})),function(c){var I=function(){function y(l,s,r){if(this.ya=-1,l==null)throw c.i.N();this.$=s,this.yk=l,this.qa=c.ta.Wd(r,s,!1)}return y.prototype.next=function(){var l;return(l=this.yk.next())!=null?(this.ya=this.yk.La(),c.Ud.clip(l,this.$,this.qa,0)):null},y.prototype.La=function(){return this.ya},y.prototype.qe=function(){},y}();c.lL=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 31},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n){return s instanceof c.aa?c.DC.rE(s):new c.DC(r,s,n)},l.instance=null,l}(c.Je);c.CC=I}(U||(U={})),function(c){var I=function(){function y(l,s,r){if(this.uA=new c.Zt,this.ya=-1,s==null)throw c.i.N();this.cH=l,this.Ic=!1,this.yk=s,this.Ub=r}return y.prototype.next=function(){if(this.cH){if(!this.Ic){var l=this.dO(this.yk);return this.Ic=!0,l}return null}if(!this.Ic){if((l=this.yk.next())!=null)return this.ya=this.yk.La(),y.rE(l);this.Ic=!0}return null},y.prototype.La=function(){return this.ya},y.prototype.dO=function(l){for(var s;(s=l.next())!=null;)this.uA.Ib(s);return this.uA.cR()},y.prototype.qe=function(){if(!this.Ic){if(!this.cH)throw c.i.fa("Invalid call for non merging convex hull.");var l=this.yk.next();if(l==null)throw c.i.fa("Expects a non-null geometry.");this.uA.Ib(l)}},y.rE=function(l){if(y.VS(l))return l;var s=l.getType();if(c.Vk.yd(s))return(s=new c.Ta(l.description)).oc(l,!0),s;if(s==550&&l.I()==2){var r=new c.Sa;return s=new c.Ta(l.description),l.ve(0,r),s.nf(r),l.ve(1,r),s.lineTo(r),s}return c.Zt.RO(l)},y.VS=function(l){if(l.B())return!0;var s=l.getType();return s==33||s==197||!c.Vk.yd(s)&&(s==550?l.I()==1:s==1607?l.da()==1&&2>=l.I():l.da()==1&&(2>=l.I()||c.Zt.JG(l,0)))},y}();c.DC=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 17},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n,a,u){return new c.nL(s,r,n,a,u)},l.instance=null,l}(c.Je);c.mL=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n,a){if(this.Tf=null,s==null||r==null)throw c.i.fa("invalid argument");this.qT=l,this.nA=s,this.lH=r,l=c.ta.mv(s,r),this.qa=c.ta.Wd(n,l,!0),this.kH=-1,this.nd=a}return y.prototype.La=function(){return 0},y.prototype.next=function(){return this.RQ(),++this.kH<this.Tf.length?this.Tf[this.kH]:null},y.prototype.RQ=function(){if(this.Tf==null)switch(this.Tf=[],this.nA.getType()){case 1607:this.TQ();break;case 1736:this.SQ()}},y.prototype.TQ=function(){var l=new c.Ta,s=new c.Ta,r=new c.Ta;this.Tf.push(l),this.Tf.push(s);var n=[];c.LK.JK(this.qT,this.nA,this.lH,this.qa,n,this.nd);for(var a=0;a<n.length;a++){var u=n[a];if(u.bt==0)l.add(u.X,!1);else if(u.bt==1||u.bt==2)s.add(u.X,!1);else if(u.bt==3)this.Tf.push(u.X);else{if(u.bt!=4)throw c.i.fa("internal");r.add(u.X,!1)}}r.B()||l.B()&&s.B()&&!(3<=this.Tf.length)||this.Tf.push(r),l.B()&&s.B()&&3>this.Tf.length&&(this.Tf.length=0)},y.prototype.SQ=function(){var l=new c.ia(0),s=new c.gd,r=s.aF(),n=s.Ib(this.nA),a=s.Ib(this.lH),u=new c.Fg;try{u.Ft(s,this.qa,this.nd),u.dl(r,n,a,l);var d=s.Ne(n),f=new c.Da,g=new c.Da;for(this.Tf.length=0,this.Tf.push(f),this.Tf.push(g),n=0;n<l.size;n++){var b=new c.gd,_=b.Ib(d),S=b.Ib(s.Ne(l.get(n)));u.dr(b,this.nd);var T=u.Av(_,S),k=b.Ne(T);if(!k.B()){var O=s.KF(l.get(n),r);O==2?f.add(k,!1):O==1?g.add(k,!1):this.Tf.push(k);var N=new c.gd;_=N.Ib(d),S=N.Ib(s.Ne(l.get(n))),u.dr(N,this.nd),d=N.Ne(u.im(_,S))}}!d.B()&&0<l.size&&this.Tf.push(d),f.B()&&g.B()&&(this.Tf.length=0)}finally{u.Ug()}},y.prototype.qe=function(){},y}();c.nL=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 18},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n){if(s instanceof c.aa)return s=new c.Zc(s),this.V(s,r,n).next();if(0>=r)throw c.i.N();return new c.oL(s,r,n)},l.instance=null,l}(c.Je);c.Xl=I}(U||(U={})),function(c){var I=function(){function y(l,s){this.ya=-1,this.Rd=l,this.Ps=s}return y.prototype.La=function(){return this.ya},y.prototype.next=function(){var l;return(l=this.Rd.next())!=null?(this.ya=this.Rd.La(),this.NP(l)):null},y.prototype.NP=function(l){if(l.B()||1>l.Db())return l;var s=l.getType();if(s==1736||s==1607)return this.Ny(l);if(c.aa.yd(s))return this.PP(l);if(s==197)return this.OP(l);throw c.i.Qa()},y.prototype.PP=function(l){if(l.Qb()<=this.Ps)return l;var s=new c.Ta(l.description);return s.oc(l,!0),this.Ny(s)},y.prototype.OP=function(l){var s=new c.Da(l.description);s.ad(l,!1);var r=new c.l;return l.A(r),l=r.ca(),r.R()<=this.Ps&&l<=this.Ps?s:this.Ny(s)},y.prototype.Ny=function(l){for(var s=l.Ia(),r=l.Ga();r.$a();)for(var n=!0;r.Ha();){var a=r.ha();if(a.getType()!=322)throw c.i.fa("not implemented");var u=r.On(),d=a.Qb();if(d>this.Ps){var f=Math.ceil(d/this.Ps);d=new c.Sa(l.description),n&&(a.To(d),s.nf(d));var g=n=1/f,b=0;for(--f;b<f;b++)a.Tw(g,d),s.lineTo(d),g+=n;u?s.Ap():(a.Po(d),s.lineTo(d))}else u?s.Ap():s.oc(a,n);n=!1}return s},y.prototype.qe=function(){},y}();c.oL=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.getType=function(){return 2},l.prototype.V=function(s,r,n,a){return s instanceof c.aa?(s=new c.Zc(s),r=new c.Zc(r),this.V(s,r,n,a).next()):new c.qL(s,r,n,a)},l.im=function(s,r,n,a){if(s.B()||r.B())return s;var u=s.Db(),d=r.Db();if(u>d)return s;var f=s.getType(),g=r.getType(),b=new c.l,_=new c.l,S=new c.l;s.A(b),r.A(_),S.K(b),S.Zb(_);var T=(S=c.ta.Wd(n,S,!0))*Math.sqrt(2)*1.00001,k=new c.l;if(k.K(b),k.W(T,T),!k.isIntersecting(_))return s;if(u==1&&d==2)return l.KV(s,r,g,n,a);if(f==33)switch(c.Vk.yd(g)?(n=new c.Ta(r.description),n.oc(r,!0)):n=r,g){case 1736:return l.XU(s,n,S);case 1607:return l.YU(s,n,S);case 550:return l.VU(s,n,S);case 197:return l.UU(s,n,S);case 33:return l.WU(s,n,S);default:throw c.i.N()}else if(f==550)switch(g){case 1736:return l.nU(s,r,S);case 197:return l.lU(s,r,S);case 33:return l.mU(s,r,S)}return c.Fg.im(s,r,n,a)},l.XU=function(s,r,n){return c.hd.KG(r,s,n)==0?s:s.Ia()},l.YU=function(s,r,n){var a=s.D();r=r.Ga();for(var u=n*Math.sqrt(2)*1.00001,d=u*u,f=new c.l;r.$a();)for(;r.Ha();){var g=r.ha();if(g.A(f),f.W(u,u),f.contains(a)){if(g.qs(a,n))return s.Ia();var b=g.ac();if(c.h.yc(a,b)<=d||(b=g.wc(),c.h.yc(a,b)<=d))return s.Ia()}}return s},l.VU=function(s,r,n){var a=r.ub(0);r=r.I();var u=s.D(),d=new c.h;n=n*Math.sqrt(2)*1.00001,n*=n;for(var f=0;f<r;f++)if(a.tc(2*f,d),c.h.yc(d,u)<=n)return s.Ia();return s},l.UU=function(s,r,n){var a=new c.l;return r.A(a),a.W(n,n),r=s.D(),a.contains(r)?s.Ia():s},l.WU=function(s,r,n){n=n*Math.sqrt(2)*1.00001,n*=n;var a=s.D();return r=r.D(),c.h.yc(a,r)<=n?s.Ia():s},l.nU=function(s,r,n){var a=new c.l;r.A(a),a.W(n,n);for(var u=s.I(),d=!1,f=[],g=0;g<u;g++)f[g]=!1;var b=new c.h;for(g=0;g<u;g++)s.D(g,b),a.contains(b)&&c.hd.Yd(r,b,n)!=0&&(d=!0,f[g]=!0);if(!d)return s;for(r=s.Ia(),g=0;g<u;g++)f[g]||r.Fd(s,g,g+1);return r},l.lU=function(s,r,n){var a=new c.l;r.A(a),a.W(n,n),r=s.I();var u=!1;n=[];for(var d=0;d<r;d++)n[d]=!1;var f=new c.h;for(d=0;d<r;d++)s.D(d,f),a.contains(f)&&(u=!0,n[d]=!0);if(!u)return s;for(a=s.Ia(),d=0;d<r;d++)n[d]||a.Fd(s,d,d+1);return a},l.mU=function(s,r,n){var a=s.ub(0),u=s.I(),d=r.D(),f=new c.h,g=!1;r=[];for(var b=0;b<u;b++)r[b]=!1;for(n=(b=n*Math.sqrt(2)*1.00001)*b,b=0;b<u;b++)a.tc(2*b,f),c.h.yc(f,d)<=n&&(g=!0,r[b]=!0);if(!g)return s;for(a=s.Ia(),b=0;b<u;b++)r[b]||a.Fd(s,b,b+1);return a},l.KV=function(s,r,n,a,u){var d=new c.Fh;s.bn(d);var f=new c.l;return r.A(f),d.Zb(f),d.W(.1*d.R(),.1*d.ca()),(f=new c.Da).ad(d,!1),n==1736?f.add(r,!0):f.ad(r,!0),c.Xj.local().V(s,f,a,u)},l.instance=null,l}(c.Je);c.kp=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n){this.ts=s==null,this.ya=-1,this.Rd=l,this.$z=r,this.wT=s.next(),this.Ub=n}return y.prototype.next=function(){return this.ts?null:(l=this.Rd.next())!=null?(this.ya=this.Rd.La(),c.kp.im(l,this.wT,this.$z,this.Ub)):null;var l},y.prototype.La=function(){return this.ya},y.prototype.qe=function(){},y}();c.qL=I}(U||(U={})),function(c){var I=function(){function l(s){this.nd=s,this.Bj=new c.l,this.Bj.Oa(),this.oh=new c.l,this.oh.Oa()}return l.prototype.Nt=function(){var s=this.Bj.v;this.Bj.v=this.oh.v,this.oh.v=s,s=this.Bj.C,this.Bj.C=this.oh.C,this.oh.C=s,s=this.Bj.G,this.Bj.G=this.oh.G,this.oh.G=s,s=this.Bj.H,this.Bj.H=this.oh.H,this.oh.H=s},l.prototype.eQ=function(s,r){if(this.nd!=null&&!this.nd.progress(-1,-1))throw c.i.fu("user_canceled");var n=!this.Bj.isIntersecting(this.oh);return c.aa.Hc(s.getType())&&c.aa.Hc(r.getType())?s.I()>r.I()?this.gE(s,r,n):(this.Nt(),s=this.gE(r,s,n),this.Nt(),s):s.getType()==550&&c.aa.Hc(r.getType())?(s=this.hE(r,s,n),this.Nt(),s):r.getType()==550&&c.aa.Hc(s.getType())?this.hE(s,r,n):s.getType()==550&&r.getType()==550?s.I()>r.I()?this.iE(s,r):(this.Nt(),s=this.iE(r,s),this.Nt(),s):0},l.prototype.gE=function(s,r,n){var a=s.Ga(),u=r.Ga(),d=new c.l,f=new c.l,g=17976931348623157e292;if(!n&&this.pY(s,r,a,u))return 0;for(;a.$a();)for(;a.Ha();)if((s=a.ha()).A(d),!(d.px(this.oh)>g)){for(;u.$a();)for(;u.Ha();)if((r=u.ha()).A(f),d.px(f)<g&&(r=s.tb(r,n),(r*=r)<g)){if(r==0)return 0;g=r}u.Zi()}return Math.sqrt(g)},l.prototype.hE=function(s,r,n){var a=s.Ga(),u=new c.l,d=17976931348623157e292,f=new c.h,g=r.I();for(n=!n&&s.getType()==1736;a.$a();)for(;a.Ha();){var b=a.ha();if(b.A(u),!(1<g&&u.px(this.oh)>d)){for(var _=0;_<g;_++){if(r.D(_,f),n&&c.hd.Yd(s,f,0)!=0)return 0;var S=b.fe(f,!1);if(f.sub(b.hc(S)),(S=f.Sk())<d){if(S==0)return 0;d=S}}n=!1}}return Math.sqrt(d)},l.prototype.iE=function(s,r){for(var n,a=17976931348623157e292,u=new c.h,d=new c.h,f=s.I(),g=r.I(),b=0;b<f;b++)if(s.D(b,u),!(1<g&&this.oh.iK(u)>a)){for(var _=0;_<g;_++)if(r.D(_,d),(n=c.h.yc(u,d))<a){if(n==0)return 0;a=n}}return Math.sqrt(a)},l.prototype.pY=function(s,r,n,a){if(s.getType()==1736){for(;a.$a();)if(a.Ha()){var u=a.ha();if(c.hd.Yd(s,u.wc(),0)!=0)return!0}a.Zi()}if(r.getType()==1736){for(;n.$a();)if(n.Ha()&&(s=n.ha(),c.hd.Yd(r,s.wc(),0)!=0))return!0;n.Zi()}return!1},l.prototype.gm=function(s,r){return s.B()||r.B()?NaN:(s.A(this.Bj),r.A(this.oh),this.eQ(s,r))},l}(),y=function(l){function s(){return l!==null&&l.apply(this,arguments)||this}return Yt(s,l),s.prototype.V=function(r,n,a){if(r==null||n==null)throw c.i.N();if(r.B()||n.B())return NaN;var u=r.getType(),d=n.getType();if(u==33){if(d==33)return c.h.tb(r.D(),n.D());if(d==197)return a=new c.l,n.A(a),a.tb(r.D());(u=new c.de).add(r),r=u}else if(u==197){if(d==197)return d=new c.l,r.A(d),a=new c.l,n.A(a),a.tb(d);(u=new c.Da).ad(r,!1),r=u}return d==33?((d=new c.de).add(n),n=d):d==197&&((d=new c.Da).ad(n,!1),n=d),new I(a).gm(r,n)},s.local=function(){return s.instance===null&&(s.instance=new s),s.instance},s.prototype.getType=function(){return 14},s.instance=null,s}(c.Je);c.rL=y}(U||(U={})),function(c){var I=function(){function y(l,s,r,n){this.zH=l,this.DH=s,this.nd=n,this.$G=r}return y.prototype.next=function(){var l=this.zH.next();return l==null?null:this.zC(l)},y.prototype.La=function(){return this.zH.La()},y.prototype.zC=function(l){var s=l.getType();if(c.aa.Rn(s))return l;if(s==197)return(s=new c.Da(l.description)).ad(l,!1),this.zC(s);if(l.B())return l;if(l==null)throw c.i.Qa();s=l.Ia();for(var r=new c.yb,n=0,a=l.da();n<a;n++)this.TK(l,n,s,r);return s},y.prototype.TK=function(l,s,r,n){if(!(2>l.Ja(s))){var a=l.Ba(s),u=l.Vc(s)-1,d=l.ub(0),f=l.dc(s),g=new c.ia(0);g.Jb(l.Ja(s)+1);var b=new c.ia(0);for(b.Jb(l.Ja(s)+1),g.add(f?a:u),g.add(a),a=new c.h;1<g.size;){var _=g.Fc();g.If();var S=g.Fc();l.D(_,a),n.Dc(a),l.D(S,a),n.Qc(a),0<=(S=this.SK(n,a,d,_,S,u))?(g.add(S),g.add(_)):b.add(_)}if(f||b.add(g.get(0)),b.size==g.size)r.addPath(l,s,!0);else if(2<=b.size&&(!this.$G||b.size!=2||!(f||c.h.tb(l.Na(b.get(0)),l.Na(b.get(1)))<=this.DH))){for(s=new c.Sa,n=0,u=b.size;n<u;n++)l.ve(b.get(n),s),n==0?r.nf(s):r.lineTo(s);f&&(this.$G||b.size!=2||r.lineTo(s),r.Ap())}}},y.prototype.SK=function(l,s,r,n,a,u){var d=a-1;for(a<=n&&(d=u),u=a=-1,n+=1;n<=d;n++){r.tc(2*n,s);var f=s.x,g=s.y;l.hc(l.fe(s,!1),s),s.x-=f,s.y-=g,(f=s.length())>this.DH&&f>u&&(a=n,u=f)}return a},y.prototype.qe=function(){},y}();c.sL=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 29},l.prototype.V=function(s,r,n,a){return s instanceof c.aa?(s=new c.Zc(s),this.V(s,r,n,a).next()):new c.sL(s,r,n,a)},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.instance=null,l}(c.Je);c.EC=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 21},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n,a,u,d,f,g){return s instanceof c.aa?(g=new c.Zc(s),this.V(g,r,n,[a],u,d,!1,f).next()):f===!0?(n=new c.GC(s,r,n,a,u,!1,!1,g),c.Gh.local().V(n,r,g)):new c.GC(s,r,n,a,u,!1,!1,g)},l.instance=null,l}(c.Je);c.FC=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n,a,u,d,f){if(u)throw c.i.Ie();if(s==null)throw c.i.N();this.ya=-1,this.Ms=l,this.vg=s,this.ze=r,this.Cs=n,this.$n=a,this.eo=-1,this.Ub=f,this.uT=new c.l,this.uT.Oa()}return y.prototype.next=function(){for(var l;(l=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.eo+1<this.Cs.length&&this.eo++,this.$Q(l,this.Cs[this.eo]);return null},y.prototype.La=function(){return this.ya},y.prototype.$Q=function(l,s){return c.VK.buffer(l,this.vg,this.ze,s,this.$n,this.Ub)},y.prototype.qe=function(){},y}();c.GC=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 24},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n){if(r==null)throw c.i.N();if(s.B()||1>s.Db())return 0;if(n==4)throw c.i.Ie();var a=c.cb.sc(r),u=c.cb.vv(a),d=c.cb.ev(a);u*=2-u;var f=a.Hd().ai,g=s.getType();if(g==1736||g==197)var b=s.mg();else c.aa.yd(g)?(b=new c.Ta(s.description)).oc(s,!0):b=s;if(a.Nb(r)==0){if(c.cb.Wc(r)){b=c.Hh.lj(b,r),g==1607&&b==s&&(b=c.aa.jg(s)),s=new c.Nc,c.cb.gh(r).cn(s),g=0;for(var _=b.I();g<_;g++){var S=b.Na(g);S.x=c.Hh.Zm(S.x,s),b.Cb(g,S)}}s=b.Ia(),b=c.Hh.WI(r,a,b,s)?s:c.cb.zh(b,r,a)}return this.hQ(b,n,d,u,f)},l.prototype.hQ=function(s,r,n,a,u){var d=new c.ga(0),f=0;for(s=s.Ga();s.$a();)for(;s.Ha();){var g=s.ha(),b=g.ac();g=g.wc(),b.scale(u),g.scale(u),c.kb.wd(n,a,b.x,b.y,g.x,g.y,d,null,null,r),f+=d.u}return f},l.instance=null,l}(c.Je);c.vL=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 18},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n,a,u){return s instanceof c.aa?(s=new c.Zc(s),this.V(s,r,n,a,u).next()):new c.uL(s,n,a,r,-1,-1,u)},l.instance=null,l}(c.Je);c.tL=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n,a,u){if(0<u||r!=4&&0<a)throw c.i.Ie();if(s==null)throw c.i.N();this.ya=-1,this.Ms=l,this.vg=s,this.ze=r,this.DT=n,this.CT=a}return y.prototype.next=function(){for(var l;(l=this.Ms.next())!=null;)return this.ya=this.Ms.La(),this.Zy(l);return null},y.prototype.La=function(){return this.ya},y.prototype.Zy=function(l){return c.cj.Qr(l,this.vg,this.ze,this.DT,this.CT,this.Ub)},y.prototype.qe=function(){},y}();c.uL=I}(U||(U={})),function(c){(function(I){I[I.Unknown=0]="Unknown",I[I.Contains=1]="Contains",I[I.Within=2]="Within",I[I.Equals=3]="Equals",I[I.Disjoint=4]="Disjoint",I[I.Touches=8]="Touches",I[I.Crosses=16]="Crosses",I[I.Overlaps=32]="Overlaps",I[I.NoThisRelation=64]="NoThisRelation",I[I.Intersects=1073741824]="Intersects",I[I.IntersectsOrDisjoint=1073741828]="IntersectsOrDisjoint"})(c.cL||(c.cL={})),c.wL=function(){function I(){}return I.nW=function(y,l){var s=y.getType(),r=l.getType();if(c.aa.xj(s)){var n=y.Bb;if(n!=null&&(n=n.Fk)!=null){if(r==33){var a=l.D();n=n.So(a.x,a.y)}else a=new c.l,l.A(a),n=n.Ro(a);if(n==1)return 1;if(n==0)return 4}}if(c.aa.xj(r)&&(n=l.Bb)!=null&&(n=n.Fk)!=null){if(s==33?(y=y.D(),n=n.So(y.x,y.y)):(l=new c.l,y.A(l),n=n.Ro(l)),n==1)return 2;if(n==0)return 4}return 0},I}()}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.getType=function(){return 15},l.prototype.V=function(s,r,n,a,u){return s instanceof c.aa?(s=new c.Zc(s),r=new c.Zc(r),this.V(s,r,n,a,u===void 0?-1:u).next()):u===void 0?new c.HC(s,r,n,a,-1):new c.HC(s,r,n,a,u)},l.prototype.wn=function(s,r,n){this.Iu(s)&&(r=c.ta.kj(r,s,!1),s.fj(n)||s.lu(r,n))},l.prototype.Iu=function(s){return c.Nx.zE(s)},l.instance=null,l}(c.Je);c.Xj=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n,a){if(this.ts=s==null,this.ya=-1,this.Rd=l,this.vg=r,this.Se=s.next(),this.Dj=this.Se.getType(),this.Ub=n,this.Fi=a,this.Fi!=-1&&(0>=this.Fi||7<this.Fi))throw c.i.N("bad dimension mask")}return y.prototype.next=function(){if(this.ts)return null;if(this.zw!=null){var l=this.zw.next();if(l!=null)return l;this.zw=null}for(;(l=this.Rd.next())!=null;)return this.ya=this.Rd.La(),this.Fi==-1?l=this.Ea(l):(this.zw=this.PS(l),l=this.zw.next()),l;return null},y.prototype.La=function(){return this.ya},y.prototype.Ea=function(l){var s=this.zK(l);if(s!=null)return s;s=c.ta.mv(this.Se,l);var r=c.ta.Wd(this.vg,s,!0);s=new c.l,this.Se.A(s);var n=new c.l;return l.A(n),s.W(2*r,2*r),s.Ea(n),s.W(100*r,100*r),r=c.Ud.clip(this.Se,s,0,0),l=c.Ud.clip(l,s,0,0),c.Fg.Av(l,r,this.vg,this.Ub)},y.prototype.QI=function(l,s,r){var n=0;if(1&s)r[0]==null&&(r[0]=new c.de(l)),n++;else for(var a=0;a<r.length-1;a++)r[a]=r[a+1];if(2&s)r[n]==null&&(r[n]=new c.Ta(l)),n++;else for(a=n;a<r.length-1;a++)r[a]=r[a+1];if(4&s)r[n]==null&&(r[n]=new c.Da(l)),n++;else for(a=n;a<r.length-1;a++)r[a]=r[a+1];if(n!=3){for(l=[],a=0;a<n;a++)l[a]=r[a];return new c.Zc(l)}return new c.Zc(r)},y.prototype.PS=function(l){var s=this.zK(l);if(s!=null){var r=[null,null,null];return r[s.Db()]=s,this.QI(l.description,this.Fi,r)}s=c.ta.mv(this.Se,l),r=c.ta.Wd(this.vg,s,!0),s=new c.l,this.Se.A(s),s.W(2*r,2*r);var n=new c.l;return l.A(n),s.Ea(n),s.W(100*r,100*r),r=c.Ud.clip(this.Se,s,0,0),s=c.Ud.clip(l,s,0,0),r=c.Fg.Pz(s,r,this.vg,this.Ub),this.QI(l.description,this.Fi,r)},y.prototype.zK=function(l){var s=c.ta.mv(l,this.Se),r=c.ta.Wd(this.vg,s,!0);s=l.getType();var n=l.B(),a=this.Se.B();if(!(a=n||a)){a=new c.l,l.A(a);var u=new c.l;this.Se.A(u),u.W(2*r,2*r),a=!a.isIntersecting(u)}if(!a)if((u=c.wL.nW(this.Se,l))==4)a=!0;else{if(2&u)return this.Se;if(1&u)return l}if(a)return(r=c.aa.tf(s))<(a=c.aa.tf(this.Dj))?y.HB(l,n):r>a||r==0&&s==550&&this.Dj==33?this.nJ():y.HB(l,n);if((this.Fi==-1||this.Fi==4)&&s==197&&this.Dj==197)return r=this.Se,s=new c.l,l.A(s),n=new c.l,r.A(n),s.Ea(n),r=new c.Fh,l.copyTo(r),r.Xo(s),r;if(s==197&&c.aa.tf(this.Dj)==0||this.Dj==197&&c.aa.tf(s)==0)return n=s==197?l:this.Se,l=s==197?this.Se:l,s=new c.l,n.A(s),c.Ud.clip(l,s,r,0);if(c.aa.tf(s)==0&&0<c.aa.tf(this.Dj)||0<c.aa.tf(s)&&c.aa.tf(this.Dj)==0){if(r=c.ta.kj(this.vg,l,!1),s==550||s==33)return c.Fg.zG(l,this.Se,r);if(this.Dj==550||this.Dj==33)return c.Fg.zG(this.Se,l,r);throw c.i.Qa()}return this.Fi!=-1&&this.Fi!=2||s!=1607||this.Dj!=1736?this.Fi!=-1&&this.Fi!=2||s!=1736||this.Dj!=1607?null:this.wK(this.Se,l):this.wK(l,this.Se)},y.prototype.wK=function(l,s){var r=l,n=s,a=c.ta.kj(this.vg,s,!1),u=new c.l;n.A(u);var d=new c.l;r.A(d),d.W(2*a,2*a),u.Ea(d),u.W(10*a,10*a),r=l=c.Ud.clip(l,u,0,0),d=new c.ia(0);var f=-1,g=n.Bb;if(g!=null){var b=g.Fk;if(b!=null){f=0,d.Jb(r.I()+r.da());for(var _=new c.l,S=r.Ga();S.$a();)for(;S.Ha();){S.ha().A(_);var T=b.Ro(_);T==1?d.add(1):T==0?d.add(0):(d.add(-1),f++)}}}if(5<s.I()&&(g=(n=s=c.Ud.clip(s,u,0,0)).Bb),0>f&&(f=r.yz()),u=r.I()+n.I(),f*n.I()>Math.log(u)*u*4)return null;u=null,f=n.Ga(),g!=null&&g.Fb!=null&&(u=g.Fb),u==null&&20<n.I()&&(u=c.ta.nE(n)),l=l.Ia(),n=null,g=r.Ga(),b=[0,0,0,0,0,0,0,0,0],_=new c.be(0),S=new c.ig,T=-1;for(var k=0,O=0,N=0<d.size,D=-1;g.$a();){D=g.gb;var z=0;for(T=-1,k=0;g.Ha();){var L=N?c.O.truncate(d.get(O)):-1;O++;var F=g.ha();if(0>L){if(u!=null)for(n==null?n=u.vR(F,a):n.Uo(F,a),L=n.next();L!=-1;L=n.next()){f.Vb(u.ja(L)),L=f.ha();var V=F.Ea(L,null,b,null,a);for(L=0;L<V;L++)_.add(b[L])}else for(f.Zi();f.$a();)for(;f.Ha();)for(L=f.ha(),V=F.Ea(L,null,b,null,a),L=0;L<V;L++)_.add(b[L]);if(0<_.size){_.Vd(0,_.size,function(st,it){return st-it});var q=0;_.add(1),V=-1,L=0;for(var W=_.size;L<W;L++){var K=_.get(L);if(K!=q){var tt=!1;if(q!=0||K!=1?(F.ah(q,K,S),q=S.get()):(q=F,tt=!0),2<=z){if(l.Dr(r,D,T,k,z==3),this.QD(s,q.ac(),a)!=1&&this.RD(s,q,a)!=1)return null;l.oc(q,!1),z=1,k=0}else switch(V=this.RD(s,q,a),V){case 1:tt?2>z?(T=g.wb()-r.Ba(D),k=1,z=z==0?3:2):k++:(l.oc(q,z==0),z=1);break;case 0:z=0,T=-1,k=0;break;default:return null}q=K}}}else{if(0>(L=this.QD(s,F.ac(),a)))return null;L==1?(2>z&&(T=g.wb()-r.Ba(D),z=z==0?3:2),k++):(T=-1,k=0)}_.clear(!1)}else L!=0&&L==1&&(z==0?(z=3,T=g.wb()-r.Ba(D)):z==1?(z=2,T=g.wb()-r.Ba(D)):k++)}2<=z&&(l.Dr(r,D,T,k,z==3),T=-1)}return l},y.prototype.QD=function(l,s,r){return c.Dg.wm(l,s,r)},y.prototype.RD=function(l,s,r){var n=s.ac();s=s.wc();var a=c.Dg.wm(l,n,r),u=c.Dg.wm(l,s,r);return a==1&&u==0||a==0&&u==1?-1:a==0||u==0?0:a==1||u==1?1:((a=new c.h).add(n,s),a.scale(.5),(l=c.Dg.wm(l,a,r))==0?0:l==1?1:-1)},y.HB=function(l,s){return s?l:l.Ia()},y.prototype.nJ=function(){return this.yH==null&&(this.yH=this.Se.Ia()),this.yH},y.prototype.qe=function(){},y}();c.HC=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 28},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n,a,u,d,f){return s instanceof c.aa?(s=new c.Zc(s),this.V(s,r,n,a,u,d,f).next()):new c.xL(s,r,n,a,u,d,f)},l.instance=null,l}(c.Je);c.IC=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n,a,u,d){this.ya=-1,this.Rd=l,this.Mj=s,this.Ka=r,this.Ki=n,this.CA=a,this.uH=u,this.nd=d}return y.prototype.next=function(){var l=this.Rd.next();return l!=null?(this.ya=this.Rd.La(),this.jL(l)):null},y.prototype.La=function(){return this.ya},y.prototype.jL=function(l){var s=0>=this.uH?c.ta.kj(this.Mj,l,!1):this.uH;return c.IK.V(l,this.Ka,this.Ki,this.CA,s,this.nd)},y.prototype.qe=function(){},y}();c.xL=I}(U||(U={})),function(c){var I;(I=c.NK||(c.NK={}))[I.clipToDomainOnly=1]="clipToDomainOnly",I[I.clipWithHorizon=2]="clipWithHorizon",I[I.foldAndClipWithHorizon=3]="foldAndClipWithHorizon";var y=function(l){function s(){return l!==null&&l.apply(this,arguments)||this}return Yt(s,l),s.prototype.getType=function(){return 0},s.local=function(){return s.instance===null&&(s.instance=new s),s.instance},s.prototype.V=function(r,n,a){return r instanceof c.aa?(r=new c.Zc(r),this.V(r,n,a).next()):new c.yL(r,n,a)},s.prototype.transform=function(r,n,a,u){return c.bu.transform(r,n,a,u,!0)},s.prototype.Qt=function(r,n,a,u){return c.bu.Qt(r,n,a,u)},s.instance=null,s}(c.Je);c.Hx=y}(U||(U={})),function(c){var I=function(){function y(l,s,r){this.ya=-1,this.Rd=l,this.MT=s,this.nd=r}return y.prototype.next=function(){var l=this.Rd.next();return l!=null?(this.ya=this.Rd.La(),c.bu.zh(l,this.MT,this.nd)):null},y.prototype.La=function(){return this.ya},y.prototype.qe=function(){},y}();c.yL=I}(U||(U={})),function(c){var I=function(){function l(){}return l.prototype.reset=function(){this.ph=this.xk=-1,this.us=this.kq=!1},l.prototype.AQ=function(s,r,n){for(s.Vb(r,n);s.Ha();){var a=s.ha();if((a=a.Qb())!=0)return s.wb()}for(s.Vb(r,n);s.Ez();)if((a=(a=s.li()).Qb())!=0)return s.wb();return-1},l.prototype.BQ=function(s,r){for(s.Vb(r,-1);s.Ez();)if(s.li().Qb()!=0)return s.wb();return-1},l.prototype.zQ=function(s,r){for(s.Vb(r,-1),s.ha();s.Ha();)if(s.ha().Qb()!=0)return s.wb();return-1},l.prototype.yQ=function(s,r,n,a){if(this.xk=this.AQ(r,n,a),this.xk!=-1){r.Vb(this.xk,-1);var u=r.ha(),d=u.hc(u.fe(s,!1));if(n=c.h.yc(d,s),(a=new c.h).L(d),a.sub(u.ac()),(d=new c.h).L(s),d.sub(u.ac()),this.kq=0>a.wi(d),this.ph=this.zQ(r,this.xk),this.ph!=-1){r.Vb(this.ph,-1);var f=(u=r.ha()).fe(s,!1);f=u.hc(f);var g=c.h.yc(f,s);g>n?this.ph=-1:(a.L(f),a.sub(u.ac()),d.L(s),d.sub(u.ac()),this.us=0>a.wi(d))}this.ph==-1&&(this.ph=this.BQ(r,this.xk),this.ph!=-1&&(r.Vb(this.ph,-1),f=(u=r.ha()).fe(s,!1),f=u.hc(f),(g=c.h.yc(f,s))>n?this.ph=-1:(a.L(f),a.sub(u.ac()),d.L(s),d.sub(u.ac()),this.us=0>a.wi(d),s=this.xk,this.xk=this.ph,this.ph=s,s=this.kq,this.kq=this.us,this.us=s)))}},l.prototype.cO=function(s,r,n,a,u){return n=n.Ga(),this.yQ(s,n,a,u),this.xk!=-1&&this.ph==-1?this.kq:this.xk!=-1&&this.ph!=-1?this.kq==this.us?this.kq:(n.Vb(this.xk,-1),s=n.ha().kg(),n.Vb(this.ph,-1),r=n.ha().kg(),0<=s.wi(r)):r},l}(),y=function(l){function s(){return l!==null&&l.apply(this,arguments)||this}return Yt(s,l),s.local=function(){return s.instance===null&&(s.instance=new s),s.instance},s.prototype.getType=function(){return 3},s.prototype.nz=function(r,n,a){var u;if(u===void 0&&(u=!1),r.B())return new c.$l;n=n.D();var d=r,f=r.getType();switch(f==197&&((d=new c.Da).ad(r,!1),f=1736),f){case 33:return this.xI(d,n);case 550:return this.jI(d,n);case 1607:case 1736:return this.bU(d,n,a,u);default:throw c.i.fa("not implemented")}},s.prototype.oz=function(r,n){if(r.B())return new c.$l;n=n.D();var a=r,u=r.getType();switch(u==197&&((a=new c.Da).ad(r,!1),u=1736),u){case 33:return this.xI(a,n);case 550:case 1607:case 1736:return this.jI(a,n);default:throw c.i.fa("not implemented")}},s.prototype.pz=function(r,n,a,u){if(0>u)throw c.i.N();if(r.B())return[];n=n.D();var d=r,f=r.getType();switch(f==197&&((d=new c.Da).ad(r,!1),f=1736),f){case 33:return this.TU(d,n,a,u);case 550:case 1607:case 1736:return this.tU(d,n,a,u);default:throw c.i.fa("not implemented")}},s.prototype.bU=function(r,n,a,u){if(r.getType()==1736&&a&&(a=new c.l,r.A(a),a=c.ta.Wd(null,a,!1),(u?c.hd.Yd(r,n,0):c.hd.Yd(r,n,a))!=0)){var d=new c.$l(n,0,0);return u&&d.WJ(!0),d}var f=r.Ga();d=new c.h;for(var g=a=-1,b=17976931348623157e292,_=0;f.$a();)for(;f.Ha();){var S=f.ha();S=S.hc(S.fe(n,!1));var T=c.h.yc(S,n);T<b?(_=1,d=S,a=f.wb(),g=f.gb,b=T):T==b&&_++}return d=new c.$l(d,a,Math.sqrt(b)),u&&(f.Vb(a,g),S=f.ha(),u=0>c.h.Uq(n,S.ac(),S.wc()),1<_&&((_=new I).reset(),u=_.cO(n,u,r,a,g)),d.WJ(u)),d},s.prototype.xI=function(r,n){return r=r.D(),n=c.h.tb(r,n),new c.$l(r,0,n)},s.prototype.jI=function(r,n){for(var a=r.ub(0),u=r.I(),d=r=0,f=0,g=17976931348623157e292,b=0;b<u;b++){var _=new c.h;a.tc(2*b,_);var S=c.h.yc(_,n);S<g&&(d=_.x,f=_.y,r=b,g=S)}return(n=new c.$l).ey(d,f,r,Math.sqrt(g)),n},s.prototype.TU=function(r,n,a,u){return u==0?[]:(a*=a,r=r.D(),(n=c.h.yc(r,n))<=a?(a=[],(u=new c.$l).ey(r.x,r.y,0,Math.sqrt(n)),a[0]=u):a=[],a)},s.prototype.tU=function(r,n,a,u){if(u==0)return[];var d=r.ub(0),f=r.I();r=[],a*=a;for(var g=0;g<f;g++){var b=d.read(2*g),_=d.read(2*g+1),S=n.x-b,T=n.y-_;(S=S*S+T*T)<=a&&((T=new c.$l).ey(b,_,g,Math.sqrt(S)),r.push(T))}return n=r.length,r.sort(function(k,O){return k.Ka<O.Ka?-1:k.Ka==O.Ka?0:1}),u>=n||(r.length=u),r.slice(0)},s.instance=null,s}(c.Je);c.Ix=y}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 4},l.prototype.V=function(s,r,n,a,u){return c.am.yB(s,r,n,a,u)},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.Iu=function(s){return c.Vt.wy(s)},l.prototype.wn=function(s,r,n){c.Vt.CD(s,r,n)},l.instance=null,l}(c.Je);c.zL=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 33},l.prototype.V=function(s,r,n,a,u){return s===1073741824?!c.ud.zB(r,n,a,4,u):c.ud.zB(r,n,a,s,u)},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.Iu=function(s){return c.Vt.wy(s)},l.prototype.wn=function(s,r,n){c.Vt.CD(s,r,n)},l.instance=null,l}(c.Je);c.dj=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n){if(this.nd=n,this.rT=r,this.ya=-1,l==null)throw c.i.N();this.yk=l,this.Mj=s}return y.prototype.next=function(){var l;if((l=this.yk.next())!=null){if(this.ya=this.yk.La(),this.nd!=null&&!this.nd.progress(-1,-1))throw c.i.fu("user_canceled");return this.eC(l)}return null},y.prototype.La=function(){return this.ya},y.prototype.eC=function(l){if(l==null)throw c.i.N();return c.Jx.cK(l,this.Mj,this.rT,this.nd)},y.prototype.qe=function(){},y}();c.AL=I}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 26},l.prototype.V=function(s,r,n,a){return s instanceof c.aa?(s=new c.Zc(s),this.V(s,r,n,a).next()):new c.AL(s,r,n,a)},l.prototype.rs=function(s,r,n,a,u){return 0<(a!==void 0?c.Jx.rs(s,r,n,a,u):c.Jx.rs(s,r,!1,null,n))},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.instance=null,l}(c.Je);c.Yl=I}(U||(U={})),function(c){var I=function(){function u(){this.yq=0}return u.prototype.nX=function(d){this.yq&=-2,this.yq|=d?1:0},u.prototype.Wp=function(){return!!(1&this.yq)},u.prototype.XF=function(){return this.Wp()?0:1},u}();c.xY=I;var y=function(){},l=function(u,d,f,g){this.x=u,this.y=d,this.Ai=f,this.xm=g},s=function(){function u(d){this.Be=d}return u.prototype.compare=function(d,f,g){return d=d.ja(g),f=this.Be.lf.read(2*f),0>(f-=d=this.Be.lf.read(2*d))?-1:0<f?1:0},u}(),r=function(){function u(d){this.Be=d}return u.prototype.compare=function(d,f,g){f=this.Be.hb[f],d=this.Be.hb[d.ja(g)];var b=f.Wp(),_=d.Wp();g=f.ne.Pe(this.Be.Mo,0);var S=d.ne.Pe(this.Be.Mo,0);return g==S&&((b=.5*((g=Math.min(b?f.ne.na:f.ne.la,_?d.ne.na:d.ne.la))-this.Be.Mo)+this.Be.Mo)==this.Be.Mo&&(b=g),g=f.ne.Pe(b,0),S=d.ne.Pe(b,0)),g<S?-1:g>S?1:0},u}(),n=function(){function u(d,f){this.YI=new c.h,this.parent=d,this.dS=f}return u.prototype.nr=function(d,f,g){var b=this.parent,_=this.dS;g.Vd(d,f,function(S,T){return b.Mh(S,T,_)})},u.prototype.$p=function(d){return d=this.parent.gi.get(d),this.parent.lf.tc(2*(d>>1),this.YI),this.YI.y+(1&d?this.parent.Oj:-this.parent.Oj)},u}(),a=function(){function u(d,f,g,b,_){this.nH=d.description,this.X=d,this.Qg=f,this.Oj=c.ta.kj(this.Qg,d,!1),this.Bo=c.ta.kj(this.Qg,d,!0),this.xA=g,this.oT=this.nH.Aa,this.hb=[],this.po=[],this.mh=new c.jp,this.fb=new c.Yj,this.ke=new c.Md,this.ZG=this.ql=_}return u.prototype.eT=function(){return this.ZG=!0,(!c.aa.Hc(this.X.getType())||this.GE()&&this.DE(!1))&&this.mO()?c.aa.Hc(this.X.getType())?this.pO()?this.X.getType()==1607?this.rO()?2:0:this.sO()?this.tO():0:0:2:0},u.prototype.kC=function(d,f){var g=this.lf.read(2*d);d=this.lf.read(2*d+1);var b=this.lf.read(2*f);f=this.lf.read(2*f+1);var _=!c.Yt.Cv(g,d,b,f,this.Oj*this.Oj);return _||this.X.Db()!=0&&g==b&&d==f},u.prototype.GE=function(){for(var d=this.X,f=d.xf?3:2,g=0,b=d.da();g<b;g++)if(d.Ja(g)<f)return this.ke=new c.Md(1,g,0),!1;return!0},u.prototype.DE=function(d){var f=this.X,g=f.Ga(),b=f.hasAttribute(1);for(f=b?c.ta.wE(this.Qg,f,!1):0;g.$a();)for(;g.Ha();){var _=g.ha();if(!(_.Qb()>this.Oj)){if(d&&b){var S=_.wv(1,0);if(_=_.wv(1,0),Math.abs(_-S)>f)continue}return this.ke=new c.Md(2,g.wb(),-1),!1}}return!0},u.prototype.mO=function(){var d=this.X,f=null;c.aa.Hc(this.X.getType())&&(f=this.X);var g=(this.ZG||this.ql)&&f!=null,b=d.I();this.lf=d.ub(0),this.gi=new c.ia(0),this.gi.Jb(2*b),this.fi=new c.ia(0),this.fi.Jb(2*b),g&&(this.Fl==null&&(this.Fl=new c.ia(0)),this.Fl.Jb(b));for(var _=d=0;_<b;_++)if(this.gi.add(2*_),this.gi.add(2*_+1),this.fi.add(2*_),this.fi.add(2*_+1),g){for(;_>=f.Vc(d);)d++;this.Fl.add(d)}for(new c.Xt().sort(this.fi,0,2*b,new n(this,g)),this.fb.clear(),this.fb.Vo(new s(this)),this.fb.De(b),f=0,b*=2;f<b;f++)if(g=this.fi.get(f),g=(d=this.gi.get(g))>>1,1&d){if(d=this.fb.search(g,-1),_=this.fb.we(d),S=this.fb.lb(d),this.fb.vd(d,-1),_!=-1&&S!=-1&&!this.kC(this.fb.ja(_),this.fb.ja(S)))return this.ke=new c.Md(3,this.fb.ja(_),this.fb.ja(S)),!1}else{if(d=this.fb.addElement(g,-1),(_=this.fb.we(d))!=-1&&!this.kC(this.fb.ja(_),g))return this.ke=new c.Md(3,g,this.fb.ja(_)),!1;var S=this.fb.lb(d);if(S!=-1&&!this.kC(this.fb.ja(S),g))return this.ke=new c.Md(3,g,this.fb.ja(S)),!1}return!0},u.prototype.pO=function(){return 10>this.X.I()?this.nO():this.oO()},u.prototype.oO=function(){var d=new c.gd;d.Ib(this.X);var f=new c.Md;return!c.$t.kI(!1,d,this.Oj,f,this.nd)||(f.Jo=d.Ua(f.Jo),f.Ko=d.Ua(f.Ko),this.ke.Wt(f),!1)},u.prototype.nO=function(){var d=this.X,f=d.Ga();for(d=d.Ga();f.$a();)for(;f.Ha();){var g=f.ha();if(!f.Qn()||!f.$S()){d.BW(f);do for(;d.Ha();){var b=d.ha();if((b=g.zr(b,this.Oj,!0))!=0)return this.ke=new c.Md(b==2?5:4,f.wb(),d.wb()),!1}while(d.$a())}}return!0},u.prototype.sO=function(){var d=this.X;this.hb.length=0,this.po.length=0,this.Zf=d.Ga(),this.Zf.JB();var f=new c.ia(0);f.Jb(10);var g=NaN,b=0,_=0;for(d=2*d.I();_<d;_++){var S=this.fi.get(_);if(!(1&(S=this.gi.get(S)))){S>>=1;var T=this.lf.read(2*S),k=this.lf.read(2*S+1);if(f.size!=0&&(T!=g||k!=b)){if(!this.RI(f))return!1;f!=null&&f.clear(!1)}f.add(S),g=T,b=k}}return!!this.RI(f)},u.prototype.rO=function(){for(var d=this.X,f=Array(d.da()),g=0,b=d.da();g<b;g++)f[g]=d.Nn(g);b=new y;var _=new c.h;g=this.fi.get(0);var S=(g=this.gi.get(g))>>1;this.lf.tc(2*S,_);var T=f[g=this.Fl.get(S)],k=d.Ba(g),O=d.Vc(g)-1;b.el=S==k||S==O,b.ny=this.ql?!T&&b.el:b.el,b.Ai=g,b.x=_.x,b.y=_.y,b.xm=S;for(var N=new y,D=1,z=this.fi.size;D<z;D++)if(g=this.fi.get(D),!(1&(g=this.gi.get(g)))){S=g>>1,this.lf.tc(2*S,_),(g=this.Fl.get(S))!=b.Ai&&(T=f[g],k=d.Ba(g),O=d.Vc(g)-1);var L=S==k||S==O,F=this.ql?!T&&b.el:b.el;if(N.x=_.x,N.y=_.y,N.Ai=g,N.xm=S,N.ny=F,N.el=L,N.x==b.x&&N.y==b.y){if(this.ql){if(!(N.ny&&b.ny||N.Ai==b.Ai&&(N.el||b.el)))return this.ke=new c.Md(8,N.xm,b.xm),!1}else if(!N.el||!b.el)return this.ke=new c.Md(5,N.xm,b.xm),!1}g=b,b=N,N=g}return!0},u.prototype.JE=function(){for(var d=this.X,f=[],g=-1,b=!1,_=0,S=d.da();_<S;_++)d.Ev(_)&&(b=!1,g++,_<S-1&&(d.Ev(_+1)||(b=!0))),f[_]=b?g:-1;b=new c.h,_=this.fi.get(0);var T=(_=this.gi.get(_))>>1;this.lf.tc(2*T,b),_=this.Fl.get(T),g=new l(b.x,b.y,_,T,f[_]),d=[];var k=1;for(S=this.fi.size;k<S;k++)if(_=this.fi.get(k),!(1&(_=this.gi.get(_)))){if(T=_>>1,this.lf.tc(2*T,b),_=this.Fl.get(T),(_=new l(b.x,b.y,_,T,f[_])).x==g.x&&_.y==g.y){if(_.Ai==g.Ai)return this.ke=new c.Md(9,_.xm,g.xm),!1;0<=f[_.Ai]&&f[_.Ai]==f[g.Ai]&&(d.length!=0&&d[d.length-1]==g||d.push(g),d.push(_))}g=_}if(d.length==0)return!0;for(_=new c.jp(!0),c.O.$u(f,-1),b=-1,(k=new c.h).Rc(),g=0,S=d.length;g<S;g++){(T=d[g]).x==k.x&&T.y==k.y||(b=_.Ph(0),k.x=T.x,k.y=T.y);var O=f[T.Ai];O==-1&&(O=_.Ph(2),f[T.Ai]=O),_.addElement(O,b),_.addElement(b,O)}for((S=new c.ia(0)).Jb(10),g=_.je;g!=-1;g=_.qz(g))if(!(1&(d=_.PF(g)))&&2&d){for(d=-1,S.add(g),S.add(-1);0<S.size;){if(b=S.Fc(),S.If(),k=S.Fc(),S.If(),1&(T=_.PF(k))){d=2&T?k:b;break}for(_.fX(k,1|T),T=_.rc(k);T!=-1;T=_.lb(T))(O=_.getData(T))!=b&&(S.add(O),S.add(k))}if(d!=-1){for(_=-1,g=0,S=f.length;g<S;g++)if(f[g]==d){_=g;break}return this.ke=new c.Md(10,_,-1),!1}}return!0},u.prototype.tO=function(){var d=this.X;if(0>=d.Ke())return this.ke=new c.Md(6,d.da()==1?1:-1,-1),0;if(d.da()==1)return this.ql&&!this.JE()?0:2;this.to=c.ia.qf(d.da(),0),this.JA=c.ia.qf(d.da(),-1);for(var f=-1,g=0,b=0,_=d.da();b<_;b++){var S=d.Ir(b);if(this.to.write(b,0>S?0:256),0<S)f=b,g=S;else{if(S==0)return this.ke=new c.Md(6,b,-1),0;if((0>f||g<Math.abs(S))&&(this.ke=new c.Md(7,b,-1),this.ql))return 0;this.JA.write(b,f)}}for(this.dt=d.da(),this.Om=new c.ia(0),this.Om.Jb(10),_=d.I(),this.Mo=NaN,(d=new c.ia(0)).Jb(10),this.Qq=c.ia.qf(_,-1),this.Hw=c.ia.qf(_,-1),this.zj!=null?this.zj.clear(!1):this.zj=new c.ia(0),this.zj.Jb(10),this.fb.clear(),this.fb.Vo(new r(this)),f=0,_*=2;0<this.dt&&f<_;f++)if(g=this.fi.get(f),!(1&(g=this.gi.get(g)))){if(g>>=1,(b=this.lf.read(2*g+1))!=this.Mo&&d.size!=0){if(!this.ut(d))return 0;d!=null&&d.clear(!1)}d.add(g),this.Mo=b}return 0<this.dt&&!this.ut(d)?0:this.ql?this.ke.Jj==0&&this.JE()?2:0:this.ke.Jj==0?2:1},u.prototype.RI=function(d){if(d.size==1)return!0;for(var f=0,g=d.size;f<g;f++){var b=d.get(f);this.Zf.Vb(b);var _=this.Zf.li();this.hb.push(this.Su(_,b,this.Zf.gb,!0)),this.Zf.ha(),_=this.Zf.ha(),this.hb.push(this.Su(_,b,this.Zf.gb,!1))}var S=this;for(this.hb.sort(function(O,N){return S.XP(O,N)}),(b=this.mh.je)==-1&&(b=this.mh.Ph(0)),this.mh.fn(this.hb.length),f=0,g=this.hb.length;f<g;f++)this.mh.addElement(b,f);f=!0;for(var T=g=-1;f&&(f=!1,(_=this.mh.rc(b))!=-1);)for(var k=this.mh.lb(_);k!=-1;)if(g=this.mh.getData(_),T=this.mh.getData(k),(g=this.hb[g].Io)!=(T=this.hb[T].Io))_=k,k=this.mh.lb(_);else if(f=!0,this.mh.jd(b,_),_=this.mh.we(k),(k=this.mh.jd(b,k))==-1||_==-1)break;if(f=this.mh.bs(b),this.mh.LE(b),0<f)return this.ke=new c.Md(5,g,T),!1;for(f=0,g=d.size;f<g;f++)this.vB(this.hb[f]);return this.hb.length=0,!0},u.prototype.ut=function(d){for(var f=0,g=d.size;f<g;f++){var b=d.get(f),_=this.Qq.read(b);if(_!=-1){var S=this.fb.ja(_);this.zj.add(S),this.fb.vd(_,-1),this.vB(this.hb[S]),this.hb[S]=null,this.Qq.write(b,-1)}(_=this.Hw.read(b))!=-1&&(S=this.fb.ja(_),this.zj.add(S),this.fb.vd(_,-1),this.vB(this.hb[S]),this.hb[S]=null,this.Hw.write(b,-1))}for(f=0,g=d.size;f<g;f++){if(b=d.get(f),this.Zf.Vb(b),(_=this.Zf.li()).na>_.la){var T=this.Zf.wb(),k=this.Su(_,b,this.Zf.gb,!0);0<this.zj.size?(S=this.zj.Fc(),this.zj.If(),this.hb[S]=k):(S=this.hb.length,this.hb.push(k)),_=this.fb.addElement(S,-1),this.Qq.read(T)==-1?this.Qq.write(T,_):this.Hw.write(T,_),!(3&this.to.read(this.Zf.gb))&&this.Om.add(_)}this.Zf.ha(),(_=this.Zf.ha()).na<_.la&&(T=this.Zf.ik(),k=this.Su(_,b,this.Zf.gb,!1),0<this.zj.size?(S=this.zj.Fc(),this.zj.If(),this.hb[S]=k):(S=this.hb.length,this.hb.push(k)),_=this.fb.addElement(S,-1),this.Qq.read(T)==-1?this.Qq.write(T,_):this.Hw.write(T,_),!(3&this.to.read(this.Zf.gb))&&this.Om.add(_))}for(f=0,g=this.Om.size;f<g&&0<this.dt;f++)if(_=this.Om.get(f),!(3&this.to.read(this.hb[this.fb.ja(_)].IA))){d=-1,b=this.fb.we(_);var O=_;k=null,S=-1;for(var N=0;b!=-1&&(S=this.fb.ja(b),S=(k=this.hb[S]).IA,!(3&(N=this.to.read(S))));)O=b,b=this.fb.we(b);b==-1?(T=1,b=O):(d=(3&N)==1?S:this.JA.read(S),T=k.XF()!=0?0:1,b=this.fb.lb(b));do{if(S=this.fb.ja(b),S=(k=this.hb[S]).IA,!(3&(O=this.to.read(S)))){if(T!=k.XF())return this.ke=new c.Md(6,S,-1),!1;if(O=252&O|(N=T==0||k.Wp()?2:1),this.to.write(S,N),N==2&&this.ke.Jj==0&&this.JA.read(S)!=d&&(this.ke=new c.Md(7,S,-1),this.ql))return!1;if(this.dt--,this.dt==0)return!0}(3&O)==1&&(d=S),O=b,b=this.fb.lb(b),T=T!=0?0:1}while(O!=_)}return this.Om!=null?this.Om.clear(!1):this.Om=new c.ia(0),!0},u.prototype.Su=function(d,f,g,b){if(d.getType()!=322)throw c.i.Qa();return(d=this.sP(d)).Io=f,d.IA=g,d.yq=0,d.nX(b),d},u.prototype.sP=function(d){if(0<this.po.length){var f=this.po[this.po.length-1];--this.po.length,d.copyTo(f.ne)}else(f=new I).ne=c.SC.jg(d);return f},u.prototype.vB=function(d){d.ne.getType()==322&&this.po.push(d)},u.prototype.kU=function(){for(var d=this.X.I(),f=new c.ia(0),g=0;g<d;g++)f.add(g);var b=this;for(f.Vd(0,d,function(_,S){return b.Ou(_,S)}),g=1;g<d;g++)if(this.Ou(f.get(g-1),f.get(g))==0)return this.ke=new c.Md(3,f.get(g-1),f.get(g)),0;return 2},u.prototype.JV=function(){return this.GE()&&this.DE(!0)?2:0},u.prototype.oV=function(){return this.eT()},u.prototype.pU=function(){for(var d=this.X.I(),f=new c.ia(0),g=0;g<d;g++)f.add(g);var b=this;f.Vd(0,d,function(O,N){return b.PO(O,N)});var _=Array(d);for(c.O.$u(_,!1),_[f.get(0)]=!0,g=1;g<d;g++){var S=f.get(g-1),T=f.get(g);this.Ou(S,T)==0?_[T]=!1:_[T]=!0}f=this.X.Ia(),S=this.X,T=0;var k=1;for(g=0;g<d;g++)_[g]?k=g+1:(T<k&&f.Fd(S,T,k),T=g+1);return T<k&&f.Fd(S,T,k),f.Ch(2,this.Bo),f},u.prototype.NV=function(){var d=this.X,f=d.Ga(),g=d.Ga(),b=this.X.Ia(),_=this.X,S=d.hasAttribute(1),T=S?c.ta.wE(this.Qg,d,!0):0,k=new c.ia(0),O=new c.ia(0);for(k.Jb(c.O.truncate(d.I()/2+1)),O.Jb(c.O.truncate(d.I()/2+1));f.$a();)if(g.$a(),!(2>d.Ja(f.gb))){g.EW();for(var N,D,z=!0;f.Ha();){var L=f.ha(),F=g.li();if(f.wb()>g.wb())break;z&&(k.add(f.wb()),O.add(g.ik()),z=!1),D=k.Fc();var V=f.ik();if(1<V-D){var q=new c.h;q.uc(d.Na(D),d.Na(V)),N=q.length()}else N=L.Qb();D=O.Fc(),1<(V=g.wb())-D?((q=new c.h).uc(d.Na(D),d.Na(V)),D=q.length()):D=F.Qb(),N>this.Bo?k.add(f.ik()):S&&(N=d.Uc(1,k.Fc(),0),L=L.gv(1,0),Math.abs(L-N)>T&&k.add(f.ik())),D>this.Bo?O.add(g.wb()):S&&(N=d.Uc(1,O.Fc(),0),L=F.gv(1,0),Math.abs(L-N)>T&&O.add(g.wb()))}if(k.Fc()<O.Fc()?k.size>O.size?k.If():O.If():(k.Fc()!=O.Fc()&&O.If(),O.If()),2<=O.size+k.size){for(z=new c.Sa,F=0,L=k.size;F<L;F++)_.ve(k.get(F),z),F==0?b.nf(z):b.lineTo(z);for(F=O.size-1;0<F;F--)_.ve(O.get(F),z),b.lineTo(z);_.dc(f.gb)?b.Ap():0<O.size&&(_.ve(O.get(0),z),b.lineTo(z))}k!=null&&k.clear(!1),O!=null&&O.clear(!1)}return b.Ch(2,this.Bo),b},u.prototype.rV=function(){return this.DX()},u.prototype.DX=function(){return this.X.getType()==1736&&this.X.In()==1?c.Fg.Mk(this.X,this.Bo,!0,!1,this.nd):(this.Hi=new c.gd,this.Hi.Ib(this.X),this.Hi.fd!=0&&(this.xA!=1&&c.Tk.V(this.Hi,this.Bo,this.nd,!0),this.X.getType()==1736&&c.rn.V(this.Hi,this.Hi.ld,this.xA,!1,this.nd)),this.X=this.Hi.Ne(this.Hi.ld),this.X.getType()==1736&&(this.X.fm(),this.X.Yo(0)),this.X.Ch(2,this.Bo),this.X)},u.rs=function(d,f,g,b,_){if(b!=null&&(b.Jj=0,b.Jo=-1,b.Ko=-1),d.B())return 1;var S=d.getType();if(S==33)return 1;var T=c.ta.kj(f,d,!1);if(S==197)return f=new c.l,d.A(f),f.Bi(T)?(b!=null&&(b.Jj=2,b.Jo=-1,b.Ko=-1),0):1;if(c.aa.yd(S))return(T=new c.Ta(d.description)).oc(d,!0),u.rs(T,f,g,b,_);var k=d.om(T);if((g=g?-1:k)!=-1)return g;if(f=new u(d,f,g,_,!1),S==550)g=f.kU();else if(S==1607)g=f.JV();else{if(S!=1736)throw c.i.Qa();g=f.oV()}return d.Ch(g,T),b!=null&&g==0&&b.Wt(f.ke),g},u.cK=function(d,f,g,b){if(d.B())return d;var _=d.getType();if(_==33)return d;var S=c.ta.kj(f,d,!1);if(_==197)return f=new c.l,d.A(f),f.Bi(S)?d.Ia():d;if(c.aa.yd(_))return(_=new c.Ta(d.description)).oc(d,!0),u.cK(_,f,g,b);if(S=d.om(S),(g=g?-1:S)==2)return d;if(d=new u(d,f,g,b,!1),_==550)d=d.pU();else if(_==1607)d=d.NV();else{if(_!=1736)throw c.i.Qa();d=d.rV()}return d},u.prototype.Mh=function(d,f,g){if(d==f)return 0;d=this.gi.get(d);var b=this.gi.get(f);f=d>>1;var _=b>>1,S=new c.h,T=new c.h;return this.lf.tc(2*f,S),S.y+=1&d?this.Oj:-this.Oj,this.lf.tc(2*_,T),T.y+=1&b?this.Oj:-this.Oj,(d=S.compare(T))==0&&g?0>(g=this.Fl.get(f)-this.Fl.get(_))?-1:0<g?1:0:d},u.prototype.Ou=function(d,f){if(d==f)return 0;var g=this.X,b=g.Na(d),_=g.Na(f);if(b.x<_.x)return-1;if(b.x>_.x)return 1;if(b.y<_.y)return-1;if(b.y>_.y)return 1;for(b=1;b<this.oT;b++){_=this.nH.kd(b);for(var S=c.ra.Va(_),T=0;T<S;T++){var k=g.Uc(_,d,T),O=g.Uc(_,f,T);if(k<O)return-1;if(k>O)return 1}}return 0},u.prototype.PO=function(d,f){var g=this.Ou(d,f);return g==0?d<f?-1:1:g},u.prototype.XP=function(d,f){if(d===f)return 0;var g=d.ne.kg();d.Wp()&&g.Sq(),d=f.ne.kg(),f.Wp()&&d.Sq(),f=g.qu();var b=d.qu();return b==f?(f=g.wi(d),Math.abs(f)<=8881784197001252e-31*(Math.abs(d.x*g.y)+Math.abs(d.y*g.x))&&(f--,f++),0>f?1:0<f?-1:0):f<b?-1:1},u}();c.Jx=a}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 30},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.prototype.V=function(s,r,n,a){return s instanceof c.aa?(s=new c.Zc(s),r=new c.Zc(r),this.V(s,r,n,a).next()):new c.BL(s,r,n,a)},l.ep=function(s,r,n,a){var u=s.Db(),d=r.Db();if(s.B()&&r.B())return u>d?s:r;if(s.B())return r;if(r.B())return s;var f=new c.l,g=new c.l,b=new c.l;return s.A(f),r.A(g),b.K(f),b.Zb(g),f=c.ta.Wd(n,b,!0),g=s.getType(),b=r.getType(),g==33&&b==33?l.aV(s,r,f):g!=b?0<u||0<d?u>d?s:r:g==550?l.iI(s,r,f):l.iI(r,s,f):c.Fg.ep(s,r,n,a)},l.aV=function(s,r,n){n=n*Math.sqrt(2)*1.00001,n*=n;var a=s.D(),u=r.D(),d=new c.de(s.description);return c.h.yc(a,u)>n&&(d.add(s),d.add(r)),d},l.iI=function(s,r,n){var a=s.ub(0),u=s.I(),d=r.D(),f=s.Ia();n=n*Math.sqrt(2)*1.00001;var g=new c.l;if(s.A(g),g.W(n,n),g.contains(d)){n*=n,g=!1;for(var b=[],_=0;_<u;_++)b[_]=!1;for(_=0;_<u;_++){var S=a.read(2*_),T=a.read(2*_+1);(S-=d.x)*S+(T-=d.y)*T<=n&&(g=!0,b[_]=!0)}if(g)for(_=0;_<u;_++)b[_]||f.Fd(s,_,_+1);else f.Fd(s,0,u),f.add(r)}else f.Fd(s,0,u),f.add(r);return f},l.instance=null,l}(c.Je);c.Kx=I}(U||(U={})),function(c){var I=function(){function y(l,s,r,n){this.ts=s==null,this.ya=-1,this.Rd=l,this.vg=r,this.NT=s.next(),this.Ub=n}return y.prototype.next=function(){return this.ts?null:(l=this.Rd.next())!=null?(this.ya=this.Rd.La(),c.Kx.ep(l,this.NT,this.vg,this.Ub)):null;var l},y.prototype.La=function(){return this.ya},y.prototype.qe=function(){},y}();c.BL=I}(U||(U={})),function(c){var I=function(){function s(){}return s.prototype.Fz=function(){this.$y=null,this.Ax=-1,this.AK=!1},s}(),y=function(){function s(){this.Gr=0,this.pj=[]}return s.prototype.pN=function(r){this.Gr+=r.Ax,this.pj.push(r)},s.prototype.TV=function(){this.Gr-=this.pj[this.pj.length-1].Ax,--this.pj.length},s.prototype.my=function(){return this.pj[this.pj.length-1]},s.prototype.Nb=function(r){return r===this},s}(),l=function(){function s(r,n,a){this.ya=-1,this.Ic=!1,this.AH=[!1,!1,!1,!1],this.uq=[0,0,0,0],this.jA=!1,this.zk=-1,this.iq=0,this.bo=-1,this.Do=[],this.Rd=r,this.vg=n,this.Ub=a}return s.dE=function(r){var n=[],a=0;for(r=Object.keys(r);a<r.length;a++)n.push(Number(r[a]));return n.sort(function(u,d){return u-d}),n},s.prototype.fG=function(r){var n=this.Do[r],a=s.dE(n)[0],u=n[a],d=u.my().$y;return u=u.my().AK,delete n[a],u&&(d=c.Yl.local().V(d,this.vg,!1,this.Ub),r==0&&d.getType()==33&&(r=new c.de(d.description),d.B()||r.add(d),d=r)),d},s.prototype.next=function(){if(this.Ic&&this.bo==this.zk)return null;for(;!this.qK(););if(this.zk==-1)return null;if(this.jA){for(this.bo++;;){if(this.bo>this.zk||0>this.bo)throw c.i.Qa();if(this.AH[this.bo])break}return this.ya++,this.fG(this.bo)}return this.ya=0,this.bo=this.zk,this.fG(this.zk)},s.prototype.La=function(){return this.ya},s.prototype.qK=function(){if(this.Ic)return!0;var r=null;if(this.Rd!=null&&(r=this.Rd.next())==null&&(this.Ic=!0,this.Rd=null),c.mp.zp(this.Ub),r!=null){var n=r.Db();this.AH[n]=!0,n>=this.zk&&!this.jA&&(this.ND(n,!1,r),n>this.zk&&!this.jA&&this.zW(n))}if(0<this.iq)for(n=0;n<=this.zk;n++)for(;1<this.uq[n]&&(r=this.FO(n)).length!=0;)r=c.Fg.VP(r,this.vg,this.Ub),this.ND(n,!0,r);return this.Ic},s.prototype.FO=function(r){for(var n=[],a=[],u=this.Do[r],d=s.dE(u),f=0;f<d.length;f++){var g=d[f],b=u[g];if(this.Ic||1e4<b.Gr&&1<b.pj.length){for(this.uq[r]-=b.pj.length,this.iq-=b.pj.length;0<b.pj.length;)n.push(b.my().$y),b.TV();a.push(g)}}for(f=0;f<a.length;f++)delete u[a[f]];return n},s.prototype.zW=function(r){for(var n=0;n<r;n++)this.Do[n]=[],this.iq-=this.uq[n],this.uq[n]=0},s.prototype.ND=function(r,n,a){var u=new I;if(u.Fz(),u.$y=a,a=s.eS(a),u.Ax=a,a=s.cS(a),r+1>this.Do.length)for(var d=0,f=Math.max(2,r+1);d<f;d++)this.Do.push([]);(d=this.Do[r][a])===void 0&&(d=new y,this.Do[r][a]=d),u.AK=n,d.pN(u),this.uq[r]++,this.iq++,this.zk=Math.max(this.zk,r)},s.cS=function(r){return 0<r?c.O.truncate(Math.log(r)/Math.log(4)+.5):0},s.eS=function(r){var n=r.getType();if(c.aa.xj(n))return r.I();if(n==33)return 1;if(n==197)return 4;if(c.aa.yd(n))return 2;throw c.i.Qa()},s.prototype.qe=function(){this.qK()},s}();c.DL=l}(U||(U={})),function(c){var I=function(y){function l(){return y!==null&&y.apply(this,arguments)||this}return Yt(l,y),l.prototype.getType=function(){return 1},l.prototype.V=function(s,r,n,a){return a===void 0?new c.DL(s,r,n):this.gQ(s,r,n,a)},l.prototype.gQ=function(s,r,n,a){return s=new c.Zc([s,r]),this.V(s,n,a).next()},l.local=function(){return l.instance===null&&(l.instance=new l),l.instance},l.instance=null,l}(c.Je);c.Gh=I}(U||(U={})),function(c){var I,y;(y=I||(I={}))[y.nextPath=0]="nextPath",y[y.nextSegment=1]="nextSegment",y[y.iterate=2]="iterate",I=function(){function l(s,r,n,a){this.Ts=new c.l,this.GT=s,this.HT=r,this.mq=a,this.uo=-1,this.rl=!1;var u=s.Bb;u!=null&&(u=a?u.zo:u.Fb)!=null&&(this.Ic=!1,this.qa=n,this.Fb=u,this.xw=this.Fb.getIterator(),this.nq=this.rl=!0,this.Xb=0,a?this.uo=r.da():this.sd=r.Ga()),this.rl||(u=r.Bb)!=null&&(u=a?u.zo:u.Fb)!=null&&(this.Ic=!1,this.qa=n,this.Fb=u,this.xw=this.Fb.getIterator(),this.rl=!0,this.nq=!1,this.Xb=0,a?this.uo=s.da():this.sd=s.Ga()),this.rl||(this.ci=a?c.ta.mR(s,r,n,1<=s.om(0),1<=r.om(0)):c.ta.lR(s,r,n))}return l.prototype.next=function(){if(this.rl){if(this.Ic)return!1;for(var s=!0;s;)switch(this.Xb){case 0:s=this.xU();break;case 1:s=this.yU();break;case 2:s=this.Uz();break;default:throw c.i.fa("internal error")}return!this.Ic}return this.ci!=null&&this.ci.next()},l.prototype.nl=function(){return this.rl?this.nq?this.Fb.ja(this.Fs):this.mq?this.uo:this.sd.wb():this.ci.nl(this.ci.Vf)},l.prototype.hl=function(){return this.rl?this.nq?this.mq?this.uo:this.sd.wb():this.Fb.ja(this.Fs):this.ci.hl(this.ci.Af)},l.prototype.uz=function(){if(!this.mq)throw c.i.fa("internal error");return this.rl?this.nq?this.Fb.GF(this.Fs):this.Ts:this.ci.uz(this.ci.Vf)},l.prototype.az=function(){if(!this.mq)throw c.i.fa("internal error");return this.rl?this.nq?this.Ts:this.Fb.GF(this.Fs):this.ci.az(this.ci.Af)},l.prototype.xU=function(){return this.mq?--this.uo==-1?(this.Ic=!0,!1):(this.nq?this.HT.Rj(this.uo,this.Ts):this.GT.Rj(this.uo,this.Ts),this.xw.Xi(this.Ts,this.qa),this.Xb=2,!0):this.sd.$a()?(this.Xb=1,!0):(this.Ic=!0,!1)},l.prototype.yU=function(){if(!this.sd.Ha())return this.Xb=0,!0;var s=this.sd.ha();return this.xw.Uo(s,this.qa),this.Xb=2,!0},l.prototype.Uz=function(){return this.Fs=this.xw.next(),this.Fs==-1&&(this.Xb=this.mq?0:1,!0)},l}(),c.Zl=I}(U||(U={})),function(c){(c=c.OL||(c.OL={}))[c.enumClosed=1]="enumClosed",c[c.enumHasNonlinearSegments=2]="enumHasNonlinearSegments",c[c.enumOGCStartPolygon=4]="enumOGCStartPolygon",c[c.enumCalcMask=4]="enumCalcMask"}(U||(U={})),function(c){c.QC=function(){function I(){}return I.tb=function(y,l,s,r,n,a,u,d,f){var g=[0,0,0],b=[0,0,0],_=[0,0,0],S=[0,0,0,0],T=new c.ga(0),k=new c.ga(0),O=new c.ga(0);if(u!=null||d!=null||f!=null)if(c.s.ti(l))c.Yg.tb(y,s,r,n,a,u,d,f);else{n=c.F.ba(n),s=c.F.ba(s);var N=c.F.ba(n-s);if(c.s.Y(r,a)&&(c.s.Y(s,n)||c.s.Y(c.s.P(r),1.570796326794897)))u!=null&&(u.u=0),d!=null&&(d.u=0),f!=null&&(f.u=0);else{if(c.s.Y(r,-a)){if(c.s.Y(c.s.P(r),1.570796326794897))return u!=null&&(u.u=2*c.F.Ah(y,l)),d!=null&&(d.u=0<r?c.F.ba(3.141592653589793-c.F.ba(n)):c.F.ba(n)),void(f!=null&&(f.u=0<r?c.F.ba(n):c.F.ba(3.141592653589793-c.F.ba(n))));c.s.Y(c.s.P(N),3.141592653589793)&&(u!=null&&(u.u=2*c.F.Ah(y,l)),d!=null&&(d.u=0),f!=null&&(f.u=0))}else if(c.s.Y(c.s.P(r),1.570796326794897)||c.s.Y(c.s.P(a),1.570796326794897)||c.s.Y(s,n)||c.s.Y(c.s.P(N),3.141592653589793)||c.s.Cd(r))return void c.Wk.tb(y,l,s,r,n,a,u,d,f);var D=Math.sqrt(1-l);n=c.F.ba(n-s),s=0,c.F.cl(1,l,r,s,0,T,k,O),g[0]=T.u,g[1]=k.u,g[2]=O.u,c.F.cl(1,l,a,n,0,T,k,O),b[0]=T.u,b[1]=k.u,b[2]=O.u,_[0]=0,_[1]=0,_[2]=-1*l*c.F.n(1,l,r)*Math.sin(r),0>n?c.F.Wq(_,b,g,S,0):c.F.Wq(_,g,b,S,0),k=[0,0,0],O=[0,0,0];var z=[0,0,0];g=[0,0,0],T=[0,0,0];var L=Math.acos(S[2]/1),F=1-l,V=Math.tan(L),q=1+V*V/F,W=2*_[2]*V/F;for(F=(-W+(V=Math.sqrt(W*W-4*q*(_[2]*_[2]/F-1))))/(q*=2),W=(-W-V)/q,V=Math.tan(L),L=(F+W)/2,_=((q=V*F+_[2])+(V*W+_[2]))/2,V=c.F.gp(F-L,q-_),F=_/D*1.570796326794897,W=0;100>W&&(q=(q=c.F.w(l,F))*q/Math.cos(F)*(Math.sin(F)-_*q/(1-l)),!c.s.Cd(q));W++)F-=q;_=c.F.n(1,l,F)*Math.cos(F),V=1-V/(_=Math.sqrt((_-L)*(_+L))),V*=2-V,q=c.F.on(k),L=c.F.on(O),F=c.F.on(z);var K=c.F.St(z,k);W=c.F.St(z,O),c.F.zx(z,k,g),c.F.zx(z,O,T),k=Math.acos(K/(F*q)),O=Math.acos(W/(F*L)),O*=c.s.Mb(1,c.F.St(g,T)),(1.570796326794897<=c.s.P(k)&&1.570796326794897<=c.s.P(O)||3.141592653589793<c.s.P(k-O))&&(k=(3.141592653589793-c.s.P(k))*c.s.Mb(1,k),O=(3.141592653589793-c.s.P(O))*c.s.Mb(1,O)),g=c.F.Qj(V,O),T=c.F.q(_,V,c.F.Qj(V,k)),g=c.F.q(_,V,g),g=c.s.P(g-T)*y,k=new c.ga(0),O=new c.ga(0),z=S[1]/1,z*=-c.s.Mb(1,N),T=Math.acos(z)*c.s.Mb(1,N),I.rf(y,l,s,r,g,T,k,O),c.s.Y(n,k.u)&&c.s.Y(a,O.u)||(V=c.F.gp(c.F.ba(n-k.u),a-O.u),I.rf(y,l,s,r,g,c.F.ba(T+3.141592653589793),k,O),(q=c.F.gp(c.F.ba(n-k.u),a-O.u))<V&&(T=c.F.ba(T+3.141592653589793))),k=[0,0,0,0],O=[0,0,0,0],V=[0,0,0],y=[0,0,0],s=[0,0,0],r=[0,0,0],z=[0,0,0],(_=[0,0,0])[0]=0,_[1]=0,_[2]=D,V[0]=0,V[1]=0,V[2]=0,c.F.Wq(V,_,b,k,0),c.s.Cd(a)?(y[0]=b[0],y[1]=b[1],y[2]=1,s[0]=1*Math.cos(n)-1*Math.sin(n),s[1]=1*Math.sin(n)+1*Math.cos(n)):(l=c.F.n(1,l,a)*Math.cos(a),y[0]=0,y[1]=0,b[2]+=Math.tan(1.570796326794897-c.s.P(a))*l*c.s.Mb(1,a),s[0]=l*Math.cos(n)-l*Math.sin(n),s[1]=l*Math.sin(n)+l*Math.cos(n)),s[2]=b[2],c.F.Wq(b,s,y,O,1),c.F.zx(O,k,r),c.F.zx(O,S,z),z=c.F.St(r,z)/(c.F.on(r)*c.F.on(z)),z*=c.s.Mb(1,N),n=Math.acos(z)*-c.s.Mb(1,N),(0<T&&0<n||0>T&&0>n)&&(n=c.F.ba(n+3.141592653589793)),u!=null&&(u.u=g),d!=null&&(d.u=T),f!=null&&(f.u=n)}}},I.rf=function(y,l,s,r,n,a,u,d){var f=[0,0,0],g=[0,0,0],b=[0,0,0],_=[0,0,0],S=[0,0,0],T=[0,0,0],k=[0,0,0],O=[0,0,0,0],N=new c.ga(0),D=new c.ga(0),z=new c.ga(0),L=new c.ga(0),F=new c.ga(0),V=new c.ga(0);if(u!=null&&d!=null)if(c.s.ti(l))c.Yg.rf(y,s,r,n,a,u,d);else if(c.s.Cd(n))u!=null&&(u.u=s),d!=null&&(d.u=r);else if(a=c.F.ba(a),0>n&&(n=c.s.P(n),a=c.F.ba(a+3.141592653589793)),s=c.F.ba(s),r=c.F.ba(r),1.570796326794897<c.s.P(r)&&(s=c.F.ba(s+3.141592653589793),r=c.s.Mb(3.141592653589793,r)-r),c.s.Y(c.s.P(r),1.570796326794897)||c.s.Cd(r)||c.s.Cd(a)||c.s.Y(c.s.P(a),3.141592653589793))c.Wk.rf(y,l,s,r,n,a,u,d);else{var q=Math.sqrt(1-l);for(y=n/y,c.F.cl(1,l,r,0,0,L,F,V),f[0]=L.u,f[1]=F.u,f[2]=F.u,k[0]=0,k[1]=0,k[2]=-1*l*c.F.n(1,l,r)*Math.sin(r),L=c.F.n(1,l,r),F=c.F.ba(1.570796326794897-a),V=Math.sin(F),n=Math.cos(r),r=Math.sin(r),S[0]=L*n-r*V,S[1]=Math.cos(F),S[2]=(1-l)*L*r+n*V,0>a?c.F.Wq(k,S,f,O,0):c.F.Wq(k,f,S,O,0),f=Math.acos(O[2]/1),O=Math.atan2(-O[1],-O[0]),r=1-l,F=1+(S=Math.tan(f))*S/r,r=(-(L=2*k[2]*S/r)+(S=Math.sqrt(L*L-4*F*(k[2]*k[2]/r-1))))/(F*=2),L=(-L-S)/F,S=Math.tan(f),f=(r+L)/2,k=((F=S*r+k[2])+(S*L+k[2]))/2,S=c.F.gp(r-f,F-k),q=k/q*1.570796326794897,r=0;100>r&&(L=(L=c.F.w(l,q))*L/Math.cos(q)*(Math.sin(q)-k*L/(1-l)),!c.s.Cd(L));r++)q-=L;q=c.F.n(1,l,q)*Math.cos(q),k=1-S/(q=Math.sqrt((q-f)*(q+f))),k*=2-k,T=Math.acos(c.F.St(T,g)/(c.F.on(T)*c.F.on(g))),T*=c.s.Mb(1,g[0]),a=(c.F.q(q,k,c.F.Qj(k,T))+y*c.s.Mb(1,a))/c.F.Ah(q,k),a=c.F.ba(1.570796326794897*a),a=c.F.Rq(k,a),c.F.n(q,k,a),S=c.F.ba(O+s),s=Math.cos(S),a=Math.sin(S),b[0]=_[0]*s+_[1]*-a,b[1]=_[0]*a+_[1]*s,b[2]=_[2],c.F.jO(l,b[0],b[1],b[2],z,D,N),u!=null&&(u.u=D.u),d!=null&&(d.u=z.u)}},I}()}(U||(U={})),function(c){var I=function(){function n(a){this.Ya=null,this.wt=new c.h,this.xt=new c.h,this.g=a}return n.prototype.compare=function(a,u,d){return this.g.Gc(u,this.wt),this.g.Gc(a.ja(d),this.xt),this.wt.compare(this.xt)},n}(),y=function(){function n(a){this.Bf=new c.h,this.Dk=new c.h,this.g=a}return n.prototype.Dh=function(a){this.Bf.L(a)},n.prototype.compare=function(a,u){return this.g.Gc(a.ja(u),this.Dk),this.Bf.compare(this.Dk)},n}(),l=function(n){function a(u){var d=n.call(this,u.g,u.qa,!1)||this;return d.ib=u,d}return Yt(a,n),a.prototype.compare=function(u,d,f){if(this.rg)return-1;var g=this.ib.Qd.Jn(this.ib.Rh(d));u=u.ja(f);var b=this.ib.Qd.Jn(this.ib.Rh(u));return this.Dm=f,this.RE(d,g,u,b)},a}(c.UC),s=function(n){function a(u){var d=n.call(this,u.g,u.qa)||this;return d.ib=u,d}return Yt(a,n),a.prototype.compare=function(u,d){return this.rg?-1:(u=this.ib.Qd.Jn(this.ib.Rh(u.ja(d))),this.Dm=d,this.SE(d,u))},a}(c.aM),r=function(){function n(){this.Mc=this.df=this.jo=this.Qd=this.lh=this.zd=this.hb=this.g=null,this.Ng=!1,this.vh=this.Nm=this.ie=this.Gk=this.nh=this.Ak=this.Ff=this.$d=null,this.xh=this.Jq=this.UA=this.qa=0,this.Xv=this.Wn=!1,this.yo=new c.h,this.Pi=new c.h,this.hb=new c.$c(8),this.zd=new c.$c(5),this.lh=new c.au,this.Qd=new c.au,this.Ng=!1,this.vh=new c.h,this.vh.ma(0,0),this.qa=0,this.xh=-1,this.Wn=!1,this.g=null,this.df=new c.Yj,this.Mc=new c.Yj,this.nh=new c.ia(0),this.Gk=new c.TC,this.Ff=new c.ia(0),this.Ak=new c.ia(0),this.jo=new c.Sa}return n.prototype.PX=function(a,u){var d=new c.Dd;return d.$B(),a.Oc(d),this.er(a),this.Wn=!1,this.qa=u,this.UA=u*u,u=this.jC(),a.Oc(d),u||(this.qQ(),u||this.jC()),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null,this.Wn},n.prototype.TX=function(a,u){this.er(a),this.Wn=!1,this.qa=u,this.UA=u*u,this.Ng=!1,this.jC(),this.Ng||(this.Ng=a.Gp(u,!0,!1)==1),this.xh!=-1&&(this.g.Td(this.xh),this.xh=-1),this.g=null},n.prototype.pg=function(a,u){return this.hb.T(a,0+u)},n.prototype.LB=function(a,u,d){this.hb.S(a,0+u,d)},n.prototype.Rh=function(a){return this.hb.T(a,2)},n.prototype.ZW=function(a,u){this.hb.S(a,2,u)},n.prototype.RF=function(a,u){return this.hb.T(a,3+u)},n.prototype.Pp=function(a){return this.hb.T(a,7)},n.prototype.Pl=function(a,u){this.hb.S(a,7,u)},n.prototype.Rp=function(a,u){return this.hb.T(a,3+this.Op(a,u))},n.prototype.fr=function(a,u,d){this.hb.S(a,3+this.Op(a,u),d)},n.prototype.NR=function(a,u){return this.hb.T(a,5+this.Op(a,u))},n.prototype.hr=function(a,u,d){this.hb.S(a,5+this.Op(a,u),d)},n.prototype.Sr=function(a){return this.zd.T(a,0)},n.prototype.UW=function(a,u){this.zd.S(a,0,u)},n.prototype.ez=function(a){return this.zd.T(a,4)},n.prototype.cr=function(a,u){this.zd.S(a,4,u)},n.prototype.il=function(a){return this.zd.T(a,1)},n.prototype.ln=function(a,u){this.zd.S(a,1,u)},n.prototype.dz=function(a){return this.zd.T(a,3)},n.prototype.Et=function(a,u){this.zd.S(a,3,u)},n.prototype.Ym=function(a){var u=this.zd.Ce(),d=this.lh.Ph();return this.UW(u,d),a!=-1?(this.lh.addElement(d,a),this.g.Ra(a,this.xh,u),this.cr(u,this.g.Ua(a))):this.cr(u,-1),u},n.prototype.HP=function(a){this.zd.jd(a)},n.prototype.LD=function(a,u){this.lh.addElement(this.Sr(a),u),this.g.Ra(u,this.xh,a)},n.prototype.nt=function(a){var u=this.hb.Ce(),d=this.Qd.Ph();return this.ZW(u,d),a!=-1&&this.Qd.addElement(d,a),u},n.prototype.MD=function(a,u){this.Qd.addElement(this.Rh(a),u)},n.prototype.Uu=function(a){this.hb.jd(a),0<=(a=this.nh.lF(a))&&this.nh.SV(a)},n.prototype.hj=function(a,u){if(this.pg(a,0)==-1)this.LB(a,0,u);else{if(this.pg(a,1)!=-1)throw c.i.Qa();this.LB(a,1,u)}this.ky(a,u)},n.prototype.ky=function(a,u){var d=this.il(u);if(d!=-1){var f=this.Rp(d,u);this.hr(f,u,a),this.fr(a,u,f),this.fr(d,u,a),this.hr(a,u,d)}else this.hr(a,u,a),this.fr(a,u,a),this.ln(u,a)},n.prototype.Op=function(a,u){return this.pg(a,0)==u?0:1},n.prototype.Xm=function(a,u){var d,f=this.dz(u);if(f!=-1&&(this.df.vd(f,-1),this.Et(u,-1)),(f=this.il(u))!=-1){var g=d=f;do{var b=!1,_=this.Op(d,u),S=this.RF(d,_);if(this.pg(d,_+1&1)==a){if(this.Xu(d),this.Qd.bh(this.Rh(d)),this.Uu(d),d==S){f=-1;break}f==d&&(f=this.il(u),g=S,b=!0)}d=S}while(d!=g||b);if(f!=-1){do _=this.Op(d,u),S=this.RF(d,_),this.LB(d,_,a),d=S;while(d!=g);(d=this.il(a))!=-1?(g=this.Rp(d,a),b=this.Rp(f,a),g==d?(this.ln(a,f),this.ky(d,a),this.ln(a,d)):b==f&&this.ky(f,a),this.fr(f,a,g),this.hr(g,a,f),this.fr(d,a,b),this.hr(b,a,d)):this.ln(a,f)}}for(f=this.Sr(a),d=this.Sr(u),g=this.lh.rc(d);g!=-1;g=this.lh.lb(g))this.g.Ra(this.lh.ja(g),this.xh,a);this.lh.Hy(f,d),this.HP(u)},n.prototype.UT=function(a,u){var d=this.pg(a,0),f=this.pg(a,1),g=this.pg(u,0),b=this.pg(u,1);this.Qd.Hy(this.Rh(a),this.Rh(u)),u==this.il(d)&&this.ln(d,a),u==this.il(f)&&this.ln(f,a),this.Xu(u),this.Uu(u),d==g&&f==b||f==g&&d==b||(this.Hn(d,this.yo),this.Hn(g,this.Pi),this.yo.qb(this.Pi)?(d!=g&&this.Xm(d,g),f!=b&&this.Xm(f,b)):(f!=g&&this.Xm(f,g),d!=b&&this.Xm(d,b)))},n.prototype.Xu=function(a){var u=this.pg(a,1);this.dF(a,this.pg(a,0)),this.dF(a,u)},n.prototype.dF=function(a,u){var d=this.Rp(a,u),f=this.NR(a,u),g=this.il(u);d!=a?(this.fr(f,u,d),this.hr(d,u,f),g==a&&this.ln(u,d)):this.ln(u,-1)},n.prototype.WD=function(a,u,d){var f=this.Qd.rc(a),g=this.Qd.ja(f);a=this.Le(g);var b=this.Le(this.g.U(g));for(this.g.jr(g,u,d,!0),f=this.Qd.lb(f);f!=-1;f=this.Qd.lb(f)){g=this.Qd.ja(f);var _=this.Le(g)==a;this.g.jr(g,u,d,_)}f=u.Vp(d,0).ac(),u=u.Vp(d,u.ol(d)-1).wc(),this.BK(a,f),this.BK(b,u)},n.prototype.ZE=function(a,u,d){var f=this.Rh(a),g=this.pg(a,0),b=this.pg(a,1),_=this.nt(-1);for(this.nh.add(_),this.Pl(_,-3),this.Ff.add(_),this.hj(_,g),a=1,u=u.ol(d);a<u;a++)d=this.Ym(-1),this.Ak.add(d),this.Ff.add(d),this.hj(_,d),_=this.nt(-1),this.nh.add(_),this.Pl(_,-3),this.Ff.add(_),this.hj(_,d);for(this.hj(_,b),f=this.Qd.rc(f);f!=-1;f=this.Qd.lb(f))if(b=this.Qd.ja(f),this.Le(b)==g){a=0;do 0<a&&(_=this.Ff.get(a-1),this.LD(_,b),this.ez(_)==-1&&this.cr(_,this.g.Ua(b))),_=this.Ff.get(a),a+=2,this.MD(_,b),b=this.g.U(b);while(a<this.Ff.size)}else{a=this.Ff.size-1;do a<this.Ff.size-2&&(_=this.Ff.get(a+1),this.LD(_,b),0>this.ez(_)&&this.cr(_,this.g.Ua(b))),_=this.Ff.get(a),a-=2,this.MD(_,b),b=this.g.U(b);while(0<=a)}this.Ff.clear(!1)},n.prototype.Le=function(a){return this.g.Pa(a,this.xh)},n.prototype.TI=function(a,u,d){var f=this.pg(u,0),g=new c.h;this.Hn(f,g);var b=new c.h,_=this.pg(u,1);this.Hn(_,b);var S=d.ol(a),T=d.Vp(a,0),k=new c.h;if(T.Yp(k),!g.qb(k)){if(!this.Ng){var O=g.compare(this.vh);0>O*(k=k.compare(this.vh))&&(this.Ng=!0)}this.vF(f,this.Ff),this.Ak.add(f)}for(!this.Ng&&1<S&&(O=g.compare(b),T=T.wc(),(g.compare(T)!=O||T.compare(b)!=O||0>T.compare(this.vh))&&(this.Ng=!0)),a=(T=d.Vp(a,S-1)).wc(),b.qb(a)||(this.Ng||0>(O=b.compare(this.vh))*(k=a.compare(this.vh))&&(this.Ng=!0),this.vF(_,this.Ff),this.Ak.add(_)),this.Ff.add(u),b=0,_=this.Ff.size;b<_;b++)a=this.Ff.get(b),d=this.Pp(a),c.$c.LG(d)&&(this.Mc.vd(d,-1),this.Pl(a,-1)),a!=u&&this.Pp(a)!=-3&&(this.nh.add(a),this.Pl(a,-3));this.Ff.clear(!1)},n.prototype.lO=function(a,u){this.$d.compare(this.Mc,this.Mc.ja(a),u),this.$d.rg&&(this.$d.Kr(),this.oF(a,u))},n.prototype.oF=function(a,u){this.Wn=!0,a=this.Mc.ja(a),u=this.Mc.ja(u);var d=this.Qd.Jn(this.Rh(a)),f=this.Qd.Jn(this.Rh(u)),g=this.g.bc(d);g==null&&(this.ie==null&&(this.ie=new c.yb),this.g.ed(d,this.ie),g=this.ie),(d=this.g.bc(f))==null&&(this.Nm==null&&(this.Nm=new c.yb),this.g.ed(f,this.Nm),d=this.Nm),this.Gk.Oo(g),this.Gk.Oo(d),this.Gk.Ea(this.qa,!0)&&(this.Ng=!0),this.hK(a,u,-1,this.Gk),this.Gk.clear()},n.prototype.GQ=function(a,u){this.Wn=!0,u=this.Mc.ja(u);var d=this.Qd.Jn(this.Rh(u)),f=this.g.bc(d);f==null&&(this.ie==null&&(this.ie=new c.yb),this.g.ed(d,this.ie),f=this.ie),d=this.BF(a),this.Gk.Oo(f),this.g.Vi(d,this.jo),this.Gk.Kz(this.qa,this.jo,!0),this.hK(u,-1,a,this.Gk),this.Gk.clear()},n.prototype.xS=function(){if(this.nh.size!=0)for(;this.nh.size!=0;){if(this.nh.size>Math.max(100,this.g.fd)){this.nh.clear(!1),this.Ng=!0;break}var a=this.nh.Fc();this.nh.If(),this.Pl(a,-1),this.WS(a)!=-1&&this.wS(a),this.Vn=!1}},n.prototype.wS=function(a){if(this.Vn){var u=this.Mc.zu(this.MH,this.GH,a,!0);this.Vn=!1}else u=this.Mc.KD(a);u==-1?this.UT(this.Mc.ja(this.Mc.FF()),a):(this.Pl(a,u),this.$d.rg&&(this.$d.Kr(),this.oF(this.$d.Dm,u)))},n.prototype.WS=function(a){var u=this.pg(a,0);if(a=this.pg(a,1),this.Hn(u,this.yo),this.Hn(a,this.Pi),c.h.yc(this.yo,this.Pi)<=this.UA)return this.Ng=!0,-1;var d=this.yo.compare(this.vh),f=this.Pi.compare(this.vh);return 0>=d&&0<f?a:0>=f&&0<d?u:-1},n.prototype.oQ=function(){var a=new c.ia(0);a.Jb(this.g.fd);for(var u=this.g.Yq(),d=u.next();d!=-1;d=u.next())this.g.Pa(d,this.xh)!=-1&&a.add(d);this.g.nx(a,a.size),this.pQ(a)},n.prototype.pQ=function(a){this.df.clear(),this.df.De(a.size),this.df.Vo(new I(this.g));var u=new c.h;u.Rc();for(var d=-1,f=new c.h,g=0,b=a.size;g<b;g++){var _=a.get(g);this.g.Gc(_,f),f.qb(u)?(_=this.g.Pa(_,this.xh),this.Xm(d,_)):(d=this.Le(_),this.g.Gc(_,u),_=this.df.xn(_),this.Et(d,_))}},n.prototype.qQ=function(){var a=new c.ia(0);a.Jb(this.g.fd);for(var u=this.df.rc(-1);u!=-1;u=this.df.lb(u))a.add(this.df.ja(u));this.df.clear(),this.g.nx(a,a.size),u=0;for(var d=a.size;u<d;u++){var f=a.get(u),g=this.Le(f);f=this.df.xn(f),this.Et(g,f)}},n.prototype.vF=function(a,u){var d=this.il(a);if(d!=-1){var f=d;do c.$c.LG(this.Pp(f))&&u.add(f),f=this.Rp(f,a);while(f!=d)}},n.prototype.BK=function(a,u){for(a=this.lh.rc(this.Sr(a));a!=-1;a=this.lh.lb(a))this.g.mf(this.lh.ja(a),u)},n.prototype.hK=function(a,u,d,f){this.Xu(a),u!=-1&&this.Xu(u),this.TI(0,a,f),u!=-1&&this.TI(1,u,f),d!=-1&&(f.Bf.D(this.yo),this.Hn(d,this.Pi),this.Pi.qb(this.yo)||this.Ak.add(d)),d=0;for(var g=this.Ak.size;d<g;d++){var b=this.Ak.get(d),_=this.dz(b);_!=-1&&(this.df.vd(_,-1),this.Et(b,-1))}for(d=this.Rh(a),g=u!=-1?this.Rh(u):-1,this.WD(d,f,0),u!=-1&&this.WD(g,f,1),this.ZE(a,f,0),u!=-1&&this.ZE(u,f,1),this.Qd.bh(d),this.Uu(a),u!=-1&&(this.Qd.bh(g),this.Uu(u)),d=0,g=this.Ak.size;d<g;d++)(b=this.Ak.get(d))==this.Jq&&(this.Xv=!0),(_=this.dz(b))==-1&&((_=this.df.KD(this.BF(b)))==-1?(a=this.Le(this.df.ja(this.df.FF())),this.Xm(a,b)):this.Et(b,_));this.Ak.clear(!1)},n.prototype.Hn=function(a,u){this.g.dG(this.ez(a),u)},n.prototype.BF=function(a){return this.lh.Jn(this.Sr(a))},n.prototype.jC=function(){this.Xv=!1,this.Jq=-1,this.$d==null&&(this.Mc.Rv=!1,this.$d=new l(this),this.Mc.Zn=this.$d);var a=new c.ia(0),u=null,d=null;this.GH=this.MH=-1,this.Vn=!1;for(var f=this.df.rc(-1);f!=-1;){this.Vn=!1;var g=this.df.ja(f);this.Jq=this.Le(g),this.g.Gc(g,this.vh),this.$d.$J(this.vh.y,this.vh.x);var b=this.il(this.Jq),_=b==-1;if(!_){g=b;do{var S=this.Pp(g);S==-1?(this.nh.add(g),this.Pl(g,-3)):S!=-3&&a.add(S),g=this.Rp(g,this.Jq)}while(g!=b)}if(0<a.size){for(this.Vn=a.size==1&&this.nh.size==1,_=0,b=a.size;_<b;_++)g=this.Mc.ja(a.get(_)),this.Pl(g,-2);var T=-2,k=-2;for(_=0,b=a.size;_<b;_++){if(S=a.get(_),T==-2){var O=this.Mc.we(S);O!=-1?(g=this.Mc.ja(O),(g=this.Pp(g))!=-2&&(T=O)):T=-1}if(k==-2&&((S=this.Mc.lb(S))!=-1?(g=this.Mc.ja(S),(g=this.Pp(g))!=-2&&(k=S)):k=-1),T!=-2&&k!=-2)break}for(_=0,b=a.size;_<b;_++)S=a.get(_),g=this.Mc.ja(S),this.Mc.vd(S,-1),this.Pl(g,-1);a.clear(!1),this.MH=T!=-1?T:-1,this.GH=k!=-1?k:-1,T!=-1&&k!=-1?this.Vn||this.lO(T,k):T==-1&&k==-1&&(this.Vn=!1)}else _&&(u==null&&(u=new s(this)),u.Dh(this.vh),this.Mc.uJ(u),u.rg&&(u.Kr(),this.GQ(this.Jq,u.Dm)));this.xS(),this.Xv?(this.Xv=!1,d==null&&(d=new y(this.g)),d.Dh(this.vh),f=this.df.uJ(d)):f=this.df.lb(f)}return this.Wn},n.prototype.er=function(a){for(this.g=a,this.xh=this.g.Gd(),this.hb.De(a.fd+32),this.zd.De(a.fd),this.lh.At(a.fd),this.lh.fn(a.fd),this.Qd.At(a.fd+32),this.Qd.fn(a.fd+32),a=this.g.ld;a!=-1;a=this.g.ue(a))if(c.aa.Hc(this.g.ic(a)))for(S=this.g.Ob(a);S!=-1;S=this.g.Rb(S)){var u=this.g.Ja(S),d=this.g.Xa(S),f=this.Ym(d),g=this.nt(d);for(this.hj(g,f),T=this.g.U(d),d=0,u-=2;d<u;d++){var b=this.g.U(T),_=this.Ym(T);this.hj(g,_),g=this.nt(T),this.hj(g,_),T=b}this.g.dc(S)?(_=this.Ym(T),this.hj(g,_),g=this.nt(T),this.hj(g,_),this.hj(g,f)):(_=this.Ym(T),this.hj(g,_))}else for(var S=this.g.Ob(a);S!=-1;S=this.g.Rb(S)){var T=this.g.Xa(S);for(f=0,u=this.g.Ja(S);f<u;f++)this.Ym(T),T=this.g.U(T)}this.oQ()},n}();c.RC=r}(U||(U={})),function(c){var I=function(y){function l(s,r,n){var a=y.call(this)||this;if(s!==void 0)if(n!==void 0){a.description=c.ee.og();var u=new c.Nd;u.K(s,r,n),a.dC(u)}else if(r!==void 0)a.description=c.ee.og(),a.Cb(s,r);else if(s instanceof c.ra)a.description=s;else if(s instanceof c.h)a.description=c.ee.og(),a.Cb(s);else{if(!(s instanceof l))throw c.i.N();a.description=s.description,a.Cb(s.Lg(),s.ih()),s.ka!==null&&(a.ka=s.ka.slice(0))}else a.description=c.ee.og();return a}return Yt(l,y),l.prototype.D=function(s){if(s===void 0){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");return(s=new c.h).ma(this.ka[0],this.ka[1]),s}if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");s.ma(this.ka[0],this.ka[1])},l.prototype.Cb=function(s,r){typeof s=="number"?(this.vc(),this.ka==null&&this.un(),this.ka[0]=s,this.ka[1]=r):(this.vc(),this.Cb(s.x,s.y))},l.prototype.Cz=function(){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");var s=new c.Nd;return s.x=this.ka[0],s.y=this.ka[1],s.z=this.description.iG()?this.ka[2]:c.ra.se(1),s},l.prototype.dC=function(s){this.vc();var r=this.hasAttribute(1);r||c.ra.DG(1,s.z)||(this.re(1),r=!0),this.ka==null&&this.un(),this.ka[0]=s.x,this.ka[1]=s.y,r&&(this.ka[2]=s.z)},l.prototype.Lg=function(){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");return this.ka[0]},l.prototype.cC=function(s){this.setAttribute(0,0,s)},l.prototype.ih=function(){if(this.Ac())throw c.i.fa("This operation should not be performed on an empty geometry.");return this.ka[1]},l.prototype.aK=function(s){this.setAttribute(0,1,s)},l.prototype.bS=function(){return this.Uc(1,0)},l.prototype.wX=function(s){this.setAttribute(1,0,s)},l.prototype.zR=function(){return this.Uc(2,0)},l.prototype.hX=function(s){this.setAttribute(2,0,s)},l.prototype.Ec=function(){return this.yF(3,0)},l.prototype.LJ=function(s){this.setAttribute(3,0,s)},l.prototype.Uc=function(s,r){var n=this.description.Pf(s);return 0<=n?this.ka[this.description.$j(n)+r]:c.ra.se(s)},l.prototype.yF=function(s,r){var n=this.description.Pf(s);return 0<=n?this.ka[this.description.$j(n)+r]:c.ra.se(s)},l.prototype.setAttribute=function(s,r,n){this.vc();var a=this.description.Pf(s);0>a&&(this.re(s),a=this.description.Pf(s)),this.ka==null&&this.un(),this.ka[this.description.$j(a)+r]=n},l.prototype.getType=function(){return 33},l.prototype.Db=function(){return 0},l.prototype.Oa=function(){this.vc(),this.ka!=null&&(this.ka[0]=NaN,this.ka[1]=NaN)},l.prototype.sn=function(s){if(this.ka!=null){for(var r=c.ee.Iw(s,this.description),n=[],a=0,u=0,d=s.Aa;u<d;u++){var f=s.kd(u),g=c.ra.Va(f);if(r[u]==-1){var b=c.ra.se(f);for(f=0;f<g;f++)n[a]=b,a++}else for(b=this.description.$j(r[u]),f=0;f<g;f++)n[a]=this.ka[b],a++,b++}this.ka=n}this.description=s},l.prototype.un=function(){this.lJ(this.description.Ae.length),l.cE(this.description.Ae,this.ka,this.description.Ae.length),this.ka[0]=NaN,this.ka[1]=NaN},l.prototype.Oc=function(s){if(s instanceof c.Dd){if(!this.Ac()){var r=this.D();s.Eh(r,r),this.Cb(r)}}else this.Ac()||(this.re(1),r=this.Cz(),this.dC(s.fp(r)))},l.prototype.copyTo=function(s){if(s.getType()!=33)throw c.i.N();s.vc(),this.ka==null?(s.Oa(),s.ka=null,s.Nf(this.description)):(s.Nf(this.description),s.lJ(this.description.Ae.length),l.cE(this.ka,s.ka,this.description.Ae.length))},l.prototype.Ia=function(){return new l(this.description)},l.prototype.B=function(){return this.Ac()},l.prototype.Ac=function(){return this.ka==null||isNaN(this.ka[0])||isNaN(this.ka[1])},l.prototype.bn=function(s){s.Oa(),this.description!=s.description&&s.Nf(this.description),s.Zb(this)},l.prototype.A=function(s){this.Ac()?s.Oa():(s.v=this.ka[0],s.G=this.ka[1],s.C=this.ka[0],s.H=this.ka[1])},l.prototype.Qo=function(s){if(this.Ac())s.Oa();else{var r=this.Cz();s.v=r.x,s.G=r.y,s.Ye=r.z,s.C=r.x,s.H=r.y,s.Bg=r.z}},l.prototype.Tg=function(s,r){var n=new c.Nc;return this.Ac()?(n.Oa(),n):(s=this.Uc(s,r),n.oa=s,n.va=s,n)},l.prototype.lJ=function(s){if(this.ka==null)this.ka=c.O.lg(s);else if(this.ka.length<s){for(var r=this.ka.slice(0),n=this.ka.length;n<s;n++)r[n]=0;this.ka=r}},l.cE=function(s,r,n){if(0<n)for(n=0;n<s.length;n++)r[n]=s[n]},l.prototype.Nb=function(s){if(s==this)return!0;if(!(s instanceof l)||this.description!=s.description)return!1;if(this.Ac())return!!s.Ac();for(var r=0,n=this.description.Ae.length;r<n;r++)if(this.ka[r]!=s.ka[r])return!1;return!0},l.prototype.cc=function(){var s=this.description.cc();if(!this.Ac())for(var r=0,n=this.description.Ae.length;r<n;r++){var a=this.ka[r];a=c.O.truncate(a^a>>>32),s=c.O.Th(a,s)}return s},l.prototype.mg=function(){return null},l}(c.aa);c.Sa=I}(U||(U={})),function(c){var I=function(){function y(l,s,r){l!==void 0&&(this.x=l,this.y=s,this.z=r)}return y.construct=function(l,s,r){var n=new y;return n.x=l,n.y=s,n.z=r,n},y.prototype.K=function(l,s,r){this.x=l,this.y=s,this.z=r},y.prototype.lx=function(){this.z=this.y=this.x=0},y.prototype.normalize=function(){var l=this.length();l==0&&(this.x/=l,this.y/=l,this.z/=l)},y.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},y.prototype.sub=function(l){return new y(this.x-l.x,this.y-l.y,this.z-l.z)},y.prototype.Ag=function(l){new y(this.x*l,this.y*l,this.z*l)},y.prototype.Qh=function(l){return this.x*l.x+this.y*l.y+this.z*l.z},y}();c.Nd=I}(U||(U={})),function(c){var I=function(){function y(l,s,r){this.Gw=this.DA=null,this.Xf=s,this.FT=s.y-r,this.ET=s.y+r,this.Ew=0,this.dA=l,this.qa=r,this.RT=r*r,this.eA=r!=0,this.Lv=!1}return y.prototype.result=function(){return this.Ew!=0?1:0},y.prototype.ZM=function(l){return l=l.hc(l.fe(this.Xf,!1)),c.h.yc(l,this.Xf)<=this.RT},y.prototype.fF=function(l){if(!this.eA&&(this.dA&&this.Xf.qb(l.ac())||this.Xf.qb(l.wc())))this.Lv=!0;else if(l.na==this.Xf.y&&l.na==l.la){if(this.dA&&!this.eA){var s=Math.max(l.sa,l.pa);this.Xf.x>Math.min(l.sa,l.pa)&&this.Xf.x<s&&(this.Lv=!0)}}else{var r=!1;if(s=Math.max(l.sa,l.pa),this.Xf.x>s?r=!0:this.Xf.x>=Math.min(l.sa,l.pa)&&(r=0<l.cq(!0,this.Xf.y,this.Gw,null)&&this.Gw[0]<=this.Xf.x),r){if(this.Xf.y==l.ac().y){if(this.Xf.y<l.wc().y)return}else if(this.Xf.y==l.wc().y&&this.Xf.y<l.ac().y)return;this.Ew=this.dA?1^this.Ew:this.Ew+(l.ac().y>l.wc().y?1:-1)}}},y.prototype.SI=function(l){var s=l.Tg(0,1);if(s.oa>this.ET||s.va<this.FT)return!1;if(this.eA&&this.ZM(l))return!0;if(s.oa>this.Xf.y||s.va<this.Xf.y)return!1;if(this.DA==null&&(this.DA=[null,null,null,null,null]),this.Gw==null&&(this.Gw=[0,0,0]),0<(s=l.eG()))for(l=0;l<s;l++){var r=this.DA[l].get();if(this.fF(r),this.Lv)return!0}else if(this.fF(l),this.Lv)return!0;return!1},y.PM=function(l,s,r){for(s=new y(l.In()==0,s,r),l=l.Ga();l.$a();)for(;l.Ha();)if(r=l.ha(),s.SI(r))return-1;return s.result()},y.QM=function(l,s,r,n){var a=new c.l;l.xc(a),a.W(n,n);var u=new y(l.In()==0,r,n);l=l.Ga();var d=new c.l;for(d.K(a),d.C=r.x+n,d.G=r.y-n,d.H=r.y+n,n=(r=s.MF(d,n)).next();n!=-1;n=r.next())if(l.Vb(s.ja(n)),l.Ha()&&(n=l.ha(),u.SI(n)))return-1;return u.result()},y.wm=function(l,s,r){if(l.B())return 0;var n=new c.l;if(l.xc(n),n.W(r,r),!n.contains(s))return 0;if((n=l.Bb)!=null){var a=n.Fk;if(a!=null){if((a=a.So(s.x,s.y))==1)return 1;if(a==0)return 0}if((n=n.Fb)!=null)return y.QM(l,n,s,r)}return y.PM(l,s,r)},y.bT=function(l,s,r){return s.B()?0:y.wm(l,s.D(),r)},y.Ml=function(l,s){return!(16>(l=l.I()))&&2*l+Math.log(l)/Math.log(2)*s<1*l*s},y}();c.Dg=I}(U||(U={})),function(c){var I=function(y){function l(s){return y.call(this,!0,s)||this}return Yt(l,y),l.prototype.Ia=function(){return new l(this.description)},l.prototype.Db=function(){return 2},l.prototype.getType=function(){return 1736},l.prototype.xG=function(s,r,n){this.JS(s,r,n)},l.prototype.qR=function(){this.FR()},l}(c.Vk);c.Da=I}(U||(U={})),function(c){(function(I){I[I.PiPOutside=0]="PiPOutside",I[I.PiPInside=1]="PiPInside",I[I.PiPBoundary=2]="PiPBoundary"})(c.RL||(c.RL={})),c.hd=function(){function I(){}return I.KG=function(y,l,s){return(y=c.Dg.bT(y,l,s))==0?0:y==1?1:2},I.Yd=function(y,l,s){return(y=c.Dg.wm(y,l,s))==0?0:y==1?1:2},I.WX=function(y,l,s,r,n){if(l.length<s||n.length<s)throw c.i.N();for(var a=0;a<s;a++)n[a]=I.Yd(y,l[a],r)},I.sK=function(y,l,s,r,n){if(y.getType()==1736)I.WX(y,l,s,r,n);else{if(y.getType()!=197)throw c.i.fa("invalid_call");var a=new c.l;y.A(a),I.$M(a,l,s,r,n)}},I.$M=function(y,l,s,r,n){if(l.length<s||n.length<s)throw c.i.N();if(y.B())for(r=0;r<s;r++)n[r]=0;else for(y.W(.5*-r,.5*-r),y.W(.5*r,.5*r),r=0;r<s;r++)y.contains(l[r])?n[r]=1:y.contains(l[r])?n[r]=2:n[r]=0},I.YX=function(y,l,s,r,n){for(var a=0;a<s;a++)n[a]=y.qs(l[a],r)?2:0},I.XX=function(y,l,s,r,n){var a=y.Bb,u=null;a!=null&&(u=a.Fk),a=s;for(var d=0;d<s;d++)if(n[d]=1,u!=null){var f=l[d];u.So(f.x,f.y)==0&&(n[d]=0,a--)}if(a!=0)for(y=y.Ga();y.$a()&&a!=0;)for(;y.Ha()&&a!=0;)for(u=y.ha(),d=0;d<s&&a!=0;d++)n[d]==1&&u.qs(l[d],r)&&(n[d]=2,a--);for(d=0;d<s;d++)n[d]==1&&(n[d]=0)},I.tK=function(y,l,s,r,n){var a=y.getType();if(a==1607)I.XX(y,l,s,r,n);else{if(!c.aa.yd(a))throw c.i.fa("Invalid call.");I.YX(y,l,s,r,n)}},I}()}(U||(U={})),function(c){var I=function(y){function l(s,r){if(arguments.length==2){var n=y.call(this,!1,s.description)||this;n.nf(s),n.lineTo(r)}else n=y.call(this,!1,s)||this;return n}return Yt(l,y),l.prototype.Ia=function(){return new l(this.description)},l.prototype.Db=function(){return 1},l.prototype.getType=function(){return 1607},l.prototype.xG=function(s,r,n){this.KS(s,r,n)},l}(c.Vk);c.Ta=I}(U||(U={})),function(c){var I=function(){function y(){}return y.prototype.progress=function(){return!0},y.zp=function(l){if(l!=null&&!l.progress(-1,-1))throw c.i.WC()},y}();c.mp=I}(U||(U={})),function(c){var I;(I=c.PK||(c.PK={}))[I.clipWithInputHorizon=1]="clipWithInputHorizon",I[I.clipWithOutputHorizon=2]="clipWithOutputHorizon";var y=function(){function r(){this.Kg=3,this.Vu=this.Jr=NaN}return r.prototype.PW=function(n){this.QB(1,n)},r.prototype.QW=function(n){this.QB(2,n)},r.prototype.hS=function(){return this.hs(1)},r.prototype.iS=function(){return this.hs(2)},r.prototype.QB=function(n,a){this.Kg=a?this.Kg|n:this.Kg&~n},r.prototype.hs=function(n){return!!(this.Kg&n)},r.prototype.Of=function(){var n=new r;return n.Jr=this.Jr,n.Vu=this.Vu,n.Kg=this.Kg,n},r}();c.yC=y,function(r){r[r.Dont_Geonomalize_Polygon=2147483648]="Dont_Geonomalize_Polygon",r[r.Dont_Adjust_At_Poles=1073741824]="Dont_Adjust_At_Poles"}(c.QK||(c.QK={}));var l=function(){function r(){this.Kg=0}return r.prototype.QB=function(n,a){this.Kg=a?this.Kg|n:this.Kg&~n},r.prototype.hs=function(n){return!!(this.Kg&n)},r.jg=function(n){var a=new r;return a.Kg=n.Kg,a},r.prototype.mM=function(n){this.Kg=n.Kg},r}();c.AY=l;var s=function(){function r(n,a,u){this.ef=n,this.Yf=a,this.Uf=new c.l,this.Uf.K(u),this.AT=n.cc()+a.cc()+this.Uf.cc().toString()}return r.prototype.cc=function(){return this.AT},r.prototype.Nb=function(n){return this==n||this.ef.Nb(n.ef)&&this.Yf.Nb(n.Yf)&&this.Uf.Nb(n.Uf)},r}();c.FY=s,s=function(){function r(){this.Yf=this.ef=null,this.rH=new y,this.sH=new l,this.ww=this.Wf=null,this.mw=this.Tn=!0}return r.Nr=function(n,a,u,d){var f;d===void 0&&(d=null),f===void 0&&(f=null);var g=new r;return g.qp(n,a,u,d,f),g},r.prototype.qp=function(n,a,u,d,f){if(n==null||a==null)throw c.i.fa("invalidArgument");if(this.ef=n,this.Yf=a,this.mw=this.Tn=!1,d!=null&&(this.rH=d.Of()),f!=null&&this.sH.mM(f),f=!1,a.Sb()==1&&d!=null&&(d=d.Jr,isNaN(d)||d==0||(f=!0)),n==a)this.Tn=!f,this.mw=!0;else{d=n.Sb();var g=a.Sb();if(d==0||g==0){if(u!=null)throw c.i.N();n.Hd()!=null&&a.Hd()!=null&&(this.Tn=n.Hd().Nb(a.Hd()))}else d==3||g==3?this.Tn=n.Nb(a):this.ef.kS(this.Yf)?this.Tn=!f:this.Tn=!1,this.Wf=u,this.Wf!=null&&this.Wf.ix(),this.mw=(this.Wf==null||this.Wf.count()==0)&&this.ef.sc().Nb(this.Yf.sc())}this.oY()},r.prototype.isIdentity=function(){return this.Tn},r.prototype.nR=function(){return this.rH.Of()},r.prototype.Nb=function(n){return n==this||!!(n instanceof r&&this.ef.Nb(n.ef)&&this.Yf.Nb(n.Yf))&&(this.Wf==n.Wf||!(this.Wf==null||n.Wf==null||!this.Wf.Nb(n.Wf)))},r.prototype.oY=function(){this.ww=new c.bu(this)},r}(),c.vr=s}(U||(U={})),function(c){var I=function(){function y(){}return y.Cp=function(l){return l*y.oW},y.mx=function(l,s){return y.gP(s-l)},y.hP=function(l){return-360<=l&&720>l?(0>l?l+=360:360<=l&&(l-=360),l):(0>(l=c.lc.RK(l))&&(l+=360),l)},y.gP=function(l){return 180<(l=y.hP(l))&&(l-=360),l},y.oW=57.29577951308232,y}();c.qr=I,c.Hh=function(){function y(){}return y.lj=function(l,s){var r=new c.l;l.A(r);var n=c.cb.gh(s),a=new c.l;return a.K(n),a.v=r.v,a.C=r.C,a.W(.01*a.ca(),0),s=c.ta.Wd(s,r,!1),a.contains(r)?l:c.Ud.clip(l,a,s,0)},y.ks=function(l,s,r,n,a){if(!c.cb.Wc(s))throw c.i.N();var u=c.ta.kj(s,l,!1),d=c.cb.gh(s),f=c.cb.sc(s),g=f.Hd().ai,b=c.cb.vv(f);f=c.cb.ev(f),b*=2-b;var _=new c.Nc;d.cn(_);var S=[[0,0],[0,0]];if(c.Eg.Sb(s)==2?n?(S[0][0]=y.Zm(a,_),S[0][1]=d.Jp(),c.cb.vt(),d=S[0][0]*g):(S[0][0]=d.gk(),S[0][1]=a,c.cb.vt(),d=S[0][1]*g):d=a*g,!n&&d!=0)throw c.i.N();var T=new c.ga,k=new c.gd;l=k.Ib(l);for(var O=[0],N=new c.h,D=new c.h,z=new c.h,L=new c.h,F=new c.h,V=new c.h,q=k.Ob(l);q!=-1;q=k.Rb(q)){var W=k.Xa(q);k.D(W,z);for(var K=!1,tt=W=k.U(W);tt!=-1;tt=k.U(tt)){if(tt==W){if(K)break;K=!0}if(k.D(tt,L),n&&u<a-z.x&&L.x-a>u||u<a-L.x&&z.x-a>u||!n&&u<-z.y&&L.y>u||u<-L.y&&z.y>u)do if(!(Math.abs(z.x-L.x)>=.5*_.R())){if(c.Eg.Sb(s)==2?(S[0][0]=y.Zm(z.x,_),S[0][1]=z.y,S[1][0]=y.Zm(L.x,_),S[1][1]=L.y,c.cb.dW(),F.x=S[0][0]*g,F.y=S[0][1]*g,V.x=S[1][0]*g,V.y=S[1][1]*g):(F.x=z.x*g,F.y=z.y*g,V.x=L.x*g,V.y=L.y*g),V.x=6.283185307179586*(L.x-z.x)/_.R()+F.x,n){if(D.x=d,D.y=y.Nz(f,b,F,V,d,r),isNaN(D.y))break}else{if(D.x=y.Lz(f,b,F,V,r),isNaN(D.x))break;D.y=0}c.kb.wd(f,b,F.x,F.y,V.x,V.y,T,null,null,r);var st=T.u;c.kb.wd(f,b,F.x,F.y,D.x,D.y,T,null,null,r);var it=T.u;c.Eg.Sb(s)==2?(S[0][0]=D.x/g,S[0][1]=D.y/g,c.cb.bR(),n?(N.y=S[0][1],N.x=a):(N.x=y.os(S[0][0],z.x,L.x,_),N.y=a)):n?(N.x=a,N.y=D.y/g):(N.x=y.os(D.x/g,z.x,L.x,_),N.y=a),O[0]=0<st?c.O.Rk(it/st,0,1):.5,O[0]!=0&&O[0]!=1&&(st=k.Ma(tt),k.Ul(st,O,1),k.Cb(k.U(st),N.x,N.y))}while(!1);z.L(L)}}return k.Ne(l)},y.Fn=function(l,s,r,n,a){if(l.B())return l;var u=c.cb.bf(s);return y.Hp(l,r-180*u,360*u,s,n,a,!0)},y.Nz=function(l,s,r,n,a,u){if(3.141592653589793<=Math.abs(r.x-n.x)||!y.Sn(r.x,n.x,a))return NaN;if(r.x>n.x)var d=n;else d=r,r=n;n=new c.ga(0);var f=new c.ga(0),g=new c.ga(0);c.kb.wd(l,s,d.x,d.y,r.x,r.y,f,n,null,u);var b=f.u,_=0,S=1,T=new c.h;for(T.L(d);b*(S-_)>1e-12*l;){var k=.5*(_+S);if(c.kb.oj(l,s,d.x,d.y,b*k,n.u,f,g,u),T.x=f.u,T.y=g.u,T.x==a)break;if(y.Sn(d.x,T.x,a))S=k;else{if(!y.Sn(r.x,T.x,a))return NaN;_=k}}return T.y},y.Sn=function(l,s,r){return l=I.Cp(l),s=I.mx(l,I.Cp(s)),(r=I.mx(l,I.Cp(r)))==0||0<s&&0<r&&r<=s||0>s&&0>r&&r>=s},y.Zm=function(l,s){var r=s.va-s.oa;return s.It(l-Math.floor((l-s.oa)/r)*r)},y.os=function(l,s,r,n){var a=new c.Nc;for(a.K(s,r),r=n.R(),l=Math.floor((l-s)/r)*r+l,a=a.sf();Math.abs(l-a)>Math.abs(l+r-a);)l+=r;return l},y.Lz=function(l,s,r,n,a){if(r.y>n.y)var u=n;else u=r,r=n;if((n=new c.Nc).K(u.y,r.y),!n.contains(0)||3.141592653589793<=Math.abs(u.x-r.x))return NaN;if(u.x==r.x)return u.x;var d=new c.ga(0),f=new c.ga(0),g=new c.ga(0);c.kb.wd(l,s,u.x,u.y,r.x,r.y,f,d,null,a);var b=f.u,_=0,S=1,T=new c.h;for(T.L(u);b*(S-_)>1e-12*l;){var k=.5*(_+S);if(c.kb.oj(l,s,u.x,u.y,b*k,d.u,f,g,a),T.x=f.u,T.y=g.u,n.K(u.y,T.y),T.y==0)break;if(n.contains(0))S=k;else{if(n.K(r.y,T.y),!n.contains(0))return NaN;_=k}}return T.x},y.Hp=function(l,s,r,n,a,u,d){var f=new c.l;if(l.A(f),f.B())return l;var g=new c.Nc;f.cn(g);var b=new c.Nc;if(b.K(s,s+r),b.contains(g)&&b.va!=g.va)return l;var _=new c.l;_.K(f);var S=l.getType();if(S==33)return((f=(_=a?l:l.Of()).Lg())<b.oa||f>=b.va||d&&f==b.va)&&(f+=Math.ceil((b.oa-f)/r)*r,f=b.It(f),_.cC(f)),_;if(S==550){for(n=(_=a?l:l.Of()).ub(0),S=2*_.I(),l=!1,a=0;a<S;a+=2)((f=n.read(a))<b.oa||f>=b.va||d&&f==b.va)&&(l=!0,f+=Math.ceil((b.oa-f)/r)*r,f=b.It(f),n.write(a,f));return l&&_.Pc(1993),_}if(b.contains(g))return l;if(S==197)return r=a?l:l.Of(),f.Ea(_),r.Xo(f),r;var T=.1*Math.max(f.ca(),f.R());for(_.W(0,T),d=l,b=n.Xd(0),l=c.Gh.local(),a=new c.Dd;;){var k=Math.floor((g.oa-s)/r),O=Math.ceil((g.va-s)/r);if(!(3<O-k))break;k=Math.floor(.5*(O+k)),_.v=f.v-T,_.C=s+r*k;var N=c.Ud.clip(d,_,b,u);_.v=_.C,_.C=f.C+T;var D=c.Ud.clip(d,_,b,u);a.gg((k-O)*r,0),D.Oc(a),S==1736?d=l.V(N,D,n,null):(d=N).add(D,!1),d.A(f),f.cn(g)}for(_.v=s,_.C=s+r,(s=new c.l).K(_),s.W(b,0),(s=Math.floor((f.v-_.v)/r)*r)!=0?(_.move(s,0),a.gg(-s,0)):a.RB(),s=S==1607?new c.Ta(d.description):new c.Da(d.description),u=new c.l,g=new c.l;f.C>_.v;)(T=c.Ud.clip(d,_,b,0)).A(g),(S==1607?!T.B()&&(g.R()>b||g.ca()>b):!T.B()&&(S!=1736||g.R()>b))&&(T.Oc(a),T.A(g),s.A(u),u.W(b,b),u.isIntersecting(g)&&S==1736?s=l.V(s,T,n,null):s.add(T,!1)),_.move(r,0),a.shift(-r,0);return s},y.WI=function(l,s,r,n){var a=new c.de(r.description);a.Fd(r,0,-1),a=c.cb.zh(a,l,s);var u=r.I();if(n.Oa(),!c.cb.Wc(l)||u!=a.I())return!1;var d=new c.l;r.A(d);var f=new c.l;if(a.A(f),d=d.R(),f=f.R(),d!=0&&f!=0){if(f/=d,l=c.cb.gh(s).R()/c.cb.gh(l).R(),1e-10<Math.abs(f/l-1))return!1}else if(d!=0||f!=0)return!1;for(n.add(r,!1),r=0;r<u;r++)l=a.Na(r),n.Cb(r,l);return!0},y.Oz=function(){throw c.i.Ie()},y}()}(U||(U={})),function(c){var I,y,l;(y=I=c.si||(c.si={}))[y.Clip=0]="Clip",y[y.DontClip=1]="DontClip",y[y.PannableFold=2]="PannableFold",function(s){s[s.Geodesic=0]="Geodesic",s[s.Loxodrome=1]="Loxodrome",s[s.GreatElliptic=2]="GreatElliptic",s[s.NormalSection=3]="NormalSection",s[s.ShapePreserving=4]="ShapePreserving"}(l=c.WK||(c.WK={})),c.zb=function(){function s(){}return s.xv=function(r,n,a){if(a||0<n){for(r=r.toString(c.Sc.PE_STR_NAME_CANON|c.Sc.PE_STR_AUTH_NONE),n=[],a=0;a<r.length;a++)n[a]="a"<=r[a]&&"z">=r[a]?n[a]=r[a].toUpperCase():r[a];return n.join()}return r.toString(c.Sc.PE_STR_AUTH_TOP)},s.ur=function(r,n,a,u){var d=u.length,f=a.I();if(f!=0){var g=a.ub(0),b=Math.min(f,d),_=0,S=r.eh();isNaN(n)&&(n=0);for(var T=r.Wc(),k=179*(r=T?r.sc().Oe().R():0)/360;0<f;){if(g.uB(_<<1,b,u),c.ej.projToGeogCenter(S,b,u,n),T)for(var O=0;O<b;O++){var N=u[O][0]-n,D=c.lc.sign(N),z=g.read(2*(_+O));0>D*c.lc.sign(z)&&Math.abs(N)>k&&(u[O][0]+=-D*r)}g.uC(_<<1,b,u),_+=b,f-=b,b=Math.min(f,d)}a.Pc(1993)}},s.IL=function(r,n,a,u){var d=0,f=r.eh();isNaN(d)&&(d=0);var g=r.Wc(),b=r.bf();r=360*b,b*=179;for(var _=u.length,S=0;S<a;){for(var T=S;T<a&&n[T].isNaN();++T)S++;var k=Math.min(_,a-S);if(0<k){T=1;for(var O=S+1;T<k;++T,++O)if(n[O].isNaN()){k=T;break}if(c.ta.Jy(u,n,S,k),c.ej.projToGeogCenter(f,k,u,d),g)for(T=0,O=S;T<k;++T,++O){var N=n[O].x,D=u[T][0]-d,z=c.lc.sign(D);0>z*c.lc.sign(N)&&Math.abs(D)>b&&(u[T][0]-=z*r)}c.ta.Iy(n,S,u,k),S+=k}}},s.Lx=function(r,n,a){var u=a.length,d=n.I();if(!(1>d)){var f=n.ub(0),g=Math.min(d,u),b=0,_=r.eh(),S=r.Wc(),T=S?r.Oe().R():0,k=179*T/360,O=0;for(S&&(O=r.zi());0<d;){if(f.uB(b<<1,g,a),c.ej.geogToProj(_,g,a),S)for(r=0;r<g;r++){var N=a[r][0],D=c.lc.sign(N),z=f.read(2*(b+r))-O;0>D*c.lc.sign(z)&&Math.abs(N)>k&&(a[r][0]+=-D*T)}f.uC(b<<1,g,a),b+=g,d-=g,g=Math.min(d,u)}n.Pc(1993)}},s.HL=function(r,n,a,u){if(a!=0){var d=r.eh(),f=r.Wc(),g=f?r.Oe().R():0,b=179*g/360,_=0;for(f&&(_=r.zi()),r=0;r<a;){for(var S=r;S<a&&n[S].isNaN();++S)r++;var T=Math.min(u.length,a-r);if(0<T){S=1;for(var k=r+1;S<T;++S,++k)if(n[k].isNaN()){T=S;break}if(c.ta.Jy(u,n,r,T),c.ej.geogToProj(d,T,u),f)for(S=0,k=r;S<T;S++){var O=u[S][0],N=c.lc.sign(O);0>N*c.lc.sign(n[k].x-_)&&Math.abs(O)>b&&(u[S][0]-=N*g)}c.ta.Iy(n,r,u,T),r+=T}}}},s.tr=function(r,n,a,u){var d=n.I();if(d!=0){var f=n.ub(0),g=r.ef,b=r.Yf,_=g.sc().Qp(),S=b.sc().Qp(),T=g.bf(),k=b.bf();if((r=r.Wf)==null||r.count()==0){for(a=_/S,u=(g.Up()-b.Up())*k,S=-90*T,r=90*T,_=!1,k=1,g=2*d;k<g;)T=f.get(k),(b=c.O.Rk(T,S,r))!=T&&(f.set(k,b),_=!0),k+=2;if(u!=0||a!=1)for(_=!0,S=new c.h,k=0;k<d;k++)f.tc(2*k,S),S.x*=a,S.x+=u,S.y*=a,f.Tt(2*k,S);_&&n.Pc(1993)}else{g=u.length,b=Math.min(d,g);var O=c.O.lg(b),N=null,D=0,z=NaN,L=NaN,F=360*k,V=k/T;a&&(L=90*k,z=89.9*T,N=c.O.lg(b));for(var q=!0,W=0;d!=0;){for(T=!1,f.uB(D<<1,b,u),k=0;k<b;k++)O[k]=u[k][0];if(a)for(k=0;k<b;k++){var K=Math.abs(u[k][1])-z;0<K&&(T=u[k][1],u[k][1]=c.lc.Cn(z,T),N[k]=c.lc.Cn(K,T),T=!0)}for(k=u[0][0],r.transform(u,b,_,S),q&&(W=u[0][0]-V*k,q=!1),k=0;k<b;k++)K=u[k][0]-O[k]*V-W,200<Math.abs(K)&&(u[k][0]=0<K?u[k][0]-F:u[k][0]+F);if(T){for(k=0;k<b;k++)N[k]!=0&&(u[k][1]+=V*N[k],u[k][1]>L?u[k][1]=L:u[k][1]<-L&&(u[k][1]=-L));for(T=0;T<b;T++)N[T]=0}f.uC(D<<1,b,u),D+=b,d-=b,b=Math.min(d,g)}n.Pc(1993)}}},s.GL=function(r,n,a,u){if(r.mw)u=90*r.ef.bf(),c.ta.dK(n,a,-u,u);else{var d=r.Wf,f=r.ef,g=r.Yf;r=f.Xr();var b=g.Xr(),_=f.bf(),S=90*_,T=g.bf();if(d==null||d.count()==0){if(u=r/b,d=(f.Up()-g.Up())*T,c.ta.dK(n,a,-S,S),d!=0||u!=1)for(T=0;T<a;T++)n[T].x*=u,n[T].x+=d,n[T].y*=u}else{f=Math.min(a,u.length),S=c.O.lg(f),g=360*T,_=T/_;for(var k=!0,O=0,N=0;a!=0;){for(T=0;T<f;T++)S[T]=n[T+N].x;for(T=n[0].x,c.ta.Jy(u,n,N,f),d.transform(u,f,r,b),c.ta.Iy(n,N,u,f),k&&(O=n[0].x-_*T,k=!1),T=0;T<f;T++){var D=n[N+T].x-S[T]*_-O;200<Math.abs(D)&&(n[N+T].x=0<D?n[N+T].x-g:n[N+T].x+g)}N+=f,a-=f,f=Math.min(a,u.length)}}}},s.dv=function(r,n){return r=r.gh(),isNaN(n)||r.Ju(n,0),r},s.UQ=function(r,n,a,u,d,f,g,b){for(var _=s.dv(u,d),S=_.R(),T=S/360,k=s.pE*T,O=r.ub(0),N=n.Wc(),D=N?S/n.Oe().R():0,z=!1,L=new c.Da(a.description),F=0,V=a.da();F<V;++F){var q=N,W=new c.Ta(a.description);if(W.addPath(a,F,!0),g!=0){var K=s.PD(!0,W,_.H-b,_.H,g);(z=z||K)&&(q=!1)}var tt=-1;q&&(tt=r.Ba(F));var st=W.ub(0),it=W.I(),mt=0,ct=st.read(0),Et=0;K=3*u.Xd(0);var xt=!1,qt=new c.h;qt.Rc();var pe=new c.h;pe.Rc();for(var Je=!1,ge=1;ge<it;++ge){var Wt=c.h.construct(st.eg(2*ge),st.eg(2*ge+1)),te=Wt.x,zt=te+mt,ke=zt-ct;if(Wt.x=zt,Math.abs(ke)>k){if(q){var be=tt+(ge+1<it?ge:0),mr=O.read(2*(tt+ge-1));be=(O.read(2*be)-mr)*D,Math.abs(ke-be)>1*T&&(q=!1)}q||(zt=te+(mt-=c.lc.Cn(S,zt-ct)),++Et,Je=mt!=0,Wt.x=zt)}else xt||c.ta.AG(pe,qt,Wt,K)&&(xt=!0);Je&&st.write(2*ge,zt),ct=zt,pe.L(qt),qt.L(Wt)}0<Et&&W.Pc(1993),q=W.Na(0),it=W.Na(it-1),W=c.h.tb(q,it)<K?s.uQ(W,u,d,f,xt):s.vQ(r,F,W,u,d),L.add(W,!1)}return d=u.Xd(0),a=_.R()/180,s.Jt(L,_,.1*d,!1),L=L!=(d=c.ri.clip(L,_,d,a,f)),r=r.Ke(),g=0,0<(b=d.Ke())&&0>r?g=1:0>=b&&0<r&&(b==0?(b=NaN,n.Sb()==2?b=n.ml().Ke():n.Sb()==1&&(b=n.Oe().wF()),r>.99*b&&(g=-1)):g=-1),g!=0&&((n=new c.Da(d.description)).tp(_),(n=c.Xl.local().V(n,a,f)).add(d,!1),L=!0,d=n),L&&(d=c.Yl.local().V(d,u,!1,f)),d},s.vQ=function(r,n,a,u,d){var f=a.I(),g=a.Na(0),b=a.Na(f-1);d=(u=s.dv(u,d)).R(),g=c.lc.sign(b.x-g.x);var _=new c.l;a.xc(_);var S=u.gk();if(b=S-d,S+=d,0<=g){var T=Math.ceil((b-_.v)/d);for(T*=d;b>_.v+T;)T+=d;for(;b<_.C+T;)T-=d;var k=T;720<_.R()&&(S=b+360*Math.ceil(_.R()/360))}else{for(T=Math.ceil((S-_.C)/d),T*=d;S<_.C+T;)T-=d;for(;S>_.v+T;)T+=d;k=T,720<_.R()&&(b=S-360*Math.ceil(_.R()/360))}T=g*d;var O=c.l.construct(_.v,_.G,_.C,_.H);O.move(k,0);var N=new c.Dd;N.gg(k,0),a.Oc(N),(_=new c.Ta(a.description)).add(a,!1),k=a.Na(f-1),d=0;for(var D=_.Na(0).x,z=0;0<g?O.C<S:O.v>b;)1024<=z&&(z=0),O.move(T,0),N.Gb=T,a.Oc(N),D+=T,u.v<=D&&u.C>=D&&(d=_.I()-1),a.Cb(0,k),k=a.Na(f-1),_.Dr(a,0,0,f-1,!1);return a=new c.Da(_.description),f=0<r.Ir(n),a.add(_,!1),r=_.Na(0),b=_.Na(_.I()-1),n=a.da()-1,(0>g?f:!f)?(g=c.h.construct(b.x,u.H),a.Ci(g),g=c.h.construct(u.gk(),u.H),a.Ci(g),u=c.h.construct(r.x,u.H)):(g=c.h.construct(b.x,u.G),a.Ci(g),g=c.h.construct(u.gk(),u.G),a.Ci(g),u=c.h.construct(r.x,u.G)),a.Ci(u),a.xG(0,n,0),a.kO(d),a},s.uQ=function(r,n,a,u,d){var f=new c.Da(r.description);f.add(r,!1),f.DB(0,f.I()-1);var g=new c.l;f.xc(g);var b=(a=s.dv(n,a)).R(),_=Math.ceil((a.v-g.v)/b);for(_*=b;a.v>g.v+_;)_+=b;for(;a.v<g.C+_;)_-=b;if((_+=b)!=0){g.move(_,0);var S=new c.Dd;S.gg(_,0),f.Oc(S)}if(a.v<=g.v&&a.C>g.C)return d&&(d=f.Ke(),n=(f=c.Yl.local().V(f,n,!0,u)).Ke(),(n=c.lc.sign(d)!=c.lc.sign(n))&&f.oJ()),f;for((r=new c.Da(r.description)).add(f,!1),d=d||g.R()>b-n.Xd(0);g.v<a.C;)g.move(b,0),(S=new c.Dd).gg(b,0),f.Oc(S),r.add(f,!1);return d&&(d=r.Ke(),r.Yo(1),n=(r=c.Yl.local().V(r,n,!0,u)).Ke(),(n=c.lc.sign(d)!=c.lc.sign(n))&&r.oJ()),r},s.PD=function(r,n,a,u,d){for(var f=n.ub(0),g=n.I(),b=!1,_=0;_<g;_++){var S=c.h.construct(f.eg(2*_),f.eg(2*_+1));if(1&d&&S.y>=a){b=!0;break}if(2&d&&S.y<=-a){b=!0;break}}if(!b)return!1;f=!1,r&&(f=n.Nn(0)),g=(r=new c.gd).Ib(n),b=r.Ob(g);var T=-1,k=!0,O=new c.h;O.Rc(),_=new c.Sa;for(var N=-1,D=r.Xa(b);D!=-1;D=r.U(D)){S=r.Na(D);var z=1&d&&90<=S.y?1:0;if(z|=2&d&&S.y<=-a?2:0,0<T&&T!=z){if(O.x!=S.x){O.x=S.x,r.Vi(r.Ma(D),_);var L=r.wj(b,D,_);r.mf(L,O)}if(f)for(N=N!=-1?r.U(N):r.Xa(b),L=r.Ma(D);N!=L;)N=r.pd(N,!1);N=-1}0<z&&(S.y=c.lc.Cn(u,S.y),r.mf(D,S),k||T==z||(S.x!=O.x?(r.Vi(D,_),L=r.wj(b,D,_),r.Cb(L,O.x,S.y),N=L):N=D)),T=z,O=S,k=!1}if(f){if(N!=-1)for(N=r.U(N);N!=-1;)N=r.pd(N,!1);a=r.Xa(b),r.fq(a,r.rj(b))||(r.Vi(a,_),r.wj(b,-1,_))}return r.Ne(g).copyTo(n),!0},s.Mz=function(r,n,a,u){var d=r;if(d.B()||a==I.DontClip)return d;var f=d.getType();if(f==33)return d=[(u=d).D()],s.yG(d,1,n,a),d[0].isNaN()?u.Oa():u.Cb(d[0]),r;var g=(r=n.sc()).bf(),b=90*g,_=180*g,S=360*g,T=n.zi(),k=.5*g,O=new c.l;d.A(O);var N=n.Vr(),D=n.PQ(),z=N.getType()==197;if(n=new c.l,N.A(n),a==I.PannableFold&&(a=r.Oe().R(),n.v=T-.5*a,n.C=n.v+a),O.G<-b||O.H>b){if(new c.l().K(O.v-g,-b,O.C+g,b),(d=c.ri.Nu(d,n,r,NaN,0,u)).B())return d;d.A(O)}if(D&&(n.H<O.G||n.G>O.H))return d.Ia();if(O.R()>S&&(d=s.Hp(d,T-_,S,r,!0,0,!0,u)).A(O),(b=s.eO(O.v,O.C,n.v,n.C,S))!=0&&O.move(b,0),O.C>n.C||O.v<n.v){if(O.C>n.C)for(;O.v>=n.C;)O.move(-S,0),b-=S;for(;O.v<n.C-S;)O.move(S,0),b+=S}if(a=c.ta.Hu(r,N),b!=0&&((g=new c.Dd).gg(b,0),d.Oc(g)),D){if(z&&n.contains(O))return d;for(D=[null,null],b=0;2>b;b++){if(z?g=c.aa.Hc(f)?c.ri.clip(d,n,a,k,u):c.ri.clip(d,n,a,0,u):(g=c.Xj.local().V(d,N,r,u))==N&&(g=c.aa.jg(g)),n.v<=O.v&&n.C>=O.C||n.v>=O.v&&n.C<=O.C)return g;D[b]=g,b==0&&(O.move(-S,0),(g=new c.Dd).gg(-S,0),d.Oc(g))}if(f==550)D[0].Fd(D[1],0,-1);else if(c.aa.Hc(f))D[0].add(D[1],!1);else{if(f!=33)throw c.i.fa("intersect_with_GCS_horizon: unexpected geometry type");D[0].B()&&(D[0]=D[1])}return D[0]}if(n.H<O.G||n.G>O.H)return d;for(f=0;!d.B()&&O.C>n.v;)f!=0&&((g=new c.Dd).gg(f,0),d.Oc(g)),c.dj.local().V(4,d,N,r,u)||N==(d=c.kp.local().V(d,N,r,u))&&(d=c.aa.jg(d)),f!=0&&((k=new c.Dd).gg(-f,0),d.Oc(k)),f-=S,O.move(-S,0);return d},s.yG=function(r,n,a,u){if(n!=0&&u!=I.DontClip)if(u==I.PannableFold){u=a.HR();for(var d=n,f=0;f<n;f++)(r[f].y>u.H||r[f].y<u.G)&&(r[f].Rc(),d--);d!=0&&s.av(r,n,u.v,u.R())}else{var g=90*(u=a.bf()),b=180*u;for(u*=360,d=n,f=0;f<n;f++)(r[f].y>g||r[f].y<-g)&&(r[f].Rc(),d--);if(d!=0){(d=new c.l).Zw(r,n),g=a.Vr();var _=a.hv();f=g.getType()==197;var S=new c.l;if(g.A(S),!_||!(S.H<d.G||S.G>d.H))if(_)if(s.av(r,n,S.gk()-b,u),d=n,f)for(f=0;f<n;f++)S.contains(r[f])||(r[f].Rc(),d--);else for(a=c.ta.Hu(a.sc(),g),f=0;f<n;f++)(b=c.hd.Yd(g,r[f],a)!=0)||(r[f].Rc(),d--);else for(s.av(r,n,-b,u),d=n,a=c.ta.Hu(a.sc(),g),f=0;f<n;f++)(b=r[f]).isNaN()&&d--,_=s.tE(b.x,S.v,S.C,u),b.x+=_,(b=c.hd.Yd(g,b,a)!=0)&&(r[f].Rc(),d--)}}},s.Hp=function(r,n,a,u,d,f,g,b){var _=r.getType(),S=n+a;if(_===33){var T=(u=d?r:r.Of()).Lg();return(T<n||T>=S||g&&T==S)&&(T+=Math.ceil((n-T)/a)*a,T=c.O.Rk(T,n,S),u.cC(T)),u}if(r.B()||(T=new c.l,r.A(T),T.B()))return r;var k=new c.Nc;T.cn(k);var O=new c.Nc;if(O.K(n,S),O.contains(k))return r;if((S=new c.l).K(T),_===550){for(b=(u=d?r:r.Of()).ub(0),_=2*u.I(),S=!1,n=0;n<_;n+=2)((T=b.read(n))<O.oa||T>=O.va||g&&T==O.va)&&(S=!0,T+=Math.ceil((O.oa-T)/a)*a,T=O.It(T),b.write(n,T));return S&&u.Pc(1993),u}if(_==197)return a=d?r:r.Of(),T.Ea(S),a.Xo(T),a;var N=.1*Math.max(T.ca(),T.R());for(S.W(0,N),g=r,O=u.Xd(0),r=c.Gh.local(),d=new c.Dd;;){var D=Math.floor((k.oa-n)/a),z=Math.ceil((k.va-n)/a);if(!(3<z-D))break;D=Math.floor(.5*(z+D)),S.v=T.v-N,S.C=n+a*D;var L=c.ri.clip(g,S,O,f,b);S.v=S.C,S.C=T.C+N;var F=c.ri.clip(g,S,O,f,b);d.gg((D-z)*a,0),F.Oc(d),_==1736?g=r.V(L,F,u,null):(g=L).add(F,!1),g.A(T),T.cn(k)}for(S.v=n,S.C=n+a,(n=new c.l).K(S),n.W(O,0),(n=Math.floor((T.v-S.v)/a)*a)!=0?(S.move(n,0),d.gg(-n,0)):d.RB(),n=_==1607?new c.Ta(g.description):new c.Da(g.description),f=new c.l,k=new c.l;T.C>S.v;)(N=c.ri.clip(g,S,O,0,b)).A(k),(_==1607?!N.B()&&(k.R()>O||k.ca()>O):!N.B()&&(_!=1736||k.R()>O))&&(N.Oc(d),N.A(k),n.A(f),f.W(O,O),f.isIntersecting(k)&&_==1736?n=r.V(n,N,u,null):n.add(N,!1)),S.move(a,0),d.shift(-a,0);return n},s.av=function(r,n,a,u){for(var d=a+u,f=0;f<n;f++){var g=r[f].x;a<=g&&g<d||!(g<a||g>d||g==d)||(g+=Math.ceil((a-g)/u)*u,g=c.O.Rk(g,a,d),r[f].x=g)}},s.Fn=function(r,n,a,u,d,f){if(!n.Wc())throw c.i.fa("fold_into_360_degree_range");if(r.B())return r;if(n.Sb()==2){a=n.pv();var g=n.ov()-a}else{var b=n.bf();g=360*b,a-=180*b}return s.Hp(r,a,g,n,u,d,!0,f)},s.qF=function(r,n,a,u){if(a.Sb()==2)u=a.pv(),a=a.ov()-u;else{var d=a.bf();a=360*d,u-=180*d}s.av(r,n,u,a)},s.lj=function(r,n){var a=n.Oe();if(r.getType()==33){var u=r.ih();return a.G<=u&&u<=a.H?r:r.Ia()}u=new c.l,r.A(u);var d=new c.l;return d.K(a),d.v=u.v,d.C=u.C,d.W(.01*d.ca(),0),a=c.ta.uy(n,u),d.contains(u)?r:c.ri.clip(r,d,a,0,null)},s.ir=function(r,n,a){return r>n.C&&r-n.C<a?n.C:r<n.v&&n.v-r<a?n.v:r},s.FX=function(r,n,a,u){u.x=s.ir(r.x,n,a),u.y=r.y},s.EX=function(r,n,a,u){for(var d=0;d<n;d++)r[d].y<a.G||r[d].y>a.H?r[d].Rc():r[d].x=s.ir(r[d].x,a,u)},s.Jt=function(r,n,a,u){if(!r.B()){var d=r.getType();if(!u||d!=1736)if(c.aa.xj(d)){u=r.ub(0),d=0;for(var f=r.I();d<f;d++){var g=u.read(2*d),b=s.ir(g,n,a);b!=g&&u.write(2*d,b)}r.Pc(1993)}else if(d==197)u=new c.l,r.A(u),u.v=s.ir(u.v,n,a),u.C=s.ir(u.C,n,a),r.Xo(u);else{if(d!=33)throw c.i.fa("internal error");r.cC(s.ir(r.Lg(),n,a))}}},s.uS=function(r,n,a,u){var d=new c.gd,f=d.Ib(r);return r=c.ta.Hu(n,r),s.ks(d,f,n,r,a,!0,u),d.Ne(f)},s.ks=function(r,n,a,u,d,f,g){if(!a.Wc())throw c.i.N("invalid call");var b=a.Oe(),_=a.sc(),S=_.eh().getDatum().getSpheroid();_=_.Hd().ai;var T=S.getFlattening();S=S.getAxis(),T*=2-T;var k=new c.Nc;b.cn(k);var O=null,N=[[0,0],[0,0]];if(a.Sb()==2?(O=a.eh(),f?(N[0][0]=s.Zm(g,k),N[0][1]=b.Jp(),c.ej.projToGeog(O,1,N),b=N[0][0]*_):(N[0][0]=b.gk(),N[0][1]=g,c.ej.projToGeog(O,1,N),b=N[0][1]*_)):b=g*_,!f&&b!=0&&d!=l.GreatElliptic)throw c.i.fa("invalid argument");var D=new c.ga,z=[0],L=new c.h,F=new c.h,V=new c.h,q=[null,null],W=new c.h,K=new c.h,tt=new c.h,st=new c.h;for(n=r.Ob(n);n!=-1;n=r.Rb(n)){var it=r.Xa(n);r.D(it,W);for(var mt=!1,ct=it=r.U(it);ct!=-1;ct=r.U(ct)){if(ct==it){if(mt)break;mt=!0}if(r.D(ct,K),f&&(u<g-W.x&&K.x-g>u||u<g-K.x&&W.x-g>u)||!f&&(g!=0||u<-W.y&&K.y>u||u<-K.y&&W.y>u))do if(!(Math.abs(W.x-K.x)>=.5*k.R())){if(a.Sb()==2?(N[0][0]=s.Zm(W.x,k),N[0][1]=W.y,N[1][0]=s.Zm(K.x,k),N[1][1]=K.y,c.ej.projToGeogCenter(O,2,N,0),tt.x=N[0][0]*_,tt.y=N[0][1]*_,st.y=N[1][1]*_):(tt.x=W.x*_,tt.y=W.y*_,st.y=K.y*_),st.x=2*(K.x-W.x)*Math.PI/k.R()+tt.x,f){if(F.x=b,F.y=s.Nz(S,T,tt,st,b,d),isNaN(F.y))break;q[0]=F;var Et=1}else if(d==l.GreatElliptic){var xt=[0,0];if((Et=c.Ox.Oz(T,tt,st,b,xt))==0)break;F.x=xt[0],F.y=b,q[0]=F,Et==2&&(V.x=xt[1],V.y=b,q[1]=V)}else{if(F.x=s.Lz(S,T,tt,st,d),isNaN(F.x))break;F.y=0,q[0]=F,Et=1}var qt=-1;for(xt=0;xt<Et;xt++){c.kb.wd(S,T,tt.x,tt.y,st.x,st.y,D,null,null,d);var pe=D.u;c.kb.wd(S,T,tt.x,tt.y,q[xt].x,q[xt].y,D,null,null,d);var Je=D.u;if(a.Sb()==2?(N[0][0]=q[xt].x/_,N[0][1]=q[xt].y/_,c.ej.geogToProj(O,1,N),f?(L.y=N[0][1],L.x=g):(L.x=s.os(N[0][0],W.x,K.x,k),L.y=g)):f?(L.x=g,L.y=q[xt].y/_):(L.x=s.os(q[xt].x/_,W.x,K.x,k),L.y=g),z[0]=0<pe?c.O.Rk(Je/pe,0,1):.5,z[0]==0||z[0]==1)break;qt>z[0]||(qt=r.Ma(ct),r.Ul(qt,z,1),r.Cb(r.U(qt),L.x,L.y),qt=z[0])}}while(!1);W.L(K)}}},s.Zm=function(r,n){var a=n.va-n.oa;return n.It(r-Math.floor((r-n.oa)/a)*a)},s.os=function(r,n,a,u){var d=new c.Nc;for(d.K(n,a),a=u.R(),r=Math.floor((r-n)/a)*a+r,d=d.sf();Math.abs(r-d)>Math.abs(r+a-d);)r+=a;return r},s.Sn=function(r,n,a){return r=c.qr.Cp(r),n=c.qr.mx(r,c.qr.Cp(n)),(a=c.qr.mx(r,c.qr.Cp(a)))==0||0<n&&0<a&&a<=n||0>n&&0>a&&a>=n},s.Nz=function(r,n,a,u,d,f){if(f==l.GreatElliptic)return c.Ox.SS(n,a,u,d);if(Math.abs(a.x-u.x)>=Math.PI||!s.Sn(a.x,u.x,d))return NaN;if(a.x>u.x)var g=u;else g=a,a=u;u=new c.ga;var b=new c.ga,_=new c.ga;c.kb.wd(r,n,g.x,g.y,a.x,a.y,b,u,null,f);var S=b.u,T=0,k=1,O=new c.h;for(O.L(g);S*(k-T)>1e-12*r;){var N=.5*(T+k);if(c.kb.oj(r,n,g.x,g.y,S*N,u.u,b,_,f),O.x=b.u,O.y=_.u,O.x==d)break;if(s.Sn(g.x,O.x,d))k=N;else{if(!s.Sn(a.x,O.x,d))return NaN;T=N}}return O.y},s.Lz=function(r,n,a,u,d){if(d==l.GreatElliptic)return r=[0,0],c.Ox.Oz(n,a,u,0,r),r[0];if(a.y>u.y)var f=u;else f=a,a=u;if((u=new c.Nc).K(f.y,a.y),!u.contains(0)||Math.abs(f.x-a.x)>=Math.PI)return NaN;if(f.x==a.x)return f.x;var g=new c.ga,b=new c.ga,_=new c.ga;c.kb.wd(r,n,f.x,f.y,a.x,a.y,b,g,null,d);var S=b.u,T=0,k=1,O=new c.h;for(O.L(f);S*(k-T)>1e-12*r;){var N=.5*(T+k);if(c.kb.oj(r,n,f.x,f.y,S*N,g.u,b,_,d),O.x=b.u,O.y=_.u,u.K(f.y,O.y),O.y==0)break;if(u.contains(0))k=N;else{if(u.K(a.y,O.y),!u.contains(0))return NaN;T=N}}return O.x},s.WI=function(r,n,a,u){if(!r.ef.Wc())return!1;var d=new c.de(n.description);if(d.Fd(n,0,-1),u=c.Hx.local().V(d,r,u),d=n.I(),a.Oa(),d!=u.I())return!1;var f=new c.l;n.A(f);var g=new c.l;if(u.A(g),f=f.R(),g=g.R(),f!=0&&g!=0){if(g/=f,r=r.Yf.gh().R()/r.ef.gh().R(),1e-10<Math.abs(g/r-1))return!1}else if(f!=0||g!=0)return!1;for(a.add(n,!1),n=new c.h,r=0;r<d;r++)u.D(r,n),a.Cb(r,n);return!0},s.qN=function(r,n){return(r%=360*n)>=180*n&&(r-=360*n),r},s.UI=function(r,n,a,u){if(a==I.Clip){var d=n.ml();d.getType()==197?(a=new c.l,d.A(a),d=c.ta.uy(n,a),r=c.ri.clip(r,a,d,5e4*n.pm(),u)):c.dj.local().V(1,d,r,n,u)||(r=c.Xj.local().V(r,d,n,u))==d&&(r=c.Vk.jg(r))}else n.Wc()&&(u=new c.l,r.xc(u),n.Oe().contains(u)||(s.Jt(r,n.Oe(),n.Xd(0),!0),a==I.PannableFold&&(r=s.lj(r,n)),r=s.Fn(r,n,0,!0,1e5*n.pm(),null)));return r},s.XD=function(r,n,a){var u=n.Wr();if(u==null)return r;var d=(n=n.sc()).Oe().R(),f=new c.l;r.xc(f);var g=new c.Nc;f.cn(g),f=u.Ga(),u=null;for(var b=new c.Dd;f.$a();)for(;f.Ha();){var _=f.ha(),S=_.Tg(0,0),T=new c.Nc;for(T.K(S.oa,S.va),S=0;T.va>g.oa;)T.move(-d),--S;for(;T.oa<=g.va;){if(T.isIntersecting(g)){u==null&&(u=new c.Ta);var k=c.yb.cP(_.ac(),_.wc());S!=0&&(b.gg(S*d,0),k.Oc(b)),u.oc(k,!0)}T.move(d),++S}}return u!=null?(n=c.ta.gO(n,u),n=c.ta.Er(n),c.$t.lP(r,u,n,a)):r},s.eO=function(r,n,a,u,d){return r>=a&&n<=u?0:s.tE(.5*(n+r),a,u,d)},s.tE=function(r,n,a,u){return c.lc.round((.5*(a+n)-r)/u)*u},s.VQ=function(r,n,a,u,d,f,g,b){var _=s.dv(u,d),S=_.R(),T=S/360,k=s.pE*T,O=r.ub(0),N=n.Wc(),D=N?S/n.Oe().R():0;n=r.Ia();for(var z=0,L=a.da();z<L;++z){var F=N,V=new c.Ta(a.description);V.addPath(a,z,!0);var q=a.dc(z);g!=0&&(q=s.PD(q,V,_.H-b,_.H,g))&&(F=!1);var W=-1;q=V.I();var K=!1;F&&(W=r.Ba(z),K=r.dc(z));var tt=V.ub(0),st=0,it=tt.read(0),mt=0,ct=3*u.Xd(0),Et=!1,xt=new c.h;xt.Rc();var qt=new c.h;qt.Rc();for(var pe=!1,Je=1;Je<q;++Je){var ge=c.h.construct(tt.eg(2*Je),tt.eg(2*Je+1)),Wt=ge.x,te=Wt+st,zt=te-it;if(ge.x=te,Math.abs(zt)>k){if(F){var ke=W+Je-1,be=W;(!K||Je+1<q)&&(be+=Je),ke=O.read(2*ke),be=(O.read(2*be)-ke)*D,Math.abs(zt-be)>1*T&&(N=!1)}F||(te=Wt+(st-=c.lc.Cn(S,te-it)),++mt,pe=st!=0,ge.x=te)}else Et||c.ta.AG(xt,qt,ge,ct)&&(Et=!0);pe&&tt.write(2*Je,te),it=te,xt.L(qt),qt.L(ge)}mt!=0&&V.Pc(1993),F=V.Na(0),q=V.Na(q-1),c.h.tb(F,q),V=s.wQ(V,u,isNaN(d)?0:d,f),n.add(V,!1)}return r=u.Xd(0),a=_.R()/180,s.Jt(n,_,.1*r,!1),c.ri.clip(n,_,r,a,f)},s.wQ=function(r,n,a,u){return s.Fn(r,n,a,!0,0,u)},s.OS=function(r,n,a,u){var d=r.getType();if(d==1736)for(n=n!=null?n.Xd(0):0,d=0;d<u;d++)c.hd.Yd(r,a[d],n)!=1&&a[d].Rc();else{if(d!=197)throw c.i.N();for(d=0;d<u;d++)r.dP(a[d])||a[d].Rc()}},s.$k=function(r,n,a,u){if(32>a)for(var d=new c.Sa,f=0;f<a;f++)d.Cb(n[f]),r.$k(d,u).D(n[f]);else{var g=new c.de;for(g.re(3),g.HD(n,a),d=g.ub(3),f=0;f<a;f++)d.write(f,f);for(f=r.$k(g,u),r=f.ub(0),d=f.ub(3),u=c.h.construct(NaN,NaN),g=0;g<a;g++)n[g]=u;for(a=f.I(),f=0;f<a;f++)u=d.read(f),r.tc(2*f,n[u])}},s.Zk=function(r,n,a,u){if(32>a)for(var d=new c.Sa,f=0;f<a;f++)d.Cb(n[f]),r.Zk(d,u).D(n[f]);else{var g=new c.de;for(g.re(3),g.HD(n,a),d=g.ub(3),f=0;f<a;f++)d.write(f,f);for(f=r.Zk(g,u),r=f.ub(0),d=f.ub(3),u=c.h.construct(NaN,NaN),g=0;g<a;g++)n[g]=u;for(a=f.I(),f=0;f<a;f++)u=d.read(f),r.tc(2*f,n[u])}},s.pE=210,s}()}(U||(U={})),function(c){var I;(I=c.UL||(c.UL={}))[I.rightSide=1]="rightSide";var y=function(){function l(s,r,n){this.Bs=new c.h,s===void 0?this.Io=-1:(this.Bs.L(s),this.Io=r,this.Ka=n,this.nw=0)}return l.prototype.WJ=function(s){this.nw=s?1|this.nw:-2&this.nw},l.prototype.B=function(){return 0>this.Io},l.prototype.fz=function(){if(this.B())throw c.i.fa("invalid call");return new c.Sa(this.Bs.x,this.Bs.y)},l.prototype.Ua=function(){if(this.B())throw c.i.fa("invalid call");return this.Io},l.prototype.hz=function(){if(this.B())throw c.i.fa("invalid call");return this.Ka},l.prototype.Sz=function(){return!!(1&this.nw)},l.prototype.ey=function(s,r,n,a){this.Bs.x=s,this.Bs.y=r,this.Io=n,this.Ka=a},l}();c.$l=y}(U||(U={})),function(c){var I=function(){function l(){}return l.prototype.Uo=function(s,r){if(this.th.resize(0),this.Ii.length=0,this.tk=-1,s.xc(this.Ek),this.Ek.W(r,r),this.Ek.isIntersecting(this.Fb.Ca)){var n=s.getType();(this.vs=c.aa.yd(n))?(this.TH=s.ac(),this.SH=s.wc(),this.qa=r):this.qa=NaN,this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf)}else this.Qs=-1},l.prototype.Xi=function(s,r){this.th.resize(0),this.Ii.length=0,this.tk=-1,this.Ek.K(s),this.Ek.W(r,r),this.qa=NaN,this.Ek.isIntersecting(this.Fb.Ca)?(this.th.add(this.Fb.kf),this.Ii.push(this.Fb.Ca),this.Qs=this.Fb.Ur(this.Fb.kf),this.vs=!1):this.Qs=-1},l.prototype.next=function(){if(this.th.size==0)return-1;this.tk=this.Qs;var s=null,r=null,n=null,a=null;this.vs&&(s=new c.h,r=new c.h,n=new c.l);for(var u=!1;!u;){for(;this.tk!=-1;){var d=this.Fb.bz(this.Fb.fv(this.tk));if(d.isIntersecting(this.Ek)){if(!this.vs){u=!0;break}if(s.L(this.TH),r.L(this.SH),n.K(d),n.W(this.qa,this.qa),0<n.zy(s,r)){u=!0;break}}this.tk=this.Fb.nv(this.tk)}if(this.tk==-1){d=this.th.Fc();var f=this.Ii[this.Ii.length-1];for(a==null&&((a=[])[0]=new c.l,a[1]=new c.l,a[2]=new c.l,a[3]=new c.l),y.EJ(f,a),this.th.If(),--this.Ii.length,f=0;4>f;f++){var g=this.Fb.Lp(d,f);if(g!=-1&&0<this.Fb.WR(g)&&a[f].isIntersecting(this.Ek))if(this.vs){if(s.L(this.TH),r.L(this.SH),n.K(a[f]),n.W(this.qa,this.qa),0<n.zy(s,r)){var b=new c.l;b.K(a[f]),this.th.add(g),this.Ii.push(b)}}else(b=new c.l).K(a[f]),this.th.add(g),this.Ii.push(b)}if(this.th.size==0)return-1;this.tk=this.Fb.Ur(this.th.get(this.th.size-1))}}return this.Qs=this.Fb.nv(this.tk),this.tk},l.bP=function(s,r,n){var a=new l;return a.Fb=s,a.Ek=new c.l,a.th=new c.ia(0),a.Ii=[],a.Uo(r,n),a},l.aP=function(s,r,n){var a=new l;return a.Fb=s,a.Ek=new c.l,a.th=new c.ia(0),a.Ii=[],a.Xi(r,n),a},l.$O=function(s){var r=new l;return r.Fb=s,r.Ek=new c.l,r.th=new c.ia(0),r.Ii=[],r},l}();c.GY=I;var y=function(){function l(s,r){this.jf=new c.$c(11),this.Zh=new c.$c(5),this.ws=[],this.gw=new c.ia(0),this.Ca=new c.l,this.Nk(s,r)}return l.prototype.reset=function(s,r){this.jf.mj(!1),this.Zh.mj(!1),this.ws.length=0,this.gw.clear(!1),this.Nk(s,r)},l.prototype.vj=function(s,r){return this.zv(s,r,0,this.Ca,this.kf,!1,-1)},l.prototype.Jz=function(s,r,n){n=n==-1?this.kf:this.WF(n);var a=this.ca(n),u=this.oR(n);return this.zv(s,r,a,u,n,!1,-1)},l.prototype.ja=function(s){return this.jR(s)},l.prototype.GF=function(s){return this.bz(this.fv(s))},l.prototype.ca=function(s){return this.jv(s)},l.prototype.oR=function(s){var r=new c.l;r.K(this.Ca);var n=this.jv(s);s=this.QF(s);for(var a=0;a<2*n;a+=2){var u=c.O.truncate(3&s>>a);u==0?(r.v=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):u==1?(r.C=.5*(r.v+r.C),r.G=.5*(r.G+r.H)):(u==2?r.C=.5*(r.v+r.C):r.v=.5*(r.v+r.C),r.H=.5*(r.G+r.H))}return r},l.prototype.WR=function(s){return this.Az(s)},l.prototype.vR=function(s,r){return I.bP(this,s,r)},l.prototype.MF=function(s,r){return I.aP(this,s,r)},l.prototype.getIterator=function(){return I.$O(this)},l.prototype.Nk=function(s,r){if(0>r||32<2*r)throw c.i.N("invalid height");this.BT=r,this.Ca.K(s),this.kf=this.jf.Ce(),this.jx(this.kf,0),this.ax(this.kf,0),this.NJ(this.kf,0),this.KJ(this.kf,0)},l.prototype.zv=function(s,r,n,a,u,d,f){if(!a.contains(r))return n==0?-1:this.zv(s,r,0,this.Ca,this.kf,d,f);if(!d)for(var g=u;g!=-1;g=this.IR(g))this.jx(g,this.Az(g)+1);(g=new c.l).K(a),a=u;var b=[];for(b[0]=new c.l,b[1]=new c.l,b[2]=new c.l,b[3]=new c.l;n<this.BT&&this.iO(a);n++){l.EJ(g,b);for(var _=!1,S=0;4>S;S++)if(b[S].contains(r)){_=!0;var T=this.Lp(a,S);T==-1&&(T=this.rP(a,S)),this.jx(T,this.Az(T)+1),a=T,g.K(b[S]);break}if(!_)break}return this.sS(s,r,n,g,a,d,u,f)},l.prototype.sS=function(s,r,n,a,u,d,f,g){var b=this.NF(u);if(d){if(u==f)return g;this.SP(g),d=g}else d=this.tP(),this.NB(d,s),this.KW(this.fv(d),r);return this.mX(d,u),b!=-1?(this.hx(d,b),this.bx(b,d)):this.GJ(u,d),this.SB(u,d),this.ax(u,this.lv(u)+1),this.hO(u)&&this.MQ(n,a,u),d},l.prototype.SP=function(s){var r=this.WF(s),n=this.NF(r),a=this.OR(s),u=this.nv(s);this.Ur(r)==s?(u!=-1?this.hx(u,-1):this.SB(r,-1),this.GJ(r,u)):n==s?(this.bx(a,-1),this.SB(r,a)):(this.hx(u,a),this.bx(a,u)),this.hx(s,-1),this.bx(s,-1),this.ax(r,this.lv(r)-1)},l.EJ=function(s,r){var n=.5*(s.v+s.C),a=.5*(s.G+s.H);r[0].K(n,a,s.C,s.H),r[1].K(s.v,a,n,s.H),r[2].K(s.v,s.G,n,a),r[3].K(n,s.G,s.C,a)},l.prototype.hO=function(s){return this.lv(s)==8&&!this.gG(s)},l.prototype.MQ=function(s,r,n){var a=this.Ur(n);do{var u=this.fv(a),d=this.Zh.T(a,0);u=this.bz(u),this.zv(d,u,s,r,n,!0,a),a=d=this.nv(a)}while(a!=-1)},l.prototype.iO=function(s){return 8<=this.lv(s)||this.gG(s)},l.prototype.gG=function(s){return this.Lp(s,0)!=-1||this.Lp(s,1)!=-1||this.Lp(s,2)!=-1||this.Lp(s,3)!=-1},l.prototype.rP=function(s,r){var n=this.jf.Ce();return this.OW(s,r,n),this.jx(n,0),this.ax(n,0),this.Pk(n,s),this.KJ(n,this.jv(s)+1),this.NJ(n,r<<2*this.jv(s)|this.QF(s)),n},l.prototype.tP=function(){var s=this.Zh.Ce();if(0<this.gw.size){var r=this.gw.Fc();this.gw.If()}else r=this.ws.length,this.ws.push(new c.l);return this.LW(s,r),s},l.prototype.Lp=function(s,r){return this.jf.T(s,r)},l.prototype.OW=function(s,r,n){this.jf.S(s,r,n)},l.prototype.Ur=function(s){return this.jf.T(s,4)},l.prototype.GJ=function(s,r){this.jf.S(s,4,r)},l.prototype.NF=function(s){return this.jf.T(s,5)},l.prototype.SB=function(s,r){this.jf.S(s,5,r)},l.prototype.QF=function(s){return this.jf.T(s,6)},l.prototype.NJ=function(s,r){this.jf.S(s,6,r)},l.prototype.lv=function(s){return this.jf.T(s,7)},l.prototype.Az=function(s){return this.jf.T(s,8)},l.prototype.ax=function(s,r){this.jf.S(s,7,r)},l.prototype.jx=function(s,r){this.jf.S(s,8,r)},l.prototype.IR=function(s){return this.jf.T(s,9)},l.prototype.Pk=function(s,r){this.jf.S(s,9,r)},l.prototype.jv=function(s){return this.jf.T(s,10)},l.prototype.KJ=function(s,r){this.jf.S(s,10,r)},l.prototype.jR=function(s){return this.Zh.T(s,0)},l.prototype.NB=function(s,r){this.Zh.S(s,0,r)},l.prototype.OR=function(s){return this.Zh.T(s,1)},l.prototype.nv=function(s){return this.Zh.T(s,2)},l.prototype.hx=function(s,r){this.Zh.S(s,1,r)},l.prototype.bx=function(s,r){this.Zh.S(s,2,r)},l.prototype.WF=function(s){return this.Zh.T(s,3)},l.prototype.mX=function(s,r){this.Zh.S(s,3,r)},l.prototype.fv=function(s){return this.Zh.T(s,4)},l.prototype.LW=function(s,r){this.Zh.S(s,4,r)},l.prototype.bz=function(s){return this.ws[s]},l.prototype.KW=function(s,r){this.ws[s].K(r)},l}();c.du=y}(U||(U={})),function(c){var I;(I=c.aL||(c.aL={}))[I.Outside=0]="Outside",I[I.Inside=1]="Inside",I[I.Border=2]="Border";var y=function(){function s(r,n){this.PT=n,this.Vh=r}return s.prototype.setColor=function(r,n){this.iH!=n&&r.flush(),this.iH=n},s.prototype.gF=function(r,n){for(var a=0;a<n;)for(var u=r[a++],d=r[a++],f=r[a++]*this.PT;u<d;u++)this.Vh[f+(u>>4)]|=this.iH<<2*(15&u)},s}();c.HY=y;var l=function(){function s(r,n,a){this.Vh=null,this.SA=this.Ik=this.cI=this.aI=this.Es=this.qH=this.Gf=this.Um=0,this.Ri=this.Jk=this.vl=null,this.Fz(r,n,a)}return s.create=function(r,n,a){if(!s.zE(r))throw c.i.N();return s.wP(r,n,a)},s.pW=function(r){switch(r){case 0:r=1024;break;case 1:r=16384;break;case 2:r=262144;break;default:throw c.i.fa("Internal Error")}return r},s.zE=function(r){return!(r.B()||r.getType()!=1607&&r.getType()!=1736)},s.prototype.rQ=function(r,n){n=n.Ga();for(var a=new c.h,u=new c.h;n.$a();)for(;n.Ha();){var d=n.ha();if(d.getType()!=322)throw c.i.fa("Internal Error");r.Eh(d.ac(),a),r.Eh(d.wc(),u),this.Ri.jy(a.x,a.y,u.x,u.y)}this.Ri.iJ(c.Px.Cx)},s.prototype.sQ=function(){throw c.i.fa("Internal Error")},s.prototype.Ry=function(r,n){for(var a=1;4>a;a++)r.jy(n[a-1].x,n[a-1].y,n[a].x,n[a].y);r.jy(n[3].x,n[3].y,n[0].x,n[0].y),this.Ri.iJ(c.Px.Cx)},s.prototype.rK=function(r,n,a){for(var u=[null,null,null,null],d=0;d<u.length;d++)u[d]=new c.h;n=n.Ga(),a=this.Jk.dY(a)+1.5,d=new c.h;for(var f=new c.h,g=new c.h,b=new c.h,_=new c.h,S=new c.l,T=new c.h;n.$a();){var k=!1,O=!0;for(T.ma(0,0);n.Ha();){var N=n.ha();if(b.x=N.sa,b.y=N.na,_.x=N.pa,_.y=N.la,S.Oa(),S.Zb(b.x,b.y),S.Lk(_.x,_.y),this.vl.HG(S)){this.Jk.Eh(_,_),O?(this.Jk.Eh(b,b),T.L(b),O=!1):b.L(T),d.uc(_,b);var D=.5>(N=d.length());N==0?d.ma(1,0):(D||T.L(_),d.scale(a/N),f.ma(-d.y,d.x),g.ma(d.y,-d.x),b.sub(d),_.add(d),u[0].add(b,f),u[1].add(b,g),u[2].add(_,g),u[3].add(_,f),D?k=!0:this.Ry(r,u))}else k&&(this.Ry(r,u),k=!1),O=!0}k&&this.Ry(r,u)}},s.prototype.sC=function(r){return c.O.truncate(r*this.qH+this.aI)},s.prototype.tC=function(r){return c.O.truncate(r*this.Es+this.cI)},s.wP=function(r,n,a){return new s(r,n,a)},s.prototype.Fz=function(r,n,a){this.Gf=Math.max(c.O.truncate(2*Math.sqrt(a)+.5),64),this.Um=c.O.truncate((2*this.Gf+31)/32),this.vl=new c.l,this.Ik=n,a=0;for(var u=this.Gf,d=this.Um;8<=u;)a+=u*d,u=c.O.truncate(u/2),d=c.O.truncate((2*u+31)/32);this.Vh=c.O.lg(a,0),this.Ri=new c.Px,a=new y(this.Vh,this.Um,this),this.Ri.AX(this.Gf,this.Gf,a),r.A(this.vl),this.vl.W(n,n),u=new c.l;var f=n*(d=c.l.construct(1,1,this.Gf-2,this.Gf-2)).R();switch(n*=d.ca(),u.K(this.vl.sf(),Math.max(f,this.vl.R()),Math.max(n,this.vl.ca())),this.SA=this.Ik,this.Jk=new c.Dd,this.Jk.pS(u,d),new c.Dd,r.getType()){case 550:a.setColor(this.Ri,2),this.sQ();break;case 1607:a.setColor(this.Ri,2),this.rK(this.Ri,r,this.SA);break;case 1736:a.setColor(this.Ri,1),this.rQ(this.Jk,r),a.setColor(this.Ri,2),this.rK(this.Ri,r,this.SA)}this.qH=this.Jk.bb,this.Es=this.Jk.ab,this.aI=this.Jk.Gb,this.cI=this.Jk.Lb,this.XN()},s.prototype.XN=function(){this.Ri.flush();for(var r=0,n=this.Gf*this.Um,a=this.Gf,u=c.O.truncate(this.Gf/2),d=this.Um,f=c.O.truncate((2*u+31)/32);8<a;){for(a=0;a<u;a++)for(var g=2*a,b=2*a+1,_=0;_<u;_++){var S=2*_,T=2*_+1,k=S>>4;S=2*(15&S);var O=T>>4;T=2*(15&T);var N=this.Vh[r+d*g+k]>>S&3;N|=this.Vh[r+d*g+O]>>T&3,N|=this.Vh[r+d*b+k]>>S&3,N|=this.Vh[r+d*b+O]>>T&3,this.Vh[n+f*a+(_>>4)]|=N<<2*(15&_)}a=u,d=f,r=n,u=c.O.truncate(a/2),f=c.O.truncate((2*u+31)/32),n=r+d*a}},s.prototype.So=function(r,n){return this.vl.contains(r,n)?(r=this.sC(r),n=this.tC(n),0>r||r>=this.Gf||0>n||n>=this.Gf||(n=this.Vh[this.Um*n+(r>>4)]>>2*(15&r)&3)==0?0:n==1?1:2):0},s.prototype.Ro=function(r){if(!r.Ea(this.vl))return 0;var n=this.sC(r.v),a=this.sC(r.C),u=this.tC(r.G);if(r=this.tC(r.H),0>n&&(n=0),0>u&&(u=0),a>=this.Gf&&(a=this.Gf-1),r>=this.Gf&&(r=this.Gf-1),n>a||u>r)return 0;for(var d=Math.max(a-n,1)*Math.max(r-u,1),f=0,g=this.Um,b=this.Gf,_=0;;){if(32>d||16>b){for(d=u;d<=r;d++)for(var S=n;S<=a;S++)if(1<(_=this.Vh[f+g*d+(S>>4)]>>2*(15&S)&3))return 2;if(_==0)return 0;if(_==1)return 1}f+=g*b,b=c.O.truncate(b/2),g=c.O.truncate((2*b+31)/32),n=c.O.truncate(n/2),u=c.O.truncate(u/2),a=c.O.truncate(a/2),r=c.O.truncate(r/2),d=Math.max(a-n,1)*Math.max(r-u,1)}},s.prototype.RR=function(){return this.Gf*this.Um},s}();c.Nx=l}(U||(U={})),function(c){var I;(I=c.VL||(c.VL={}))[I.contains=1]="contains",I[I.within=2]="within",I[I.equals=3]="equals",I[I.disjoint=4]="disjoint",I[I.touches=8]="touches",I[I.crosses=16]="crosses",I[I.overlaps=32]="overlaps",I[I.unknown=0]="unknown",I[I.intersects=1073741824]="intersects";var y=function(){function s(){}return s.construct=function(r,n,a,u,d,f,g,b){var _=new s;return _.pw=r,_.Mm=n,_.Kj=a,_.Si=u,_.BH=d,_.SY=f,_.TY=g,_.UY=b,_},s}();c.Vt=function(){function s(){}return s.CD=function(r,n,a){if(s.wy(r)){var u=c.ta.kj(n,r,!1);n=!1,c.Uk.CE(r)&&(n=n||r.lu(u,a)),(u=r.getType())!=1736&&u!=1607||!c.Uk.AE(r)||a==0||(n=n||r.fj(a)),u!=1736&&u!=1607||!c.Uk.BE(r)||a==0||n||r.hM()}},s.wy=function(r){return c.Uk.CE(r)||c.Uk.AE(r)||c.Uk.BE(r)},s}();var l=function(){function s(){this.rh=[]}return s.zB=function(r,n,a,u,d){var f=r.getType(),g=n.getType();if(f==197){if(g==197)return s.tW(r,n,a,u);if(g==33)return u==2?u=1:u==1&&(u=2),s.hJ(n,r,a,u)}else if(f==33){if(g==197)return s.hJ(r,n,a,u);if(g==33)return s.vW(r,n,a,u)}if(r.B()||n.B())return u==4;var b=new c.l;r.A(b);var _=new c.l;n.A(_);var S=new c.l;if(S.K(b),S.Zb(_),a=c.ta.Wd(a,S,!1),s.dk(b,_,a))return u==4;switch(b=!1,c.Vk.yd(f)&&((f=new c.Ta(r.description)).oc(r,!0),r=f,f=1607),c.Vk.yd(g)&&((g=new c.Ta(n.description)).oc(n,!0),n=g,g=1607),f!=197&&g!=197?(r.Db()<n.Db()||f==33&&g==550)&&(u==2?u=1:u==1&&(u=2)):f!=1736&&g!=197&&(u==2?u=1:u==1&&(u=2)),f){case 1736:switch(g){case 1736:b=s.rt(r,n,a,u,d);break;case 1607:b=s.$m(r,n,a,u,d);break;case 33:b=s.qt(r,n,a,u);break;case 550:b=s.pt(r,n,a,u,d);break;case 197:b=s.GI(r,n,a,u,d)}break;case 1607:switch(g){case 1736:b=s.$m(n,r,a,u,d);break;case 1607:b=s.gB(r,n,a,u,d);break;case 33:b=s.tt(r,n,a,u,d);break;case 550:b=s.st(r,n,a,u,d);break;case 197:b=s.MI(r,n,a,u)}break;case 33:switch(g){case 1736:b=s.qt(n,r,a,u);break;case 1607:b=s.tt(n,r,a,u,d);break;case 550:b=s.lt(n,r,a,u)}break;case 550:switch(g){case 1736:b=s.pt(n,r,a,u,d);break;case 1607:b=s.st(n,r,a,u,d);break;case 550:b=s.ZA(r,n,a,u,d);break;case 33:b=s.lt(r,n,a,u);break;case 197:b=s.hI(r,n,a,u)}break;case 197:switch(g){case 1736:b=s.GI(n,r,a,u,d);break;case 1607:b=s.MI(n,r,a,u);break;case 550:b=s.hI(n,r,a,u)}}return b},s.tW=function(r,n,a,u){if(r.B()||n.B())return u==4;var d=new c.l,f=new c.l,g=new c.l;switch(r.A(d),n.A(f),g.K(d),g.Zb(f),r=c.ta.Wd(a,g,!1),u){case 4:return s.dk(d,f,r);case 2:return s.jF(f,d,r);case 1:return s.jF(d,f,r);case 3:return s.ek(d,f,r);case 8:return s.cQ(d,f,r);case 32:return s.bQ(d,f,r);case 16:return s.aQ(d,f,r)}return!1},s.hJ=function(r,n,a,u){if(r.B()||n.B())return u==4;r=r.D();var d=new c.l,f=new c.l;switch(n.A(d),f.K(r),f.Zb(d),n=c.ta.Wd(a,f,!1),u){case 4:return s.Rw(r,d,n);case 2:return s.eB(r,d,n);case 1:return s.RU(r,d,n);case 3:return s.vI(r,d,n);case 8:return s.dB(r,d,n)}return!1},s.vW=function(r,n,a,u){if(r.B()||n.B())return u==4;r=r.D(),n=n.D();var d=new c.l;switch(d.K(r),d.Zb(n),a=c.ta.Wd(a,d,!1),u){case 4:return s.SU(r,n,a);case 2:return s.uI(n,r,a);case 1:return s.uI(r,n,a);case 3:return s.wI(r,n,a)}return!1},s.rt=function(r,n,a,u,d){switch(u){case 4:return s.kV(r,n,a);case 2:return s.Sw(n,r,a,d);case 1:return s.Sw(r,n,a,d);case 3:return s.nV(r,n,a);case 8:return s.vV(r,n,a);case 32:return s.qV(r,n,a,d)}return!1},s.$m=function(r,n,a,u,d){switch(u){case 4:return s.lV(r,n,a);case 1:return s.fB(r,n,a,d);case 8:return s.wV(r,n,a,d);case 16:return s.gV(r,n,a)}return!1},s.qt=function(r,n,a,u){switch(u){case 4:return s.jV(r,n,a);case 1:return s.dV(r,n,a);case 8:return s.uV(r,n,a)}return!1},s.pt=function(r,n,a,u){switch(u){case 4:return s.iV(r,n,a);case 1:return s.cV(r,n,a);case 8:return s.tV(r,n,a);case 16:return s.fV(r,n,a)}return!1},s.GI=function(r,n,a,u,d){if(s.hV(r,n,a))return u==4;if(u==4)return!1;switch(u){case 2:return s.xV(r,n,a);case 1:return s.bV(r,n,a);case 3:return s.mV(r,n,a);case 8:return s.sV(r,n,a,d);case 32:return s.pV(r,n,a,d);case 16:return s.eV(r,n,a,d)}return!1},s.gB=function(r,n,a,u){switch(u){case 4:return s.GV(r,n,a);case 2:return s.KI(n,r,a);case 1:return s.KI(r,n,a);case 3:return s.IV(r,n,a);case 8:return s.NI(r,n,a);case 32:return s.MV(r,n,a);case 16:return s.LI(r,n,a)}return!1},s.tt=function(r,n,a,u){switch(u){case 4:return s.FV(r,n,a);case 1:return s.AV(r,n,a);case 8:return s.QV(r,n,a)}return!1},s.st=function(r,n,a,u){switch(u){case 4:return s.EV(r,n,a);case 1:return s.zV(r,n,a);case 8:return s.PV(r,n,a);case 16:return s.CV(r,n,a)}return!1},s.MI=function(r,n,a,u){if(s.DV(r,n,a))return u==4;if(u==4)return!1;switch(u){case 2:return s.RV(r,n,a);case 1:return s.yV(r,n,a);case 3:return s.HV(r,n,a);case 8:return s.OV(r,n,a);case 32:return s.LV(r,n,a);case 16:return s.BV(r,n,a)}return!1},s.ZA=function(r,n,a,u){switch(u){case 4:return s.gU(r,n,a);case 2:return s.eI(n,r,a);case 1:return s.eI(r,n,a);case 3:return s.iU(r,n,a);case 32:return s.oU(r,n,a)}return!1},s.lt=function(r,n,a,u){switch(u){case 4:return s.fI(r,n,a);case 2:return s.sU(r,n,a);case 1:return s.dU(r,n,a);case 3:return s.Nw(r,n,a)}return!1},s.hI=function(r,n,a,u){switch(u){case 4:return s.fU(r,n,a);case 2:return s.rU(r,n,a);case 1:return s.cU(r,n,a);case 3:return s.hU(r,n,a);case 8:return s.qU(r,n,a);case 16:return s.eU(r,n,a)}return!1},s.nV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!!s.ek(u,d,a)&&(u=s.qc(r,n,!1))!=4&&u!=1&&u!=2&&(!!s.dI(r,n,a)||(u=r.Qb(),d=n.Qb(),!(Math.abs(u-d)>4*Math.max(r.I(),n.I())*a)&&s.Wz(r,n,a,!0)))},s.kV=function(r,n,a){var u=s.qc(r,n,!0);return u==4||u!=1&&u!=2&&u!=1073741824&&s.EI(r,n,a)},s.vV=function(r,n,a){var u=s.qc(r,n,!1);return u!=4&&u!=1&&u!=2&&s.II(r,n,a,null)},s.qV=function(r,n,a,u){var d=s.qc(r,n,!1);return d!=4&&d!=1&&d!=2&&s.FI(r,n,a,u)},s.Sw=function(r,n,a,u){var d=new c.l,f=new c.l;return r.A(d),n.A(f),!!s.zc(d,f,a)&&(d=s.qc(r,n,!1))!=4&&d!=2&&(d==1||s.BI(r,n,a,u))},s.lV=function(r,n,a){var u=s.qc(r,n,!0);return u==4||u!=1&&u!=1073741824&&s.EI(r,n,a)},s.wV=function(r,n,a,u){var d=s.qc(r,n,!1);return d!=4&&d!=1&&s.JI(r,n,a,u)},s.gV=function(r,n,a){var u=s.qc(r,n,!1);return u!=4&&u!=1&&s.DI(r,n,a,null)},s.fB=function(r,n,a,u){var d=new c.l,f=new c.l;return r.A(d),n.A(f),!!s.zc(d,f,a)&&(d=s.qc(r,n,!1))!=4&&(d==1||s.CI(r,n,a,u))},s.jV=function(r,n,a){return c.hd.KG(r,n,a)==0},s.uV=function(r,n,a){return n=n.D(),s.HI(r,n,a)},s.dV=function(r,n,a){return n=n.D(),s.AI(r,n,a)},s.iV=function(r,n,a){var u=s.qc(r,n,!1);if(u==4)return!0;if(u==1)return!1;u=new c.l,r.A(u),u.W(a,a);for(var d=new c.h,f=0;f<n.I();f++)if(n.D(f,d),u.contains(d)){var g=c.hd.Yd(r,d,a);if(g==1||g==2)return!1}return!0},s.tV=function(r,n,a){var u=this.qc(r,n,!1);if(u==4||u==1)return!1;u=new c.l,r.A(u),u.W(a,a);for(var d=!1,f=r,g=!1,b=0;b<n.I();b++){var _=n.Na(b);if(u.contains(_)){if((_=c.hd.Yd(f,_,a))==2)d=!0;else if(_==1)return!1}g||(!c.Dg.Ml(r,n.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?f=r:(f=new c.Da,r.copyTo(f),f.fj(1)),g=!0)}return!!d},s.fV=function(r,n,a){var u=this.qc(r,n,!1);if(u==4||u==1)return!1;var d=new c.l;u=new c.l;var f=new c.l;r.A(d),n.A(f),u.K(d),u.W(a,a),f=d=!1;for(var g=r,b=!1,_=0;_<n.I();_++){var S=n.Na(_);if(u.contains(S)?(S=c.hd.Yd(g,S,a))==0?f=!0:S==1&&(d=!0):f=!0,d&&f)return!0;b||(!c.Dg.Ml(r,n.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?g=r:(g=new c.Da,r.copyTo(g),g.fj(1)),b=!0)}return!1},s.cV=function(r,n,a){var u=new c.l,d=new c.l;if(r.A(u),n.A(d),!this.zc(u,d,a)||(d=this.qc(r,n,!1))==4)return!1;if(d==1)return!0;d=!1;for(var f=r,g=!1,b=0;b<n.I();b++){var _=n.Na(b);if(!u.contains(_))return!1;if((_=c.hd.Yd(f,_,a))==1)d=!0;else if(_==0)return!1;g||(!c.Dg.Ml(r,n.I()-1)||r.Bb!=null&&r.Bb.Fb!=null?f=r:(f=new c.Da,r.copyTo(f),f.fj(1)),g=!0)}return d},s.mV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!!s.ek(u,d,a)&&((u=new c.Da).ad(n,!1),s.Wz(r,u,a,!0))},s.hV=function(r,n,a){var u=s.qc(r,n,!1);if(u==4)return!0;if(u==1||u==2)return!1;var d=new c.l;if(u=new c.l,r.A(d),n.A(u),s.zc(u,d,a)||(d=new c.h,u.dn(d),(n=c.hd.Yd(r,d,a))!=0)||(u.$I(d),(n=c.hd.Yd(r,d,a))!=0)||(u.en(d),(n=c.hd.Yd(r,d,a))!=0)||(u.cJ(d),(n=c.hd.Yd(r,d,a))!=0))return!1;n=r.ub(0),(d=new c.l).K(u),d.W(a,a);for(var f=0,g=r.I();f<g;f++){var b=n.read(2*f),_=n.read(2*f+1);if(d.contains(b,_))return!1}return!s.TG(r,u,a)},s.sV=function(r,n,a,u){var d=s.qc(r,n,!1);if(d==4||d==1||d==2)return!1;d=new c.l;var f=new c.l;return r.A(d),n.A(f),!s.zc(f,d,a)&&(f.R()<=a&&f.ca()<=a?(n=n.Ip(),s.HI(r,n,a)):f.R()<=a||f.ca()<=a?(d=new c.Ta,f=new c.Sa,n.Hf(0,f),d.nf(f),n.Hf(2,f),d.lineTo(f),s.JI(r,d,a,u)):((d=new c.Da).ad(n,!1),s.II(r,d,a,u)))},s.pV=function(r,n,a,u){var d=s.qc(r,n,!1);if(d==4||d==1||d==2)return!1;d=new c.l;var f=new c.l;return r.A(d),n.A(f),!(s.zc(f,d,a)||f.R()<=a||f.ca()<=a)&&((d=new c.Da).ad(n,!1),s.FI(r,d,a,u))},s.xV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),s.zc(d,u,a)},s.bV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!!s.zc(u,d,a)&&(u=s.qc(r,n,!1))!=4&&u!=2&&(u==1||(d.R()<=a&&d.ca()<=a?(n=n.Ip(),s.AI(r,n,a)):d.R()<=a||d.ca()<=a?(d=new c.Ta,u=new c.Sa,n.Hf(0,u),d.nf(u),n.Hf(2,u),d.lineTo(u),s.CI(r,d,a,null)):((d=new c.Da).ad(n,!1),s.BI(r,d,a,null))))},s.eV=function(r,n,a,u){var d=new c.l,f=new c.l;return r.A(d),n.A(f),!(s.zc(f,d,a)||f.ca()>a&&f.R()>a||f.ca()<=a&&f.R()<=a)&&(d=new c.Ta,f=new c.Sa,n.Hf(0,f),d.nf(f),n.Hf(2,f),d.lineTo(f),s.DI(r,d,a,u))},s.IV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!(!s.ek(u,d,a)||s.qc(r,n,!1)==4)&&(!!s.dI(r,n,a)||s.Wz(r,n,a,!1))},s.GV=function(r,n,a){return this.qc(r,n,!1)==4||!!new c.Zl(r,n,a,!0).next()&&!this.UG(r,n,a)},s.NI=function(r,n,a){if(s.qc(r,n,!1)==4)return!1;var u=new c.be(0);if(s.Xz(r,n,a,u)!=0)return!1;for(var d=new c.de,f=0;f<u.size;f+=2){var g=u.read(f),b=u.read(f+1);d.Bu(g,b)}return r=r.mg(),n=n.mg(),r.Fd(n,0,n.I()),s.Mw(r,d,a)},s.LI=function(r,n,a){if(s.qc(r,n,!1)==4)return!1;var u=new c.be(0);if(s.Xz(r,n,a,u)!=0)return!1;for(var d=new c.de,f=0;f<u.size;f+=2){var g=u.read(f),b=u.read(f+1);d.Bu(g,b)}return r=r.mg(),n=n.mg(),r.Fd(n,0,n.I()),!s.Mw(r,d,a)},s.MV=function(r,n,a){return s.qc(r,n,!1)!=4&&s.WG(r,n,a)},s.KI=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!(!s.zc(u,d,a)||s.qc(r,n,!1)==4)&&s.ym(n,r,a,!1)},s.FV=function(r,n,a){return s.qc(r,n,!1)==4||(n=n.D(),!s.Yz(r,n,a))},s.QV=function(r,n,a){return s.qc(r,n,!1)!=4&&(n=n.D(),s.Zz(r,n,a))},s.AV=function(r,n,a){return s.qc(r,n,!1)!=4&&(n=n.D(),s.SG(r,n,a))},s.EV=function(r,n,a){return s.qc(r,n,!1)==4||!s.VG(r,n,a,!1)},s.PV=function(r,n,a){if(this.qc(r,n,!1)==4)return!1;var u=r.Ga(),d=new c.l,f=new c.l,g=new c.l;r.A(d),n.A(f),d.W(a,a),f.W(a,a),g.K(d),g.Ea(f),d=null;var b=r.Bb;if(b!=null){var _=b.Fb;d=b.zo,_==null&&(_=b=c.ta.jj(r,g))}else _=b=c.ta.jj(r,g);var S=_.getIterator(),T=null;d!=null&&(T=d.getIterator());var k=new c.h,O=new c.h,N=!1,D=a*a;for(d=new c.pn(n.I()),b=0;b<n.I();b++)d.write(b,0);for(b=0;b<n.I();b++)if(n.D(b,k),g.contains(k)){if(f.K(k.x,k.y,k.x,k.y),T!=null&&(T.Xi(f,a),T.next()==-1))continue;S.Xi(f,a);for(var z=S.next();z!=-1;z=S.next())if(u.Vb(_.ja(z)),(z=u.ha()).hc(z.fe(k,!1),O),c.h.yc(k,O)<=D){d.write(b,1),N=!0;break}}if(!N)return!1;for(r=r.mg(),u=new c.de,f=new c.h,b=0;b<n.I();b++)d.read(b)!=0&&(n.D(b,f),u.Bu(f.x,f.y));return this.Mw(r,u,a)},s.CV=function(r,n,a){if(this.qc(r,n,!1)==4)return!1;var u=r.Ga(),d=new c.l,f=new c.l,g=new c.l;r.A(d),n.A(f),d.W(a,a),f.W(a,a),g.K(d),g.Ea(f),d=null;var b=r.Bb;if(b!=null){var _=b.Fb;d=b.zo,_==null&&(_=b=c.ta.jj(r,g))}else _=b=c.ta.jj(r,g);var S=_.getIterator(),T=null;d!=null&&(T=d.getIterator());var k=new c.h,O=new c.h,N=!1,D=!1,z=a*a;for(d=new c.pn(n.I()),b=0;b<n.I();b++)d.write(b,0);for(b=0;b<n.I();b++)if(n.D(b,k),g.contains(k)){if(f.K(k.x,k.y,k.x,k.y),T!=null&&(T.Xi(f,a),T.next()==-1)){D=!0;continue}S.Xi(f,a);for(var L=!1,F=S.next();F!=-1;F=S.next())if(u.Vb(_.ja(F)),(F=u.ha()).hc(F.fe(k,!1),O),c.h.yc(k,O)<=z){d.write(b,1),L=N=!0;break}L||(D=!0)}else D=!0;if(!N||!D)return!1;for(r=r.mg(),u=new c.de,f=new c.h,b=0;b<n.I();b++)d.read(b)!=0&&(n.D(b,f),u.Bu(f.x,f.y));return!this.Mw(r,u,a)},s.zV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!(!s.zc(u,d,a)||s.qc(r,n,!1)==4||!s.VG(r,n,a,!0))&&(r=r.mg(),!s.gI(r,n,a))},s.HV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!(d.ca()>a&&d.R()>a)&&s.ek(u,d,a)},s.DV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!s.zc(d,u,a)&&!s.TG(r,d,a)},s.OV=function(r,n,a){var u=new c.l,d=new c.l;if(r.A(u),n.A(d),d.ca()<=a&&d.R()<=a)return d=n.Ip(),s.Zz(r,d,a);if(d.ca()<=a||d.R()<=a)return d=new c.Ta,u=new c.Sa,n.Hf(0,u),d.nf(u),n.Hf(2,u),d.lineTo(u),s.NI(r,d,a);r=r.Ga(),n=new c.l,u=new c.l,n.K(d),u.K(d),n.W(-a,-a),u.W(a,a),d=!1;for(var f=new c.l,g=new c.l;r.$a();)for(;r.Ha();){if(r.ha().A(f),g.K(n),g.Ea(f),!g.B()&&(g.ca()>a||g.R()>a))return!1;g.K(u),g.Ea(f),g.B()||(d=!0)}return d},s.LV=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!(s.zc(u,d,a)||s.zc(d,u,a)||s.zc(d,u,a)||d.ca()>a&&d.R()>a||d.ca()<=a&&d.R()<=a)&&(u=new c.Ta,d=new c.Sa,n.Hf(0,d),u.nf(d),n.Hf(2,d),u.lineTo(d),s.WG(r,u,a))},s.RV=function(r,n,a){var u=new c.l,d=new c.l;if(r.A(u),n.A(d),!s.zc(d,u,a)||d.ca()<=a&&d.R()<=a)return!1;if(d.ca()<=a||d.R()<=a)return s.zc(d,u,a);r=r.Ga(),(n=new c.l).K(d),n.W(-a,-a),d=!1,u=new c.l;for(var f=new c.l;r.$a();)for(;r.Ha();)r.ha().A(u),n.hm(u)?d=!0:(f.K(n),f.Ea(u),!f.B()&&(f.ca()>a||f.R()>a)&&(d=!0));return d},s.yV=function(r,n,a){var u=new c.l,d=new c.l;return n.A(d),r.A(u),!(!s.zc(u,d,a)||d.ca()>a&&d.R()>a)&&(d.ca()<=a&&d.R()<=a?(n=n.Ip(),s.SG(r,n,a)):(u=new c.Ta,d=new c.Sa,n.Hf(0,d),u.nf(d),n.Hf(2,d),u.lineTo(d),s.ym(u,r,a,!1)))},s.BV=function(r,n,a){var u=new c.l,d=new c.l;if(r.A(u),n.A(d),s.zc(d,u,a)||d.ca()<=a&&d.R()<=a)return!1;if(d.ca()<=a||d.R()<=a)return u=new c.Ta,d=new c.Sa,n.Hf(0,d),u.nf(d),n.Hf(2,d),u.lineTo(d),s.LI(r,u,a);r=r.Ga(),n=new c.l,(u=new c.l).K(d),n.K(d),u.W(-a,-a),n.W(a,a);for(var f=d=!1,g=new c.l,b=new c.l;r.$a();)for(;r.Ha();)if(r.ha().A(g),f||n.contains(g)||(f=!0),d||(b.K(u),b.Ea(g),!b.B()&&(b.ca()>a||b.R()>a)&&(d=!0)),d&&f)return!0;return!1},s.iU=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!!s.ek(u,d,a)&&(!!s.jU(r,n,a)||s.YA(r,n,a,!1,!0,!1))},s.gU=function(r,n,a){return!s.gI(r,n,a)},s.oU=function(r,n,a){return s.YA(r,n,a,!1,!1,!0)},s.eI=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!!s.zc(u,d,a)&&s.YA(n,r,a,!0,!1,!1)},s.Mw=function(r,n,a){a*=a;for(var u=new c.h,d=new c.h,f=0;f<n.I();f++){n.D(f,d);for(var g=!1,b=0;b<r.I();b++)if(r.D(b,u),c.h.yc(u,d)<=a){g=!0;break}if(!g)return!1}return!0},s.Nw=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),s.ek(u,d,a)},s.fI=function(r,n,a){return n=n.D(),s.kt(r,n,a)},s.sU=function(r,n,a){return s.Nw(r,n,a)},s.dU=function(r,n,a){return!s.fI(r,n,a)},s.hU=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!(d.ca()>a||d.R()>a)&&s.ek(u,d,a)},s.fU=function(r,n,a){var u=new c.l,d=new c.l;if(r.A(u),n.A(d),s.zc(d,u,a))return!1;for((n=new c.l).K(d),n.W(a,a),a=new c.h,d=0;d<r.I();d++)if(r.D(d,a),n.contains(a))return!1;return!0},s.qU=function(r,n,a){var u=new c.l,d=new c.l,f=new c.l;if(n.A(u),u.ca()<=a&&u.R()<=a)return!1;if(u.ca()<=a||u.R()<=a){n=new c.h;var g=!1;d.K(u),f.K(u),d.W(a,a),u.ca()>a?f.W(0,-a):f.W(-a,0);for(var b=0;b<r.I();b++)if(r.D(b,n),d.contains(n)){if(u.ca()>a){if(n.y>f.G&&n.y<f.H)return!1}else if(n.x>f.v&&n.x<f.C)return!1;g=!0}return g}for(d.K(u),f.K(u),d.W(a,a),f.W(-a,-a),n=new c.h,g=!1,b=0;b<r.I();b++)if(r.D(b,n),d.contains(n)){if(f.hm(n))return!1;g=!0}return g},s.rU=function(r,n,a){var u=new c.l,d=new c.l;if(r.A(u),n.A(d),!s.zc(d,u,a))return!1;if(d.ca()<=a&&d.R()<=a)return s.ek(u,d,a);if(d.ca()<=a||d.R()<=a){n=!1,u=new c.l;var f=new c.l;u.K(d),f.K(d),d.ca()>a?u.W(0,-a):u.W(-a,0),f.W(a,a);for(var g=new c.h,b=0;b<r.I();b++){if(r.D(b,g),!f.contains(g))return!1;d.ca()>a?g.y>u.G&&g.y<u.H&&(n=!0):g.x>u.v&&g.x<u.C&&(n=!0)}return n}for(n=!1,u=new c.l,f=new c.l,u.K(d),f.K(d),u.W(-a,-a),f.W(a,a),g=new c.h,b=0;b<r.I();b++){if(r.D(b,g),!f.contains(g))return!1;u.hm(g)&&(n=!0)}return n},s.cU=function(r,n,a){var u=new c.l,d=new c.l;return r.A(u),n.A(d),!(!s.zc(u,d,a)||d.ca()>a||d.R()>a)&&(n=n.Ip(),!s.kt(r,n,a))},s.eU=function(r,n,a){var u=new c.l,d=new c.l;if(r.A(u),n.A(d),s.zc(d,u,a)||d.ca()<=a&&d.R()<=a)return!1;if(d.ca()<=a||d.R()<=a){n=new c.l,u=new c.l,n.K(d),d.ca()>a?n.W(0,-a):n.W(-a,0),u.K(d),u.W(a,a);for(var f=new c.h,g=!1,b=!1,_=0;_<r.I();_++)if(r.D(_,f),g||(d.ca()>a?f.y>n.G&&f.y<n.H&&(g=!0):f.x>n.v&&f.x<n.C&&(g=!0)),b||u.contains(f)||(b=!0),g&&b)return!0;return!1}for(n=new c.l,u=new c.l,n.K(d),n.W(-a,-a),u.K(d),u.W(a,a),f=new c.h,b=g=!1,_=0;_<r.I();_++)if(r.D(_,f),!g&&n.hm(f)&&(g=!0),b||u.contains(f)||(b=!0),g&&b)return!0;return!1},s.wI=function(r,n,a){return c.h.yc(r,n)<=a*a},s.SU=function(r,n,a){return c.h.yc(r,n)>a*a},s.uI=function(r,n,a){return s.wI(r,n,a)},s.vI=function(r,n,a){var u=new c.l;return u.K(r),s.ek(u,n,a)},s.Rw=function(r,n,a){var u=new c.l;return u.K(n),u.W(a,a),!u.contains(r)},s.dB=function(r,n,a){if(n.ca()<=a&&n.R()<=a)return!1;var u=new c.l,d=new c.l;if(u.K(n),u.W(a,a),!u.contains(r))return!1;if(n.ca()<=a||n.R()<=a){if(d.K(n),n.ca()>a?d.W(0,-a):d.W(-a,0),n.ca()>a){if(r.y>d.G&&r.y<d.H)return!1}else if(r.x>d.v&&r.x<d.C)return!1;return!0}return d.K(n),d.W(-a,-a),!d.hm(r)},s.eB=function(r,n,a){if(n.ca()<=a&&n.R()<=a)return!0;if(n.ca()<=a||n.R()<=a){var u=new c.l;u.K(n),n.ca()>a?u.W(0,-a):u.W(-a,0);var d=!1;return n.ca()>a?r.y>u.G&&r.y<u.H&&(d=!0):r.x>u.v&&r.x<u.C&&(d=!0),d}return(u=new c.l).K(n),u.W(-a,-a),u.hm(r)},s.RU=function(r,n,a){return s.vI(r,n,a)},s.ek=function(r,n,a){return s.zc(r,n,a)&&s.zc(n,r,a)},s.dk=function(r,n,a){var u=new c.l;return u.K(n),u.W(a,a),!r.isIntersecting(u)},s.cQ=function(r,n,a){if(r.ca()<=a&&r.R()<=a){var u=r.sf();return s.dB(u,n,a)}if(n.ca()<=a&&n.R()<=a)return u=n.sf(),s.dB(u,r,a);if(r.ca()>a&&r.R()>a&&(n.ca()<=a||n.R()<=a)?u=n:(u=r,r=n),u.ca()<=a||u.R()<=a){if(r.ca()<=a||r.R()<=a){n=new c.yb;var d=new c.yb,f=[0,0],g=[0,0],b=new c.h;return u.dn(b),n.Dc(b),u.en(b),n.Qc(b),r.dn(b),d.Dc(b),r.en(b),d.Qc(b),n.Ea(d,null,f,g,a),n.Ea(d,null,null,null,a)==1&&(f[0]==0||f[1]==1||g[0]==0||g[1]==1)}return n=new c.l,d=new c.l,n.K(r),n.W(-a,-a),d.K(n),d.Ea(u),!(!d.B()&&(d.ca()>a||d.R()>a))}return r.W(a,a),(d=new c.l).K(u),d.Ea(r),!(d.B()||!d.B()&&d.ca()>a&&d.R()>a)},s.bQ=function(r,n,a){if(s.zc(r,n,a)||s.zc(n,r,a)||r.ca()<=a&&r.R()<=a||n.ca()<=a&&n.R()<=a)return!1;if(r.ca()<=a||r.R()<=a){if(n.ca()>a&&n.R()>a)return!1;var u=new c.yb,d=new c.yb,f=[0,0],g=[0,0],b=new c.h;return r.dn(b),u.Dc(b),r.en(b),u.Qc(b),n.dn(b),d.Dc(b),n.en(b),d.Qc(b),u.Ea(d,null,f,g,a),u.Ea(d,null,null,null,a)==2&&(0<f[0]||1>f[1])&&(0<g[0]||1>g[1])}return!(n.ca()<=a||n.R()<=a)&&((u=new c.l).K(r),u.Ea(n),!(u.B()||u.ca()<=a||u.R()<=a))},s.jF=function(r,n,a){if(!s.zc(r,n,a))return!1;if(r.ca()<=a&&r.R()<=a)return r=r.sf(),s.eB(r,n,a);if(n.ca()<=a&&n.R()<=a)return n=n.sf(),s.eB(n,r,a);if(r.ca()<=a||r.R()<=a)return s.zc(r,n,a);if(n.ca()<=a||n.R()<=a){var u=new c.l;return u.K(r),u.W(-a,-a),u.hm(n)?!0:((r=new c.l).K(u),r.Ea(n),!(r.B()||r.ca()<=a&&r.R()<=a))}return s.zc(r,n,a)},s.aQ=function(r,n,a){if(s.zc(r,n,a)||s.zc(n,r,a)||r.ca()<=a&&r.R()<=a||n.ca()<=a&&n.R()<=a||n.ca()>a&&n.R()>a&&r.ca()>a&&r.R()>a)return!1;if(r.ca()>a&&r.R()>a)var u=n;else u=r,r=n;if(r.ca()>a&&r.R()>a){n=new c.l;var d=new c.l;return d.K(r),d.W(-a,-a),n.K(d),n.Ea(u),!(n.B()||n.ca()<=a&&n.R()<=a)}n=new c.yb,d=new c.yb;var f=[0,0],g=[0,0],b=new c.h;return u.dn(b),n.Dc(b),u.en(b),n.Qc(b),r.dn(b),d.Dc(b),r.en(b),d.Qc(b),n.Ea(d,null,f,g,a),n.Ea(d,null,null,null,a)==1&&0<f[0]&&1>f[1]&&0<g[0]&&1>g[1]},s.EI=function(r,n,a){var u=new c.l,d=new c.l,f=new c.Zl(r,n,a,!0);if(!f.next())return!0;if(this.UG(r,n,a))return!1;var g=r,b=null;n.getType()==1736&&(b=n);var _=!1,S=!1;do{var T=f.nl(),k=f.hl();if(k=n.Na(n.Ba(k)),u.K(f.uz()),u.W(a,a),u.contains(k)&&(k=c.hd.Yd(g,k,0))!=0||n.getType()==1736&&(T=r.Na(r.Ba(T)),d.K(f.az()),d.W(a,a),d.contains(T)&&(k=c.hd.Yd(b,T,0))!=0))return!1;_||(!c.Dg.Ml(r,n.da()-1)||r.Bb!=null&&r.Bb.Fb!=null?g=r:(g=new c.Da,r.copyTo(g),g.fj(1)),_=!0),n.getType()!=1736||S||(S=n,!c.Dg.Ml(S,r.da()-1)||n.Bb!=null&&n.Bb.Fb!=null?b=n:(b=new c.Da,S.copyTo(b),b.fj(1)),S=!0)}while(f.next());return!0},s.zc=function(r,n,a){var u=new c.l;return u.K(r),u.W(a,a),u.contains(n)},s.ls=function(r,n,a){var u=new c.l;return u.K(n),u.W(a,a),n=new c.h,r.dn(n),!u.contains(n)||(r.$I(n),!u.contains(n)||(r.cJ(n),!u.contains(n)||(r.en(n),!u.contains(n))))},s.dI=function(r,n,a){if(r.da()!=n.da()||r.I()!=n.I())return!1;var u=new c.h,d=new c.h,f=!0;a*=a;for(var g=0;g<r.da();g++){if(r.Vc(g)!=n.Vc(g)){f=!1;break}for(var b=r.Ba(g);b<n.Vc(g);b++)if(r.D(b,u),n.D(b,d),c.h.yc(u,d)>a){f=!1;break}if(!f)break}return!!f},s.jU=function(r,n,a){if(r.I()!=n.I())return!1;var u=new c.h,d=new c.h,f=!0;a*=a;for(var g=0;g<r.I();g++)if(r.D(g,u),n.D(g,d),c.h.yc(u,d)>a){f=!1;break}return!!f},s.YA=function(r,n,a,u,d,f){var g=!1;if(r.I()>n.I()){u&&(u=!1,g=!0);var b=n}else b=r,r=n;if(n=null,d||f||g){n=new c.pn(r.I());for(var _=0;_<r.I();_++)n.write(_,0)}_=new c.l;var S=new c.l,T=new c.l;b.A(_),r.A(S),_.W(a,a),S.W(a,a),T.K(_),T.Ea(S),S=new c.h;for(var k=new c.h,O=!0,N=c.ta.oE(r,T),D=N.getIterator(),z=a*a,L=0;L<b.I();L++)if(b.D(L,S),T.contains(S)){var F=!1;_.K(S.x,S.y,S.x,S.y),D.Xi(_,a);for(var V=D.next();V!=-1&&(V=N.ja(V),r.D(V,k),!(c.h.yc(S,k)<=z&&((d||f||g)&&n.write(V,1),F=!0,u)));V=D.next());if(!F&&(O=!1,d||u))return!1}else{if(d||u)return!1;O=!1}if(f&&O)return!1;if(u)return!0;for(_=0;_<r.I();_++)if(n.read(_)==1){if(f)return!0}else if(d||g)return!1;return!f},s.gI=function(r,n,a){if(r.I()>n.I())var u=n;else u=r,r=n;n=new c.l;var d=new c.l,f=new c.l;u.A(n),r.A(d),n.W(a,a),d.W(a,a),f.K(n),f.Ea(d),d=new c.h;for(var g=new c.h,b=a*a,_=c.ta.oE(r,f),S=_.getIterator(),T=0;T<u.I();T++)if(u.D(T,d),f.contains(d)){n.K(d.x,d.y,d.x,d.y),S.Xi(n,a);for(var k=S.next();k!=-1;k=S.next())if(r.D(_.ja(k),g),c.h.yc(d,g)<=b)return!0}return!1},s.Wz=function(r,n,a,u){return s.ym(r,n,a,u)&&s.ym(n,r,a,u)},s.ym=function(r,n,a,u){function d(mt,ct){return k.QE(mt,ct)}var f,g=!0,b=[0,0],_=[0,0],S=0,T=new c.ia(0),k=new s,O=new c.l,N=new c.l,D=new c.l;r.A(O),n.A(N),O.W(a,a),N.W(a,a),D.K(O),D.Ea(N),r=r.Ga(),N=n.Ga();var z=null,L=z=null,F=n.Bb;for(F!=null?(z=F.Fb,L=F.zo,z==null&&(z=c.ta.jj(n,D))):z=c.ta.jj(n,D),n=z.getIterator(),F=null,L!=null&&(F=L.getIterator());r.$a();)for(;r.Ha();){var V=!1,q=r.ha();if(q.A(O),!O.isIntersecting(D)||F!=null&&(F.Xi(O,a),F.next()==-1))return!1;for(L=q.Qb(),n.Uo(q,a),f=n.next();f!=-1;f=n.next()){N.Vb(z.ja(f)),f=N.ha();var W=q.Ea(f,null,b,_,a);if(W==2&&(!u||_[0]<=_[1])){W=b[0];var K=b[1],tt=_[0],st=_[1];if(W*L<=a&&(1-K)*L<=a){V=!0,S=0,T.resize(0),k.rh.length=0;var it=r.wb();for(tt=!0;tt;){if(r.Ha()){if(L=(q=r.ha()).Qb(),(W=q.Ea(f,null,b,_,a))==2&&(!u||_[0]<=_[1])&&(W=b[0],K=b[1],W*L<=a&&(1-K)*L<=a)){it=r.wb();continue}if(N.Ha()&&(f=N.ha(),(W=q.Ea(f,null,b,_,a))==2&&(!u||_[0]<=_[1])&&(W=b[0],K=b[1],W*L<=a&&(1-K)*L<=a))){it=r.wb();continue}}tt=!1}it!=r.wb()&&(r.Vb(it),r.ha());break}it=r.wb(),f=y.construct(it,r.gb,W,K,N.wb(),N.gb,tt,st),k.rh.push(f),T.add(T.size)}}if(!V){if(S==k.rh.length)return!1;for(1<T.size-S&&T.Vd(S,T.size,d),V=0;S<k.rh.length;S++)if(!((f=k.rh[T.get(S)]).Kj<V&&f.Si<V)){if(L*(f.Kj-V)>a)return!1;if(L*(1-(V=f.Si))<=a||V==1)break}if(L*(1-V)>a)return!1;S=0,T.resize(0),k.rh.length=0}}return g},s.WG=function(r,n,a){if(1>s.Xz(r,n,a,null))return!1;var u=new c.l,d=new c.l;r.A(u),n.A(d);var f=s.ls(u,d,a);return u=s.ls(d,u,a),!(!f||!u)||(f&&!u?!s.ym(n,r,a,!1):u&&!f?!s.ym(r,n,a,!1):!s.ym(r,n,a,!1)&&!s.ym(n,r,a,!1))},s.Xz=function(r,n,a,u){function d(qt,pe){return O.QE(qt,pe)}if(r.yz()>n.yz())var f=n,g=r;else f=r,g=n;r=f.Ga(),n=g.Ga();var b=[0,0],_=[0,0],S=-1,T=0,k=new c.ia(0),O=new s,N=new c.l,D=new c.l,z=new c.l;f.A(N),g.A(D),N.W(a,a),D.W(a,a),z.K(N),z.Ea(D),f=null,u!=null&&(f=new c.h);var L=D=D=null,F=g.Bb;for(F!=null?(D=F.Fb,L=F.zo,D==null&&(D=c.ta.jj(g,z))):D=c.ta.jj(g,z),g=D.getIterator(),F=null,L!=null&&(F=L.getIterator());r.$a();)for(L=0;r.Ha();){var V=r.ha();if(V.A(N),N.isIntersecting(z)){if(F!=null&&(F.Xi(N,a),F.next()==-1))continue;var q=V.Qb();g.Uo(V,a);for(var W=g.next();W!=-1;W=g.next()){var K=D.ja(W);n.Vb(K);var tt=n.ha(),st=tt.Qb(),it=V.Ea(tt,null,b,_,a);if(0<it){W=b[0],S=_[0];var mt=it==2?b[1]:NaN,ct=it==2?_[1]:NaN;if(it==2){if(q*(mt-W)>a)return 1;var Et=q*(mt-W);if(n.Ha()){if(tt=n.ha(),(it=V.Ea(tt,null,b,null,a))==2){it=b[0];var xt=b[1];if(Et+(it=q*(xt-it))>a)return 1}n.Vb(K),n.ha()}if(!n.vm()){if(n.li(),tt=n.li(),(it=V.Ea(tt,null,b,null,a))==2&&(it=b[0],Et+(it=q*((xt=b[1])-it))>a))return 1;n.Vb(K),n.ha()}if(r.Ha()){if(K=r.wb(),(it=(V=r.ha()).Ea(tt,null,b,null,a))==2&&(it=b[0],Et+(it=q*((xt=b[1])-it))>a))return 1;r.Vb(K),r.ha()}if(!r.vm()){if(K=r.wb(),r.li(),(it=(V=r.li()).Ea(tt,null,b,null,a))==2&&(it=b[0],Et+(it=st*((xt=b[1])-it))>a))return 1;r.Vb(K),r.ha()}tt=y.construct(r.wb(),r.gb,W,mt,n.wb(),n.gb,S,ct),O.rh.push(tt),k.add(k.size)}S=0,u!=null&&(V.hc(W,f),u.add(f.x),u.add(f.y))}}if(T<O.rh.length){for(k.Vd(T,k.size,d),V=0,W=O.rh[k.get(T)].Mm;T<O.rh.length;T++)if(!((tt=O.rh[k.get(T)]).Kj<V&&tt.Si<V))if(q*(tt.Kj-V)>a)L=q*(tt.Si-tt.Kj),V=tt.Si,W=tt.Mm;else{if(tt.Mm!=W?(L=q*(tt.Si-tt.Kj),W=tt.Mm):L+=q*(tt.Si-tt.Kj),L>a)return 1;if((V=tt.Si)==1)break}q*(1-V)>a&&(L=0),T=0,k.resize(0),O.rh.length=0}}}return S},s.UG=function(r,n,a){var u=r.Ga(),d=n.Ga();for(r=new c.Zl(r,n,a,!1);r.next();){n=r.nl();var f=r.hl();if(u.Vb(n),d.Vb(f),n=u.ha(),0<d.ha().Ea(n,null,null,null,a))return!0}return!1},s.VG=function(r,n,a,u){var d=r.Ga(),f=new c.l,g=new c.l,b=new c.l;r.A(f),n.A(g),f.W(a,a),f.contains(g),g.W(a,a),b.K(f),b.Ea(g),(f=r.Bb)!=null?(f=f.Fb)==null&&(f=c.ta.jj(r,b)):f=c.ta.jj(r,b),r=f.getIterator();for(var _=new c.h,S=new c.h,T=a*a,k=0;k<n.I();k++)if(n.D(k,_),b.contains(_)){g.K(_.x,_.y,_.x,_.y),r.Xi(g,a);for(var O=!1,N=r.next();N!=-1;N=r.next())if(d.Vb(f.ja(N)),(N=d.ha()).hc(N.fe(_,!1),S),c.h.yc(S,_)<=T){O=!0;break}if(u){if(!O)return!1}else if(O)return!0}return!!u},s.Yz=function(r,n,a){var u=new c.h,d=a*a,f=r.Ga();if((r=r.Bb)!=null&&(r=r.Fb)!=null){var g=new c.l;for(g.K(n),g=(a=r.MF(g,a)).next();g!=-1;g=a.next())if(f.Vb(r.ja(g)),f.Ha()){var b=(g=f.ha()).fe(n,!1);if(g.hc(b,u),c.h.yc(n,u)<=d)return!0}return!1}for(r=new c.l;f.$a();)for(;f.Ha();)if((g=f.ha()).A(r),r.W(a,a),r.contains(n)&&(b=g.fe(n,!1),g.hc(b,u),c.h.yc(n,u)<=d))return!0;return!1},s.SG=function(r,n,a){return s.Yz(r,n,a)&&!s.Zz(r,n,a)},s.Zz=function(r,n,a){return r=r.mg(),!s.kt(r,n,a)},s.TG=function(r,n,a){if(r.tm()){var u=new c.yb(n.v,n.G,n.v,n.H),d=new c.yb(n.v,n.H,n.C,n.H),f=new c.yb(n.C,n.H,n.C,n.G);for(n=new c.yb(n.C,n.G,n.v,n.G),r=r.Ga();r.$a();)for(;r.Ha();){var g=r.ha();if(g.isIntersecting(u,a)||g.isIntersecting(d,a)||g.isIntersecting(f,a)||g.isIntersecting(n,a))return!0}}else{(u=new c.l).K(n),u.W(a,a),a=r.ub(0),d=new c.h,f=new c.h,n=new c.h,g=new c.h;for(var b=0,_=r.da();b<_;b++)for(var S=!0,T=r.Ba(b),k=r.Vc(b);T<k;T++)if(S)a.tc(2*T,f),S=!1;else{if(a.tc(2*T,d),n.L(f),g.L(d),u.zy(n,g)!=0)return!0;f.L(d)}}return!1},s.qc=function(r,n,a){var u=r.getType(),d=n.getType();if(c.aa.xj(u)){var f=r.Bb;if(f!=null&&(f=f.Fk)!=null)if(d==33){var g=n.D();if((g=f.So(g.x,g.y))==1)return 1;if(g==0)return 4}else{if(g=new c.l,n.A(g),(g=f.Ro(g))==1)return 1;if(g==0)return 4;if(a&&c.aa.xj(d)&&s.HE(n,f))return 1073741824}}if(c.aa.xj(d)&&(f=n.Bb)!=null&&(f=f.Fk)!=null)if(u==33){if(r=r.D(),(g=f.So(r.x,r.y))==1)return 2;if(g==0)return 4}else{if(n=new c.l,r.A(n),(g=f.Ro(n))==1)return 2;if(g==0)return 4;if(a&&c.aa.xj(u)&&s.HE(r,f))return 1073741824}return 0},s.HE=function(r,n){for(var a=r.I(),u=new c.h,d=0;d<a;d++)if(r.D(d,u),n.So(u.x,u.y)==1)return!0;return!1},s.II=function(r,n,a,u){for(var d=1<=r.om(0)&&1<=n.om(0),f=r.Ga(),g=n.Ga(),b=[0,0],_=[0,0],S=new c.Zl(r,n,a,!1),T=!1;S.next();){var k=S.nl(),O=S.hl();if(f.Vb(k),g.Vb(O),k=f.ha(),(O=g.ha().Ea(k,null,_,b,a))==2){if(T=b[0],O=b[1],k=k.Qb(),d&&(O-T)*k>a)return!1;T=!0}else if(O!=0){if(T=b[0],k=_[0],0<T&&1>T&&0<k&&1>k)return!1;T=!0}}return!!T&&(f=new c.l,g=new c.l,d=new c.l,r.A(f),n.A(g),f.W(1e3*a,1e3*a),g.W(1e3*a,1e3*a),d.K(f),d.Ea(g),!(10<r.I()&&(r=c.Ud.clip(r,d,a,0),r.B())||10<n.I()&&(n=c.Ud.clip(n,d,a,0),n.B()))&&c.am.rt(r,n,a,"F********",u))},s.FI=function(r,n,a,u){var d=1<=r.om(0)&&1<=n.om(0),f=new c.l,g=new c.l,b=new c.l;r.A(f),n.A(g);for(var _=!1,S=s.ls(f,g,a),T=s.ls(g,f,a),k=r.Ga(),O=n.Ga(),N=[0,0],D=[0,0],z=new c.Zl(r,n,a,!1);z.next();){var L=z.nl(),F=z.hl();if(k.Vb(L),O.Vb(F),F=k.ha(),(L=O.ha().Ea(F,null,D,N,a))==2){L=N[0];var V=N[1];if(F=F.Qb(),d&&(V-L)*F>a&&(_=!0,S&&T))return!0}else if(L!=0&&(L=N[0],F=D[0],0<L&&1>L&&0<F&&1>F))return!0}if(d=new c.l,k=new c.l,d.K(f),d.W(1e3*a,1e3*a),k.K(g),k.W(1e3*a,1e3*a),b.K(d),b.Ea(k),f="",f=_?f+"**":f+"T*",S){if(10<n.I()&&(n=c.Ud.clip(n,b,a,0)).B())return!1;f+="****"}else f+="T***";if(T){if(10<r.I()&&(r=c.Ud.clip(r,b,a,0)).B())return!1;f+="***"}else f+="T**";return c.am.rt(r,n,a,f.toString(),u)},s.BI=function(r,n,a,u){var d=[!1],f=s.zI(r,n,a,d);return d[0]?f:(d=new c.l,n.A(d),d.W(1e3*a,1e3*a),!(10<r.I()&&(r=c.Ud.clip(r,d,a,0),r.B()))&&c.am.Sw(r,n,a,u))},s.zI=function(r,n,a,u){u[0]=!1;for(var d=r.Ga(),f=n.Ga(),g=[0,0],b=[0,0],_=new c.Zl(r,n,a,!1),S=!1;_.next();){var T=_.nl(),k=_.hl();if(d.Vb(T,-1),f.Vb(k,-1),T=d.ha(),(T=f.ha().Ea(T,null,b,g,a))!=0&&(S=!0,T==1&&(T=g[0],k=b[0],0<T&&1>T&&0<k&&1>k)))return u[0]=!0,!1}if(!S){for(u[0]=!0,g=new c.l,r.A(g),g.W(a,a),_=r,S=!1,b=new c.l,u=0,d=n.da();u<d;u++)if(0<n.Ja(u)){if(n.Rj(u,b),!g.isIntersecting(b)||(f=n.Na(n.Ba(u)),(f=c.Dg.wm(_,f,0))==0))return!1;S||(!c.Dg.Ml(r,n.da()-1)||r.Bb!=null&&r.Bb.Fb!=null?_=r:(f=new c.Da,r.copyTo(f),f.fj(1),_=f),S=!0)}if(r.da()==1||n.getType()==1607)return!0;for(g=new c.l,n.A(g),g.W(a,a),b=n,_=!1,a=new c.l,u=0,d=r.da();u<d;u++)if(0<r.Ja(u)){if(r.Rj(u,a),g.isIntersecting(a)&&(f=r.Na(r.Ba(u)),(f=c.Dg.wm(b,f,0))==1))return!1;_||(!c.Dg.Ml(n,r.da()-1)||n.Bb!=null&&n.Bb.Fb!=null?b=n:(f=new c.Da,n.copyTo(f),f.fj(1),b=f),_=!0)}return!0}return!1},s.JI=function(r,n,a,u){for(var d=r.Ga(),f=n.Ga(),g=[0,0],b=[0,0],_=new c.Zl(r,n,a,!1),S=!1;_.next();){var T=_.nl(),k=_.hl();if(d.Vb(T),f.Vb(k),T=d.ha(),(T=f.ha().Ea(T,null,b,g,a))==2)S=!0;else if(T!=0){if(S=g[0],T=b[0],0<S&&1>S&&0<T&&1>T)return!1;S=!0}}return!!S&&(f=new c.l,g=new c.l,d=new c.l,r.A(f),n.A(g),f.W(1e3*a,1e3*a),g.W(1e3*a,1e3*a),d.K(f),d.Ea(g),!(10<r.I()&&(r=c.Ud.clip(r,d,a,0),r.B())||10<n.I()&&(n=c.Ud.clip(n,d,a,0),n.B()))&&c.am.$m(r,n,a,"F********",u))},s.DI=function(r,n,a,u){for(var d=r.Ga(),f=n.Ga(),g=[0,0],b=[0,0],_=new c.Zl(r,n,a,!1),S=!1;_.next();){var T=_.nl(),k=_.hl();if(d.Vb(T),f.Vb(k),T=d.ha(),(T=f.ha().Ea(T,null,b,g,a))==2)S=!0;else if(T!=0){if(S=g[0],T=b[0],0<S&&1>S&&0<T&&1>T)return!0;S=!0}}return!!S&&(f=new c.l,g=new c.l,b=new c.l,_=new c.l,d=new c.l,r.A(f),n.A(g),s.ls(g,f,a)?(b.K(f),b.W(1e3*a,1e3*a),_.K(g),_.W(1e3*a,1e3*a),d.K(b),d.Ea(_),!(10<r.I()&&(r=c.Ud.clip(r,d,a,0),r.B())||10<n.I()&&(n=c.Ud.clip(n,d,a,0),n.B()))&&(a=c.am.$m(r,n,a,"T********",u))):a=c.am.$m(r,n,a,"T*****T**",u))},s.CI=function(r,n,a,u){var d=[!1],f=s.zI(r,n,a,d);return d[0]?f:(d=new c.l,n.A(d),d.W(1e3*a,1e3*a),!(10<r.I()&&(r=c.Ud.clip(r,d,a,0),r.B()))&&c.am.fB(r,n,a,u))},s.AI=function(r,n,a){return c.hd.Yd(r,n,a)==1},s.HI=function(r,n,a){return c.hd.Yd(r,n,a)==2},s.kt=function(r,n,a){var u=new c.h;a*=a;for(var d=0;d<r.I();d++)if(r.D(d,u),c.h.yc(u,n)<=a)return!1;return!0},s.prototype.QE=function(r,n){return r=this.rh[r],n=this.rh[n],r.Mm<n.Mm||r.Mm==n.Mm&&(r.pw<n.pw||r.pw==n.pw&&(r.Kj<n.Kj||r.Kj==n.Kj&&(r.Si<n.Si||r.Si==n.Si&&r.BH<n.BH)))?-1:1},s}();c.ud=l}(U||(U={})),function(c){var I,y,l;(y=I||(I={}))[y.InteriorInterior=0]="InteriorInterior",y[y.InteriorBoundary=1]="InteriorBoundary",y[y.InteriorExterior=2]="InteriorExterior",y[y.BoundaryInterior=3]="BoundaryInterior",y[y.BoundaryBoundary=4]="BoundaryBoundary",y[y.BoundaryExterior=5]="BoundaryExterior",y[y.ExteriorInterior=6]="ExteriorInterior",y[y.ExteriorBoundary=7]="ExteriorBoundary",y[y.ExteriorExterior=8]="ExteriorExterior",function(s){s[s.AreaAreaPredicates=0]="AreaAreaPredicates",s[s.AreaLinePredicates=1]="AreaLinePredicates",s[s.LineLinePredicates=2]="LineLinePredicates",s[s.AreaPointPredicates=3]="AreaPointPredicates",s[s.LinePointPredicates=4]="LinePointPredicates",s[s.PointPointPredicates=5]="PointPointPredicates"}(l||(l={})),I=function(){function s(){this.le=0,this.j=new c.iu,this.J=[0,0,0,0,0,0,0,0,0],this.Za=[0,0,0,0,0,0,0,0,0],this.ea=[!1,!1,!1,!1,!1,!1,!1,!1,!1],this.Sm=this.vw=-1}return s.yB=function(r,n,a,u,d){if(u.length!=9)throw c.i.fa("relation string length has to be 9 characters");for(var f=0;9>f;f++){var g=u.charAt(f);if(g!="*"&&g!="T"&&g!="F"&&g!="0"&&g!="1"&&g!="2")throw c.i.fa("relation string")}if((f=this.MR(u,r.Db(),n.Db()))!=0)return c.ud.zB(r,n,a,f,d);f=new c.l,r.A(f),g=new c.l,n.A(g);var b=new c.l;if(b.K(f),b.Zb(g),a=c.ta.Wd(a,b,!1),r=this.WE(r,a),n=this.WE(n,a),r.B()||n.B())return this.uW(r,n,u);switch(f=r.getType(),g=n.getType(),b=!1,f){case 1736:switch(g){case 1736:b=this.rt(r,n,a,u,d);break;case 1607:b=this.$m(r,n,a,u,d);break;case 33:b=this.qt(r,n,a,u);break;case 550:b=this.pt(r,n,a,u,d)}break;case 1607:switch(g){case 1736:b=this.$m(n,r,a,this.Zp(u),d);break;case 1607:b=this.gB(r,n,a,u,d);break;case 33:b=this.tt(r,n,a,u,d);break;case 550:b=this.st(r,n,a,u,d)}break;case 33:switch(g){case 1736:b=this.qt(n,r,a,this.Zp(u));break;case 1607:b=this.tt(n,r,a,this.Zp(u),d);break;case 33:b=this.$U(r,n,a,u);break;case 550:b=this.lt(n,r,a,this.Zp(u))}break;case 550:switch(g){case 1736:b=this.pt(n,r,a,this.Zp(u),d);break;case 1607:b=this.st(n,r,a,this.Zp(u),d);break;case 550:b=this.ZA(r,n,a,u,d);break;case 33:b=this.lt(r,n,a,u)}break;default:b=!1}return b},s.rt=function(r,n,a,u,d){var f=new s;f.Yi(),f.bj(u),f.xJ();var g=new c.l,b=new c.l;return r.A(g),n.A(b),u=!1,c.ud.dk(g,b,a)&&(f.Cu(r,n),u=!0),u||((g=c.ud.qc(r,n,!1))==4?(f.Cu(r,n),u=!0):g==1?(f.ly(n),u=!0):g==2&&(f.ZD(r),u=!0)),u||(r=(u=new c.gd).Ib(r),n=u.Ib(n),f.Wo(u,a,d),f.Bp(r,n),f.j.Ug()),s.fg(f.J,f.Xc)},s.Sw=function(r,n,a,u){var d=new s;d.Yi(),d.bj("T*****F**"),d.xJ();var f=new c.l,g=new c.l;r.A(f),n.A(g);var b=!1;return c.ud.dk(f,g,a)&&(d.Cu(r,n),b=!0),b||((f=c.ud.qc(r,n,!1))==4?(d.Cu(r,n),b=!0):f==1?(d.ly(n),b=!0):f==2&&(d.ZD(r),b=!0)),b?this.fg(d.J,d.Xc):(r=(b=new c.gd).Ib(r),f=b.Ib(n),c.Tk.V(b,a,u,!1),a=b.Ne(f).mg(),b.Gp(0,!0,!0),c.rn.V(b,r,-1,!1,u),b.I(r)!=0&&(c.rn.V(b,f,-1,!1,u),d.er(b,u),(n=b.I(f)==0)||(d.Bp(r,f),d.j.Ug(),f=this.fg(d.J,d.Xc))?(r=b.Ne(r),r=(b=new c.gd).Ib(r),f=b.Ib(a),d.er(b,u),d.le=0,d.Yi(),d.bj(n?"T*****F**":"******F**"),d.IB(),d.Bp(r,f),d.j.Ug(),this.fg(d.J,d.Xc)):f))},s.$m=function(r,n,a,u,d){var f=new s;f.Yi(),f.bj(u),f.IB();var g=new c.l,b=new c.l;return r.A(g),n.A(b),u=!1,c.ud.dk(g,b,a)&&(f.Du(r,n),u=!0),u||((g=c.ud.qc(r,n,!1))==4?(f.Du(r,n),u=!0):g==1&&(f.$D(n),u=!0)),u||(r=(u=new c.gd).Ib(r),n=u.Ib(n),f.Wo(u,a,d),f.kh=f.j.Dp(),s.Jw(n,f.j,f.kh),f.Bp(r,n),f.j.Ep(f.kh),f.j.Ug()),s.fg(f.J,f.Xc)},s.fB=function(r,n,a,u){var d=new s;d.Yi(),d.bj("T*****F**"),d.IB();var f=new c.l,g=new c.l;r.A(f),n.A(g);var b=!1;return c.ud.dk(f,g,a)&&(d.Du(r,n),b=!0),b||((f=c.ud.qc(r,n,!1))==4?(d.Du(r,n),b=!0):f==1&&(d.$D(n),b=!0)),b?this.fg(d.J,d.Xc):(r=(b=new c.gd).Ib(r),n=b.Ib(n),d.Wo(b,a,u),b.I(r)!=0&&(d.Bp(r,n),d.j.Ug(),this.fg(d.J,d.Xc)))},s.pt=function(r,n,a,u,d){var f=new s;f.Yi(),f.bj(u),f.yJ();var g=new c.l,b=new c.l;return r.A(g),n.A(b),u=!1,c.ud.dk(g,b,a)&&(f.Eu(r),u=!0),u||((g=c.ud.qc(r,n,!1))==4?(f.Eu(r),u=!0):g==1&&(f.zN(),u=!0)),u||(r=(u=new c.gd).Ib(r),n=u.Ib(n),f.Wo(u,a,d),f.Gy(r,n),f.j.Ug()),s.fg(f.J,f.Xc)},s.gB=function(r,n,a,u,d){var f=new s;f.Yi(),f.bj(u),f.eX(),u=new c.l;var g=new c.l;r.A(u),n.A(g);var b=!1;return c.ud.dk(u,g,a)&&(f.PG(r,n),b=!0),b||c.ud.qc(r,n,!1)!=4||(f.PG(r,n),b=!0),b||(r=(u=new c.gd).Ib(r),n=u.Ib(n),f.Wo(u,a,d),f.Yh=f.j.Dp(),f.kh=f.j.Dp(),s.Jw(r,f.j,f.Yh),s.Jw(n,f.j,f.kh),f.Bp(r,n),f.j.Ep(f.Yh),f.j.Ep(f.kh),f.j.Ug()),s.fg(f.J,f.Xc)},s.st=function(r,n,a,u,d){var f=new s;f.Yi(),f.bj(u),f.MJ(),u=new c.l;var g=new c.l;r.A(u),n.A(g);var b=!1;return c.ud.dk(u,g,a)&&(f.Vz(r),b=!0),b||c.ud.qc(r,n,!1)!=4||(f.Vz(r),b=!0),b||(r=(u=new c.gd).Ib(r),n=u.Ib(n),f.Wo(u,a,d),f.Yh=f.j.Dp(),s.Jw(r,f.j,f.Yh),f.Gy(r,n),f.j.Ep(f.Yh),f.j.Ug()),s.fg(f.J,f.Xc)},s.ZA=function(r,n,a,u,d){var f=new s;f.Yi(),f.bj(u),f.RJ(),u=new c.l;var g=new c.l;r.A(u),n.A(g);var b=!1;return c.ud.dk(u,g,a)&&(f.yI(),b=!0),b||(r=(u=new c.gd).Ib(r),n=u.Ib(n),f.Wo(u,a,d),f.Gy(r,n),f.j.Ug()),s.fg(f.J,f.Xc)},s.qt=function(r,n,a,u){var d=new s;d.Yi(),d.bj(u),d.yJ();var f=new c.l;r.A(f),n=n.D();var g=!1;return c.ud.Rw(n,f,a)&&(d.Eu(r),g=!0),g||((a=c.hd.Yd(r,n,a))==1?(d.J[0]=0,d.J[2]=2,d.J[3]=-1,d.J[5]=1,d.J[6]=-1):a==2?(d.J[6]=-1,r.Ke()!=0?(d.J[0]=-1,d.J[3]=0,d.J[2]=2,d.J[5]=1):(d.J[0]=0,d.J[3]=-1,d.J[5]=-1,a=new c.l,r.A(a),d.J[2]=a.ca()==0&&a.R()==0?-1:1)):d.Eu(r)),this.fg(d.J,u)},s.tt=function(r,n,a,u,d){var f=new s;f.Yi(),f.bj(u),f.MJ();var g=new c.l;r.A(g),u=n.D();var b=!1;if(c.ud.Rw(u,g,a)&&(f.Vz(r),b=!0),!b){g=null;var _=b=!1;(f.ea[0]||f.ea[6])&&(c.ud.Yz(r,u,a)?(f.ea[0]&&(g=c.pi.gm(r,d),_=!c.ud.kt(g,u,a),b=!0,f.J[0]=_?-1:0),f.J[6]=-1):(f.J[0]=-1,f.J[6]=0)),f.ea[3]&&(g!=null&&g.B()?f.J[3]=-1:(b||(g==null&&(g=c.pi.gm(r,d)),_=!c.ud.kt(g,u,a),b=!0),f.J[3]=_?0:-1)),f.ea[5]&&(g!=null&&g.B()?f.J[5]=-1:b&&!_?f.J[5]=0:(g==null&&(g=c.pi.gm(r,d)),d=c.ud.Nw(g,n,a),f.J[5]=d?-1:0)),f.ea[2]&&(r.Qb()!=0?f.J[2]=1:((d=new c.de(r.description)).Fd(r,0,r.I()),r=c.ud.Nw(d,n,a),f.J[2]=r?-1:0))}return this.fg(f.J,f.Xc)},s.lt=function(r,n,a,u){var d=new s;d.Yi(),d.bj(u),d.RJ();var f=new c.l;r.A(f),n=n.D();var g=!1;if(c.ud.Rw(n,f,a)&&(d.yI(),g=!0),!g){f=!1,g=!0,a*=a;for(var b=0;b<r.I();b++){var _=r.Na(b);if(c.h.yc(_,n)<=a?f=!0:g=!1,f&&!g)break}f?(d.J[0]=0,d.J[2]=g?-1:0,d.J[6]=-1):(d.J[0]=-1,d.J[2]=0,d.J[6]=0)}return s.fg(d.J,u)},s.$U=function(r,n,a,u){r=r.D(),n=n.D();for(var d=[],f=0;9>f;f++)d[f]=-1;return c.h.yc(r,n)<=a*a?d[0]=0:(d[2]=0,d[6]=0),d[8]=2,s.fg(d,u)},s.fg=function(r,n){for(var a=0;9>a;a++)switch(n.charAt(a)){case"T":if(r[a]==-1)return!1;break;case"F":if(r[a]!=-1)return!1;break;case"0":if(r[a]!=0)return!1;break;case"1":if(r[a]!=1)return!1;break;case"2":if(r[a]!=2)return!1}return!0},s.uW=function(r,n,a){var u=[-1,-1,-1,-1,-1,-1,-1,-1,-1];if(r.B()&&n.B()){for(var d=0;9>d;d++)u[d]=-1;return this.fg(u,a)}return d=!1,r.B()&&(r=n,d=!0),u[0]=-1,u[1]=-1,u[3]=-1,u[4]=-1,u[6]=-1,u[7]=-1,u[8]=2,n=r.getType(),c.aa.Hc(n)?n==1736?r.Ke()!=0?(u[2]=2,u[5]=1):(u[5]=-1,n=new c.l,r.A(n),u[2]=n.ca()==0&&n.R()==0?0:1):(n=r.Qb()!=0,u[2]=n?1:0,u[5]=c.pi.aq(r)?0:-1):(u[2]=0,u[5]=-1),d&&this.vK(u),this.fg(u,a)},s.MR=function(r,n,a){return s.dQ(r)?3:s.UP(r)?4:s.cY(r,n,a)?8:s.CP(r,n,a)?16:s.eP(r)?1:s.EU(r,n,a)?32:0},s.dQ=function(r){return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="F"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="F"&&r.charAt(6)=="F"&&r.charAt(7)=="F"&&r.charAt(8)=="*"},s.UP=function(r){return r.charAt(0)=="F"&&r.charAt(1)=="F"&&r.charAt(2)=="*"&&r.charAt(3)=="F"&&r.charAt(4)=="F"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"},s.cY=function(r,n,a){return(n!=0||a!=0)&&((n!=2||a!=2)&&(r.charAt(0)=="F"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="T"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"||n==1&&a==1&&r.charAt(0)=="F"&&r.charAt(1)=="T"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*")||a!=0&&r.charAt(0)=="F"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="T"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*")},s.CP=function(r,n,a){return n>a?r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*":n==1&&a==1&&r.charAt(0)=="0"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="*"&&r.charAt(7)=="*"&&r.charAt(8)=="*"},s.eP=function(r){return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="*"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="F"&&r.charAt(7)=="F"&&r.charAt(8)=="*"},s.EU=function(r,n,a){if(n==a){if(n!=1)return r.charAt(0)=="T"&&r.charAt(1)=="*"&&r.charAt(2)=="T"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*";if(r.charAt(0)=="1"&&r.charAt(1)=="*"&&r.charAt(2)=="T"&&r.charAt(3)=="*"&&r.charAt(4)=="*"&&r.charAt(5)=="*"&&r.charAt(6)=="T"&&r.charAt(7)=="*"&&r.charAt(8)=="*")return!0}return!1},s.Jw=function(r,n,a){r=n.La(r);for(var u=n.Re;u!=-1;u=n.Rf(u))if(n.xd(u)&r){var d=n.Me(u);if(d==-1)n.nn(u,a,0);else{var f=d,g=0;do n.dh(f)&r&&g++,f=n.jc(n.xa(f));while(f!=d);n.nn(u,a,g)}}},s.Zp=function(r){var n=""+r.charAt(0);return n+=r.charAt(3),n+=r.charAt(6),n+=r.charAt(1),n+=r.charAt(4),n+=r.charAt(7),n+=r.charAt(2),(n+=r.charAt(5))+r.charAt(8)},s.prototype.Yi=function(){for(var r=0;9>r;r++)this.J[r]=-2,this.Za[r]=-2},s.vK=function(r){var n=r[1],a=r[2],u=r[5];r[1]=r[3],r[2]=r[6],r[5]=r[7],r[3]=n,r[6]=a,r[7]=u},s.prototype.bj=function(r){for(this.Xc=r,r=0;9>r;r++)this.Xc.charAt(r)!="*"?(this.ea[r]=!0,this.le++):this.ea[r]=!1},s.prototype.UJ=function(){for(var r=0;9>r;r++)this.ea[r]&&this.J[r]==-2&&(this.J[r]=-1,this.ea[r]=!1)},s.prototype.pc=function(r){return this.J[r]!=-2&&(this.J[r]==-1?(this.ea[r]=!1,this.le--,!0):this.Xc.charAt(r)!="T"&&this.Xc.charAt(r)!="F"?!(this.J[r]<this.Za[r])&&(this.ea[r]=!1,this.le--,!0):(this.ea[r]=!1,this.le--,!0))},s.prototype.xJ=function(){this.vw=0,this.Za[0]=2,this.Za[1]=1,this.Za[2]=2,this.Za[3]=1,this.Za[4]=1,this.Za[5]=1,this.Za[6]=2,this.Za[7]=1,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},s.prototype.IB=function(){this.vw=1,this.Sm=3,this.Za[0]=1,this.Za[1]=0,this.Za[2]=2,this.Za[3]=1,this.Za[4]=0,this.Za[5]=1,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},s.prototype.eX=function(){this.vw=2,this.Sm=4,this.Za[0]=1,this.Za[1]=0,this.Za[2]=1,this.Za[3]=0,this.Za[4]=0,this.Za[5]=0,this.Za[6]=1,this.Za[7]=0,this.Za[8]=2,this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},s.prototype.yJ=function(){this.Sm=3,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=2,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},s.prototype.MJ=function(){this.Sm=4,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=1,this.Za[3]=0,this.Za[4]=-1,this.Za[5]=0,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},s.prototype.RJ=function(){this.Sm=5,this.Za[0]=0,this.Za[1]=-1,this.Za[2]=0,this.Za[3]=-1,this.Za[4]=-1,this.Za[5]=-1,this.Za[6]=0,this.Za[7]=-1,this.Za[8]=2,this.ea[1]&&(this.J[1]=-1,this.ea[1]=!1,this.le--),this.ea[3]&&(this.J[3]=-1,this.ea[3]=!1,this.le--),this.ea[4]&&(this.J[4]=-1,this.ea[4]=!1,this.le--),this.ea[5]&&(this.J[5]=-1,this.ea[5]=!1,this.le--),this.ea[7]&&(this.J[7]=-1,this.ea[7]=!1,this.le--),this.ea[8]&&(this.J[8]=2,this.ea[8]=!1,this.le--)},s.prototype.xN=function(r,n,a){var u=!0;return this.ea[0]&&(this.CS(r,n,a),u=u&&this.pc(0)),this.ea[1]&&(this.sG(r,n,1),u=u&&this.pc(1)),this.ea[2]&&(this.tG(r,n,a,2),u=u&&this.pc(2)),this.ea[3]&&(this.sG(r,a,3),u=u&&this.pc(3)),this.ea[4]&&(this.BN(r,n,a),u=u&&this.pc(4)),this.ea[5]&&(this.eE(r,a,5),u=u&&this.pc(5)),this.ea[6]&&(this.tG(r,a,n,6),u=u&&this.pc(6)),this.ea[7]&&(this.eE(r,n,7),u=u&&this.pc(7)),u},s.prototype.Cu=function(r,n){this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5)),this.Fr(n,this.ea[6]?6:-1,this.Xc.charAt(6),this.ea[7]?7:-1,this.Xc.charAt(7))},s.prototype.Fr=function(r,n,a,u,d){n==-1&&u==-1||((a!="T"&&a!="F"&&n!=-1||d!="T"&&d!="F"&&u!=-1)&&r.Ke()==0?(u!=-1&&(this.J[u]=-1),n!=-1&&(a=new c.l,r.A(a),this.J[n]=a.ca()==0&&a.R()==0?0:1)):(n!=-1&&(this.J[n]=2),u!=-1&&(this.J[u]=1)))},s.prototype.ly=function(r){this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1,this.Fr(r,this.ea[0]?0:-1,this.Xc.charAt(0),this.ea[1]?1:-1,this.Xc.charAt(1))},s.prototype.ZD=function(r){this.ly(r),s.vK(this.J)},s.prototype.Du=function(r,n){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[6]){var a=this.Xc.charAt(6);a=a=="T"||a=="F"||n.Qb()!=0,this.J[6]=a?1:0}this.ea[7]&&(n=c.pi.aq(n),this.J[7]=n?0:-1),this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},s.prototype.$D=function(r){if(this.ea[0]){var n=this.Xc.charAt(0);n=n=="T"||n=="F"||r.Qb()!=0,this.J[0]=n?1:0}this.ea[1]&&(r=c.pi.aq(r),this.J[1]=r?0:-1),this.J[2]=2,this.J[3]=-1,this.J[4]=-1,this.J[5]=1,this.J[6]=-1,this.J[7]=-1},s.prototype.Eu=function(r){this.J[0]=-1,this.J[3]=-1,this.J[6]=0,this.Fr(r,this.ea[2]?2:-1,this.Xc.charAt(2),this.ea[5]?5:-1,this.Xc.charAt(5))},s.prototype.zN=function(){this.J[0]=0,this.J[2]=2,this.J[3]=-1,this.J[5]=1,this.J[6]=-1},s.prototype.PG=function(r,n){if(this.J[0]=-1,this.J[1]=-1,this.J[3]=-1,this.J[4]=-1,this.ea[2]){var a=this.Xc.charAt(2);a=a=="T"||a=="F"||r.Qb()!=0,this.J[2]=a?1:0}this.ea[5]&&(r=c.pi.aq(r),this.J[5]=r?0:-1),this.ea[6]&&(a=(a=this.Xc.charAt(6))=="T"||a=="F"||n.Qb()!=0,this.J[6]=a?1:0),this.ea[7]&&(n=c.pi.aq(n),this.J[7]=n?0:-1)},s.prototype.Vz=function(r){if(this.J[0]=-1,this.J[3]=-1,this.ea[2]){var n=this.Xc.charAt(2);n=n=="T"||n=="F"||r.Qb()!=0,this.J[2]=n?1:0}this.ea[5]&&(r=c.pi.aq(r),this.J[5]=r?0:-1),this.J[6]=0},s.prototype.yI=function(){this.J[0]=-1,this.J[2]=0,this.J[6]=0},s.prototype.yN=function(r,n,a){var u=!0;return this.ea[0]&&(this.DS(r,n),u=u&&this.pc(0)),this.ea[1]&&(this.zS(r,n,a,this.kh),u=u&&this.pc(1)),this.ea[2]&&(this.AS(r,n),u=u&&this.pc(2)),this.ea[3]&&(this.FN(r,n,a,this.kh),u=u&&this.pc(3)),this.ea[4]&&(this.CN(r,n,a,this.kh),u=u&&this.pc(4)),this.ea[5]&&(this.DN(r,n,a),u=u&&this.pc(5)),this.ea[6]&&(this.lQ(r,n),u=u&&this.pc(6)),this.ea[7]&&(this.kQ(r,n,a,this.kh),u=u&&this.pc(7)),u},s.prototype.mT=function(r,n,a){var u=!0;return this.ea[0]&&(this.GS(r,n,a,this.Yh,this.kh),u=u&&this.pc(0)),this.ea[1]&&(this.uG(r,n,a,this.Yh,this.kh,1),u=u&&this.pc(1)),this.ea[2]&&(this.vG(r,n,a,2),u=u&&this.pc(2)),this.ea[3]&&(this.uG(r,a,n,this.kh,this.Yh,3),u=u&&this.pc(3)),this.ea[4]&&(this.HN(r,n,a,this.Yh,this.kh),u=u&&this.pc(4)),this.ea[5]&&(this.fE(r,a,this.Yh,5),u=u&&this.pc(5)),this.ea[6]&&(this.vG(r,a,n,6),u=u&&this.pc(6)),this.ea[7]&&(this.fE(r,n,this.kh,7),u=u&&this.pc(7)),u},s.prototype.aE=function(r,n,a){var u=!0;return this.ea[0]&&(this.ES(r,n),u=u&&this.pc(0)),this.ea[2]&&(this.BS(r,n),u=u&&this.pc(2)),this.ea[3]&&(this.GN(r,n,a),u=u&&this.pc(3)),this.ea[5]&&(this.EN(r,n),u=u&&this.pc(5)),this.ea[6]&&(this.mQ(r,n),u=u&&this.pc(6)),u},s.prototype.QG=function(r,n,a){var u=!0;return this.ea[0]&&(this.HS(r,n,a,this.Yh),u=u&&this.pc(0)),this.ea[2]&&(this.FS(r,a),u=u&&this.pc(2)),this.ea[3]&&(this.JN(r,n,a,this.Yh),u=u&&this.pc(3)),this.ea[5]&&(this.IN(r,n,a,this.Yh),u=u&&this.pc(5)),this.ea[6]&&(this.nQ(r,n,a),u=u&&this.pc(6)),u},s.prototype.ZU=function(r,n,a){var u=!0;return this.ea[0]&&(this.IS(r,n,a),u=u&&this.pc(0)),this.ea[2]&&(this.wG(r,n,a,2),u=u&&this.pc(2)),this.ea[6]&&(this.wG(r,a,n,6),u=u&&this.pc(6)),u},s.prototype.CS=function(r,n,a){this.J[0]!=2&&(r=this.j.af(r))&n&&r&a&&(this.J[0]=2)},s.prototype.sG=function(r,n,a){if(this.J[a]!=1){var u=this.j.af(this.j.xa(r));this.j.af(r)&n&&u&n&&(this.J[a]=1)}},s.prototype.tG=function(r,n,a,u){this.J[u]!=2&&(r=this.j.af(r))&n&&!(r&a)&&(this.J[u]=2)},s.prototype.BN=function(r,n,a){if(this.J[4]!=1){var u=this.j.dh(r);u&n&&u&a?this.J[4]=1:this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.xd(this.j.uf(r)))&n&&r&a&&(this.J[4]=0)}},s.prototype.eE=function(r,n,a){if(this.J[a]!=1){var u=this.j.af(this.j.xa(r));!(this.j.af(r)&n)&&!(u&n)&&(this.J[a]=1)}},s.prototype.DS=function(r,n){if(this.J[0]!=1){var a=this.j.af(this.j.xa(r));this.j.af(r)&n&&a&n&&(this.J[0]=1)}},s.prototype.zS=function(r,n,a,u){if(this.J[1]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var d=this.j.uf(r),f=this.j.xd(d);!(f&n)&&this.j.af(r)&n&&(r=this.j.ng(d,u),f&a&&r%2!=0&&(this.J[1]=0))}},s.prototype.AS=function(r,n){this.J[2]!=2&&this.j.dh(r)&n&&(this.J[2]=2)},s.prototype.FN=function(r,n,a,u){if(this.J[3]!=1){var d=this.j.dh(r);d&n&&d&a?this.J[3]=1:this.J[3]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(d=this.j.uf(r),(r=this.j.xd(d))&n&&(n=this.j.ng(d,u),r&a&&n%2==0&&(this.J[3]=0)))}},s.prototype.CN=function(r,n,a,u){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var d=this.j.uf(r);(r=this.j.xd(d))&n&&(n=this.j.ng(d,u),r&a&&n%2!=0&&(this.J[4]=0))}},s.prototype.DN=function(r,n,a){this.J[5]!=1&&(r=this.j.dh(r))&n&&!(r&a)&&(this.J[5]=1)},s.prototype.lQ=function(r,n){if(this.J[6]!=1){var a=this.j.af(this.j.xa(r));!(this.j.af(r)&n)&&!(a&n)&&(this.J[6]=1)}},s.prototype.kQ=function(r,n,a,u){if(this.J[7]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){var d=this.j.uf(r),f=this.j.xd(d);!(f&n)&&!(this.j.af(r)&n)&&(r=this.j.ng(d,u),f&a&&r%2!=0&&(this.J[7]=0))}},s.prototype.GS=function(r,n,a,u,d){if(this.J[0]!=1){var f=this.j.dh(r);f&n&&f&a?this.J[0]=1:this.J[0]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.uf(r),(f=this.j.xd(r))&n&&f&a&&(n=this.j.ng(r,u),d=this.j.ng(r,d),n%2==0&&d%2==0&&(this.J[0]=0)))}},s.prototype.uG=function(r,n,a,u,d,f){if(this.J[f]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){r=this.j.uf(r);var g=this.j.xd(r);g&n&&g&a&&(n=this.j.ng(r,u),d=this.j.ng(r,d),n%2==0&&d%2!=0&&(this.J[f]=0))}},s.prototype.vG=function(r,n,a,u){this.J[u]!=1&&(r=this.j.dh(r))&n&&!(r&a)&&(this.J[u]=1)},s.prototype.HN=function(r,n,a,u,d){if(this.J[4]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1){r=this.j.uf(r);var f=this.j.xd(r);f&n&&f&a&&(n=this.j.ng(r,u),d=this.j.ng(r,d),n%2!=0&&d%2!=0&&(this.J[4]=0))}},s.prototype.fE=function(r,n,a,u){this.J[u]!=0&&this.j.Ab(this.j.te(this.j.xa(r)),this.Ui)!=1&&(r=this.j.uf(r),!(this.j.xd(r)&n)&&this.j.ng(r,a)%2!=0&&(this.J[u]=0))},s.prototype.ES=function(r,n){this.J[0]!=0&&!(this.j.xd(r)&n)&&this.j.hk(this.j.cz(r))&n&&(this.J[0]=0)},s.prototype.BS=function(r,n){this.J[2]!=2&&this.j.xd(r)&n&&(this.J[2]=2)},s.prototype.GN=function(r,n,a){this.J[3]!=0&&(r=this.j.xd(r))&n&&r&a&&(this.J[3]=0)},s.prototype.EN=function(r,n){this.J[5]!=1&&this.j.xd(r)&n&&(this.J[5]=1)},s.prototype.mQ=function(r,n){this.J[6]!=0&&!(this.j.xd(r)&n)&&!(this.j.hk(this.j.cz(r))&n)&&(this.J[6]=0)},s.prototype.HS=function(r,n,a,u){if(this.J[0]!=0){var d=this.j.xd(r);d&n&&d&a&&this.j.ng(r,u)%2==0&&(this.J[0]=0)}},s.prototype.FS=function(r,n){this.J[2]!=1&&(this.j.Me(r)!=-1?this.J[2]=1:this.J[2]!=0&&!(this.j.xd(r)&n)&&(this.J[2]=0))},s.prototype.JN=function(r,n,a,u){if(this.J[3]!=0){var d=this.j.xd(r);d&n&&d&a&&this.j.ng(r,u)%2!=0&&(this.J[3]=0)}},s.prototype.IN=function(r,n,a,u){if(this.J[5]!=0){var d=this.j.xd(r);d&n&&!(d&a)&&this.j.ng(r,u)%2!=0&&(this.J[5]=0)}},s.prototype.nQ=function(r,n,a){this.J[6]!=0&&!((r=this.j.xd(r))&n)&&r&a&&(this.J[6]=0)},s.prototype.IS=function(r,n,a){this.J[0]!=0&&(r=this.j.xd(r))&n&&r&a&&(this.J[0]=0)},s.prototype.wG=function(r,n,a,u){this.J[u]!=0&&(r=this.j.xd(r))&n&&!(r&a)&&(this.J[u]=0)},s.prototype.Bp=function(r,n){var a=!1;r=this.j.La(r),n=this.j.La(n),this.Ui=this.j.$g();for(var u=this.j.Re;u!=-1;u=this.j.Rf(u)){var d=this.j.Me(u);if(d==-1){if(this.Sm!=-1)switch(this.Sm){case 3:a=this.aE(u,r,n);break;case 4:a=this.QG(u,r,n);break;default:throw c.i.fa("internal error")}}else{var f=d;do{var g=f;if(this.j.Ab(g,this.Ui)!=1)do{switch(this.vw){case 0:a=this.xN(g,r,n);break;case 1:a=this.yN(g,r,n);break;case 2:a=this.mT(g,r,n);break;default:throw c.i.fa("internal error")}if(a)break;this.j.Kb(g,this.Ui,1),g=this.j.jc(g)}while(g!=f&&!a);if(a)break;f=this.j.jc(this.j.xa(g))}while(f!=d);if(a)break}}a||this.UJ(),this.j.Jg(this.Ui)},s.prototype.Gy=function(r,n){var a=!1;r=this.j.La(r),n=this.j.La(n);for(var u=this.j.Re;u!=-1;u=this.j.Rf(u)){switch(this.Sm){case 3:a=this.aE(u,r,n);break;case 4:a=this.QG(u,r,n);break;case 5:a=this.ZU(u,r,n);break;default:throw c.i.Qa()}if(a)break}a||this.UJ()},s.prototype.er=function(r,n){this.j.dr(r,n)},s.prototype.Wo=function(r,n,a){this.YP(r,n,a),this.er(r,a)},s.prototype.YP=function(r,n,a){for(c.Tk.V(r,n,a,!1),r.Gp(0,!0,!0),n=r.ld;n!=-1;n=r.ue(n))r.ic(n)==1736&&c.rn.V(r,n,-1,!1,a)},s.WE=function(r,n){var a=r.getType();return c.aa.yd(a)?((n=new c.Ta(r.description)).oc(r,!0),n):a==197?(a=new c.l,r.A(a),a.ca()<=n&&a.R()<=n?(n=new c.Sa(r.description),r.sf(n),n):a.ca()<=n||a.R()<=n?(n=new c.Ta(r.description),a=new c.Sa,r.Hf(0,a),n.nf(a),r.Hf(2,a),n.lineTo(a),n):((n=new c.Da(r.description)).ad(r,!1),n)):r},s}(),c.am=I}(U||(U={})),function(c){var I=function(){function s(r){this.Em=new c.ia(0),this.dw=new c.ia(0),this.wt=new c.h,this.xt=new c.h,this.g=r,this.Hs=-1}return s.prototype.bc=function(r){return this.g.bc(this.zz(r))},s.prototype.Bv=function(r){var n=this.iz(r);if(r=this.HF(r),this.g.Ma(n)==r){var a=n;n=r,r=a}return this.g.Gc(n,this.wt),this.g.Gc(r,this.xt),this.wt.y<this.xt.y},s.prototype.zz=function(r){var n=this.iz(r);return r=this.HF(r),this.g.U(n)==r?n:r},s.prototype.iz=function(r){return this.Em.get(r)},s.prototype.HF=function(r){return this.dw.get(r)},s.prototype.rF=function(r){this.Em.set(r,this.Hs),this.Hs=r},s.prototype.nI=function(r){if(this.Hs!=-1){var n=this.Hs;return this.Hs=this.Em.get(n),this.Em.set(n,r),this.dw.set(n,this.g.U(r)),n}return this.Em==null&&(this.Em=new c.ia(0),this.dw=new c.ia(0)),n=this.Em.size,this.Em.add(r),this.dw.add(this.g.U(r)),n},s.prototype.rz=function(r){return this.g.bd(this.iz(r))},s}();c.yY=I;var y=function(){function s(r){this.Be=r,this.ie=new c.yb,this.Nm=new c.yb,this.CH=0,this.Ao=null,this.yA=-1}return s.prototype.compare=function(r,n,a){a=r.ja(a);var u=this.Be.hb;if(this.yA==n)var d=this.CH;else this.Ao=u.bc(n),this.Ao==null?((r=u.g).ed(u.zz(n),this.ie),this.Ao=this.ie,d=this.ie.Pe(this.Be.yh,0)):d=this.Ao.Pe(this.Be.yh,0),this.CH=d,this.yA=n;if((r=u.bc(a))==null){(r=u.g).ed(u.zz(a),this.Nm),r=this.Nm;var f=this.Nm.Pe(this.Be.yh,0)}else f=r.Pe(this.Be.yh,0);return d==f&&(n=u.Bv(n),a=u.Bv(a),(n=.5*((a=Math.min(n?this.Ao.la:this.Ao.na,a?r.la:r.na))+this.Be.yh))==this.Be.yh&&(n=a),d=this.Ao.Pe(n,0),f=r.Pe(n,0)),d<f?-1:d>f?1:0},s.prototype.reset=function(){this.yA=-1},s}(),l=function(){function s(){this.Wm=this.Gl=null,this.fb=new c.Yj,this.fb.RP(),this.$d=new y(this),this.fb.Vo(this.$d)}return s.prototype.HQ=function(){var r=!1;if(this.fw&&(r=this.IQ()),this.g.da(this.X)==1){var n=this.g.Ob(this.X);return r=this.g.wz(n),this.g.PB(n,!0),0>r&&(r=this.g.Xa(n),this.g.pJ(r),this.g.Wg(n,this.g.Ma(r)),!0)}for(this.El=this.g.Ky(),this.wo=this.g.Ky(),n=this.g.Ob(this.X);n!=-1;n=this.g.Rb(n))this.g.gr(n,this.El,0),this.g.gr(n,this.wo,-1);n=new c.ia(0),this.yh=NaN;var a=new c.h;this.et=this.g.da(this.X),this.ro=this.g.Gd(),this.Rs=this.g.Gd();for(var u=this.Gl.rc(this.Gl.je);u!=-1;u=this.Gl.lb(u)){var d=this.Gl.getData(u);if(this.g.Gc(d,a),a.y!=this.yh&&n.size!=0&&(r=this.ut(n)||r,this.$d.reset(),n.clear(!1)),n.add(d),this.yh=a.y,this.et==0)break}for(0<this.et&&(r=this.ut(n)||r,n.clear(!1)),this.g.Td(this.ro),this.g.Td(this.Rs),n=this.g.Ob(this.X);n!=-1;)if(this.g.sj(n,this.El)==3){for(this.g.PB(n,!0),a=n,n=this.g.sj(n,this.wo);n!=-1;)u=this.g.sj(n,this.wo),this.g.ZT(this.X,this.g.Rb(a),n),a=n,n=u;n=this.g.Rb(a)}else this.g.PB(n,!1),n=this.g.Rb(n);return this.g.CB(this.El),this.g.CB(this.wo),r},s.prototype.ut=function(r){return this.$V(r)},s.prototype.$V=function(r){var n=!1;this.hb==null&&(this.hb=new I(this.g)),this.Wm==null?(this.Wm=new c.ia(0),this.Wm.Jb(16)):this.Wm.clear(!1),this.ZV(r);for(var a=0,u=r.size;a<u;a++){var d=r.get(a);d!=-1&&this.oG(d,-1)}for(a=0;a<this.Wm.size&&0<this.et;a++)if(r=this.Wm.get(a),d=this.hb.rz(this.fb.ja(r)),u=-1,this.g.sj(d,this.El)==0){d=this.fb.we(r);for(var f,g=r;d!=-1;){var b=this.fb.ja(d),_=this.hb.rz(b),S=this.g.sj(_,this.El);if(S!=0){u=_;break}g=d,d=this.fb.we(d)}d==-1?(f=!0,d=g):(b=this.fb.ja(d),f=this.hb.Bv(b),d=this.fb.lb(d),f=!f);do{if(b=this.fb.ja(d),_=this.hb.rz(b),(S=this.g.sj(_,this.El))==0&&(f!=this.hb.Bv(b)&&(n=this.g.Xa(_),this.g.pJ(n),this.g.Wg(_,this.g.Ma(n)),n=!0),this.g.gr(_,this.El,f?3:2),f||(g=this.g.sj(u,this.wo),this.g.gr(u,this.wo,_),this.g.gr(_,this.wo,g)),this.et--,this.et==0))return n;u=_,g=d,d=this.fb.lb(d),f=!f}while(g!=r)}return n},s.prototype.ZV=function(r){for(var n=0,a=r.size;n<a;n++){var u=r.get(n),d=this.g.Pa(u,this.ro),f=this.g.Pa(u,this.Rs);if(d!=-1){var g=this.fb.ja(d);this.hb.rF(g),this.g.Ra(u,this.ro,-1)}f!=-1&&(g=this.fb.ja(f),this.hb.rF(g),this.g.Ra(u,this.Rs,-1)),g=-1,d!=-1&&f!=-1?(this.fb.vd(d,-1),this.fb.vd(f,-1),r.set(n,-1)):g=d!=-1?d:f,g!=-1&&(this.oG(u,g)||this.fb.vd(g,-1),r.set(n,-1))}},s.prototype.oG=function(r,n){var a=new c.h,u=new c.h;this.g.Gc(r,a);var d=this.g.U(r);this.g.Gc(d,u);var f=!1;if(a.y<u.y){f=!0;var g=this.hb.nI(r);if(n==-1)var b=this.fb.addElement(g,-1);else b=n,this.fb.Sj(b,g);(g=this.g.Pa(d,this.ro))==-1?this.g.Ra(d,this.ro,b):this.g.Ra(d,this.Rs,b),d=this.g.bd(r),this.g.sj(d,this.El)==0&&this.Wm.add(b)}return d=this.g.Ma(r),this.g.Gc(d,u),a.y<u.y&&(f=!0,g=this.hb.nI(d),n==-1?b=this.fb.addElement(g,-1):(b=n,this.fb.Sj(b,g)),(g=this.g.Pa(d,this.ro))==-1?this.g.Ra(d,this.ro,b):this.g.Ra(d,this.Rs,b),d=this.g.bd(r),this.g.sj(d,this.El)==0&&this.Wm.add(b)),f},s.V=function(r,n,a,u){var d=new s;return d.g=r,d.X=n,d.Gl=a,d.fw=u,d.HQ()},s.prototype.IQ=function(){var r=new c.ia(0),n=new c.ia(0),a=-1,u=-1,d=new c.h;d.Rc();for(var f=-1,g=-1,b=-1,_=new c.h,S=this.Gl.rc(this.Gl.je);S!=-1;S=this.Gl.lb(S)){var T=this.Gl.getData(S);this.g.Gc(T,_);var k=this.g.bd(T);d.qb(_)&&g==k?(u==-1&&(a=this.g.Ky(),u=this.g.Gd()),b==-1&&(b=n.size,this.g.Ra(f,u,b),n.add(1),this.g.sj(k,a)==-1&&(this.g.gr(k,a,f),r.add(k))),this.g.Ra(T,u,b),n.bX(n.Fc()+1)):(b=-1,d.L(_)),f=T,g=k}if(r.size==0)return!1;for(d=new c.ia(0),f=new c.ia(0),g=0,b=r.size;g<b;g++){k=r.get(g);var O=this.g.sj(k,a);for(T=this.g.Pa(O,u),d.clear(!1),f.clear(!1),d.add(O),f.add(T),T=this.g.U(O);T!=O;T=this.g.U(T)){var N=T;if((_=this.g.Pa(N,u))!=-1)if(f.size==0)f.add(_),d.add(N);else if(f.Fc()==_){S=d.Fc();var D=this.g.U(S);O=this.g.U(N),this.g.Bc(S,O),this.g.Cc(O,S),this.g.Bc(N,D),this.g.Cc(D,N),N=[!1],D=this.g.nG(this.X,D,this.g.Xa(k),N),this.g.Ra(T,u,-1),N[0]&&this.g.Jf(k,O),T=this.g.Ja(k),T-=O=this.g.Ja(D),this.g.Vj(k,T),n.set(_,n.get(_)-1),n.get(_)==1&&(n.set(_,0),f.If(),d.If()),T=O=S}else d.add(T),f.add(_)}}return this.g.CB(a),this.g.Td(u),!0},s}();c.WL=l}(U||(U={})),function(c){var I=function(){function y(){}return y.prototype.ig=function(){this.PA=this.sb=null},y.prototype.get=function(){return this.PA},y.prototype.set=function(l){if(this.PA=l,l!=null)throw l.getType()==322&&(this.sb=l),c.i.Qa()},y.prototype.create=function(l){if(l!=322)throw c.i.fa("Not Implemented");this.Or()},y.prototype.Or=function(){this.sb==null&&(this.sb=new c.yb),this.PA=this.sb},y}();c.ig=I}(U||(U={})),function(c){(c=c.XL||(c.XL={}))[c.enumLineSeg=1]="enumLineSeg",c[c.enumBezierSeg=2]="enumBezierSeg",c[c.enumArcSeg=4]="enumArcSeg",c[c.enumNonlinearSegmentMask=6]="enumNonlinearSegmentMask",c[c.enumSegmentMask=7]="enumSegmentMask",c[c.enumDensified=8]="enumDensified"}(U||(U={})),function(c){var I=function(l){this.$i=l,this.qC=this.rC=1,this.sB=this.rB=this.tB=0},y=function(){function l(){this.Fq=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bk=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.Bf=new c.Sa,this.qa=this.Cw=0,this.mo=[],this.$s=[],this.yw=[],this.Iq=[],this.MA=[]}return l.prototype.wB=function(s){if(s!=null){for(var r=0,n=s.length;r<n;r++)this.rW(s[r]);s.length=0}},l.prototype.rW=function(s){s.$i=null,this.Iq.push(s)},l.prototype.Ow=function(s){if(this.Iq.length===0)var r=new I(s);else(r=this.Iq[this.Iq.length-1]).$i=s,--this.Iq.length;return r},l.prototype.SR=function(s,r){return s==0?this.$s[r]:this.yw[r]},l.prototype.aB=function(){this.Cw>=this.MA.length&&this.MA.push(new c.ig);var s=this.MA[this.Cw];return this.Cw++,s},l.prototype.clear=function(){this.wB(this.mo),this.wB(this.$s),this.wB(this.yw),this.Cw=0},l.prototype.Oo=function(s){this.mo.push(this.Ow(s))},l.prototype.ol=function(s){return s==0?this.$s.length:this.yw.length},l.prototype.Vp=function(s,r){return this.SR(s,r).$i},l.prototype.Ea=function(s,r){if(this.mo.length!=2)throw c.i.Qa();this.qa=s;var n=c.lc.ox(.01*s),a=!1,u=this.mo[0],d=this.mo[1];if(r||5&u.$i.zr(d.$i,s,!0)){if(u.$i.getType()==322){var f=u.$i;if(d.$i.getType()==322){r=d.$i;var g=c.yb.Zx(f,r,null,this.Fq,this.Bk,s);if(g==0)throw c.yb.Zx(f,r,null,this.Fq,this.Bk,s),c.i.Qa();s=Array(9),c.O.$u(s,null);for(var b=0;b<g;b++){var _=this.Fq[b],S=this.Bk[b],T=u.sB,k=1;_==0?(T=u.tB,k=u.rC):_==1&&(T=u.rB,k=u.qC);var O=d.sB,N=1;S==0?(O=d.tB,N=d.rC):S==1&&(O=d.rB,N=d.qC);var D=new c.h;T==O?(T=new c.h,f.hc(_,T),_=new c.h,r.hc(S,_),N/=S=k+N,c.lc.OG(T,_,N,D),c.h.yc(D,T)+c.h.yc(D,_)>n&&(a=!0)):T>O?(f.hc(_,D),_=new c.h,r.hc(S,_),c.h.yc(D,_)>n&&(a=!0)):(r.hc(S,D),T=new c.h,f.hc(_,T),c.h.yc(D,T)>n&&(a=!0)),s[b]=D}for(u=0,d=-1,b=0;b<=g;b++)(N=b<g?this.Fq[b]:1)!=u&&(n=this.aB(),f.ah(u,N,n),d!=-1&&n.get().Dc(s[d]),b!=g&&n.get().Qc(s[b]),u=N,this.$s.push(this.Ow(n.get()))),d=b;for(f=[0,0,0,0,0,0,0,0,0],b=0;b<g;b++)f[b]=b;for(1<g&&this.Bk[0]>this.Bk[1]&&(N=this.Bk[0],this.Bk[0]=this.Bk[1],this.Bk[1]=N,b=f[0],f[0]=f[1],f[1]=b),u=0,d=-1,b=0;b<=g;b++)(N=b<g?this.Bk[b]:1)!=u&&(n=this.aB(),r.ah(u,N,n),d!=-1&&(u=f[d],n.get().Dc(s[u])),b!=g&&(u=f[b],n.get().Qc(s[u])),u=N,this.yw.push(this.Ow(n.get()))),d=b;return a}}throw c.i.Qa()}return!1},l.prototype.Kz=function(s,r,n){if(r.copyTo(this.Bf),this.mo.length!=1)throw c.i.Qa();this.qa=s;var a=this.mo[0];if(n||a.$i.ru(r.D(),s,!0)){if(a.$i.getType()!=322)throw c.i.Qa();var u=(s=a.$i).fe(r.D(),!1);this.Fq[0]=u;var d=a.sB;for(n=1,u==0?(d=a.tB,n=a.rC):u==1&&(d=a.rB,n=a.qC),a=new c.h,d==0?(d=new c.h,s.hc(u,d),r=r.D(),c.lc.OG(d,r,1/(n+1),a)):0<d?(a=new c.h,s.hc(u,a)):a=r.D(),n=0,u=-1,d=0;1>=d;d++){if((r=1>d?this.Fq[d]:1)!=n){var f=this.aB();s.ah(n,r,f),u!=-1&&f.get().Dc(a),d!=1&&f.get().Qc(a),n=r,this.$s.push(this.Ow(f.get()))}u=d}this.Bf.Cb(a)}},l}();c.TC=y}(U||(U={})),function(c){var I=function(){function y(l){this.Ds=this.rk=this.sb=null,this.ag=0,this.zm=!1,this.zf=-1,this.Cl=this.Jd=0,this.gb=-1,this.ib=l,this.ag=this.Wx(this.Cl),this.zm=!1,this.rk=null,this.Ds=new c.h}return y.prototype.BW=function(l){if(this.ib!=l.ib)throw c.i.Hb();this.zf=l.zf,this.Jd=l.Jd,this.gb=l.gb,this.Cl=l.Cl,this.ag=l.ag,this.zm=l.zm,this.rk=null},y.prototype.ha=function(){if(this.zf!=this.Jd&&this.BD(),this.zm)this.Jd=(this.Jd+1)%this.ag;else{if(this.Jd==this.ag)throw c.i.ce();this.Jd++}return this.rk},y.prototype.li=function(){if(this.zm)this.Jd=(this.ag+this.Jd-1)%this.ag;else{if(this.Jd==0)throw c.i.ce();this.Jd--}return this.Jd!=this.zf&&this.BD(),this.rk},y.prototype.DW=function(){this.zf=-1,this.Jd=0},y.prototype.EW=function(){this.Jd=this.ag,this.zf=-1},y.prototype.Vb=function(l,s){if(s===void 0&&(s=-1),0<=this.gb&&this.gb<this.ib.da()){var r=this.IM();if(l>=r&&l<this.ib.Vc(this.gb))return this.zf=-1,void(this.Jd=l-r)}s=0<=s&&s<this.ib.da()&&l>=this.ib.Ba(s)&&l<this.ib.Vc(s)?s:this.ib.sz(l),this.Cl=s+1,this.gb=s,this.zf=-1,this.Jd=l-this.ib.Ba(s),this.ag=this.Wx(s),this.ib.Ba(this.gb),this.ib.dc(this.gb)},y.prototype.$a=function(){return this.gb=this.Cl,!(this.gb>=this.ib.da())&&(this.zf=-1,this.Jd=0,this.ag=this.Wx(this.gb),this.ib.Ba(this.gb),this.ib.dc(this.gb),this.Cl++,!0)},y.prototype.Zi=function(){this.ag=this.Jd=this.zf=-1,this.Cl=0,this.gb=-1},y.prototype.Wx=function(l){if(this.ib.Ac())return 0;var s=1;return this.ib.dc(l)&&(s=0),this.ib.Ja(l)-s},y.prototype.On=function(){return this.zf==this.ag-1&&this.ib.dc(this.gb)},y.prototype.JB=function(){this.zm=!0},y.prototype.wb=function(){return this.ib.nb.o[this.gb]+this.zf},y.prototype.IM=function(){return this.ib.Ba(this.gb)},y.prototype.ik=function(){return this.On()?this.ib.Ba(this.gb):this.wb()+1},y.prototype.vm=function(){return this.zf==0},y.prototype.Qn=function(){return this.zf==this.ag-1},y.prototype.Ha=function(){return this.Jd<this.ag},y.prototype.Ez=function(){return 0<this.Jd},y.prototype.Of=function(){var l=new y(this.ib);return l.zf=this.zf,l.Jd=this.Jd,l.ag=this.ag,l.gb=this.gb,l.Cl=this.Cl,l.ib=this.ib,l.zm=this.zm,l},y.prototype.BD=function(){if(0>this.Jd||this.Jd>=this.ag)throw c.i.ce();this.zf=this.Jd;var l=this.wb();this.ib.mc();var s=this.ib.Ve,r=1;switch(s!=null&&(r=7&s.read(l)),s=this.ib.description,r){case 1:this.sb==null&&(this.sb=new c.yb),this.rk=this.sb;break;case 2:throw c.i.fa("internal error");default:throw c.i.Qa()}this.rk.Nf(s),r=this.ik(),this.ib.Gc(l,this.Ds),this.rk.Dc(this.Ds),this.ib.Gc(r,this.Ds),this.rk.Qc(this.Ds);for(var n=1,a=s.Aa;n<a;n++)for(var u=s.kd(n),d=c.ra.Va(u),f=0;f<d;f++){var g=this.ib.Uc(u,l,f);this.rk.YB(u,f,g),g=this.ib.Uc(u,r,f),this.rk.OB(u,f,g)}},y.prototype.$S=function(){return this.gb==this.ib.da()-1},y.prototype.Pn=function(){var l=this.ib.VR();return l!=null&&(7&l.read(this.zf))!=1},y}();c.YL=I}(U||(U={})),function(c){var I=function(){function y(l){l instanceof c.aa?(this.xH=l,this.ya=-1,this.Ei=1):(this.vT=l.slice(0),this.ya=-1,this.Ei=l.length)}return y.prototype.La=function(){return this.ya},y.prototype.next=function(){return this.ya<this.Ei-1?(this.ya++,this.xH!=null?this.xH:this.vT[this.ya]):null},y.prototype.qe=function(){},y}();c.Zc=I}(U||(U={})),function(c){var I=function(){this.next=null},y=function(){function l(){this.Tq=this.Kw=this.Lw=0,this.kF=!1,this.gK=0,this.gn=this.Kf=this.Wl=this.Jh=null,this.Ol=0,this.vy=null,this.pl=this.oi=-1}return l.prototype.AX=function(s,r,n){this.oi=s,this.pl=r,this.Jh=this.Wl=null,this.Tq=0,this.vy=n,this.gn==null&&(this.gn=c.O.lg(384,0)),this.nK()},l.prototype.R=function(){return this.oi},l.prototype.ca=function(){return this.pl},l.prototype.flush=function(){0<this.Ol&&(this.vy.gF(this.gn,this.Ol),this.Ol=0)},l.prototype.nK=function(){if(0<this.Tq){for(var s=0;s<this.pl;s++){for(var r=this.Wl[s];r!=null;){var n=r;r=r.next,n.next=null}this.Wl[s]=null}this.Jh=null}this.Lw=this.pl,this.Kw=-1,this.Tq=0},l.prototype.iJ=function(s){for(this.kF=s==l.Cx,s=this.Lw;s<=this.Kw;s++)this.sN(),this.lN(s),this.ZP();this.nK()},l.prototype.jy=function(s,r,n,a){if(r!=a){var u=1;if(r>a&&(u=s,s=n,n=u,u=r,r=a,a=u,u=-1),!(0>a||r>=this.pl)){0>s&&0>n?n=s=-1:s>=this.oi&&n>=this.oi&&(n=s=this.oi);var d=(n-s)/(a-r);a>this.pl&&(n=d*((a=this.pl)-r)+s),0>r&&(s=d*(0-r)+s,r=0);var f=Math.max(this.oi+1,8388607);-8388607>s?(r=(0-s)/d+r,s=0):s>f&&(r=(this.oi-s)/d+r,s=this.oi),-8388607>n?a=(0-s)/d+r:n>f&&(a=(this.oi-s)/d+r),(r=c.O.truncate(r))!=(a=c.O.truncate(a))&&((n=new I).x=c.O.truncate(4294967296*s),n.y=r,n.H=a,n.WP=c.O.truncate(4294967296*d),n.dir=u,this.Wl==null&&(this.Wl=c.O.lg(this.pl,null)),n.next=this.Wl[n.y],this.Wl[n.y]=n,n.y<this.Lw&&(this.Lw=n.y),n.H>this.Kw&&(this.Kw=n.H),this.Tq++)}}},l.prototype.sN=function(){if(this.Jh!=null){for(var s=!1,r=null,n=this.Jh;n!=null;)if(n.y++,n.y==n.H){var a=n;n=n.next,r!=null?r.next=n:this.Jh=n,a.next=null}else n.x+=n.WP,r!=null&&r.x>n.x&&(s=!0),r=n,n=n.next;s&&(this.Jh=this.fK(this.Jh))}},l.prototype.lN=function(s){if(!(s>=this.pl)){var r=this.Wl[s];if(r!=null){this.Wl[s]=null,r=this.fK(r),this.Tq-=this.gK,s=this.Jh;for(var n=!0,a=r,u=null;s!=null&&a!=null;)s.x>a.x?(n&&(this.Jh=a),n=a.next,a.next=s,u!=null&&(u.next=a),u=a,a=n):(n=s.next,s.next=a,u!=null&&(u.next=s),u=s,s=n),n=!1;this.Jh==null&&(this.Jh=r)}}},l.eK=function(s,r){return 0>s?0:s>r?r:s},l.prototype.ZP=function(){if(this.Jh!=null){for(var s=0,r=this.Jh,n=c.O.truncate(c.O.XG(r.x)),a=r.next;a!=null;a=a.next)if(s=this.kF?1^s:s+a.dir,a.x>r.x){var u=c.O.truncate(c.O.XG(a.x));s!=0&&(r=l.eK(n,this.oi),(n=l.eK(u,this.oi))>r&&r<this.oi&&(this.gn[this.Ol++]=r,this.gn[this.Ol++]=n,this.gn[this.Ol++]=a.y,this.Ol==this.gn.length&&(this.vy.gF(this.gn,this.Ol),this.Ol=0))),r=a,n=u}}},l.prototype.fK=function(s){for(var r=0,n=s;n!=null;n=n.next)r++;if(this.gK=r,r==1)return s;this.Kf==null?this.Kf=c.O.lg(Math.max(r,16),null):this.Kf.length<r&&(this.Kf=c.O.lg(Math.max(r,2*this.Kf.length),null));var a=0;for(n=s;n!=null;n=n.next)this.Kf[a++]=n;for(r==2?this.Kf[0].x>this.Kf[1].x&&(s=this.Kf[0],this.Kf[0]=this.Kf[1],this.Kf[1]=s):l.AN(this.Kf,r,function(u,d){return u==d?0:u.x<d.x?-1:u.x>d.x?1:0}),s=this.Kf[0],this.Kf[0]=null,n=s,a=1;a<r;a++)n.next=this.Kf[a],n=this.Kf[a],this.Kf[a]=null;return n.next=null,s},l.AN=function(s,r,n){if(r==s.length)s.sort(n);else{var a=s.slice(0,0),u=s.slice(r);r=s.slice(0,r).sort(n),s.length=0,s.push.apply(s,a.concat(r).concat(u))}},l.Cx=0,l}();c.Px=y}(U||(U={})),function(c){var I=function(){function y(){}return y.prototype.ui=function(l,s){var r=this.g.Pa(l,this.Pq);if(this.Dl==r&&(this.Dl=this.oe.lb(this.Dl)),this.ho==r&&(this.ho=this.oe.lb(this.ho)),this.oe.jd(this.RA,r),this.bk(l),s&&(s=this.g.bd(l))!=-1&&this.g.Xa(s)==l){var n=this.g.U(l);if(n!=l){if((r=this.g.bd(n))==s)return void this.g.Jf(s,n);if((n=this.g.Ma(l))!=l&&(r=this.g.bd(n))==s)return void this.g.Jf(s,n)}this.g.Jf(s,-1),this.g.Wg(s,-1)}},y.prototype.pD=function(){for(var l=!1,s=new c.h;;){this.Wh==null?(this.Wh=new c.ia(0),this.zs=new c.ia(0),this.xe=new c.ia(0)):(this.Wh.clear(!1),this.zs.clear(!1),this.xe.clear(!1));for(var r=this.ho,n=0,a=!0;r!=this.Dl;){var u=this.oe.getData(r),d=new c.h;this.g.Gc(u,d),a&&(this.g.Gc(u,s),a=!1),d=this.g.Ma(u);var f=this.g.U(u);this.g.Pa(d,this.zg)!=-559038737&&(this.Wh.add(d),this.g.Ra(d,this.zg,-559038737),this.zs.add(u),this.xe.add(n++)),this.g.Pa(f,this.zg)!=-559038737&&(this.Wh.add(f),this.g.Ra(f,this.zg,-559038737),this.zs.add(u),this.xe.add(n++)),r=this.oe.lb(r)}if(2>this.Wh.size)break;var g=this;for(this.xe.Vd(0,this.xe.size,function(b,_){return g.pM(b,_)}),r=0,n=this.xe.size;r<n;r++)a=this.xe.get(r),a=this.Wh.get(a),this.g.Ra(a,this.zg,r),d=new c.h,this.g.Gc(a,d);for(d=this.TM(s),r=0,n=this.xe.size;r<n;r++)(a=this.xe.get(r))!=-1&&(a=this.Wh.get(a),this.g.Ra(a,this.zg,-1));if(!d)break;l=!0}return l},y.prototype.TM=function(l){for(var s=!1,r=!0;r;){r=!1;var n=0;this.xe.get(n)==-1&&(n=this.cm(n));for(var a=this.cm(n),u=0,d=this.xe.size;u<d&&n!=-1&&a!=-1&&n!=a;u++){var f=this.xe.get(n);a=this.xe.get(a),f=this.Wh.get(f),a=this.Wh.get(a);var g=this.g.U(f);this.g.Dv(g,l)||(g=this.g.Ma(f));var b=this.g.U(a);this.g.Dv(b,l)||(b=this.g.Ma(a));var _=this.pu(g,f),S=this.pu(b,a),T=_?this.g.Ma(g):this.g.U(g),k=S?this.g.Ma(b):this.g.U(b),O=!1;(this.sp(g)||this.sp(b)||this.sp(f)||this.sp(a)||this.sp(T)||this.sp(k))&&(O=!0),!O&&this.g.fq(f,a)&&(O=!0,this.tD(_,S,g,f,b,a)),!O&&this.g.fq(T,k)&&(O=!0,this.tD(!_,!S,g,T,b,k)),O&&(s=!0),r=r||O,n=this.cm(n),a=this.cm(n)}}if(!s)for(n=0,this.xe.get(n)==-1&&(n=this.cm(n)),a=this.cm(n),u=0,d=this.xe.size;u<d&&n!=-1&&a!=-1&&n!=a;u++)f=this.xe.get(n),a=this.xe.get(a),f=this.Wh.get(f),a=this.Wh.get(a),g=this.g.U(f),this.g.Dv(g,l)||(g=this.g.Ma(f)),b=this.g.U(a),this.g.Dv(b,l)||(b=this.g.Ma(a)),_=this.pu(g,f),S=this.pu(b,a),T=_?this.g.Ma(g):this.g.U(g),k=S?this.g.Ma(b):this.g.U(b),this.DM(_,S,f,g,T,a,b,k)&&(s=!0),n=this.cm(n),a=this.cm(n);return s},y.prototype.XM=function(){this.g.ic(this.X)==1736&&this.g.In(this.X)==1&&new c.Fg().MU(this.fw,this.g,this.X,this.nd);var l=!1,s=!0;this.zg=this.Pq=-1;var r=this.g.I(this.X),n=new c.ia(0);n.Jb(r);for(var a=this.g.Ob(this.X);a!=-1;a=this.g.Rb(a))for(var u=this.g.Xa(a),d=0,f=this.g.Ja(a);d<f;d++)n.add(u),u=this.g.U(u);var g=this.g.td.o,b=this.g.td.stride;this.g.vb.mc();var _=this.g.vb.za[0].o;for(n.Vd(0,r,function(T,k){var O=g[b*T],N=g[b*k],D=_[2*O];O=_[2*O+1];var z=_[2*N];return(D=O<(N=_[2*N+1])?-1:O>N?1:D<z?-1:D>z?1:0)==0&&(D=(T=g[b*T+3])<(k=g[b*k+3])?-1:T==k?0:1),D}),this.Pq=this.g.Gd(),this.oe=new c.jp,this.RA=this.oe.Ph(0),this.oe.fn(r),a=0;a<r;a++)u=n.get(a),d=this.oe.addElement(this.RA,u),this.g.Ra(u,this.Pq,d);for(this.zg=this.g.Gd(),this.Dl=-1,this.cD()&&(l=!0);s;){s=!1,r=0,n=!1;do{n=!1,this.ho=-1,f=0,a=new c.h,d=new c.h;for(var S=this.oe.rc(this.RA);S!=-1;)u=this.oe.getData(S),this.ho!=-1?(this.g.Gc(u,d),a.qb(d)?f++:(a.L(d),this.Dl=S,0<f&&(u=this.pD())&&(n=!0,this.Dl!=-1&&(u=this.oe.getData(this.Dl),this.g.Gc(u,a))),this.ho=S=this.Dl,f=0)):(this.ho=S,this.g.Gc(this.oe.getData(S),a),f=0),S!=-1&&(S=this.oe.lb(S));if(this.Dl=-1,0<f&&(u=this.pD())&&(n=!0),10<r++)throw c.i.Qa();n&&this.GM(),this.cD()&&(n=!0),s=s||n&&!1,l=l||n}while(n)}return this.g.Td(this.Pq),this.g.Td(this.zg),c.WL.V(this.g,this.X,this.oe,this.fw)||l},y.prototype.pu=function(l,s){return this.g.U(s)!=l},y.prototype.DM=function(l,s,r,n,a,u,d,f){if(n==d)return this.bk(r),this.bk(u),!1;var g=this.g.Pa(r,this.zg),b=this.g.Pa(a,this.zg),_=this.g.Pa(u,this.zg),S=this.g.Pa(f,this.zg),T=[0,0,0,0];for((r=[0,0,0,0,0,0,0,0])[0]=0,T[0]=g,r[1]=0,T[1]=b,r[2]=1,T[2]=_,r[3]=1,T[3]=S,g=1;4>g;g++){for(b=T[g],_=r[g],S=g-1;0<=S&&T[S]>b;)T[S+1]=T[S],r[S+1]=r[S],S--;T[S+1]=b,r[S+1]=_}return T=0,r[0]!=0&&(T|=1),r[1]!=0&&(T|=2),r[2]!=0&&(T|=4),r[3]!=0&&(T|=8),(T==5||T==10)&&(l==s?l?(this.g.Bc(f,n),this.g.Cc(n,f),this.g.Bc(a,d),this.g.Cc(d,a)):(this.g.Cc(f,n),this.g.Bc(n,f),this.g.Cc(a,d),this.g.Bc(d,a)):l?(this.g.Cc(n,u),this.g.Bc(u,n),this.g.Cc(d,a),this.g.Bc(a,d)):(this.g.Bc(n,u),this.g.Cc(u,n),this.g.Bc(d,a),this.g.Cc(a,d)),!0)},y.prototype.tD=function(l,s,r,n,a,u){this.MY?this.VM():this.UM(l,s,r,n,a,u)},y.prototype.VM=function(){throw c.i.fa("not implemented.")},y.prototype.UM=function(l,s,r,n,a,u){if(l!=s)l?(this.g.Bc(r,a),this.g.Cc(a,r),this.g.Bc(u,n),this.g.Cc(n,u),this.vn(a,r),this.ui(a,!0),this.g.mi(a,!0),this.bk(r),this.vn(u,n),this.ui(u,!0),this.g.mi(u,!1)):(this.g.Bc(a,r),this.g.Cc(r,a),this.g.Bc(n,u),this.g.Cc(u,n),this.vn(a,r),this.ui(a,!0),this.g.mi(a,!1),this.bk(r),this.vn(u,n),this.ui(u,!0),this.g.mi(u,!0)),this.bk(n);else{var d=l?r:n,f=s?a:u;for(l=l?n:r,s=s?u:a,a=!1,this.g.Bc(d,f),this.g.Bc(f,d),this.g.Cc(l,s),this.g.Cc(s,l),u=s;u!=f;)r=this.g.Ma(u),n=this.g.U(u),this.g.Cc(u,n),this.g.Bc(u,r),a=a||u==d,u=n;a||(r=this.g.Ma(f),n=this.g.U(f),this.g.Cc(f,n),this.g.Bc(f,r)),this.vn(f,d),this.ui(f,!0),this.g.mi(f,!1),this.bk(d),this.vn(s,l),this.ui(s,!0),this.g.mi(s,!1),this.bk(l)}},y.prototype.cD=function(){for(var l=!1,s=this.g.Ob(this.X);s!=-1;){for(var r=this.g.Xa(s),n=0,a=this.g.Ja(s);n<a&&1<a;){var u=this.g.Ma(r),d=this.g.U(r);this.g.fq(u,d)?(l=!0,this.ui(r,!1),this.g.pd(r,!0),this.ui(d,!1),this.g.pd(d,!0),r=u,n=0,a=this.g.Ja(s)):(r=d,n++)}if(2>this.g.Ja(s)){for(l=this.g.Xa(s),n=0,a=this.g.Ja(s);n<a;n++)this.ui(l,!1),l=this.g.U(l);s=this.g.Zq(s),l=!0}else s=this.g.Rb(s)}return l},y.prototype.sp=function(l){for(var s=!1;;){var r=this.g.U(l),n=this.g.Ma(l);if(r==l)return this.ui(l,!0),this.g.mi(l,!1),!0;if(!this.g.fq(r,n)||(s=!0,this.bk(n),this.bk(r),this.ui(l,!0),this.g.mi(l,!1),this.vn(r,n),this.ui(r,!0),this.g.mi(r,!0),r==n))break;l=n}return s},y.prototype.GM=function(){for(var l=0,s=this.oe.rc(this.oe.je);s!=-1;s=this.oe.lb(s)){var r=this.oe.getData(s);this.g.aj(r,-1)}for(var n=0,a=this.g.Ob(this.X);a!=-1;)if((s=this.g.Xa(a))==-1||this.g.bd(s)!=-1)r=a,a=this.g.Rb(a),this.g.$q(r);else{this.g.aj(s,a);var u=1;for(r=this.g.U(s);r!=s;r=this.g.U(r))this.g.aj(r,a),u++;this.g.cp(a,!1),this.g.Vj(a,u),this.g.Wg(a,this.g.Ma(s)),n+=u,l++,a=this.g.Rb(a)}for(s=this.oe.rc(this.oe.je);s!=-1;s=this.oe.lb(s))r=this.oe.getData(s),this.g.bd(r)==-1&&(a=this.g.nG(this.X,r,r,null),n+=this.g.Ja(a),l++);for(this.g.Rl(this.X,l),this.g.Tj(this.X,n),l=0,n=this.g.ld;n!=-1;n=this.g.ue(n))l+=this.g.I(n);this.g.bC(l)},y.prototype.cm=function(l){for(var s=0,r=this.xe.size-1;s<r;s++)if(l=(l+1)%this.xe.size,this.xe.get(l)!=-1)return l;return-1},y.prototype.vn=function(l,s){var r=this.g.Pa(s,this.Pq),n=this.g.Pa(s,this.zg);this.g.lC(l,s),this.g.Ra(s,this.Pq,r),this.g.Ra(s,this.zg,n)},y.prototype.bk=function(l){var s=this.g.Pa(l,this.zg);s!=-1&&(this.xe.set(s,-1),this.g.Ra(l,this.zg,-1))},y.V=function(l,s,r,n,a){var u=new y;return u.g=l,u.X=s,u.xA=r,u.fw=n,u.nd=a,u.XM()},y.prototype.pM=function(l,s){var r=this.Wh.get(l),n=new c.h;this.g.Gc(r,n),r=new c.h;var a=this.Wh.get(s);return this.g.Gc(a,r),n.qb(r)?0:(a=this.zs.get(l),l=new c.h,this.g.Gc(a,l),a=this.zs.get(s),s=new c.h,this.g.Gc(a,s),(a=new c.h).uc(n,l),(n=new c.h).uc(r,s),c.h.nu(a,n))},y}();c.rn=I}(U||(U={})),function(c){var I;(I=c.$L||(c.$L={}))[I.Local=0]="Local",I[I.Geographic=1]="Geographic",I[I.Projected=2]="Projected",I[I.Image=3]="Image",I[I.Unknown=4]="Unknown",function(l){l[l.Integer32=0]="Integer32",l[l.Integer64=1]="Integer64",l[l.FloatingPoint=2]="FloatingPoint"}(c.TL||(c.TL={}));var y=function(){function l(){this.mA=null,this.pp="",this.su=null,this.dg=0,this.ZH=this.Ho=-1,this.wh=null}return l.prototype.Ec=function(){return this.dg},l.prototype.VF=function(){return 1},l.prototype.VW=function(s){this.mA=s},l.prototype.Xd=function(){if(this.mA!==null)return this.mA;var s=.001;return this.dg!=0?s=c.wr.CQ(this.dg):this.wh!=null&&(s=c.XC.DQ(this.wh)),s},l.prototype.Bz=function(){return this.wh},l.prototype.Hd=function(){return this.dg!=0?c.Tc.Zg(c.wr.Sy(this.dg)):this.wh!=null?c.XC.EQ(this.wh):void 0},l.Sb=function(s){if(s.dg!=0){if(c.wr.ZS(s.dg)===!0)return 1;if(c.wr.aT(s.dg)===!0)return 2}return 4},l.prototype.$r=function(){var s=this.Ec();return this.Ho!=-1?this.Ho:(this.Ho=c.wr.FK(s),this.Ho!=-1?this.Ho:s)},l.create=function(s){if(0>=s)throw c.i.N("Invalid or unsupported wkid: "+s);var r=new l;return r.dg=s,r},l.qP=function(s){if(s==null||s.length==0)throw c.i.N("Cannot create SpatialReference from null or empty text.");var r=new l;return r.wh=s,r},l.prototype.Nb=function(s){return this==s||s!=null&&this.constructor==s.constructor&&this.dg==s.dg&&(this.dg!=0||this.wh===s.wh)},l.prototype.toString=function(){return"[ tol: "+this.Kn()+"; wkid: "+this.Ec()+"; wkt: "+this.Bz()+"]"},l.prototype.cc=function(){if(this.pp!=="")return this.pp;var s=this.toString();if(Array.prototype.reduce)return this.pp="S"+s.split("").reduce(function(a,u){return 0|(a=(a<<5)-a+u.charCodeAt(0))},0);var r=0;if(s.length===0)return"";for(var n=0;n<s.length;n++)r=(r<<5)-r+s.charCodeAt(n),r&=r;return this.pp="S"+r},l.prototype.Kn=function(){return this.Xd(0)},l.prototype.fh=function(){return this.su!==null?this.su:this.su=c.gu.yP(this)},l.ZN=2147483645,l.$N=9007199254740990,l}();c.Eg=y}(U||(U={})),function(c){var I=function(y){function l(){var s=y!==null&&y.apply(this,arguments)||this;return s.Ji=null,s.ST=null,s.Hq=new c.ZL,s.Eo=null,s.jw=null,s}return Yt(l,y),l.yP=function(s){var r=new l;if(r.dg=s.dg,r.Ho=s.Ho,r.ZH=s.ZH,r.wh=s.wh,r.wh!==""&&r.wh!==null){s=l.kM(r.wh);var n=l.iM(r.wh);r.Hq.Xx(s,n,c.hu.Integer64),r.by(s),r.gy(n),r.dg=s.$r()}else s=l.jM(r.dg),r.by(s),r.gy(null),r.Hq.Xx(s,null,c.hu.Integer64);return r},l.prototype.Xd=function(s){return this.Hq.Kn(s)},l.iM=function(s){if(0>=s.length)throw c.i.N();var r=null;try{r=c.NC.fromString(s)}catch{r=null}return r==null?null:l.bD(r,!0)},l.prototype.by=function(s){this.Kd=s,this.Eo=this.Kd.Hd()},l.prototype.gy=function(s){this.KH=s,this.ST=this.KH!=null?this.KH.Eo:null},l.prototype.Wc=function(){return this.Sb()!=0&&this.Sb()!=3&&this.Kd.Wc()},l.prototype.IG=function(){return this.Sb()!=0&&(this.Sb()==3?this.Ji.fk().Wc():this.Kd.Wc())},l.prototype.eh=function(){return this.Kd!=null?this.Kd.Ue:null},l.prototype.pm=function(){return this.Kd.pm()},l.prototype.bf=function(){return this.Kd.bf()},l.prototype.hh=function(){return this.Kd!=null?this.Kd.sw:NaN},l.prototype.Up=function(){return this.Kd.Up()},l.prototype.Wr=function(){return this.Kd.Wr()},l.prototype.kk=function(){return this.Kd.kk()},l.prototype.kS=function(s){return c.OC.Py(this.Kd,s.Kd)},l.prototype.ml=function(){return this.Kd.ml()},l.prototype.Vr=function(){return this.Kd.Vr()},l.prototype.zi=function(){return this.Sb()==3?this.Ji.fk().zi():this.Kd.zi()},l.prototype.gh=function(){if(!this.Wc())throw c.i.N("!isPannable()");var s=new c.l;return this.Kd.gh(s),s},l.prototype.Oe=function(){if(!this.Wc())throw c.i.N("!isPannable()");return this.Kd.so},l.prototype.HR=function(){if(!this.Wc())throw c.i.N("!isPannable()");var s=new c.l;return this.Kd.GR(s),s},l.prototype.pv=function(){if(!this.Wc())throw c.i.N("!isPannable()");return this.Kd.pv()},l.prototype.ov=function(){if(!this.Wc())throw c.i.N("!isPannable()");return this.Kd.ov()},l.prototype.Xr=function(){return this.Ji!=null?this.Ji.fk().Xr():this.Kd.Xr()},l.prototype.PQ=function(){return this.Kd.hv()},l.prototype.Qp=function(){return this.Eo.getUnitFactor()},l.prototype.vz=function(s){return this.Hq.vz(s)},l.prototype.sc=function(){var s=this.Sb();if(s==1)return this;if(s==3)return this.Ji.fk().sc();if(s==0||s===4)throw c.i.fa("invalid call");if(this.jw!==null)return this.jw;if((s=this.eh().getGeogcs())==null)throw c.i.Qa();return this.jw=l.bF(s,this.Hq.VF())},l.bF=function(s,r){if(s==null)throw c.i.N("null pointer.");var n=new l;return s=l.mu(s,!0),n.Hq.Xx(s,null,r),n.by(s),n.gy(null),n.dg=s.$r(),n},l.prototype.Sb=function(){var s=this.eh();if(s!=null)switch(s.getType()){case c.Sc.PE_TYPE_GEOGCS:return 1;case c.Sc.PE_TYPE_PROJCS:return 2}return 4},l.prototype.hv=function(){return this.Kd.hv()},l.mu=function(s,r){var n=s.getCode();if(0>=n&&0<(n=c.pf.getCode(s))){if((s=c.pf.coordsys(n))==null)throw c.i.N("Text to wkid mapping had failed: "+n);return l.mu(s,r)}if(r&&0<n&&(r=l.qx[n]))return r;r=c.zb.xv(s,n,!1);var a=l.lK[r];return a||(s=0>=n?s:c.pf.coordsys(n),s=new c.OC(s),l.lK[r]=s,0<n&&(l.qx[n]=s),s)},l.jM=function(s){if(0>=s)throw c.i.N("Invalid or unsupported wkid: "+s);var r=l.qx[s];if(r!=null)return r;if((r=c.pf.coordsys(s))==null)throw c.i.N("Invalid or unsupported wkid: "+s);return(r=l.mu(r,!1)).$r()!=s&&(l.qx[s]=r),r},l.kM=function(s){if(s==null||s===void 0||s.length==0)throw c.i.N("Cannot create SpatialReference from null or empty text.");var r=null;try{r=c.pf.fromString(c.Sc.PE_TYPE_COORDSYS,s)}catch(n){throw c.i.N("Cannot create SpatialReference from text. "+n.message)}if(r===null)throw c.i.N("Cannot create SpatialReference from text. ");return l.mu(r,!0)},l.bD=function(s,r){var n,a=s.getCode();if(0>=a&&0<(a=c.pf.getCode(s))){if((a=c.pf.vertcs(a))===null)throw c.i.N();return l.bD(a,r)}if(r&&0<a&&(r=l.kK[a])||(s=c.zb.xv(s,a,!1),r=l.mK[s]))return r;if(0>=a||(n=c.pf.vertcs(a)),n===null)throw c.i.N();return n=new c.PL(n),l.mK[s]=n,0<a&&(l.kK[a]=n),n},l.sI=function(s,r){if(r===null||r.B())return null;var n=new c.l;if(r!==null&&s.Sb()!=1){var a=s.sc(),u=a.eh();s=c.vr.Nr(s,a,null,null),(r=c.Hx.local().V(r,s,null)).A(n)}else u=s.eh(),r.A(n);return r=u.getPrimem().getLongitude(),u=u.getUnit().getUnitFactor(),new c.LC(n.v,n.G,n.C,n.H,r,u)},l.lD=function(s){var r={name:"",steps:[],_pt:null,_entry:null},n=0;for(s=s.getEntries();n<s.length;n++){var a=s[n],u={LY:!1,ZY:"",YY:-1,geogtran:null};a.getDirection()===0?u.isInverse=!1:u.isInverse=!0;var d=a.getGeogtran().getCode();-1<d?u.wkid=d:u.wkt=a.getGeogtran().toString(),r.steps.push(u)}return r},l.XR=function(s,r,n,a){return n===void 0&&(n=null),n=l.sI(a,n),s=c.lp.getGTlist(s.eh(),r.eh(),2,c.lp.PE_GTLIST_OPTS_COMMON,n,1),r=null,s&&0<s.length&&(r=this.lD(s[0]),c.Mx.destroy(s)),n!==null&&n.destroy(),r},l.YR=function(s,r,n,a){var u;if(n===void 0&&(n=null),a===void 0&&(a=null),u===void 0&&(u=30),n=l.sI(a,n),s=c.lp.getGTlist(s.eh(),r.eh(),2,c.lp.PE_GTLIST_OPTS_COMMON,n,u),r=[],s&&0<s.length){for(u=0;u<s.length;u++)r.push(this.lD(s[u]));c.Mx.destroy(s)}return n!==null&&n.destroy(),r},l.qx={},l.lK={},l.kK={},l.mK={},l}(c.Eg);c.gu=I}(U||(U={})),function(c){var I,y;(y=I=c.hu||(c.hu={}))[y.Integer32=0]="Integer32",y[y.Integer64=1]="Integer64",y[y.FloatingPoint=2]="FloatingPoint";var l=function(){function s(){this.qp()}return s.prototype.assign=function(r){this.Fm=r.Fm,this.Gm=r.Gm,this.Pj=r.Pj,this.sA=r.sA,this.Fo=r.Fo,this.rA=r.rA,this.Ik=r.Ik,this.Mq=r.Mq,this.Lq=r.Lq,this.Rm=r.Rm},s.prototype.VF=function(){return this.Rm},s.prototype.qp=function(){this.Gm=this.Fm=0,this.Pj=1,this.sA=0,this.Fo=1,this.rA=0,this.Lq=this.Mq=this.Ik=2220446049250313e-29,this.Rm=I.FloatingPoint},s.prototype.Xx=function(r,n,a){if(this.qp(),this.Rm=a,a!=I.FloatingPoint){var u=new c.l;r.hR(u),this.Fm=u.v,this.Gm=u.G}else this.Gm=this.Fm=-17976931348623157e292;(u=r.Ue.getType())==c.Sc.PE_TYPE_GEOGCS?(u=(a==I.Integer64?1e-9:1/18e5)*r.bf(),this.Pj=1/u):u==c.Sc.PE_TYPE_PROJCS&&(u=(a==I.Integer64?1e-4:.001)*r.pm(),this.Pj=1/u),n!=null?(u=(a==I.Integer32?.001:1e-4)*n.IH,this.Fo=1/u):this.Fo=1e4,this.YM(),this.Ik=r.sw,this.Mq=n!=null?.001*n.IH:.001,this.Lq=2220446049250313e-29},s.prototype.YM=function(){if(this.Rm!=I.FloatingPoint){var r=this.Rm==I.Integer64?c.Eg.$N:c.Eg.ZN,n=r/this.Pj,a=this.Fm+n,u=c.O.truncate((a-this.Fm)*this.Pj);u>r&&(this.Pj=r/(a-this.Fm)),n=this.Gm+n,(u=c.O.truncate((n-this.Gm)*this.Pj))>r&&(this.Pj=r/(n-this.Gm))}},s.prototype.aC=function(r){switch(r){case 0:this.Ik=void 0;case 1:this.Mq=void 0;case 2:this.Lq=void 0}},s.prototype.Kn=function(r){switch(r){case 0:return this.Ik;case 1:return this.Mq;case 2:return this.Lq}return 0},s.prototype.vz=function(r){if(this.Rm==I.FloatingPoint)return 0;switch(r){case 0:return 1/this.Pj;case 1:case 2:return 1/this.Fo;default:return 0}},s.prototype.toString=function(){var r="SRPD [m_toleranceXY: "+this.Ik.toString();return(r=(r=(r=(r=(r=(r=(r=(r=(r=r+";m_falseX: "+this.Fm.toString())+";m_falseY: "+this.Gm.toString())+";m_unitsXY: "+this.Pj.toString())+";m_falseZ: "+this.sA.toString())+";m_unitsZ: "+this.Fo.toString())+";m_falseM: "+this.rA.toString())+";m_toleranceZ: "+this.Mq.toString())+";m_toleranceM: "+this.Lq.toString())+";m_precision: "+this.Rm.toString())+"] "},s}();c.ZL=l}(U||(U={})),function(c){function I(a,u){return 89.99999<u?u=89.99999:-89.99999>u&&(u=-89.99999),u*=.017453292519943,[111319.49079327169*a,31890685e-1*Math.log((1+Math.sin(u))/(1-Math.sin(u)))]}function y(a,u,d){return a=a/6378137*57.29577951308232,d?[a,57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*u/6378137)))]:[a-360*Math.floor((a+180)/360),57.29577951308232*(1.5707963267948966-2*Math.atan(Math.exp(-1*u/6378137)))]}function l(a,u,d){var f=a.Of();if(a.getType()===33)u=u(f.Lg(),f.ih()),f.Cb(u[0],u[1]);else if(a.getType()===197){var g=u(a.es(),a.gs(),d);u=u(a.ds(),a.fs(),d),f.K(g[0],g[1],u[0],u[1])}else for(g=new c.h,a=0;a<f.I();a++){f.D(a,g);var b=u(g.x,g.y,d);g.ma(b[0],b[1]),f.Cb(a,g)}return f}function s(a){return l(a,y,!0)}function r(a){return l(a,I,!0)}var n=Math.PI/180;c.UK=function(){function a(){}return a.vu=function(u){var d=Math.sqrt(.006694379990197414),f=Math.sin(u.y*n);return c.h.construct(6378137*u.x*n,3.1677196636462314e6*(f/(1-.006694379990197414*f*f)-1/(2*d)*Math.log((1-d*f)/(1+d*f))))},a.Vx=function(u,d,f,g){var b=.0033528106647474805,_=Math.sin(f);f=Math.cos(f);var S=(1-b)*Math.tan(u),T=S*(u=1/Math.sqrt(1+S*S)),k=Math.atan2(S,f),O=(S=u*_)*S,N=1-O,D=27233160610754688e-5*N/4040829998466145e-2,z=1+D/16384*(4096+D*(D*(320-175*D)-768)),L=D/1024*(256+D*(D*(74-47*D)-128));D=g/(635675231424518e-8*z);for(var F,V,q,W=2*Math.PI;1e-12<Math.abs(D-W);)q=Math.cos(2*k+D),W=D,D=g/(635675231424518e-8*z)+L*(F=Math.sin(D))*(q+L/4*((V=Math.cos(D))*(2*q*q-1)-L/6*q*(4*F*F-3)*(4*q*q-3)));return g=T*F-u*V*f,N=b/16*N*(4+b*(4-3*N)),c.h.construct((d+(Math.atan2(F*_,u*V-T*F*f)-(1-N)*b*S*(D+N*F*(q+N*V*(2*q*q-1)))))/n,Math.atan2(T*V+u*F*f,(1-b)*Math.sqrt(O+g*g))/n)},a.MM=function(u,d,f,g){var b=.0033528106647474805,_=g-d,S=Math.atan((1-b)*Math.tan(u)),T=Math.atan((1-b)*Math.tan(f)),k=Math.sin(S);S=Math.cos(S);var O=Math.sin(T);T=Math.cos(T);var N=_,D=1e3;do{var z=Math.sin(N),L=Math.cos(N),F=Math.sqrt(T*z*T*z+(S*O-k*T*L)*(S*O-k*T*L));if(F===0)return 0;L=k*O+S*T*L;var V=Math.atan2(F,L),q=S*T*z/F,W=1-q*q;z=L-2*k*O/W,isNaN(z)&&(z=0);var K=b/16*W*(4+b*(4-3*W)),tt=N;N=_+(1-K)*b*q*(V+K*F*(z+K*L*(2*z*z-1)))}while(1e-12<Math.abs(N-tt)&&0<--D);return D===0?(k=g-d,{azimuth:Math.atan2(Math.sin(k)*Math.cos(f),Math.cos(u)*Math.sin(f)-Math.sin(u)*Math.cos(f)*Math.cos(k)),geodesicDistance:6371008771415059e-9*Math.acos(Math.sin(u)*Math.sin(f)+Math.cos(u)*Math.cos(f)*Math.cos(g-d))}):(d=(u=27233160610754688e-5*W/4040829998466145e-2)/1024*(256+u*(u*(74-47*u)-128)),{azimuth:Math.atan2(T*Math.sin(N),S*O-k*T*Math.cos(N)),YQ:635675231424518e-8*(1+u/16384*(4096+u*(u*(320-175*u)-768)))*(V-d*F*(z+d/4*(L*(2*z*z-1)-d/6*z*(4*F*F-3)*(4*z*z-3)))),XY:Math.atan2(S*Math.sin(N),S*O*Math.cos(N)-k*T)})},a.jQ=function(u){var d=u.hasAttribute(1),f=u.hasAttribute(2),g=[],b=u.da(),_=null,S=null;d&&(_=u.ub(1)),f&&(S=u.ub(2));for(var T=new c.h,k=0;k<b;k++){for(var O=u.Ba(k),N=u.Ja(k),D=0,z=0,L=NaN,F=NaN,V=NaN,q=NaN,W=u.dc(k),K=[],tt=O;tt<O+N;tt++){u.D(tt,T),q=V=NaN;var st=[T.x,T.y];d&&(V=_.get(tt),st.push(V)),f&&(b=S.get(tt),st.push(q)),tt==O&&W&&(D=T.x,z=T.y,L=V,F=q),K.push(st)}!W||D==T.x&&z==T.y&&(!d||isNaN(L)&&isNaN(V)||L==V)&&(!f||isNaN(F)&&isNaN(q)||F==q)||K.push(K[0].slice(0)),g.push(K)}return g},a.Wy=function(u,d){u=a.jQ(u),637.100877141506>d&&(d=637.100877141506);for(var f,g=[],b=0;b<u.length;b++){var _,S,T=u[b];g.push(f=[]),f.push([T[0][0],T[0][1]]);var k=T[0][0]*n,O=T[0][1]*n;for(_=0;_<T.length-1;_++){var N=T[_+1][0]*n,D=T[_+1][1]*n;if(k!==N||O!==D){N=(D=a.MM(O,k,D,N)).azimuth;var z=(D=D.YQ)/d;if(1<z){for(S=1;S<=z-1;S++){var L=a.Vx(O,k,N,S*d);f.push([L.x,L.y])}S=a.Vx(O,k,N,(D+Math.floor(z-1)*d)/2),f.push([S.x,S.y])}O=a.Vx(O,k,N,D),f.push([O.x,O.y]),k=O.x*n,O=O.y*n}}}return{qJ:g}},a.XQ=function(u){for(var d=[],f=0;f<u.length;f++){var g=u[f];g=a.Wy(g,1e4),d.push(g)}u=[];for(var b=0;b<d.length;b++){g=d[b];var _=0;for(f=0;f<g.qJ.length;f++){var S,T=g.qJ[f],k=a.vu(c.h.construct(T[0][0],T[0][1])),O=a.vu(c.h.construct(T[T.length-1][0],T[T.length-1][1])),N=O.x*k.y-k.x*O.y;for(S=0;S<T.length-1;S++)k=a.vu(c.h.construct(T[S+1][0],T[S+1][1])),N+=(O=a.vu(c.h.construct(T[S][0],T[S][1]))).x*k.y-k.x*O.y;_+=N}_/=1,u.push(_/-2)}return u},a}(),c.cb=function(){function a(){}return a.xB=function(u,d,f,g,b,_,S){a.gD[u.cc()]=d,isNaN(f)==0&&(a.mD[u.cc()]=f),isNaN(g)==0&&(a.zD[u.cc()]=g),isNaN(b)==0&&(a.aD[u.cc()]=b),a.nD[u.cc()]=_,S!==null&&(a.oD[u.cc()]=S)},a.Ww=function(u,d,f){a.sD[u.cc()+"-"+d.cc()]=f},a.sc=function(u){if((u=a.gD[u.cc()])==null)throw c.i.Ie();return u},a.bf=function(u){if((u=a.mD[u.cc()])==null)throw c.i.Ie();return u},a.vv=function(u){if((u=a.zD[u.cc()])==null)throw c.i.Ie();return u},a.ev=function(u){if((u=a.aD[u.cc()])==null)throw c.i.Ie();return u},a.gh=function(u){if((u=a.oD[u.cc()])==null)throw c.i.Ie();return c.l.construct(u[0],u[1],u[2],u[3])},a.Wc=function(u){if((u=a.nD[u.cc()])==null)throw c.i.Ie();return u},a.zh=function(u,d,f){if(d.Nb(f))return u;var g=a.sD[d.cc()+"-"+f.cc()];if(g!==void 0)return g(u,d,f);throw c.i.Ie()},a.vt=function(){throw c.i.Ie()},a.bR=function(){throw c.i.Ie()},a.dW=function(){throw c.i.Ie()},a.ml=function(){throw c.i.Ie()},a.sW=function(){var u=c.Eg.create(102100),d=c.Eg.create(3857),f=c.Eg.create(4326);c.cb.xB(u,f,NaN,NaN,NaN,!1,null),c.cb.xB(f,f,1,.0033528106647474805,6378137,!0,[-180,-90,180,90]),c.cb.xB(d,f,NaN,NaN,NaN,!1,null),c.cb.Ww(u,f,s),c.cb.Ww(f,u,r),c.cb.Ww(d,f,s),c.cb.Ww(f,d,r)},a.gD=[],a.mD=[],a.zD=[],a.aD=[],a.nD=[],a.oD=[],a.sD=[],a}()}(U||(U={})),U.cb.sW(),function(c){var I=function(){function y(l){this.o=new Int32Array(0),this.io=-1,this.Hg=this.size=this.Bl=0,this.stride=l}return y.prototype.jd=function(l){l<this.Bl?(this.o[l*this.stride]=this.io,this.io=l):this.Bl--,this.size--},y.prototype.T=function(l,s){return this.o[l*this.stride+s]},y.prototype.S=function(l,s,r){this.o[l*this.stride+s]=r},y.prototype.Ce=function(){var l=this.io;if(l==-1){if(this.Bl==this.Hg){if(2147483647<(l=this.Hg!=0?c.O.truncate(3*(this.Hg+1)/2):1)&&(l=2147483647),l==this.Hg)throw c.i.ce();this.Dz(l)}l=this.Bl,this.Bl++}else this.io=this.o[l*this.stride];this.size++;for(var s=l*this.stride;s<l*this.stride+this.stride;s++)this.o[s]=-1;return l},y.prototype.Ll=function(l){var s=this.io;if(s==-1){if(this.Bl==this.Hg){if(2147483647<(s=this.Hg!=0?c.O.truncate(3*(this.Hg+1)/2):1)&&(s=2147483647),s==this.Hg)throw c.i.ce();this.Dz(s)}s=this.Bl,this.Bl++}else this.io=this.o[s*this.stride];this.size++;for(var r=s*this.stride,n=0;n<l.length;n++)this.o[r+n]=l[n];return s},y.prototype.mj=function(l){this.io=-1,this.size=this.Bl=0,l&&(this.o=null,this.Hg=0)},y.prototype.De=function(l){l>this.Hg&&this.Dz(l)},y.prototype.tx=function(l,s){l*=this.stride,s*=this.stride;for(var r=0;r<this.stride;r++){var n=this.o[s+r];this.o[s+r]=this.o[l+r],this.o[l+r]=n}},y.prototype.gC=function(l,s,r){var n=this.o[this.stride*s+r];this.o[this.stride*s+r]=this.o[this.stride*l+r],this.o[this.stride*l+r]=n},y.LG=function(l){return 0<=l},y.prototype.Dz=function(l){this.o==null&&(this.o=new Int32Array(0));var s=new Int32Array(this.stride*l);s.set(this.o,0),this.o=s,this.Hg=l},y}();c.$c=I}(U||(U={})),function(c){var I,y;(y=I||(I={}))[y.enumInputModeBuildGraph=0]="enumInputModeBuildGraph",y[y.enumInputModeSimplifyAlternate=4]="enumInputModeSimplifyAlternate",y[y.enumInputModeSimplifyWinding=5]="enumInputModeSimplifyWinding",y[y.enumInputModeIsSimplePolygon=7]="enumInputModeIsSimplePolygon";var l=function(){function r(n){this.Be=n,this.yh=NaN,this.eH=new c.ig,this.fH=new c.ig,this.ms=new c.Nc,this.ns=new c.Nc}return r.prototype.compare=function(n,a,u){if(n=n.ja(u),this.Be.pB(a,this.eH),this.Be.pB(n,this.fH),a=this.eH.get(),n=this.fH.get(),this.ms.K(a.sa,a.pa),this.ns.K(n.sa,n.pa),this.ms.va<this.ns.oa)return-1;if(this.ms.oa>this.ns.va)return 1;u=a.na==a.la;var d=n.na==n.la;if(u||d){if(u&&d)return 0;if(a.na==n.na&&a.sa==n.sa)return u?1:-1;if(a.la==n.la&&a.pa==n.pa)return u?-1:1}return(u=a.Pe(this.yh,this.ms.oa))==(d=n.Pe(this.yh,this.ns.oa))&&((d=.5*((u=Math.min(a.la,n.la))+this.yh))==this.yh&&(d=u),u=a.Pe(d,this.ms.oa),d=n.Pe(d,this.ns.oa)),u<d?-1:u>d?1:0},r.prototype.aK=function(n){this.yh=n},r}(),s=function(){function r(n){this.ib=n,this.WH=new c.ig,this.Bf=new c.h,this.wA=new c.Nc}return r.prototype.kX=function(n){this.Bf.L(n)},r.prototype.compare=function(n,a){return this.ib.pB(n.ja(a),this.WH),n=this.WH.get(),this.wA.K(n.sa,n.pa),this.Bf.x<this.wA.oa?-1:this.Bf.x>this.wA.va?1:(n=n.Pe(this.Bf.y,this.Bf.x),this.Bf.x<n?-1:this.Bf.x>n?1:0)},r}();I=function(){function r(){this.hH=this.Di=this.Gi=this.kA=this.Yn=this.ye=this.Kc=this.jh=this.ge=null,this.Go=this.xg=-1,this.gH=!0,this.pA=!1,this.lA=NaN,this.Ni=new c.Md,this.bO=2147483647,this.aO=c.O.truncate(-2147483648),this.cg=this.ae=this.Hl=this.Cq=this.Cm=this.Bq=this.Os=this.Re=-1,this.wa=0}return r.prototype.yy=function(n){this.lA=n},r.prototype.Ym=function(){this.ge==null&&(this.ge=new c.$c(8));var n=this.ge.Ce();return this.ge.S(n,1,0),n},r.prototype.vU=function(){this.Kc==null&&(this.Kc=new c.$c(8));var n=this.Kc.Ce();this.Kc.S(n,2,0),this.Kc.S(n,3,0);var a=this.Kc.Ce();return this.Kc.S(a,2,0),this.Kc.S(a,3,0),this.JJ(n,a),this.JJ(a,n),n},r.prototype.mI=function(){this.ye==null&&(this.ye=new c.$c(8));var n=this.ye.Ce();return this.ye.S(n,2,0),n},r.prototype.TW=function(n,a){this.ge.S(n,7,a)},r.prototype.mn=function(n,a){this.ge.S(n,2,a)},r.prototype.SW=function(n,a){this.ge.S(n,1,a)},r.prototype.lX=function(n,a){this.ge.S(n,3,a)},r.prototype.iX=function(n,a){this.ge.S(n,4,a)},r.prototype.cr=function(n,a){this.ge.S(n,5,a)},r.prototype.eR=function(n){return this.ge.T(n,5)},r.prototype.RW=function(n,a){this.ge.S(n,6,a)},r.prototype.cN=function(n,a){this.RW(a,n)},r.prototype.IJ=function(n,a){this.Kc.S(n,1,a)},r.prototype.JJ=function(n,a){this.Kc.S(n,4,a)},r.prototype.Tl=function(n,a){this.Kc.S(n,5,a)},r.prototype.Sl=function(n,a){this.Kc.S(n,6,a)},r.prototype.$W=function(n,a){this.Kc.S(n,2,a)},r.prototype.$w=function(n,a){this.Kc.S(n,3,a)},r.prototype.LF=function(n){return this.Kc.T(n,3)},r.prototype.Gt=function(n,a){this.Kc.S(n,7,a)},r.prototype.EK=function(n,a){if(this.mm(n)!=-1)for(a=a?-1:n,n=this.mm(n);n!=-1;n=this.js(n))this.g.Ra(this.tj(n),this.Cq,a)},r.prototype.yx=function(n,a){n!=-1&&(this.EK(n,a),this.EK(this.xa(n),a))},r.prototype.Dt=function(n,a){this.ye.S(n,1,a)},r.prototype.Vg=function(n,a){this.ye.S(n,2,a)},r.prototype.jn=function(n,a){this.ye.S(n,3,a),this.NW(n,this.dR(a)),this.MW(a,n)},r.prototype.MW=function(n,a){this.ye.S(n,4,a)},r.prototype.NW=function(n,a){this.ye.S(n,5,a)},r.prototype.DJ=function(n,a){this.ye.S(n,6,a)},r.prototype.BJ=function(n,a){this.ye.S(n,7,a)},r.prototype.AJ=function(n,a){this.Yn.write(n,a)},r.prototype.CJ=function(n,a){this.kA.write(n,a)},r.prototype.kY=function(n){var a=0,u=0,d=this.AF(n),f=new c.h,g=new c.h,b=new c.h;this.Yr(d,f),g.L(f);var _=d;do this.lm(_,b),u+=c.h.tb(g,b),this.$e(this.xa(_))!=n&&(a+=(b.x-f.x-(g.x-f.x))*(b.y-f.y+(g.y-f.y))*.5),g.L(b),_=this.jc(_);while(_!=d);this.Yn.write(n,a),this.kA.write(n,u)},r.prototype.PU=function(n,a){var u=new l(this),d=new c.Yj;d.De(c.O.truncate(this.wa/2)),d.Vo(u);for(var f=new c.ia(0),g=this.$g(),b=null,_=0,S=new c.h,T=this.Re;T!=-1;T=this.Rf(T)){if(!(255&++_||a==null||a.progress(-1,-1)))throw c.i.WC();var k=this.Me(T);if(k!=-1){if(f.Bh(0),!this.gY(d,g,f,k)){this.D(T,S),u.aK(S.y);var O=k;do{var N=this.Ab(O,g);N!=-1&&(d.vd(N,-1),this.Kb(O,g,-2)),O=this.jc(this.xa(O))}while(k!=O);O=k;do(N=this.Ab(O,g))==-1&&(N=d.addElement(O,-1),f.add(N)),O=this.jc(this.xa(O));while(k!=O)}for(k=f.size-1;0<=k;k--)N=f.get(k),O=d.ja(N),this.Kb(this.xa(O),g,N),this.OU(d,N,n)}else this.cz(T)==-1&&(b==null&&(b=new s(this)),this.D(T,S),b.kX(S),O=d.IW(b),k=this.Hl,O!=-1&&(N=d.ja(O),this.$e(N)==this.$e(this.xa(N))&&(N=this.OF(d,O)),N!=-1&&(k=this.$e(N))),this.cN(k,T))}this.Jg(g)},r.prototype.OU=function(n,a,u){var d=n.ja(a),f=this.$e(d);if(this.Gn(f)==-1){var g=this.OF(n,a),b=this.xa(d),_=this.$e(b);this.Kp(f),this.Kp(_);var S=this.Gn(f),T=this.Gn(_);if(g==-1&&S==-1&&(_==f?(this.jn(_,this.Hl),S=T=this.Hl):(T==-1&&(this.jn(_,this.Hl),T=this.Hl),this.jn(f,_),S=_)),g!=-1){var k=this.$e(g);T==-1&&(0>=this.Kp(k)?(T=this.Gn(k),this.jn(_,T)):(this.jn(_,k),T=k),_==f&&(S=T))}S==-1&&this.hY(f,_),u==0?this.jW(n,a,d,g,f,_):u==5?this.kW(n,a,d,b,f,_):u==4&&this.iW(d,g,f,_)}},r.prototype.jW=function(n,a,u,d,f,g){var b=this.hk(f);if(d!=-1){var _=this.hk(g),S=this.hk(this.$e(d));d=b&_&S,S^=S&this.dh(u),(S|=d)!=0&&(this.Vg(g,_|S),this.Vg(f,S|b),b=b||S)}for(a=n.lb(a);a!=-1&&(d=n.ja(a),u=this.$e(this.xa(d)),f=this.hk(u),g=this.dh(d),_=this.$e(d),d=f&(S=this.hk(_))&b,b^=b&g,(b|=d)!=0);a=n.lb(a))this.Vg(u,f|b),this.Vg(_,S|b)},r.prototype.kW=function(n,a,u,d,f,g){if(f!=g){u=this.Ab(u,this.cg),u+=this.Ab(d,this.cg),d=0;var b=new c.ia(0),_=new c.ia(0);_.add(0);for(var S=n.rc(-1);S!=a;S=n.lb(S)){var T=n.ja(S),k=this.xa(T),O=this.$e(T),N=this.$e(k);if(O!=N){if(T=this.Ab(T,this.cg),d+=T+=this.Ab(k,this.cg),k=!1,b.size!=0&&b.Fc()==N&&(_.If(),b.If(),k=!0),this.Gn(N)==-1)throw c.i.Qa();k&&this.Gn(N)==O||(_.add(d),b.add(O))}}d+=u,b.size!=0&&b.Fc()==g&&(_.If(),b.If()),d!=0?_.Fc()==0&&(n=this.g.ld,n=this.La(n),this.Vg(f,n)):_.Fc()!=0&&(n=this.g.ld,n=this.La(n),this.Vg(f,n))}},r.prototype.iW=function(n,a,u,d){var f=this.La(this.g.ld);if(a==-1)this.Vg(d,this.Go),1&(n=this.Ab(n,this.xg))?this.Vg(u,f):this.Vg(u,this.Go);else{var g=this.hk(d);g==0?(g=this.hk(this.$e(a)),this.Vg(d,g),1&(n=this.Ab(n,this.xg))?this.Vg(u,g==f?this.Go:f):this.Vg(u,g)):1&(n=this.Ab(n,this.xg))?this.Vg(u,g==f?this.Go:f):this.Vg(u,g)}},r.prototype.gY=function(n,a,u,d){var f=d,g=-1,b=-1,_=0;do{if(_==2)return!1;var S=this.Ab(f,a);if(S!=-1){if(g!=-1)return!1;g=S}else{if(b!=-1)return!1;b=f}_++,f=this.jc(this.xa(f))}while(d!=f);return b!=-1&&g!=-1&&(this.Kb(n.ja(g),a,-2),n.Sj(g,b),u.add(g),!0)},r.prototype.hY=function(n,a){var u=this.Kp(n);if(u!=0){var d=this.Kp(a);0<u&&0>d||0>u&&0<d?this.jn(n,a):(a=this.Gn(a))!=-1&&this.jn(n,a)}},r.prototype.vP=function(n,a){this.Cq=this.g.Gd();for(var u=0,d=a.size;u<d;u++){var f=a.get(u),g=this.g.Pa(f,this.Cm),b=this.g.Qf(this.g.bd(f)),_=this.g.ic(b);if(c.aa.Hc(_)){var S=this.g.U(f);if(S!=-1){var T=this.g.Pa(S,this.Cm);if(g!=T){var k=this.vU(),O=this.xa(k),N=this.jh.Ce();this.jh.S(N,0,f),this.jh.S(N,1,-1),this.Gt(k,N),this.IJ(k,g),(N=this.Me(g))==-1?(this.mn(g,k),this.Tl(k,O),this.Sl(O,k)):(g=this.te(N),this.Tl(N,O),this.Sl(O,N),this.Sl(g,k),this.Tl(k,g)),this.IJ(O,T),(g=this.Me(T))==-1?(this.mn(T,O),this.Sl(k,O),this.Tl(O,k)):(T=this.te(g),this.Tl(g,k),this.Sl(k,g),this.Sl(T,O),this.Tl(O,T)),b=this.La(b),n==0?(this.Kb(O,this.ae,0),this.Kb(k,this.ae,_==1736?b:0)):n==5?(T=new c.h,this.g.D(f,T),f=new c.h,this.g.D(S,f),g=S=0,0>T.compare(f)?S=1:g=-1,this.Kb(O,this.ae,0),this.Kb(k,this.ae,0),this.Kb(k,this.cg,S),this.Kb(O,this.cg,g)):n==7?(this.Kb(O,this.ae,this.Go),this.Kb(k,this.ae,_==1736?b:0)):n==4&&(this.Kb(O,this.ae,0),this.Kb(k,this.ae,0),this.Kb(k,this.xg,1),this.Kb(O,this.xg,1)),_=_==1736?this.aO:0,this.$w(k,b|_),this.$w(O,b|_)}}}}},r.prototype.VT=function(n,a){var u=this.mm(a);if(u!=-1){var d=this.mm(n);this.jh.S(u,1,d),this.Gt(n,u),this.Gt(a,-1)}n=this.xa(n),a=this.xa(a),(u=this.mm(a))!=-1&&(d=this.mm(n),this.jh.S(u,1,d),this.Gt(n,u),this.Gt(a,-1))},r.prototype.IX=function(n){function a(V,q){return d.HO(V,q)}var u=new c.ia(0);u.Jb(10);for(var d=this,f=this.Re;f!=-1;f=this.Rf(f)){u.clear(!1);var g=this.Me(f);if(g!=-1){var b=g;do u.add(b),b=this.jc(this.xa(b));while(b!=g);if(1<u.size){if(b=!0,2<u.size)u.Vd(0,u.size,a),u.add(u.get(0));else if(0<this.GO(u.get(0),u.get(1))){var _=u.get(0);u.set(0,u.get(1)),u.set(1,_)}else b=!1;for(var S=_=u.get(0),T=this.uf(S),k=this.xa(S),O=-1,N=1,D=u.size;N<D;N++){var z=u.get(N),L=this.xa(z),F=this.jk(L);if(F==T&&z!=S){if(n==0)O=this.LF(S)|this.LF(z),this.$w(S,O),this.$w(k,O),this.Kb(S,this.ae,this.Ab(S,this.ae)|this.Ab(z,this.ae)),this.Kb(k,this.ae,this.Ab(k,this.ae)|this.Ab(L,this.ae));else if(this.cg!=-1)O=this.Ab(S,this.cg)+this.Ab(z,this.cg),L=this.Ab(k,this.cg)+this.Ab(L,this.cg),this.Kb(S,this.cg,O),this.Kb(k,this.cg,L);else{if(n==7)return void(this.Ni=new c.Md(5,f,-1));this.xg!=-1&&(O=this.Ab(S,this.xg)+this.Ab(z,this.xg),L=this.Ab(k,this.xg)+this.Ab(L,this.xg),this.Kb(S,this.xg,O),this.Kb(k,this.xg,L))}this.VT(S,z),this.Ly(z),O=S,u.set(N,-1),z==_&&(u.set(0,-1),_=-1)}else this.yx(O,!1),O=-1,S=z,T=F,k=L}if(this.yx(O,!1),O=-1,b){for(_=-1,N=0,D=u.size;N<D;N++)if((z=u.get(N))!=-1){if(_==-1)S=_=z,T=this.uf(S),k=this.xa(S);else if(z!=S&&(L=this.xa(z),F=this.jk(L),this.Sl(k,z),this.Tl(z,k),S=z,T=F,k=L,n==7&&(this.Ab(z,this.ae)|this.Ab(this.te(z),this.ae))==(1|this.Go)))return void(this.Ni=new c.Md(5,f,-1))}this.mn(f,_)}else{for(_=-1,N=0,D=u.size;N<D;N++)if((z=u.get(N))!=-1){_=z;break}g!=_&&this.mn(f,_)}}}}},r.prototype.WN=function(){for(var n=-1,a=this.$g(),u=this.Re;u!=-1;u=this.Rf(u)){var d=this.Me(u);if(d!=-1){var f=d;do{if(this.Ab(f,a)!=1){var g=this.mI();this.Dt(g,f),this.BJ(g,n),n!=-1&&this.DJ(n,g),n=g;var b=0,_=f;do b|=this.Ab(_,this.ae),this.$W(_,g),this.Kb(_,a,1),_=this.jc(_);while(_!=f);this.Vg(g,b)}f=this.jc(this.xa(f))}while(f!=d)}}g=this.mI(),this.Dt(g,-1),this.BJ(g,n),n!=-1&&this.DJ(n,g),this.Hl=g,this.Yn=c.be.qf(this.ye.size,NaN),this.kA=c.be.qf(this.ye.size,NaN),this.AJ(this.Hl,1/0),this.CJ(this.Hl,1/0),this.Jg(a)},r.prototype.sR=function(n,a,u){if((a=a!=-1?a:this.Me(n))==-1)return-1;for(n=a;;){if(this.Ab(a,u)!=1)return a;if((a=this.jc(this.xa(a)))==n)return-1}},r.prototype.yW=function(){for(var n=this.$g(),a=this.Re;a!=-1;a=this.Rf(a))for(var u=-1;;){var d=this.sR(a,u,n);if(d==-1)break;u=this.jc(this.xa(d));for(var f=d;;){var g=this.jc(f),b=this.te(f),_=this.xa(f);if(b==_){if(this.IP(f),u!=f&&u!=_||(u=-1),f==d||b==d){if(f==(d=g)||b==d)break;f=g;continue}}else this.Kb(f,n,1);if((f=g)==d)break}}this.Jg(n)},r.prototype.MB=function(n,a,u,d,f){this.Ug(),this.gH=f,this.g=n,this.Bq=this.g.aF(),(n=new c.ia(0)).Jb(u!=null?this.g.I(u.get(0)):this.g.fd);var g=0,b=1,_=u!=null?u.get(0):this.g.ld;for(f=1;_!=-1;){this.g.HJ(_,this.Bq,b),b<<=1;for(var S=this.g.Ob(_);S!=-1;S=this.g.Rb(S))for(var T=this.g.Xa(S),k=0,O=this.g.Ja(S);k<O;k++)n.add(T),T=this.g.U(T);c.aa.Rn(this.g.ic(_))||(g+=this.g.da(_)),u!=null?(_=f<u.size?u.get(f):-1,f++):_=this.g.ue(_)}for(this.Go=b,this.wa=n.size,this.g.nx(n,this.wa),this.jh==null&&(this.jh=new c.$c(2),this.ge=new c.$c(8),this.Kc=new c.$c(8),this.ye=new c.$c(8)),this.jh.De(this.wa),c.mp.zp(d),this.ge.De(this.wa+10),this.Kc.De(2*this.wa+32),this.ye.De(Math.max(32,g)),this.Cm=this.g.Gd(),u=new c.h,f=0,g=new c.h,u.Rc(),b=0;b<=this.wa;b++)if(b<this.wa?(T=n.get(b),this.g.D(T,g)):g.Rc(),!u.qb(g)){if(f<b){for(T=this.Ym(),O=k=-1;f<b;f++)O=n.get(f),this.g.Ra(O,this.Cm,T),_=this.jh.Ce(),this.jh.S(_,0,O),this.jh.S(_,1,k),k=_,S=this.g.bd(O),_=this.g.Qf(S),_=this.La(_),this.SW(T,this.xd(T)|_);this.TW(T,k),this.cr(T,this.g.Ua(O)),this.Os!=-1&&this.iX(this.Os,T),this.lX(T,this.Os),this.Os=T,this.Re==-1&&(this.Re=T)}f=b,u.L(g)}c.mp.zp(d),this.ae=this.$g(),a==5&&(this.cg=this.$g()),a==4&&(this.xg=this.$g()),this.vP(a,n),this.Ni.Jj==0&&(this.IX(a),this.Ni.Jj==0&&(isNaN(this.lA)||this.xO()?(this.WN(),this.Ni.Jj==0&&(this.Jg(this.ae),this.ae=-1,this.gH&&this.PU(a,d))):this.pA=!0))},r.prototype.Ly=function(n){var a=this.jc(n),u=this.te(n),d=this.xa(n),f=this.jc(d),g=this.te(d);a!=d&&(this.Sl(g,a),this.Tl(a,g)),u!=d&&(this.Sl(u,f),this.Tl(f,u)),u=this.jk(n),this.Me(u)==n&&(f!=n?this.mn(u,f):this.mn(u,-1)),f=this.jk(d),this.Me(f)==d&&(a!=d?this.mn(f,a):this.mn(f,-1)),this.Kc.jd(n),this.Kc.jd(d)},r.prototype.OF=function(n,a){for(;;){if((a=n.we(a))==-1)return-1;var u=n.ja(a);if(this.$e(u)!=this.$e(this.xa(u)))return u}},r.prototype.dr=function(n,a){var u;u===void 0&&(u=!0),this.MB(n,0,null,a,u)},r.prototype.vJ=function(n,a,u){var d=new c.ia(0);d.add(a),this.MB(n,4,d,u,n.ic(a)==1736)},r.prototype.wJ=function(n,a,u){var d=new c.ia(0);d.add(a),this.MB(n,5,d,u,!0)},r.prototype.Ug=function(){this.g!=null&&(this.Bq!=-1&&(this.g.xW(this.Bq),this.Bq=-1),this.Cm!=-1&&(this.g.Td(this.Cm),this.Cm=-1),this.Cq!=-1&&(this.g.Td(this.Cq),this.Cq=-1),this.ae!=-1&&(this.Jg(this.ae),this.ae=-1),this.cg!=-1&&(this.Jg(this.cg),this.cg=-1),this.xg!=-1&&(this.Jg(this.xg),this.xg=-1),this.g=null,this.ge.mj(!0),this.jh.mj(!0),this.Os=this.Re=-1,this.Kc!=null&&this.Kc.mj(!0),this.Gi!=null&&(this.Gi.length=0),this.Di!=null&&(this.Di.length=0),this.hH!=null&&(this.hH.length=0),this.ye!=null&&this.ye.mj(!0),this.Hl=-1,this.Yn=null)},r.prototype.Me=function(n){return this.ge.T(n,2)},r.prototype.D=function(n,a){this.g.dG(this.eR(n),a)},r.prototype.xd=function(n){return this.ge.T(n,1)},r.prototype.Rf=function(n){return this.ge.T(n,4)},r.prototype.cz=function(n){return this.ge.T(n,6)},r.prototype.km=function(n){return this.ge.T(n,7)},r.prototype.js=function(n){return this.jh.T(n,1)},r.prototype.tj=function(n){return this.jh.T(n,0)},r.prototype.ng=function(n,a){return(a=this.Di[a]).size<=n?-1:a.read(n)},r.prototype.nn=function(n,a,u){(a=this.Di[a]).size<=n&&a.resize(this.ge.size,-1),a.write(n,u)},r.prototype.Dp=function(){this.Di==null&&(this.Di=[]);for(var n=c.ia.qf(this.ge.Hg,-1),a=0,u=this.Di.length;a<u;a++)if(this.Di[a]==null)return this.Di[a]=n,a;return this.Di.push(n),this.Di.length-1},r.prototype.Ep=function(n){this.Di[n]=null},r.prototype.jk=function(n){return this.Kc.T(n,1)},r.prototype.uf=function(n){return this.jk(this.xa(n))},r.prototype.xa=function(n){return this.Kc.T(n,4)},r.prototype.te=function(n){return this.Kc.T(n,5)},r.prototype.jc=function(n){return this.Kc.T(n,6)},r.prototype.$e=function(n){return this.Kc.T(n,2)},r.prototype.af=function(n){return this.hk(this.Kc.T(n,2))},r.prototype.mm=function(n){return this.Kc.T(n,7)},r.prototype.Yr=function(n,a){this.D(this.jk(n),a)},r.prototype.lm=function(n,a){this.D(this.uf(n),a)},r.prototype.dh=function(n){return this.Kc.T(n,3)&this.bO},r.prototype.Ab=function(n,a){return(a=this.Gi[a]).size<=n?-1:a.read(n)},r.prototype.Kb=function(n,a,u){(a=this.Gi[a]).size<=n&&a.resize(this.Kc.size,-1),a.write(n,u)},r.prototype.$g=function(){this.Gi==null&&(this.Gi=[]);for(var n=c.ia.qf(this.Kc.Hg,-1),a=0,u=this.Gi.length;a<u;a++)if(this.Gi[a]==null)return this.Gi[a]=n,a;return this.Gi.push(n),this.Gi.length-1},r.prototype.Jg=function(n){this.Gi[n]=null},r.prototype.IP=function(n){var a=this.$e(n),u=this.xa(n),d=this.jc(n);d==u&&(d=this.jc(d))==n&&(d=-1);var f=this.AF(a);f!==n&&f!=u||this.Dt(a,d),u=this.Yn.read(a),isNaN(u)||(this.AJ(a,NaN),this.CJ(a,NaN)),this.yx(n,!0),this.Ly(n)},r.prototype.JP=function(n){for(var a=0,u=n.size;a<u;a++){var d=n.get(a),f=this.$e(this.xa(d));this.Dt(this.$e(d),-1),this.Dt(f,-1),this.yx(d,!0),this.Ly(d)}},r.prototype.AF=function(n){return this.ye.T(n,1)},r.prototype.hk=function(n){return this.ye.T(n,2)},r.prototype.Gn=function(n){return this.ye.T(n,3)},r.prototype.dR=function(n){return this.ye.T(n,4)},r.prototype.Kp=function(n){var a=this.Yn.read(n);return isNaN(a)&&(this.kY(n),a=this.Yn.read(n)),a},r.prototype.La=function(n){return this.g.KF(n,this.Bq)},r.prototype.Le=function(n){return this.g.Pa(n,this.Cm)},r.prototype.uR=function(n){return this.g.Pa(n,this.Cq)},r.prototype.tR=function(n,a){var u=this.Me(n);if(u==-1)return-1;var d=u,f=-1,g=-1;do{if(this.uf(d)==a)return d;if(f==-1){if((f=this.Me(a))==-1)break;g=f}if(this.uf(g)==n)return this.xa(g);d=this.jc(this.xa(d)),g=this.jc(this.xa(g))}while(d!=u&&g!=f);return-1},r.prototype.pB=function(n,a){a.Or(),a=a.get();var u=new c.h;this.Yr(n,u),a.Dc(u),this.lm(n,u),a.Qc(u)},r.prototype.HO=function(n,a){if(n==a)return 0;var u=new c.h;this.lm(n,u);var d=new c.h;return this.lm(a,d),u.qb(d)?0:(a=new c.h,this.Yr(n,a),(n=new c.h).uc(u,a),(u=new c.h).uc(d,a),c.h.nu(n,u))},r.prototype.GO=function(n,a){if(n==a)return 0;var u=new c.h;this.lm(n,u);var d=new c.h;return this.lm(a,d),u.qb(d)?0:(a=new c.h,this.Yr(n,a),(n=new c.h).uc(u,a),(u=new c.h).uc(d,a),0<=u.y&&0<n.y?c.h.nu(n,u):0)},r.prototype.xO=function(){for(var n=c.lc.ox(this.lA),a=new c.h,u=new c.h,d=new c.h,f=new c.h,g=new c.h,b=this.Re;b!=-1;b=this.Rf(b)){var _=this.Me(b);if(_!=-1){var S=_;this.Yr(S,a),this.lm(S,u),g.uc(u,a);var T=g.Sk();do{var k=S;if((S=this.jc(this.xa(S)))!=k){this.lm(S,d),f.uc(d,a),k=f.Sk();var O=f.wi(g);if(O*O/(k*T)*Math.min(k,T)<=n)return!1;g.L(f),T=k,u.L(d)}}while(S!=_)}}return!0},r}(),c.iu=I}(U||(U={})),function(c){var I=function(){function y(){this.j=null,this.oH=new c.h,this.pH=new c.h,this.Gj=null,this.Mv=!1,this.tl=-1}return y.prototype.cf=function(l){return l<this.Gj.length&&this.Gj[l]},y.prototype.dl=function(l,s,r,n){var a=c.aa.tf(this.j.g.ic(r));if(c.aa.tf(this.j.g.ic(s))!=2||a!=1)throw c.i.Qa();this.FP(l,s,r,n)},y.prototype.dr=function(l,s){this.j==null&&(this.j=new c.iu),this.j.dr(l,s)},y.prototype.Ft=function(l,s,r){for(c.Tk.V(l,s,r,!0),s=l.ld;s!=-1;s=l.ue(s))l.ic(s)==1736&&c.rn.V(l,s,-1,this.Mv,r);this.dr(l,r)},y.prototype.ME=function(l,s,r,n,a){var u=this.j.g;if(u.ic(l)==1736)for(l=u.Ob(l);l!=-1;l=u.Rb(l)){var d=u.Xa(l);this.j.Le(d),this.j.Le(u.U(d));var f=this.j.uR(d);if(f!=-1){var g=this.j.Ab(f,r);if(g!=1&&g!=2)if(this.cf(this.j.af(f))){this.j.Kb(f,r,1),g=u.vf(s,-1);var b=f,_=this.j.Le(d),S=1;do{var T=this.sm(d,a);u.ij(g,T),n!=-1&&this.j.nn(_,n,1),this.j.Kb(b,r,1),b=this.j.jc(b);do var k=(T=S==1?u.U(d):u.Ma(d))!=-1?this.j.Le(T):-1;while(k==_);var O=this.j.jk(b);if(O!=k){do k=(T=S==1?u.Ma(d):u.U(d))!=-1?this.j.Le(T):-1;while(k==_);O!=k?(k=O,T=this.j.tj(this.j.km(k))):S=-S}_=k,d=T}while(b!=f);u.kn(g,!0)}else this.j.Kb(f,r,2)}}},y.prototype.eF=function(){for(var l=this.j.$g(),s=new c.ia(0),r=this.j.Re;r!=-1;r=this.j.Rf(r)){var n=this.j.Me(r),a=n;if(n!=-1)do{if(this.j.Ab(a,l)!=1){var u=this.j.xa(a);this.j.Kb(u,l,1),this.j.Kb(a,l,1),this.cf(this.j.af(a))&&this.cf(this.j.af(u))&&s.add(a)}a=this.j.jc(this.j.xa(a))}while(a!=n)}this.j.Jg(l),this.j.JP(s)},y.prototype.sm=function(l,s){return s==-1?l:this.aS(l,s)},y.prototype.aS=function(l,s){var r=this.j.g,n=this.j.km(this.j.Le(l));do{var a=this.j.tj(n);if(r.Qf(r.bd(a))==s)return a;n=this.j.js(n)}while(n!=-1);return l},y.prototype.Ot=function(l,s,r){this.eF();var n=this.j.g,a=n.Ig(1736),u=this.j.$g();return this.uK(l,s,a,r,u,-1),this.j.Jg(u),c.rn.V(n,a,1,this.Mv,null),a},y.prototype.uK=function(l,s,r,n,a,u){for(this.ME(l,r,a,u,n),s!=-1&&this.ME(s,r,a,u,n),l=this.j.g,s=this.j.Re;s!=-1;s=this.j.Rf(s)){var d=this.j.Me(s);if(d!=-1){var f=d;do{var g=this.j.Ab(f,a);if(g!=1&&g!=2)if(this.cf(this.j.af(f))){g=l.vf(r,-1);var b=f;do{var _=this.j.mm(b);_!=-1?_=this.j.tj(_):(_=this.j.tj(this.j.mm(this.j.xa(b))),_=this.j.g.U(_)),_=this.sm(_,n),l.ij(g,_),this.j.Kb(b,a,1),u!=-1&&(_=this.j.Le(_),this.j.nn(_,u,1)),b=this.j.jc(b)}while(b!=f);l.kn(g,!0)}else this.j.Kb(f,a,2);f=this.j.jc(this.j.xa(f))}while(f!=d)}}},y.prototype.aY=function(l,s,r){var n=this.j.g,a=n.Ig(1736),u=n.Ig(1607),d=n.Ig(550);this.eF();var f=-1,g=this.j.$g(),b=this.j.Dp();for(this.uK(l,s,a,r,g,b),l=this.j.Re;l!=-1;l=this.j.Rf(l))if((s=this.j.Me(l))!=-1){var _=s;do{var S=this.j.Ab(_,g),T=this.j.Ab(this.j.xa(_),g);if((S|=T)==2)if(S=this.j.dh(_),this.cf(S)){var k=n.vf(u,-1),O=_;S=this.Yw(l,n),S=this.sm(S,r),n.ij(k,S),this.j.nn(l,b,1);do{if(S=this.j.uf(O),T=this.Yw(S,n),T=this.sm(T,r),n.ij(k,T),this.j.Kb(O,g,1),this.j.Kb(this.j.xa(O),g,1),this.j.nn(S,b,1),O=this.j.jc(O),S=this.j.Ab(O,g),(S|=T=this.j.Ab(this.j.xa(O),g))!=2)break;if(S=this.j.dh(O),!this.cf(S)){this.j.Kb(O,g,1),this.j.Kb(this.j.xa(O),g,1);break}}while(O!=_)}else this.j.Kb(_,g,1),this.j.Kb(this.j.xa(_),g,1);_=this.j.jc(this.j.xa(_))}while(_!=s)}for(l=this.j.Re;l!=-1;l=this.j.Rf(l))(S=this.j.ng(l,b))!=1&&(S=this.j.xd(l),this.cf(S)&&(f==-1&&(f=n.vf(d,-1)),(s=this.j.km(l))!=-1&&(s=this.j.tj(s),S=this.sm(s,r),n.ij(f,S))));return this.j.Ep(b),this.j.Jg(g),c.rn.V(n,a,1,this.Mv,null),(r=[])[0]=d,r[1]=u,r[2]=a,r},y.prototype.Yw=function(l,s){var r=-1;for(l=this.j.km(l);l!=-1;l=this.j.js(l)){var n=this.j.tj(l);r==-1&&(r=n);var a=this.j.La(s.Qf(s.bd(n)));if(this.cf(a)){r=n;break}}return r},y.prototype.lB=function(l,s){for(var r=this.jl(s),n=this.j.jk(s),a=this.j.uf(s),u=0,d=0,f=this.j.km(n);f!=-1;f=this.j.js(f)){var g=this.j.tj(f),b=l.bd(g),_=this.j.La(l.Qf(b));b=l.Xa(b),(_=!!(_&r))&&b==g&&(this.tl=s);var S=l.U(g);S!=-1&&this.j.Le(S)==a?(u++,_&&(this.tl===-1&&b==S&&(g=this.j.jc(s),this.cf(this.jl(g))&&(this.tl=g)),d++)):(g=l.Ma(g))!=-1&&this.j.Le(g)==a&&(u--,_&&(this.tl===-1&&b===g&&(g=this.j.jc(s),this.cf(this.jl(g))&&(this.tl=g)),d--))}return this.j.D(n,this.oH),this.j.D(a,this.pH),(d!=0?d:u)*(l=c.h.tb(this.oH,this.pH))},y.prototype.jl=function(l){return this.j.dh(l)|this.j.af(l)|this.j.af(this.j.xa(l))},y.prototype.xK=function(l){for(var s=this.j.xa(this.j.te(l)),r=-1;s!=l;){if(this.cf(this.jl(s))){if(r!=-1)return-1;r=s}s=this.j.xa(this.j.te(s))}return r!=-1?this.j.xa(r):-1},y.prototype.yK=function(l){for(var s=this.j.xa(this.j.jc(l)),r=-1;s!=l;){if(this.cf(this.jl(s))){if(r!=-1)return-1;r=s}s=this.j.xa(this.j.jc(s))}return r!=-1?this.j.xa(r):-1},y.prototype.mJ=function(l,s,r,n,a){var u=this.j.g,d=l,f=this.j.xa(d);this.j.Kb(d,r,1),this.j.Kb(f,r,1),this.tl=-1;for(var g=this.lB(u,d),b=d,_=-1,S=!1,T=1;;){var k=this.j.te(d);if(k==f)break;if(f=this.j.jc(f),this.j.xa(k)!=f){if((d=this.xK(d))==-1){S=!0;break}f=this.j.xa(d)}else d=k;if(d==l){_=l;break}if(k=this.jl(d),!this.cf(k))break;this.j.Kb(d,r,1),this.j.Kb(f,r,1),b=d,g+=this.lB(u,d),T++}if(_==-1)for(d=l,f=this.j.xa(d),_=d;(l=this.j.jc(d))!=f;){if(f=this.j.te(f),this.j.xa(l)!=f){if((d=this.yK(d))==-1){S=!0;break}f=this.j.xa(d)}else d=l;if(k=this.jl(d),!this.cf(k))break;this.j.Kb(d,r,1),this.j.Kb(f,r,1),_=d,g+=this.lB(u,d),T++}else if(this.tl!=-1&&(b=this.tl,_=this.j.te(this.tl),this.j.xa(_)!=this.j.jc(this.j.xa(b))&&(_=this.xK(b))==-1))throw c.i.Qa();for(0<=g||(d=_,_=this.j.xa(b),b=this.j.xa(d)),r=u.vf(s,-1),d=b,b=this.j.jk(b),S=this.j.uf(_)==b&&S,g=this.Yw(b,u),g=this.sm(g,a),u.ij(r,g),n!=-1&&this.j.nn(b,n,1),b=0,T=S?c.O.truncate((T+1)/2):-1;l=this.j.uf(d),g=this.Yw(l,u),g=this.sm(g,a),u.ij(r,g),b++,n!=-1&&this.j.nn(l,n,1),S&&b==T&&(r=u.vf(s,-1),u.ij(r,g)),d!=_;)if(l=this.j.jc(d),this.j.te(this.j.xa(d))!=this.j.xa(l)){if((d=this.yK(d))==-1)throw c.i.Qa()}else d=l},y.prototype.Pt=function(l){for(var s=this.j.g.Ig(1607),r=this.j.$g(),n=this.j.Re;n!=-1;n=this.j.Rf(n)){var a=this.j.Me(n),u=a;do this.j.Ab(u,r)!=1&&this.cf(this.jl(u))&&this.mJ(u,s,r,-1,l),u=this.j.jc(this.j.xa(u));while(u!=a)}return this.j.Jg(r),s},y.prototype.bY=function(l){for(var s=this.j.g,r=s.Ig(1607),n=s.Ig(550),a=this.j.$g(),u=this.j.Dp(),d=-1,f=this.j.Re;f!=-1;f=this.j.Rf(f)){var g=this.j.Me(f),b=g;do{var _=this.j.Ab(b,a);_!=1&&(_=this.jl(b),this.cf(_)&&this.mJ(b,r,a,u,l)),b=this.j.jc(this.j.xa(b))}while(b!=g)}for(f=this.j.Re;f!=-1;f=this.j.Rf(f))(_=this.j.ng(f,u))!=1&&(_=this.j.xd(f),this.cf(_)&&(d==-1&&(d=s.vf(n,-1)),(g=this.j.km(f))!=-1&&(g=this.j.tj(g),g=this.sm(g,l),s.ij(d,g))));return this.j.Jg(a),this.j.Ep(u),(l=[])[0]=n,l[1]=r,l},y.prototype.mr=function(){for(var l=this.j.g,s=l.Ig(550),r=l.vf(s,-1),n=this.j.Re;n!=-1;n=this.j.Rf(n))if(this.cf(this.j.xd(n))){for(var a=-1,u=this.j.km(n);u!=-1;u=this.j.js(u)){var d=this.j.tj(u);a==-1&&(a=d);var f=this.j.La(l.Qf(l.bd(d)));if(this.cf(f)){a=d;break}}l.ij(r,a)}return s},y.prototype.bq=function(l){this.Gj=[];for(var s=0;s<l;s++)this.Gj[s]=!1},y.aW=function(l,s,r){var n=l.Ia(),a=Array(1e3);c.O.$u(a,null);var u=c.O.lg(1e3,0),d=l.I(),f=!0,g=s.Db()==2;if(s.Db()!=1&&s.Db()!=2)throw c.i.Qa();for(var b=0;b<d;){var _=c.O.truncate(l.lW(a,b)-b);g?c.hd.sK(s,a,_,r,u):c.hd.tK(s,a,_,r,u);for(var S=0,T=0;T<_;T++)u[T]==0&&(f&&(f=!1,n.Fd(l,0,b)),S!=T&&n.Fd(l,b+S,b+T),S=T+1);f||S==_||n.Fd(l,b+S,b+_),b+=_}return f?l:n},y.zG=function(l,s,r){return l instanceof c.de?y.aW(l,s,r):s instanceof c.Sa?l.B()||s.B()?l.Ia():c.Tk.zU(r,l,s)?c.Tk.CO(l,s):l.Ia():y.bW(l,s,r)},y.Av=function(l,s,r,n){var a=new c.l;l.A(a);var u=new c.l;s.A(u);var d=new c.l;if(d.K(a),d.Zb(u),r=c.ta.Wd(r,d,!0),(d=new c.l).K(u),u=c.ta.Er(r),d.W(u,u),!a.isIntersecting(d)){if(l.Db()<=s.Db())return y.ki(y.Xe(l.Ia()),l,"&");if(l.Db()>s.Db())return y.ki(y.Xe(s.Ia()),l,"&")}return u=new y,d=(a=new c.gd).Ib(y.Xe(l)),s=a.Ib(y.Xe(s)),u.Ft(a,r,n),n=u.Av(d,s),l=y.ki(a.Ne(n),l,"&"),c.aa.Hc(l.getType())&&(l.Ch(2,r),l.getType()==1736&&l.fm()),l},y.bW=function(l,s,r){if(l.B()||s.B())return l.Ia();var n=[null],a=[0],u=s.Db()==2;if(s.Db()!=1&&s.Db()!=2)throw c.i.Qa();return n[0]=l.D(),u?c.hd.sK(s,n,1,r,a):c.hd.tK(s,n,1,r,a),a[0]==0?l.Ia():l},y.prototype.LU=function(l,s,r,n,a){if(l.B())return l;var u=new c.gd;return l=u.Ib(l),this.Mk(u,l,s,r,n,a)},y.prototype.NU=function(l,s,r,n,a,u){if(a&&l.ic(s)!=550){var d=new c.RC;d.TX(l,r),d.Ng?(c.Tk.V(l,r,u,!0),a=!1):this.j.yy(r)}else c.Tk.V(l,r,u,!0),a=!1;if(n&&l.ic(s)!=550?this.j.wJ(l,s,u):this.j.vJ(l,s,u),this.j.pA)return this.j.Ug(),this.j=null,this.Mk(l,s,r,n,!1,u);if(this.j.yy(NaN),u=this.j.La(s),this.bq(u+1),this.Gj[u]=!0,l.ic(s)==1736||n&&l.ic(s)!=550)return l.Yo(s,0),s=this.Ot(s,-1,-1),(l=l.Ne(s)).Yo(0),a?l.Ch(1,0):(l.Ch(2,r),l.fm()),l;if(l.ic(s)==1607)return s=this.Pt(-1),l=l.Ne(s),a||l.Ch(2,r),l;if(l.ic(s)==550)return s=this.mr(),l=l.Ne(s),a||l.Ch(2,r),l;throw c.i.Qa()},y.prototype.Mk=function(l,s,r,n,a,u){this.j=new c.iu;try{return this.NU(l,s,r,n,a,u)}finally{this.j.Ug()}},y.Mk=function(l,s,r,n,a){return new y().LU(l,s,r,n,a)},y.prototype.MU=function(l,s,r,n){this.Mv=l,this.j=new c.iu,l=s.In(r);var a=s.ic(r);if(l!=1||a==550?this.j.vJ(s,r,n):this.j.wJ(s,r,n),!this.j.pA)if(this.j.yy(NaN),n=this.j.La(r),this.bq(n+1),this.Gj[n]=!0,s.ic(r)==1736||l==1&&s.ic(r)!=550)s.Yo(r,0),n=this.Ot(r,-1,-1),s.hC(n,r),s.BB(n);else if(s.ic(r)==1607)n=this.Pt(-1),s.hC(n,r),s.BB(n);else{if(s.ic(r)!=550)throw c.i.fa("internal error");n=this.mr(),s.hC(n,r),s.BB(n)}},y.prototype.im=function(l,s){var r=c.aa.tf(this.j.g.ic(l)),n=c.aa.tf(this.j.g.ic(s));if(r>n)return l;var a=this.j.La(l),u=this.j.La(s);if(this.bq(1+(a|u)),this.Gj[this.j.La(l)]=!0,r==2&&n==2)return this.Ot(l,s,-1);if(r==1&&n==2||r==1&&n==1)return this.Pt(-1);if(r==0)return this.mr();throw c.i.Qa()},y.prototype.Av=function(l,s){var r=c.aa.tf(this.j.g.ic(l)),n=c.aa.tf(this.j.g.ic(s)),a=this.j.La(l),u=this.j.La(s);if(this.bq(1+(a|u)),this.Gj[this.j.La(l)|this.j.La(s)]=!0,a=-1,1<this.j.g.ht.Aa&&(a=l),r==2&&n==2)return this.Ot(l,s,a);if(r==1&&0<n||n==1&&0<r)return this.Pt(a);if(r==0||n==0)return this.mr();throw c.i.Qa()},y.prototype.Pz=function(l,s){var r=c.aa.tf(this.j.g.ic(l)),n=c.aa.tf(this.j.g.ic(s)),a=this.j.La(l),u=this.j.La(s);if(this.bq(1+(a|u)),this.Gj[this.j.La(l)|this.j.La(s)]=!0,a=-1,1<this.j.g.ht.Aa&&(a=l),r==2&&n==2)return this.aY(l,s,a);if(r==1&&0<n||n==1&&0<r)return this.bY(a);if(r==0||n==0)return(l=[])[0]=this.mr(),l;throw c.i.Qa()},y.prototype.ep=function(l,s){var r=c.aa.tf(this.j.g.ic(l)),n=c.aa.tf(this.j.g.ic(s)),a=this.j.La(l),u=this.j.La(s);if(this.bq(1+(a|u)),this.Gj[this.j.La(l)]=!0,this.Gj[this.j.La(s)]=!0,r==2&&n==2)return this.Ot(l,s,-1);if(r==1&&n==1)return this.Pt(-1);if(r==0&&n==0)return this.mr();throw c.i.Qa()},y.Xe=function(l){var s=l.getType();return s==197?(s=new c.Da(l.description),l.B()||s.ad(l,!1),s):s==33?(s=new c.de(l.description),l.B()||s.add(l),s):s==322?(s=new c.Ta(l.description),l.B()||s.oc(l,!0),s):l},y.ki=function(l,s,r){var n=l.getType();return n==197?(s=new c.Da(l.description),l.B()||s.ad(l,!1),s):n!=33||r!="|"&&r!="^"?n==322?(s=new c.Ta(l.description),l.B()||s.oc(l,!0),s):n==33&&r=="-"&&s.getType()==33||n==550&&r=="&"&&s.getType()==33?(s=new c.Sa(l.description),l.B()||l.ve(0,s),s):l:(s=new c.de(l.description),l.B()||s.add(l),s)},y.im=function(l,s,r,n){if(l.B()||s.B()||l.Db()>s.Db())return y.ki(y.Xe(l),l,"-");var a=new c.l;l.A(a);var u=new c.l;if(s.A(u),!a.isIntersecting(u))return y.ki(y.Xe(l),l,"-");var d=new c.l;return d.K(a),d.Zb(u),r=c.ta.Wd(r,d,!0),u=new y,d=(a=new c.gd).Ib(y.Xe(l)),s=a.Ib(y.Xe(s)),u.Ft(a,r,n),n=u.im(d,s),n=a.Ne(n),l=y.ki(n,l,"-"),c.aa.Hc(l.getType())&&(l.Ch(2,r),l.getType()==1736&&l.fm()),l},y.VP=function(l,s,r){if(2>l.length)throw c.i.N("not enough geometries to dissolve");for(var n=0,a=0,u=l.length;a<u;a++)n=Math.max(l[a].Db(),n);var d=new c.l;d.Oa();var f=new c.gd,g=-1,b=0,_=-1;for(a=0,u=l.length;a<u;a++)if(l[a].Db()==n)if(l[a].B())_==-1&&(_=a);else{_=a,g==-1?g=f.Ib(y.Xe(l[a])):f.uN(g,y.Xe(l[a]));var S=new c.l;l[a].xc(S),d.Zb(S),b++}return 2>b?y.Xe(l[_]):(l=n==2,s=c.ta.Wd(n==0?s:null,d,!0),new y().Mk(f,g,s,l,!0,r))},y.Pz=function(l,s,r,n){var a=[null,null,null],u=new c.l;l.A(u);var d=new c.l;s.A(d);var f=new c.l;if(f.K(u),f.Zb(d),r=c.ta.Wd(r,f,!0),(f=new c.l).K(d),d=c.ta.Er(r),f.W(d,d),!u.isIntersecting(f)){if(l.Db()<=s.Db())return a[(l=y.ki(y.Xe(l.Ia()),l,"&")).Db()]=l,a;if(l.Db()>s.Db())return a[(l=y.ki(y.Xe(s.Ia()),l,"&")).Db()]=l,a}for(d=new y,f=(u=new c.gd).Ib(y.Xe(l)),s=u.Ib(y.Xe(s)),d.Ft(u,r,n),n=d.Pz(f,s),s=0;s<n.length;s++)d=y.ki(u.Ne(n[s]),l,"&"),c.aa.Hc(d.getType())&&(d.Ch(2,r),d.getType()==1736&&d.fm()),a[d.Db()]=d;return a},y.ep=function(l,s,r,n){if(l.Db()>s.Db())return y.ki(y.Xe(l),l,"^");if(l.Db()<s.Db()||l.B())return y.ki(y.Xe(s),l,"^");if(s.B())return y.ki(y.Xe(l),l,"^");var a=new c.l;l.A(a);var u=new c.l;s.A(u);var d=new c.l;return d.K(a),d.Zb(u),r=c.ta.Wd(r,d,!0),u=new y,d=(a=new c.gd).Ib(y.Xe(l)),s=a.Ib(y.Xe(s)),u.Ft(a,r,n),n=u.ep(d,s),l=y.ki(a.Ne(n),l,"^"),c.aa.Hc(l.getType())&&(l.Ch(2,r),l.getType()==1736&&l.fm()),l},y.prototype.LQ=function(l,s){var r=this.j.g;l=r.vf(l,-1);for(var n=s.size,a=0;a<n;a++){var u=s.get(a);r.ij(l,u)}r.kn(l,!0)},y.prototype.aX=function(l,s){for(var r=this.j.g,n=r.ld;n!=-1;n=r.ue(n))if(n==s)for(var a=r.Ob(n);a!=-1;a=r.Rb(a)){var u=r.Xa(a);if(u!=-1)for(var d=r.U(u);d!=-1;){u=this.j.Le(u);var f=this.j.Le(d);(u=this.j.tR(u,f))!=-1&&(f=this.j.xa(u),this.j.Kb(u,l,1),this.j.Kb(f,l,2)),u=d,d=r.U(u)}}},y.prototype.cW=function(l,s,r,n){r=this.j.La(r),n=this.j.La(n);var a=new c.ia(0);a.Jb(256);for(var u=this.j.g,d=this.j.$g(),f=this.j.Re;f!=-1;f=this.j.Rf(f)){var g=this.j.Me(f);if(g!=-1){var b=g;do{if(this.j.Ab(b,d)!=1){var _=b,S=b,T=!1,k=0;do{if(this.j.Kb(_,d,1),!T){var O=this.j.dh(_);O&n&&this.j.af(_)&r&&(S=_,T=!0)}T&&(a.add(this.j.tj(this.j.km(this.j.jk(_)))),l!=-1&&(O=this.j.dh(_))&n&&(k|=O=this.j.Ab(_,l))),_=this.j.jc(_)}while(_!=S);T&&0<this.j.Kp(this.j.$e(S))&&(_=u.Ig(1736),this.LQ(_,a),s!=-1&&u.HJ(_,s,k)),a.clear(!1)}b=this.j.jc(this.j.xa(b))}while(b!=g)}}this.j.Jg(d)},y.prototype.FP=function(l,s,r,n){this.j.yW();var a=-1;l!=-1&&(a=this.j.$g(),this.aX(a,r)),this.cW(a,l,s,r),a!=-1&&(this.j.Jg(a),a=-1);var u=this.j.g;for(l=0,a=u.ld;a!=-1;a=u.ue(a))a!=s&&a!=r&&(n.add(a),l++);n.Vd(0,l,function(d,f){return(d=u.wz(u.Ob(d)))<(f=u.wz(u.Ob(f)))?-1:d==f?0:1})},y.prototype.Ug=function(){this.j!=null&&(this.j.Ug(),this.j=null)},y}();c.Fg=I}(U||(U={})),function(c){var I=function(){function y(l){l!==void 0?this.setScale(l):this.RB()}return y.prototype.lx=function(){this.Lb=this.Gb=this.jb=this.eb=this.ab=this.bb=0},y.prototype.Nb=function(l){return this==l||l instanceof y&&this.bb==l.bb&&this.eb==l.eb&&this.Gb==l.Gb&&this.jb==l.jb&&this.ab==l.ab&&this.Lb==l.Lb},y.prototype.cc=function(){return c.O.uj(),c.O.uj(),c.O.uj(),c.O.uj(),c.O.uj(),c.O.uj()},y.prototype.Eh=function(l,s){var r=this.jb*l.x+this.ab*l.y+this.Lb;s.x=this.bb*l.x+this.eb*l.y+this.Gb,s.y=r},y.prototype.eY=function(l,s,r){for(var n=0;n<s;n++){var a=l[n].x,u=l[n].y,d=this.bb*a+this.eb*u+this.Gb;a=this.jb*a+this.ab*u+this.Lb,r[n]!=null?r[n].ma(d,a):r[n]=c.h.construct(d,a)}},y.prototype.multiply=function(l){y.multiply(this,l,this)},y.multiply=function(l,s,r){var n=l.bb*s.bb+l.jb*s.eb,a=l.eb*s.bb+l.ab*s.eb,u=l.Gb*s.bb+l.Lb*s.eb+s.Gb,d=l.bb*s.jb+l.jb*s.ab,f=l.eb*s.jb+l.ab*s.ab;l=l.Gb*s.jb+l.Lb*s.ab+s.Lb,r.bb=n,r.eb=a,r.Gb=u,r.jb=d,r.ab=f,r.Lb=l},y.prototype.Of=function(){var l=new y;return l.bb=this.bb,l.eb=this.eb,l.Gb=this.Gb,l.jb=this.jb,l.ab=this.ab,l.Lb=this.Lb,l},y.prototype.mC=function(l){if(!l.B()){for(var s=[],r=0;4>r;r++)s[r]=new c.h;l.nB(s),this.fY(s,s),l.Zw(s,4)}},y.prototype.fY=function(l,s){for(var r=0;r<l.length;r++){var n=new c.h,a=l[r];n.x=this.bb*a.x+this.eb*a.y+this.Gb,n.y=this.jb*a.x+this.ab*a.y+this.Lb,s[r]=n}},y.prototype.pS=function(l,s){l.B()||s.B()||l.R()==0||l.ca()==0?this.lx():(this.eb=this.jb=0,this.bb=s.R()/l.R(),this.ab=s.ca()/l.ca(),this.Gb=s.v-l.v*this.bb,this.Lb=s.G-l.G*this.ab)},y.prototype.dY=function(l){var s=new c.h,r=new c.h;s.ma(this.bb,this.jb),r.ma(this.eb,this.ab),s.sub(s);var n=.5*s.Sk();return s.ma(this.bb,this.jb),r.ma(this.eb,this.ab),s.add(r),l*(n>(s=.5*s.Sk())?Math.sqrt(n):Math.sqrt(s))},y.prototype.RB=function(){this.bb=1,this.jb=this.Gb=this.eb=0,this.ab=1,this.Lb=0},y.prototype.isIdentity=function(l){if(l!==void 0){var s=c.h.construct(0,1);return this.Eh(s,s),s.sub(c.h.construct(0,1)),s.Sk()>l*l?!1:(s.ma(0,0),this.Eh(s,s),!(s.Sk()>l*l)&&(s.ma(1,0),this.Eh(s,s),s.sub(c.h.construct(1,0)),s.Sk()<=l*l))}return this.bb==1&&this.ab==1&&this.eb==0&&this.Gb==0&&this.jb==0&&this.Lb==0},y.prototype.Bi=function(l){return Math.abs(this.bb*this.ab-this.jb*this.eb)<=2*l*(Math.abs(this.bb*this.ab)+Math.abs(this.jb*this.eb))},y.prototype.gg=function(l,s){this.bb=1,this.eb=0,this.Gb=l,this.jb=0,this.ab=1,this.Lb=s},y.prototype.setScale=function(l,s){s!==void 0?(this.bb=l,this.jb=this.Gb=this.eb=0,this.ab=s,this.Lb=0):this.setScale(l,l)},y.prototype.$B=function(){this.bb=0,this.eb=1,this.Gb=0,this.jb=1,this.Lb=this.ab=0},y.prototype.setRotate=function(l){this.pX(Math.cos(l),Math.sin(l))},y.prototype.pX=function(l,s){this.bb=l,this.eb=-s,this.Gb=0,this.jb=s,this.ab=l,this.Lb=0},y.prototype.shift=function(l,s){this.Gb+=l,this.Lb+=s},y.prototype.scale=function(l,s){this.bb*=l,this.eb*=l,this.Gb*=l,this.jb*=s,this.ab*=s,this.Lb*=s},y.prototype.flipX=function(l,s){this.bb=-this.bb,this.eb=-this.eb,this.Gb=l+s-this.Gb},y.prototype.flipY=function(l,s){this.jb=-this.jb,this.ab=-this.ab,this.Lb=l+s-this.Lb},y.prototype.rotate=function(l){var s=new y;s.setRotate(l),this.multiply(s)},y.prototype.inverse=function(l){if(l!==void 0){var s=this.bb*this.ab-this.eb*this.jb;s==0?l.lx():(s=1/s,l.Gb=(this.eb*this.Lb-this.Gb*this.ab)*s,l.Lb=(this.Gb*this.jb-this.bb*this.Lb)*s,l.bb=this.ab*s,l.eb=-this.eb*s,l.jb=-this.jb*s,l.ab=this.bb*s)}else this.inverse(this)},y}();c.Dd=I}(U||(U={})),function(c){var I=function(){function y(){}return y.prototype.lx=function(){this.hg=this.Lb=this.Gb=this.He=this.Fe=this.Ee=this.Ge=this.ab=this.eb=this.Ze=this.jb=this.bb=0},y.prototype.setScale=function(l,s,r){this.bb=l,this.eb=this.Ze=this.jb=0,this.ab=s,this.Fe=this.Ee=this.Ge=0,this.He=r,this.hg=this.Lb=this.Gb=0},y.prototype.setTranslate=function(l,s,r){this.bb=1,this.eb=this.Ze=this.jb=0,this.ab=1,this.Fe=this.Ee=this.Ge=0,this.He=1,this.Gb=l,this.Lb=s,this.hg=r},y.prototype.translate=function(l,s,r){this.Gb+=l,this.Lb+=s,this.hg+=r},y.prototype.mC=function(l){if(!l.B()){for(var s=new c.Nd[8],r=0;8>r;r++)s[r]=new c.Nd;l.nB(s),this.transform(s,8,s),l.Zw(s)}},y.prototype.transform=function(l,s,r){for(var n=0;n<s;n++){var a=new c.Nd,u=l[n];a.x=this.bb*u.x+this.eb*u.y+this.Ee*u.z+this.Gb,a.y=this.jb*u.x+this.ab*u.y+this.Fe*u.z+this.Lb,a.z=this.Ze*u.x+this.Ge*u.y+this.He*u.z+this.hg,r[n]=a}},y.prototype.fp=function(l){var s=new c.Nd;return s.x=this.bb*l.x+this.eb*l.y+this.Ee*l.z+this.Gb,s.y=this.jb*l.x+this.ab*l.y+this.Fe*l.z+this.Lb,s.z=this.Ze*l.x+this.Ge*l.y+this.He*l.z+this.hg,s},y.prototype.Ag=function(l){y.multiply(this,l,this)},y.multiply=function(l,s,r){var n=l.bb*s.bb+l.jb*s.eb+l.Ze*s.Ee,a=l.bb*s.jb+l.jb*s.ab+l.Ze*s.Fe,u=l.bb*s.Ze+l.jb*s.Ge+l.Ze*s.He,d=l.eb*s.bb+l.ab*s.eb+l.Ge*s.Ee,f=l.eb*s.jb+l.ab*s.ab+l.Ge*s.Fe,g=l.eb*s.Ze+l.ab*s.Ge+l.Ge*s.He,b=l.Ee*s.bb+l.Fe*s.eb+l.He*s.Ee,_=l.Ee*s.jb+l.Fe*s.ab+l.He*s.Fe,S=l.Ee*s.Ze+l.Fe*s.Ge+l.He*s.He,T=l.Gb*s.bb+l.Lb*s.eb+l.hg*s.Ee+s.Gb,k=l.Gb*s.jb+l.Lb*s.ab+l.hg*s.Fe+s.Lb;l=l.Gb*s.Ze+l.Lb*s.Ge+l.hg*s.He+s.hg,r.bb=n,r.jb=a,r.Ze=u,r.eb=d,r.ab=f,r.Ge=g,r.Ee=b,r.Fe=_,r.He=S,r.Gb=T,r.Lb=k,r.hg=l},y.inverse=function(l,s){var r=l.bb*(l.ab*l.He-l.Ge*l.Fe)-l.jb*(l.eb*l.He-l.Ge*l.Ee)+l.Ze*(l.eb*l.Fe-l.ab*l.Ee);if(r==0)throw c.i.fa("math singularity");var n=1/r;r=(l.ab*l.He-l.Ge*l.Fe)*n;var a=-(l.eb*l.He-l.Ge*l.Ee)*n,u=(l.eb*l.Fe-l.ab*l.Ee)*n,d=-(l.jb*l.He-l.Fe*l.Ze)*n,f=(l.bb*l.He-l.Ze*l.Ee)*n,g=-(l.bb*l.Fe-l.jb*l.Ee)*n,b=(l.jb*l.Ge-l.Ze*l.ab)*n,_=-(l.bb*l.Ge-l.Ze*l.eb)*n;n*=l.bb*l.ab-l.jb*l.eb;var S=-(l.Gb*r+l.Lb*a+l.hg*u),T=-(l.Gb*d+l.Lb*f+l.hg*g);l=-(l.Gb*b+l.Lb*_+l.hg*n),s.bb=r,s.jb=d,s.Ze=b,s.eb=a,s.ab=f,s.Ge=_,s.Ee=u,s.Fe=g,s.He=n,s.Gb=S,s.Lb=T,s.hg=l},y.prototype.Of=function(){var l=new y;return l.bb=this.bb,l.jb=this.jb,l.Ze=this.Ze,l.eb=this.eb,l.ab=this.ab,l.Ge=this.Ge,l.Ee=this.Ee,l.Fe=this.Fe,l.He=this.He,l.Gb=this.Gb,l.Lb=this.Lb,l.hg=this.hg,l},y}();c.JY=I}(U||(U={})),function(c){var I=function(l){function s(r){if(r!==void 0)r=l.call(this,r.cc(),r)||this;else{(r=l.call(this)||this).bg=[],r.bg[0]=0,r.Aa=1,r.uh=[];for(var n=0;10>n;n++)r.uh[n]=-1;r.uh[r.bg[0]]=0}return r.jq=!0,r}return Yt(s,l),s.prototype.re=function(r){this.hasAttribute(r)||(this.uh[r]=0,this.jD())},s.prototype.removeAttribute=function(r){if(r==0)throw c.i.N("Position attribue cannot be removed");this.hasAttribute(r)&&(this.uh[r]=-1,this.jD())},s.prototype.reset=function(){this.bg[0]=0,this.Aa=1;for(var r=0;r<this.uh.length;r++)this.uh[r]=-1;this.uh[this.bg[0]]=0,this.jq=!0},s.prototype.EF=function(){return y.kz().add(this)},s.og=function(){return y.kz().$R()},s.prototype.tM=function(){var r=this.cc();return new c.ra(r,this)},s.prototype.jD=function(){for(var r=this.Aa=0,n=0;10>r;r++)0<=this.uh[r]&&(this.bg[n]=r,this.uh[r]=n,n++,this.Aa++);this.jq=!0},s.prototype.cc=function(){return this.jq&&(this.wl=this.An(),this.jq=!1),this.wl},s.prototype.Nb=function(r){if(r==null)return!1;if(r==this)return!0;if(!(r instanceof s)||r.Aa!=this.Aa)return!1;for(var n=0;n<this.Aa;n++)if(this.bg[n]!=r.bg[n])return!1;return this.jq==r.jq},s.prototype.GG=function(r){if(r.Aa!=this.Aa)return!1;for(var n=0;n<this.Aa;n++)if(this.bg[n]!=r.bg[n])return!1;return!0},s.Iw=function(r,n){for(var a=[],u=0;u<r.Aa;u++)a[u]=-1;u=0;for(var d=r.Aa;u<d;u++)a[u]=n.Pf(r.kd(u));return a},s.BR=function(r,n){return(r=new s(r)).re(n),r.EF()},s.CR=function(r,n){for(var a=null,u=0;10>u;u++)!r.hasAttribute(u)&&n.hasAttribute(u)&&(a==null&&(a=new s(r)),a.re(u));return a!=null?a.EF():r},s}(c.ra);c.ee=I;var y=function(){function l(){this.map=[];var s=new I;this.add(s),(s=new I).re(1),this.add(s)}return l.kz=function(){return l.bL},l.prototype.$R=function(){return l.ft},l.prototype.add=function(s){var r=s.cc();if(l.ft!=null&&l.ft.cc()==r&&s.GG(l.ft))return l.ft;if(l.Dw!=null&&l.Dw.cc()==r&&s.GG(l.Dw))return l.Dw;var n=null;return this.map[r]!==void 0&&(n=this.map[r]),n==null&&((n=s.tM()).Aa==1?l.ft=n:n.Aa==2&&n.kd(1)==1?l.Dw=n:this.map[r]=n),n},l.bL=new l,l}()}(U||(U={}));var Y2={feet:9002,kilometers:9036,meters:9001,miles:9093,"nautical-miles":9030,yards:9096},K2={acres:109402,ares:109463,hectares:109401,"square-feet":109405,"square-kilometers":109414,"square-meters":109404,"square-miles":109439,"square-yards":109442},Js=new(function(){function c(){this.RM=50,this.np=new Map,this.gj=[]}return c.prototype.clear=function(){this.gj.length=0,this.np.clear()},c.prototype.delete=function(I){return!!this.np.delete(I)&&(this.gj.splice(this.gj.indexOf(I),1),!0)},c.prototype.get=function(I){var y=this.np.get(I);if(y!==void 0)return this.gj[0]!==I&&(this.gj.splice(this.gj.indexOf(I),1),this.gj.unshift(I)),y},c.prototype.has=function(I){return this.np.has(I)},c.prototype.set=function(I,y){return this.get(I)!==void 0&&this.delete(I),this.gj.unshift(I),this.np.set(I,y),this.oM(),this},c.prototype.oM=function(){for(;this.gj.length&&this.gj.length>this.RM;){var I=this.gj.pop();this.np.delete(I)}},c}()),ut=((Qe={}).convertJSONToGeometry=function(c){return U.$b.fP(c)},Qe.hasM=function(c){return c.hasAttribute(U.Ih.M)},Qe.hasZ=function(c){return c.hasAttribute(U.Ih.Z)},Qe.getPointX=function(c){return c.Lg()},Qe.getPointY=function(c){return c.ih()},Qe.getPointZ=function(c){return c.bS()},Qe.getPointM=function(c){return c.zR()},Qe.getXMin=function(c){return c.es()},Qe.getYMin=function(c){return c.gs()},Qe.getXMax=function(c){return c.ds()},Qe.getYMax=function(c){return c.fs()},Qe.getZExtent=function(c){return c.Tg(U.Ih.Z,0)},Qe.getMExtent=function(c){return c.Tg(U.Ih.M,0)},Qe.exportPaths=function(c){var I=[],y=c.da(),l=null,s=null,r=c.hasAttribute(U.Ih.Z),n=c.hasAttribute(U.Ih.M);r&&(l=c.ub(U.Ih.Z)),n&&(s=c.ub(U.Ih.M));for(var a=new U.h,u=0;u<y;u++){for(var d=c.Ba(u),f=c.Ja(u),g=0,b=0,_=NaN,S=NaN,T=NaN,k=NaN,O=c.dc(u),N=[],D=d;D<d+f;D++){c.D(D,a),k=T=NaN;var z=[a.x,a.y];r&&(T=l.get(D),z.push(T)),n&&(k=s.get(D),z.push(k)),D==d&&O&&(g=a.x,b=a.y,_=T,S=k),N.push(z)}!O||g==a.x&&b==a.y&&(!r||isNaN(_)&&isNaN(T)||_==T)&&(!n||isNaN(S)&&isNaN(k)||S==k)||N.push(N[0].slice(0)),I.push(N)}return I},Qe.exportPathsFlat=function(){},Qe.exportPoints=function(c){var I=c.hasAttribute(U.Ih.Z),y=c.hasAttribute(U.Ih.M),l=null,s=null;I&&(l=c.ub(U.Ih.Z)),y&&(s=c.ub(U.Ih.M));for(var r=new U.h,n=c.I(),a=[],u=0;u<n;u++){c.D(u,r);var d=[r.x,r.y];I&&d.push(l.get(u)),y&&d.push(s.get(u)),a.push(d)}return a},Qe.exportPointsFlat=function(){},Qe),da=new Map;return function(){function c(){}return c.buffer=Xe,c.clip=M,c.contains=R,c.convexHull=At,c.crosses=B,c.cut=P,c.densify=Nu,c.difference=wt,c.disjoint=rt,c.distance=G,c.equals=H,c.extendedSpatialReferenceInfo=$,c.generalize=Pu,c.geodesicArea=MT,c.geodesicBuffer=pr,c.geodesicDensify=jr,c.geodesicLength=OT,c.intersect=Ht,c.intersects=Z,c.isSimple=bt,c.nearestCoordinate=fe,c.nearestVertex=Bn,c.nearestVertices=Ou,c.offset=Vt,c.overlaps=et,c.planarArea=Vn,c.planarLength=Yl,c.relate=nt,c.simplify=gt,c.symmetricDifference=$t,c.touches=X,c.union=Ce,c.within=Q,c.rotate=U.Ex.rotate,c.flipHorizontal=U.Ex.JQ,c.flipVertical=U.Ex.KQ,c.intersectLinesToPoints=jT,c.ExtendedParams=U.yC,c.clearDefaultSpatialReferenceTolerance=zT,c.changeDefaultSpatialReferenceTolerance=DT,c._enableProjection=PT,c._project=LT,c._getTransformation=NT,c._getTransformationBySuitability=RT,c}()}var i=e();i!==void 0&&(t.exports=i)}(b5)),b5.exports}var $T=cK();const jt=lK($T),uK=hK({__proto__:null,default:jt},[$T]),fat=Object.freeze(Object.defineProperty({__proto__:null,G:jt,g:uK},Symbol.toStringTag,{value:"Module"})),Zt={convertToGEGeometry:dK,exportPoint:fK,exportPolygon:pK,exportPolyline:mK,exportMultipoint:gK,exportExtent:yK};function dK(t,e){if(e==null)return null;let i="cache"in e?e.cache._geVersion:void 0;return i==null&&(i=t.convertJSONToGeometry(e),"cache"in e&&(e.cache._geVersion=i)),i}function fK(t,e,i){const o=t.hasZ(e),h=t.hasM(e),p=new He({x:t.getPointX(e),y:t.getPointY(e),spatialReference:i});return o&&(p.z=t.getPointZ(e)),h&&(p.m=t.getPointM(e)),p.cache._geVersion=e,p}function pK(t,e,i){const o=new Lc({rings:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:i});return o.cache._geVersion=e,o}function mK(t,e,i){const o=new ap({paths:t.exportPaths(e),hasZ:t.hasZ(e),hasM:t.hasM(e),spatialReference:i});return o.cache._geVersion=e,o}function gK(t,e,i){const o=new sp({hasZ:t.hasZ(e),hasM:t.hasM(e),points:t.exportPoints(e),spatialReference:i});return o.cache._geVersion=e,o}function yK(t,e,i){const o=t.hasZ(e),h=t.hasM(e),p=new Wi({xmin:t.getXMin(e),ymin:t.getYMin(e),xmax:t.getXMax(e),ymax:t.getYMax(e),spatialReference:i});if(o){const m=t.getZExtent(e);p.zmin=m.vmin,p.zmax=m.vmax}if(h){const m=t.getMExtent(e);p.mmin=m.vmin,p.mmax=m.vmax}return p.cache._geVersion=e,p}const pat=Object.freeze(Object.defineProperty({__proto__:null,hydratedAdapter:Zt},Symbol.toStringTag,{value:"Module"}));function Qt(t){const e=Array.isArray(t)?t[0].spatialReference:t.spatialReference;return e?cv(Pe,e):Pe.WGS84}function bK(t){return jt.extendedSpatialReferenceInfo(t)}function vK(t,e){return jt.clip(Zt,Qt(t),t,e)}function wK(t,e){return jt.cut(Zt,Qt(t),t,e)}function _K(t,e){return jt.contains(Zt,Qt(t),t,e)}function xK(t,e){return jt.crosses(Zt,Qt(t),t,e)}function SK(t,e,i){return jt.distance(Zt,Qt(t),t,e,i)}function CK(t,e){return jt.equals(Zt,Qt(t),t,e)}function AK(t,e){return jt.intersects(Zt,Qt(t),t,e)}function TK(t,e){return jt.touches(Zt,Qt(t),t,e)}function EK(t,e){return jt.within(Zt,Qt(t),t,e)}function $K(t,e){return jt.disjoint(Zt,Qt(t),t,e)}function IK(t,e){return jt.overlaps(Zt,Qt(t),t,e)}function kK(t,e,i){return jt.relate(Zt,Qt(t),t,e,i)}function MK(t){return jt.isSimple(Zt,Qt(t),t)}function OK(t){return jt.simplify(Zt,Qt(t),t)}function PK(t,e=!1){return jt.convexHull(Zt,Qt(t),t,e)}function NK(t,e){return jt.difference(Zt,Qt(t),t,e)}function RK(t,e){return jt.symmetricDifference(Zt,Qt(t),t,e)}function LK(t,e){return jt.intersect(Zt,Qt(t),t,e)}function IT(t,e=null){return jt.union(Zt,Qt(t),t,e)}function DK(t,e,i,o,h,p){return jt.offset(Zt,Qt(t),t,e,i,o,h,p)}function zK(t,e,i,o=!1){return jt.buffer(Zt,Qt(t),t,e,i,o)}function jK(t,e,i,o,h,p){return jt.geodesicBuffer(Zt,Qt(t),t,e,i,o,h,p)}function FK(t,e,i=!0){return jt.nearestCoordinate(Zt,Qt(t),t,e,i)}function UK(t,e){return jt.nearestVertex(Zt,Qt(t),t,e)}function BK(t,e,i,o){return jt.nearestVertices(Zt,Qt(t),t,e,i,o)}function W2(t){var e;return"xmin"in t?"center"in t?t.center:null:"x"in t?t:"extent"in t?((e=t.extent)==null?void 0:e.center)??null:null}function VK(t,e,i){if(t==null)throw new Pl;const o=t.spatialReference;if((i=i??W2(t))==null)throw new Pl;const h=t.constructor.fromJSON(jt.rotate(t,e,i));return h.spatialReference=o,h}function GK(t,e){if(t==null)throw new Pl;const i=t.spatialReference;if((e=e??W2(t))==null)throw new Pl;const o=t.constructor.fromJSON(jt.flipHorizontal(t,e));return o.spatialReference=i,o}function qK(t,e){if(t==null)throw new Pl;const i=t.spatialReference;if((e=e??W2(t))==null)throw new Pl;const o=t.constructor.fromJSON(jt.flipVertical(t,e));return o.spatialReference=i,o}function HK(t,e,i,o){return jt.generalize(Zt,Qt(t),t,e,i,o)}function WK(t,e,i){return jt.densify(Zt,Qt(t),t,e,i)}function JK(t,e,i,o=0){return jt.geodesicDensify(Zt,Qt(t),t,e,i,o)}function ZK(t,e){return jt.planarArea(Zt,Qt(t),t,e)}function YK(t,e){return jt.planarLength(Zt,Qt(t),t,e)}function KK(t,e,i){return jt.geodesicArea(Zt,Qt(t),t,e,i)}function XK(t,e,i){return jt.geodesicLength(Zt,Qt(t),t,e,i)}function QK(t,e){return jt.intersectLinesToPoints(Zt,Qt(t),t,e)}function tX(t,e){jt.changeDefaultSpatialReferenceTolerance(t,e)}function eX(t){jt.clearDefaultSpatialReferenceTolerance(t)}class Pl extends Error{constructor(){super("Illegal Argument Exception")}}const mat=Object.freeze(Object.defineProperty({__proto__:null,buffer:zK,changeDefaultSpatialReferenceTolerance:tX,clearDefaultSpatialReferenceTolerance:eX,clip:vK,contains:_K,convexHull:PK,crosses:xK,cut:wK,densify:WK,difference:NK,disjoint:$K,distance:SK,equals:CK,extendedSpatialReferenceInfo:bK,flipHorizontal:GK,flipVertical:qK,generalize:HK,geodesicArea:KK,geodesicBuffer:jK,geodesicDensify:JK,geodesicLength:XK,intersect:LK,intersectLinesToPoints:QK,intersects:AK,isSimple:MK,nearestCoordinate:FK,nearestVertex:UK,nearestVertices:BK,offset:DK,overlaps:IK,planarArea:ZK,planarLength:YK,relate:kK,rotate:VK,simplify:OK,symmetricDifference:RK,touches:TK,union:IT,within:EK},Symbol.toStringTag,{value:"Module"}));O5(location.href);const cs=document.querySelector("arcgis-map"),Z1=document.querySelector("arcgis-editor"),iX=document.getElementById("filter-review"),kT=document.querySelector("calcite-stepper");console.log(kT);cs.addEventListener("arcgisViewReadyChange",async t=>{await jm(()=>!cs.view.updating);const e=cs.map.layers.find(h=>h.title==="Buildings"),i=await cs.view.whenLayerView(e);console.log(i),await jm(()=>e.loaded);const o=new aK({container:document.getElementById("panel-table"),view:cs.view,layer:e,relatedRecordsEnabled:!0,actionColumnConfig:{label:"Go to feature",icon:"zoom-to-object",callback:h=>{view.goTo(h.feature)}},tableTemplate:{columnTemplates:[{type:"field",fieldName:"UID",label:"ID",flexGrow:0,width:"170px"},{type:"field",fieldName:"STATUS",label:"Permit Status"},{type:"field",fieldName:"BEZGFK",label:"Building Type"},{type:"field",fieldName:"NAMLAG",label:"Address"}]}});window.subTableTemplate={columnTemplates:[{type:"field",fieldName:"P_UID",label:"Permit ID"},{type:"field",fieldName:"STATUS",label:"Status"}]},window.subActionColumnConfig={label:"Edit Record",icon:"pencil",callback:h=>{console.log(h),Z1.classList.remove("hidden"),Z1.startUpdateWorkflowAtFeatureEdit(h.feature),kT.goToStep(2)}},Go(()=>o.relatedTable,h=>{console.log("Related Table Loaded"),h.actionColumnConfig=window.subActionColumnConfig,h.relatedRecordsEnabled=!1}),window.buildingsLayer=e,window.buildingsLayerView=i,window.featureTable=o,window.editor=Z1,window.map=cs,window.view=cs.view});iX.addEventListener("click",()=>{const t=buildingsLayer.createQuery();t.where="STATUS = 'Needs Review'",buildingsLayer.queryFeatures(t).then(e=>{console.log({results:e});const i=e.features;if(i.length>0){featureTable.objectIds=i.map(h=>h.attributes.OBJECTID);const o=IT(i.map(h=>h.geometry));cs.view.goTo(o.extent.expand(1.5))}else console.log("No features found with STATUS = Needs Review")}).catch(e=>{console.error("Error querying features:",e)})});export{$X as $,Nl as A,$M as B,c4 as C,Ob as D,vX as E,C as F,E as G,Dr as H,Lk as I,Lr as J,Y as K,me as L,Lt as M,uM as N,jm as O,Iv as P,qo as Q,_d as R,cit as S,Mt as T,QR as U,h7 as V,Xt as W,DD as X,yL as Y,Ft as Z,Dn as _,jb as a,cr as a$,nX as a0,NX as a1,uX as a2,Ck as a3,jX as a4,Db as a5,RX as a6,AX as a7,LX as a8,DX as a9,Rt as aA,Rl as aB,tC as aC,ko as aD,vt as aE,jo as aF,pu as aG,Mx as aH,$e as aI,iit as aJ,Ctt as aK,de as aL,Fs as aM,JL as aN,kt as aO,Ms as aP,RD as aQ,ki as aR,KS as aS,Ln as aT,Or as aU,Itt as aV,Mtt as aW,Uc as aX,xv as aY,sl as aZ,sa as a_,Lb as aa,IX as ab,Ek as ac,Uk as ad,kX as ae,le as af,Bk as ag,C3 as ah,OX as ai,N4 as aj,pk as ak,_X as al,zM as am,nk as an,sX as ao,TX as ap,QI as aq,dit as ar,pX as as,KI as at,dX as au,fX as av,b4 as aw,ort as ax,St as ay,Fl as az,U4 as b,wet as b$,jn as b0,DA as b1,Kc as b2,ot as b3,Wv as b4,Ec as b5,c5 as b6,DS as b7,Pe as b8,LS as b9,ll as bA,vrt as bB,wrt as bC,yrt as bD,Pn as bE,rv as bF,ni as bG,jR as bH,zc as bI,Nm as bJ,nrt as bK,cN as bL,Nr as bM,Mu as bN,Hs as bO,kp as bP,Mp as bQ,Wl as bR,LV as bS,Jrt as bT,Se as bU,jrt as bV,bV as bW,zrt as bX,vV as bY,hu as bZ,We as b_,at as ba,RS as bb,eY as bc,zA as bd,mrt as be,U_ as bf,UZ as bg,Qc as bh,Xc as bi,hrt as bj,QU as bk,On as bl,bN as bm,_t as bn,ta as bo,Frt as bp,Vs as bq,Tt as br,zs as bs,_et as bt,fr as bu,iQ as bv,vz as bw,wz as bx,nd as by,dB as bz,Bt as c,Rv as c$,Rr as c0,ap as c1,trt as c2,ert as c3,$R as c4,qf as c5,yu as c6,Go as c7,Bi as c8,we as c9,Jt as cA,DM as cB,MX as cC,PS as cD,NS as cE,OS as cF,a5 as cG,Tot as cH,Nit as cI,hr as cJ,vQ as cK,lK as cL,kQ as cM,GM as cN,Ott as cO,au as cP,QX as cQ,eit as cR,He as cS,Cc as cT,$V as cU,Hl as cV,Qv as cW,cG as cX,uC as cY,CG as cZ,Dz as c_,Yx as ca,yg as cb,Ul as cc,Fo as cd,ON as ce,Uo as cf,Oi as cg,Ox as ch,nV as ci,MN as cj,gV as ck,Pi as cl,h6 as cm,L7 as cn,Ct as co,kc as cp,RL as cq,fp as cr,Aet as cs,Hv as ct,Wi as cu,bit as cv,ml as cw,Yf as cx,yet as cy,s1 as cz,qk as d,OQ as d$,ait as d0,_rt as d1,Ov as d2,Y0 as d3,Ho as d4,hG as d5,Jtt as d6,OV as d7,PV as d8,NV as d9,IZ as dA,brt as dB,LD as dC,af as dD,Srt as dE,of as dF,xrt as dG,K7 as dH,Qtt as dI,Sot as dJ,uot as dK,jit as dL,Cx as dM,t6 as dN,i6 as dO,r6 as dP,tQ as dQ,e1 as dR,sS as dS,Lc as dT,Oc as dU,ve as dV,Bm as dW,Gm as dX,Z0 as dY,qb as dZ,Hb as d_,Wtt as da,$tt as db,Xet as dc,cv as dd,iz as de,oc as df,Tl as dg,Cu as dh,Gf as di,Aot as dj,Gl as dk,Wit as dl,Zx as dm,am as dn,J4 as dp,Gtt as dq,n6 as dr,s6 as ds,nz as dt,t8 as du,e8 as dv,pet as dw,Jf as dx,Zf as dy,X7 as dz,z4 as e,d1 as e$,tD as e0,bl as e1,Av as e2,PQ as e3,zU as e4,Ytt as e5,VV as e6,eG as e7,sf as e8,Tf as e9,gX as eA,FX as eB,AM as eC,het as eD,ys as eE,mot as eF,kot as eG,ua as eH,Sit as eI,Sl as eJ,Ret as eK,Df as eL,Kv as eM,up as eN,Bc as eO,Ux as eP,qi as eQ,QB as eR,Sv as eS,tV as eT,XL as eU,Lrt as eV,zn as eW,Mot as eX,mX as eY,JX as eZ,la as e_,Ef as ea,JM as eb,SQ as ec,MS as ed,Zit as ee,hU as ef,qtt as eg,HQ as eh,HA as ei,p8 as ej,Art as ek,prt as el,Cy as em,Kit as en,lot as eo,$ot as ep,Po as eq,AF as er,Qf as es,Lv as et,$Q as eu,ov as ev,Wk as ew,bX as ex,wX as ey,Dk as ez,Hk as f,bu as f$,Bf as f0,fi as f1,Ep as f2,wm as f3,_u as f4,cet as f5,VB as f6,mQ as f7,Fe as f8,zit as f9,vtt as fA,btt as fB,bm as fC,qY as fD,e0 as fE,EF as fF,Ts as fG,Fc as fH,dv as fI,Yot as fJ,jtt as fK,Ett as fL,nn as fM,irt as fN,M7 as fO,Got as fP,yc as fQ,jy as fR,lM as fS,zb as fT,xet as fU,Ptt as fV,PN as fW,Wa as fX,np as fY,Md as fZ,Xit as f_,Jit as fa,Lit as fb,z_ as fc,Ic as fd,Stt as fe,Rtt as ff,dat as fg,Px as fh,iO as fi,pQ as fj,TQ as fk,EQ as fl,EX as fm,PX as fn,Rb as fo,om as fp,VD as fq,$s as fr,G8 as fs,vu as ft,dt as fu,Bv as fv,nY as fw,cp as fx,lit as fy,uv as fz,Fb as g,$u as g$,tet as g0,wit as g1,det as g2,tz as g3,ez as g4,cC as g5,dC as g6,JV as g7,Xtt as g8,QD as g9,Brt as gA,not as gB,rot as gC,bY as gD,pS as gE,sp as gF,srt as gG,Y_ as gH,wQ as gI,Qit as gJ,sD as gK,on as gL,DQ as gM,xL as gN,EL as gO,kL as gP,Bo as gQ,Ie as gR,Kot as gS,Qot as gT,Qet as gU,Qo as gV,AQ as gW,$p as gX,Tp as gY,Ip as gZ,V2 as g_,QV as ga,pp as gb,Ad as gc,Ait as gd,ne as ge,oQ as gf,Aw as gg,$f as gh,mtt as gi,kx as gj,uD as gk,bv as gl,Rit as gm,Lf as gn,xV as go,MQ as gp,WQ as gq,JQ as gr,$z as gs,XK as gt,Rc as gu,CB as gv,Hf as gw,Yet as gx,GD as gy,Wrt as gz,B4 as h,lS as h$,lY as h0,Iu as h1,Op as h2,B2 as h3,Zot as h4,ku as h5,BV as h6,nC as h7,iC as h8,Wf as h9,Cn as hA,ZD as hB,Ff as hC,i5 as hD,q2 as hE,rY as hF,Jx as hG,Tw as hH,Wx as hI,hS as hJ,tU as hK,SU as hL,qit as hM,L2 as hN,cot as hO,aot as hP,qM as hQ,get as hR,q7 as hS,aet as hT,G7 as hU,Hi as hV,mC as hW,$i as hX,XX as hY,KF as hZ,nU as h_,Mc as ha,Ktt as hb,lz as hc,fet as hd,wl as he,Vot as hf,ztt as hg,MV as hh,Vi as hi,CQ as hj,aQ as hk,G0 as hl,yR as hm,Ds as hn,kV as ho,az as hp,EV as hq,WX as hr,jV as hs,Pet as ht,$it as hu,fS as hv,ctt as hw,S7 as hx,hv as hy,Ra as hz,CX as i,JZ as i$,_it as i0,Git as i1,Qx as i2,itt as i3,ett as i4,CR as i5,SR as i6,sQ as i7,WM as i8,Uit as i9,oa as iA,YL as iB,hQ as iC,cQ as iD,lQ as iE,Jot as iF,mnt as iG,rd as iH,x_ as iI,y_ as iJ,pit as iK,q8 as iL,hit as iM,SC as iN,Mnt as iO,unt as iP,fg as iQ,pg as iR,IS as iS,Mit as iT,fu as iU,iT as iV,Zrt as iW,jB as iX,lR as iY,ltt as iZ,htt as i_,Bp as ia,Crt as ib,Dc as ic,j as id,met as ie,lu as ig,uit as ih,Not as ii,Oot as ij,bb as ik,zX as il,en as im,jv as io,ZM as ip,Att as iq,NL as ir,Vf as is,Ntt as it,pU as iu,fU as iv,set as iw,net as ix,kz as iy,Kf as iz,Dt as j,JA as j$,art as j0,U2 as j1,uT as j2,zY as j3,Zl as j4,HD as j5,yX as j6,SX as j7,mk as j8,iG as j9,xY as jA,$0 as jB,rrt as jC,BR as jD,lp as jE,Sx as jF,dD as jG,bQ as jH,t_ as jI,Eit as jJ,Tit as jK,XV as jL,YV as jM,KV as jN,Au as jO,Tu as jP,Eu as jQ,YX as jR,BM as jS,ZX as jT,pot as jU,fot as jV,Ga as jW,p6 as jX,wF as jY,git as jZ,GB as j_,WV as ja,ZV as jb,xR as jc,rn as jd,gQ as je,dtt as jf,eet as jg,Vl as jh,k8 as ji,e6 as jj,xtt as jk,Q7 as jl,Xw as jm,XS as jn,Ltt as jo,iet as jp,Htt as jq,Hst as jr,Ttt as js,Ix as jt,oot as ju,sot as jv,_v as jw,uG as jx,lG as jy,aG as jz,wb as k,Vet as k$,nO as k0,uet as k1,Ii as k2,SB as k3,sK as k4,vR as k5,FV as k6,Rn as k7,LA as k8,nK as k9,kit as kA,Iz as kB,KK as kC,Tet as kD,Oet as kE,Det as kF,Met as kG,oS as kH,qot as kI,Hot as kJ,Wot as kK,grt as kL,crt as kM,drt as kN,urt as kO,frt as kP,wB as kQ,U3 as kR,lrt as kS,Eet as kT,Wm as kU,W0 as kV,Jm as kW,J0 as kX,yQ as kY,Zet as kZ,jet as k_,GA as ka,ttt as kb,Krt as kc,Yrt as kd,Bw as ke,kG as kf,xB as kg,$et as kh,Iet as ki,Ha as kj,Bit as kk,Iot as kl,xit as km,Xot as kn,QM as ko,tat as kp,Cet as kq,u8 as kr,_z as ks,Iit as kt,OK as ku,uU as kv,SK as kw,Let as kx,zet as ky,hg as kz,k3 as l,oC as l$,Xf as l0,Fet as l1,Uet as l2,Bet as l3,Wet as l4,Get as l5,qet as l6,Het as l7,Jet as l8,kv as l9,Ant as lA,fq as lB,i2 as lC,_nt as lD,Snt as lE,$nt as lF,Ent as lG,Int as lH,knt as lI,P2 as lJ,YZ as lK,KZ as lL,aU as lM,Yit as lN,AU as lO,Oit as lP,lU as lQ,Pit as lR,Ap as lS,Dit as lT,QQ as lU,ktt as lV,ket as lW,GR as lX,Hit as lY,yS as lZ,yG as l_,mit as la,d8 as lb,gz as lc,bet as ld,vet as le,bR as lf,Urt as lg,gnt as lh,ynt as li,bnt as lj,ZS as lk,$C as ll,wnt as lm,rq as ln,QG as lo,vnt as lp,ZG as lq,BZ as lr,cq as ls,TC as lt,Tnt as lu,FZ as lv,tu as lw,iu as lx,Ont as ly,Cnt as lz,Jk as m,pnt as m$,gG as m0,hD as m1,u_ as m2,sC as m3,EG as m4,TG as m5,_ot as m6,xot as m7,pD as m8,zz as m9,ent as mA,gC as mB,int as mC,OG as mD,vq as mE,Xrt as mF,Qrt as mG,ym as mH,fnt as mI,f8 as mJ,SF as mK,yC as mL,tnt as mM,uB as mN,sg as mO,X8 as mP,rp as mQ,MF as mR,K8 as mS,PF as mT,Vc as mU,hnt as mV,cnt as mW,rnt as mX,Q8 as mY,NF as mZ,RF as m_,nit as ma,IQ as mb,TB as mc,Ket as md,rtt as me,$N as mf,Km as mg,BF as mh,Cit as mi,WF as mj,_U as mk,xU as ml,Mw as mm,Mz as mn,bC as mo,yq as mp,MG as mq,bq as mr,LG as ms,PG as mt,ci as mu,snt as mv,ont as mw,ant as mx,nnt as my,lnt as mz,xX as n,rit as n0,KX as n1,tit as n2,dQ as n3,Pnt as n4,ntt as n5,xnt as n6,dnt as n7,_F as n8,xF as n9,Grt as nA,Vit as nB,vot as nC,nG as nD,dG as nE,tG as nF,d6 as nG,fQ as nH,wot as nI,Net as nJ,Qst as nK,Uot as nL,Bot as nM,eat as nN,fat as nO,pat as nP,mat as nQ,jt as na,fG as nb,AG as nc,Vrt as nd,rQ as ne,Eot as nf,bot as ng,got as nh,_Q as ni,jot as nj,zot as nk,nQ as nl,dot as nm,Fit as nn,Cot as no,utt as np,yot as nq,GV as nr,hot as ns,Ya as nt,wY as nu,Ztt as nv,vY as nw,ZQ as nx,qrt as ny,Hrt as nz,W4 as o,zr as p,IM as q,_c as r,fk as s,S4 as t,F4 as u,kk as v,xM as w,sk as x,tk as y,Bb as z};

import{F as t,G as o,K as B,L as Ot,dH as ot,b0 as X,f0 as Ae,ay as _,a$ as we,ba as Dt,aO as F,aB as ht,kI as te,bN as re,kJ as Me,kK as Rt,bO as _e,bP as Lt,T as R,W as O,Z as Y,aR as pe,aV as ze,ig as xt,aA as vt,cS as gt,c1 as Le,b6 as ne,cu as wt,b8 as Q,cw as bt,gQ as At,b7 as Ct,b9 as Mt,dd as _t,br as x,c8 as Et,gF as kt,dz as it,aI as st,aT as Ft,aC as Jt,aM as Ut,aG as zt,bc as Gt,b_ as Wt}from"./index-C1aGfQcb.js";import Kt from"./FeatureLayer-DGRhhm0K.js";import{f as Vt}from"./TemporalLayer-CR5q7V2k.js";import{p as qt}from"./TimeExtent-DGiXUfis.js";import{A as nt}from"./interfaces-CL2NbQte.js";import"./UniqueValueRenderer-CAZbf8NT.js";import{o as Ht}from"./jsonUtils-CWFaUb2E.js";import{S as Zt}from"./MultiOriginJSONSupport-Qqzd52Lf.js";import{i as Yt}from"./saveAPIKeyUtils-BWiJCGqJ.js";import{N as Qt,K as Xt}from"./projection-BOBOhWzm.js";import{f as er}from"./Layer-CneDw8eF.js";import{l as tr}from"./BlendLayer-CG9LFMxd.js";import{b as rr}from"./OperationalLayer-nNeN4Mrb.js";import{j as or}from"./PortalLayer-Bqf_dhsv.js";import{t as ir}from"./ScaleRangeLayer-66YiyNPI.js";import{y as sr}from"./arcgisLayerUrl-BkZy4Mr3.js";import{f as nr}from"./portalItemUtils-Cy9KvMYK.js";import{i as xe,f as St}from"./utils-DGPHbhMN.js";import{w as ae,D as Ve,o as ar,q as lr,a as Nt,j as qe,P as pr,n as ur,b as cr,c as yr,R as dr,M as at,l as mr,U as fr,r as hr,d as vr,m as gr,e as Be,y as Ie,C as fe,T as he,f as ve,g as ge,S as Ee,h as wr}from"./RouteLayerView2D-qiJ98A_U.js";import{R as br}from"./normalizeUtils-Bg1OALXh.js";import{d as K}from"./FeatureSet-CeKoTEEO.js";import{t as Sr}from"./Search-DNVL7uU4.js";let E=class extends Ot{set horizontalWKID(r){r?ot({wkid:+r})?this._set("horizontalWKID",+r):this._set("horizontalWKID",r):this._set("horizontalWKID",null)}set verticalWKID(r){r?this._set("verticalWKID",isFinite(r)&&ot({wkid:+r})?+r:null):this._set("verticalWKID",null)}get isAdvanced(){const{affineTransformations:r,focalLength:i,principalOffsetPoint:s,radialDistortionCoefficients:n,tangentialDistortionCoefficients:a}=this;return(r==null?void 0:r.length)>1&&!Number.isNaN(i)&&(s==null?void 0:s.length)>1&&(n==null?void 0:n.length)>1&&(a==null?void 0:a.length)>1}};t([o({json:{write:!0}})],E.prototype,"affineTransformations",void 0),t([o({json:{write:!0}})],E.prototype,"focalLength",void 0),t([o({json:{write:!0}})],E.prototype,"principalOffsetPoint",void 0),t([o({json:{write:!0}})],E.prototype,"radialDistortionCoefficients",void 0),t([o({json:{write:!0}})],E.prototype,"tangentialDistortionCoefficients",void 0),t([o({json:{write:!0}})],E.prototype,"horizontalWKID",null),t([o({json:{write:!0}})],E.prototype,"verticalWKID",null),t([o({json:{write:!0}})],E.prototype,"x",void 0),t([o({json:{write:!0}})],E.prototype,"y",void 0),t([o({json:{write:!0}})],E.prototype,"z",void 0),t([o({json:{write:!0}})],E.prototype,"type",void 0),E=t([B("esri.layers.orientedImagery.core.CameraOrientation")],E);const Ce=E;let A=class extends X(Ae(Ce)){constructor(){super(...arguments),this.type=1}toString(){const{type:r,horizontalWKID:i,verticalWKID:s,x:n,y:a,z:l,heading:p,pitch:h,roll:b,affineTransformations:y,focalLength:N,principalOffsetPoint:w,radialDistortionCoefficients:S,tangentialDistortionCoefficients:m}=this,d=[r,i,s,n,a,l,p,h,b];return this.isAdvanced&&(y==null||y.forEach(c=>d.push(c)),d.push(N),w==null||w.forEach(c=>d.push(c)),S==null||S.forEach(c=>d.push(c)),m==null||m.forEach(c=>d.push(c))),d.map(c=>Number.isNaN(c)?"":c).join("|")}};t([o({json:{write:!0}})],A.prototype,"type",void 0),t([o({type:[Number],json:{write:!0}})],A.prototype,"affineTransformations",void 0),t([o({type:Number,json:{write:!0}})],A.prototype,"focalLength",void 0),t([o({type:[Number],json:{write:!0}})],A.prototype,"principalOffsetPoint",void 0),t([o({type:[Number],json:{write:!0}})],A.prototype,"radialDistortionCoefficients",void 0),t([o({type:[Number],json:{write:!0}})],A.prototype,"tangentialDistortionCoefficients",void 0),t([o({type:Number,json:{write:!0}})],A.prototype,"heading",void 0),t([o({type:Number,json:{write:!0}})],A.prototype,"pitch",void 0),t([o({type:Number,json:{write:!0}})],A.prototype,"roll",void 0),t([o({type:Number,json:{write:!0}})],A.prototype,"x",void 0),t([o({type:Number,json:{write:!0}})],A.prototype,"y",void 0),t([o({type:Number,json:{write:!0}})],A.prototype,"z",void 0),A=t([B("esri.layers.orientedImagery.core.CameraOrientationHPR")],A);const Nr=A;let q=class extends X(Ae(Ce)){constructor(){super(...arguments),this.type=4}toString(){const{type:r,latitude:i,longitude:s,ellipsoidRadius:n,squaredEccentricity:a,properties:l}=this,p=`${l}`.split("|");return p.splice(1,1),`${r}|${i}|${s}|${n}|${a}|${p.join("|")}`}};t([o({json:{write:!0}})],q.prototype,"type",void 0),t([o({json:{write:!0},type:Number})],q.prototype,"latitude",void 0),t([o({json:{write:!0},type:Number})],q.prototype,"longitude",void 0),t([o({json:{write:!0},type:Number})],q.prototype,"ellipsoidRadius",void 0),t([o({json:{write:!0},type:Number})],q.prototype,"squaredEccentricity",void 0),t([o({json:{write:!0}})],q.prototype,"properties",void 0),q=t([B("esri.layers.orientedImagery.core.CameraOrientationLTP")],q);const Pr=q;let C=class extends X(Ae(Ce)){constructor(){super(...arguments),this.type=2}toString(){const{type:r,horizontalWKID:i,verticalWKID:s,x:n,y:a,z:l,omega:p,phi:h,kappa:b,affineTransformations:y,focalLength:N,principalOffsetPoint:w,radialDistortionCoefficients:S,tangentialDistortionCoefficients:m}=this,d=[r,i,s,n,a,l,p,h,b];return this.isAdvanced&&(y==null||y.forEach(c=>d.push(c)),d.push(N),w==null||w.forEach(c=>d.push(c)),S==null||S.forEach(c=>d.push(c)),m==null||m.forEach(c=>d.push(c))),d.map(c=>isNaN(c)?"":c).join("|")}};t([o({json:{write:!0}})],C.prototype,"type",void 0),t([o({type:[Number],json:{write:!0}})],C.prototype,"affineTransformations",void 0),t([o({type:Number,json:{write:!0}})],C.prototype,"focalLength",void 0),t([o({type:[Number],json:{write:!0}})],C.prototype,"principalOffsetPoint",void 0),t([o({type:[Number],json:{write:!0}})],C.prototype,"radialDistortionCoefficients",void 0),t([o({type:[Number],json:{write:!0}})],C.prototype,"tangentialDistortionCoefficients",void 0),t([o({type:Number,json:{write:!0}})],C.prototype,"omega",void 0),t([o({type:Number,json:{write:!0}})],C.prototype,"phi",void 0),t([o({type:Number,json:{write:!0}})],C.prototype,"kappa",void 0),t([o({type:Number,json:{write:!0}})],C.prototype,"x",void 0),t([o({type:Number,json:{write:!0}})],C.prototype,"y",void 0),t([o({type:Number,json:{write:!0}})],C.prototype,"z",void 0),C=t([B("esri.layers.orientedImagery.core.CameraOrientationOPK")],C);const Tr=C;let M=class extends X(Ae(Ce)){constructor(){super(...arguments),this.type=3}get isAdvanced(){const{affineTransformations:r,focalLength:i,principalOffsetPoint:s,radialDistortionCoefficients:n,tangentialDistortionCoefficients:a}=this;return(r==null?void 0:r.length)>1||!Number.isNaN(i)||(s==null?void 0:s.length)>1||(n==null?void 0:n.length)>1||(a==null?void 0:a.length)>1}toString(){const{type:r,horizontalWKID:i,verticalWKID:s,x:n,y:a,z:l,yaw:p,pitch:h,roll:b,affineTransformations:y,focalLength:N,principalOffsetPoint:w,radialDistortionCoefficients:S,tangentialDistortionCoefficients:m}=this,d=[r,i,s,n,a,l,p,h,b];return this.isAdvanced&&(y==null||y.forEach(c=>d.push(c)),d.push(N),w==null||w.forEach(c=>d.push(c)),w==null||w.forEach(c=>d.push(c)),S==null||S.forEach(c=>d.push(c)),m==null||m.forEach(c=>d.push(c))),d.map(c=>Number.isNaN(c)?"":c).join("|")}};t([o({json:{write:!0}})],M.prototype,"type",void 0),t([o({type:[Number],json:{write:!0}})],M.prototype,"affineTransformations",void 0),t([o({type:Number,json:{write:!0}})],M.prototype,"focalLength",void 0),t([o({type:[Number],json:{write:!0}})],M.prototype,"principalOffsetPoint",void 0),t([o({type:[Number],json:{write:!0}})],M.prototype,"radialDistortionCoefficients",void 0),t([o({type:[Number],json:{write:!0}})],M.prototype,"tangentialDistortionCoefficients",void 0),t([o({type:Number,json:{write:!0}})],M.prototype,"yaw",void 0),t([o({type:Number,json:{write:!0}})],M.prototype,"pitch",void 0),t([o({type:Number,json:{write:!0}})],M.prototype,"roll",void 0),t([o({type:Number,json:{write:!0}})],M.prototype,"x",void 0),t([o({type:Number,json:{write:!0}})],M.prototype,"y",void 0),t([o({type:Number,json:{write:!0}})],M.prototype,"z",void 0),M=t([B("esri.layers.orientedImagery.core.CameraOrientationYPR")],M);const jr=M;var V;(function(e){e[e.HPR=1]="HPR",e[e.OPK=2]="OPK",e[e.YPR=3]="YPR",e[e.LTP=4]="LTP"})(V||(V={}));const ue=new Map;ue.set(`${V.OPK}`,{desc:"Using Omega Phi Kappa",constructor:Tr}),ue.set(`${V.HPR}`,{desc:"Using Heading, Pitch and Roll",constructor:Nr}),ue.set(`${V.YPR}`,{desc:"Using Yaw, Pitch and Roll",constructor:jr}),ue.set(`${V.LTP}`,{desc:"Using Local Tangent Plane",constructor:Pr});let le=class extends X(_){constructor(){super(...arguments),this.url=null}};t([o({type:Number,json:{write:!0}})],le.prototype,"lod",void 0),t([o({type:String,json:{write:!0}})],le.prototype,"rasterFunction",void 0),t([o({type:String,json:{write:!0}})],le.prototype,"url",void 0),le=t([B("esri.layers.orientedImagery.core.ElevationSourceDefinitions.ElevationSource")],le);let Oe=class extends X(_){constructor(){super(...arguments),this.constantElevation=null}};t([o({type:Number,json:{write:!0}})],Oe.prototype,"constantElevation",void 0),Oe=t([B("esri.layers.orientedImagery.core.ElevationSourceDefinitions.ConstantElevation")],Oe);const $r=e=>e!=null&&typeof e.constantElevation=="number";function Br(e,r,i){return r&&(e=`${r}${e}`),i&&(e+=`${i}`),e}function Ir(e,r,i){let{url:s}=e;return s?(s=Br(s,r,i),new le({...e,url:s})):null}function Or(e,r,i){return e&&($r(e)?new Oe(e):Ir(e,r,i))}const be=new we({Minutes:"minutes",Hours:"hours",Days:"days",Weeks:"weeks",Months:"months",Years:"years"}),Se=new we({Feet:"feet",Meter:"meter"}),ke=new we({360:"360",Horizontal:"horizontal",Inspection:"inspection",Nadir:"nadir",Oblique:"oblique","":null}),ce=new Map;function Dr(e){const[r,i,s,n,a,l,p,h,b,y,N,w,S,m,d,c,u,P,g,$,L,oe]=e.slice(1);return{horizontalWKID:r,verticalWKID:i,x:s,y:n,z:a,omega:l,phi:p,kappa:h,...He([b,y,N,w,S,m],[c,u],[P,g,$],[L,oe],d)}}ce.set(`${V.HPR}`,Rr),ce.set(`${V.YPR}`,Lr),ce.set(`${V.OPK}`,Dr),ce.set(`${V.LTP}`,xr);const Ne=e=>{const r=e.map(i=>parseFloat(i)).filter(i=>!isNaN(i));if(r.length===e.length)return r};function He(e,r,i,s,n){const a=Ne(e),l=Ne(r),p=Ne(i),h=Ne(s);return{affineTransformations:(a==null?void 0:a.length)===6?a:void 0,focalLength:(a==null?void 0:a.length)===6?parseFloat(n):void 0,principalOffsetPoint:(l==null?void 0:l.length)!==2?[0,0]:l,radialDistortionCoefficients:(p==null?void 0:p.length)!==3?[0,0,0]:p,tangentialDistortionCoefficients:(h==null?void 0:h.length)!==2?[0,0]:h}}function Rr(e){const[r,i,s,n,a,l,p,h,b,y,N,w,S,m,d,c,u,P,g,$,L,oe]=e.slice(1);return{horizontalWKID:r,verticalWKID:i,x:s,y:n,z:a,heading:l,pitch:p,roll:h,...He([b,y,N,w,S,m],[c,u],[P,g,$],[L,oe],d)}}function Lr(e){const[r,i,s,n,a,l,p,h,b,y,N,w,S,m,d,c,u,P,g,$,L,oe]=e.slice(1);return{horizontalWKID:r,verticalWKID:i,x:s,y:n,z:a,yaw:l,pitch:p,roll:h,...He([b,y,N,w,S,m],[c,u],[P,g,$],[L,oe],d)}}function xr(e){var b;const[r,i,s,n,a,...l]=e.slice(1),p=ce.get(a),h=(b=ue.get(a))==null?void 0:b.constructor;return!p||!h?null:{latitude:r,longitude:i,ellipsoidRadius:s,squaredEccentricity:n,properties:new h(p([a,"",...l]))}}function Ar(e){return Array.isArray(e)&&(e==null?void 0:e.length)===9&&!e.some(isNaN)}const Cr=new Set(["demPathPrefix","demPathSuffix","depthImagePathPrefix","depthImagePathSuffix","elevationSource","horizontalMeasurementUnit","verticalMeasurementUnit","videoPathPrefix","videoPathSuffix","timeAnimation","visibilityTimeExtent"]),lt=(e,r)=>!Cr.has(r)&&e,Mr=(e,r,i)=>{const s=`orientedImageryProperties.${e}`;return{name:s,write:r?{ignoreOrigin:!0,target:s,writer:r}:{ignoreOrigin:!0},read:i?{ignoreOrigin:!0,source:s,reader:i}:{ignoreOrigin:!0}}};function _r(e){return e.json&&(e.json.origins=e.json.origins??{},e.json.origins["web-scene"]={write:!1,read:!1}),e}function I(e,r,i,s){const{name:n,write:a,read:l}=Mr(e,r,i),p={name:n,write:a,read:l,origins:{service:{name:`orientedImageryInfo.${n}`,write:r,read:i},"web-scene":{name:n,write:lt(a,e),read:lt(l,e)},"web-map":{name:n,write:a,read:l}}};return s&&p.origins&&(p.type=s,p.origins["web-map"].type=s,p.origins["web-scene"].type=s),p}let j=class extends Kt{constructor(){super(...arguments),this.cameraHeading=null,this.cameraHeight=null,this.cameraPitch=null,this.cameraRoll=null,this.coveragePercent=null,this.demPathPrefix=null,this.demPathSuffix=null,this.depthImagePathPrefix=null,this.depthImagePathSuffix=null,this.elevationSource=null,this.farDistance=null,this.geometryType="point",this.horizontalFieldOfView=null,this.horizontalMeasurementUnit=null,this.imagePathPrefix=null,this.imagePathSuffix=null,this.imageRotation=null,this.maximumDistance=null,this.nearDistance=null,this.operationalLayerType="OrientedImageryLayer",this.orientationAccuracy=null,this.orientedImageryType=null,this.supportedSourceTypes=new Set(["Oriented Imagery Layer"]),this.type="oriented-imagery",this.timeIntervalUnit="days",this.useViewTime=!0,this.verticalFieldOfView=null,this.verticalMeasurementUnit=null,this.videoPathPrefix=null,this.videoPathSuffix=null,this.visibilityTimeExtent=null}get effectiveElevationSource(){const{elevationSource:e,demPathPrefix:r,demPathSuffix:i}=this;return Or(e,r,i)}async save(e){return this._debouncedSaveOperations(nt.SAVE,e)}async saveAs(e,r){return this._debouncedSaveOperations(nt.SAVE_AS,r,e)}findFirstValidLayerId(e){var r,i;return(i=(r=e.layers)==null?void 0:r.find(s=>this.supportedSourceTypes.has(s.type)))==null?void 0:i.id}_verifySource(){if(super._verifySource(),this.geometryType!=="point")throw new F("oriented-imagery-layer:invalid-geometry-type","OrientedImageryLayer only supports point geometry type")}};t([o({type:Number,json:I("cameraHeading")})],j.prototype,"cameraHeading",void 0),t([o({type:Number,json:I("cameraHeight")})],j.prototype,"cameraHeight",void 0),t([o({type:Number,json:I("cameraPitch")})],j.prototype,"cameraPitch",void 0),t([o({type:Number,json:I("cameraRoll")})],j.prototype,"cameraRoll",void 0),t([o({type:Number,json:I("coveragePercent")})],j.prototype,"coveragePercent",void 0),t([o({type:String,json:I("demPathPrefix")})],j.prototype,"demPathPrefix",void 0),t([o({type:String,json:I("demPathSuffix")})],j.prototype,"demPathSuffix",void 0),t([o({type:String,json:I("depthImagePathPrefix")})],j.prototype,"depthImagePathPrefix",void 0),t([o({type:String,json:I("depthImagePathSuffix")})],j.prototype,"depthImagePathSuffix",void 0),t([o({type:Object,json:I("elevationSource")})],j.prototype,"elevationSource",void 0),t([o({readOnly:!0})],j.prototype,"effectiveElevationSource",null),t([o({type:Number,json:I("farDistance")})],j.prototype,"farDistance",void 0),t([o()],j.prototype,"geometryType",void 0),t([o({type:Number,json:I("horizontalFieldOfView")})],j.prototype,"horizontalFieldOfView",void 0),t([o({type:String,json:I("horizontalMeasurementUnit")})],j.prototype,"horizontalMeasurementUnit",void 0),t([o({type:String,json:I("imagePathPrefix")})],j.prototype,"imagePathPrefix",void 0),t([o({type:String,json:I("imagePathSuffix")})],j.prototype,"imagePathSuffix",void 0),t([o({type:Number,json:I("imageRotation")})],j.prototype,"imageRotation",void 0),t([o({type:Number,json:I("maximumDistance")})],j.prototype,"maximumDistance",void 0),t([o({type:Number,json:I("nearDistance")})],j.prototype,"nearDistance",void 0),t([o({type:["OrientedImageryLayer"],json:{origins:{"portal-item":{name:"layerType",write:{enabled:!0,ignoreOrigin:!0}}}}})],j.prototype,"operationalLayerType",void 0),t([o({json:{...I("orientationAccuracy",(e,r,i)=>{ht(i,e.join(";"),r)},e=>{var i;const r=(i=e==null?void 0:e.split(";"))==null?void 0:i.map(Number);return Ar(r)?r:[0,0,0,0,0,0,0,0,0]},String)}})],j.prototype,"orientationAccuracy",void 0),t([o({json:{...I("orientedImageryType",ke.write,ke.read,ke.jsonValues.slice(1))}})],j.prototype,"orientedImageryType",void 0),t([o({json:{read:!1},value:"oriented-imagery",readOnly:!0})],j.prototype,"type",void 0),t([o({type:be.apiValues,json:{...I("timeIntervalUnit",be.write,be.read,be.jsonValues)}})],j.prototype,"timeIntervalUnit",void 0),t([o(_r(Dt(Vt)))],j.prototype,"useViewTime",void 0),t([o({type:Number,json:I("verticalFieldOfView")})],j.prototype,"verticalFieldOfView",void 0),t([o({type:Se.apiValues,json:{...I("verticalMeasurementUnit",Se.write,Se.read,Se.jsonValues)}})],j.prototype,"verticalMeasurementUnit",void 0),t([o({type:String,json:I("videoPathPrefix")})],j.prototype,"videoPathPrefix",void 0),t([o({type:String,json:I("videoPathSuffix")})],j.prototype,"videoPathSuffix",void 0),t([o({type:qt,json:{origins:{"web-scene":{write:!1,read:!1}}}})],j.prototype,"visibilityTimeExtent",void 0),j=t([B("esri.layers.OrientedImageryLayer")],j);const Er=j,Zo=Object.freeze(Object.defineProperty({__proto__:null,default:Er},Symbol.toStringTag,{value:"Module"}));let H=class extends _{constructor(r){super(r),this.break=new re({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}}),this.first=new re({color:[0,255,0],size:20,outline:{color:[255,255,255],width:4}}),this.unlocated=new re({color:[255,0,0],size:12,outline:{color:[255,255,255],width:3}}),this.last=new re({color:[255,0,0],size:20,outline:{color:[255,255,255],width:4}}),this.middle=new re({color:[51,51,51],size:12,outline:{color:[0,122,194],width:3}}),this.waypoint=new re({color:[255,255,255],size:12,outline:{color:[0,122,194],width:3}})}};t([o({types:te})],H.prototype,"break",void 0),t([o({types:te})],H.prototype,"first",void 0),t([o({types:te})],H.prototype,"unlocated",void 0),t([o({types:te})],H.prototype,"last",void 0),t([o({types:te})],H.prototype,"middle",void 0),t([o({types:te})],H.prototype,"waypoint",void 0),H=t([B("esri.layers.support.RouteStopSymbols")],H);const Pt=H;let G=class extends _{constructor(r){super(r),this.directionLines=new _e({color:[0,122,194],width:6}),this.directionPoints=new re({color:[255,255,255],size:6,outline:{color:[0,122,194],width:2}}),this.pointBarriers=new re({style:"x",size:10,outline:{color:[255,0,0],width:3}}),this.polygonBarriers=new Lt({color:[255,170,0,.6],outline:{width:7.5,color:[255,0,0,.6]}}),this.polylineBarriers=new _e({width:7.5,color:[255,85,0,.7]}),this.routeInfo=new _e({width:8,color:[20,89,127]}),this.stops=new Pt}};t([o({types:Me})],G.prototype,"directionLines",void 0),t([o({types:te})],G.prototype,"directionPoints",void 0),t([o({types:te})],G.prototype,"pointBarriers",void 0),t([o({types:Rt})],G.prototype,"polygonBarriers",void 0),t([o({types:Me})],G.prototype,"polylineBarriers",void 0),t([o({types:Me})],G.prototype,"routeInfo",void 0),t([o({type:Pt})],G.prototype,"stops",void 0),G=t([B("esri.layers.support.RouteSymbols")],G);const Tt=G;let U=class extends _{constructor(r){super(r),this.dataType=null,this.name=null,this.parameterNames=null,this.restrictionUsageParameterName=null,this.timeNeutralAttributeName=null,this.trafficSupport=null,this.units=null,this.usageType=null}};t([o({type:String})],U.prototype,"dataType",void 0),t([R(ae,{ignoreUnknown:!1})],U.prototype,"name",void 0),t([o({type:[String]})],U.prototype,"parameterNames",void 0),t([o({type:String})],U.prototype,"restrictionUsageParameterName",void 0),t([R(Ve,{ignoreUnknown:!1})],U.prototype,"timeNeutralAttributeName",void 0),t([o({type:String})],U.prototype,"trafficSupport",void 0),t([R(ar)],U.prototype,"units",void 0),t([R(lr)],U.prototype,"usageType",void 0),U=t([B("esri.rest.support.NetworkAttribute")],U);const kr=U;let ee=class extends _{constructor(r){super(r),this.buildTime=null,this.name=null,this.networkAttributes=null,this.networkSources=null,this.state=null}};t([o({type:Number})],ee.prototype,"buildTime",void 0),t([o({type:String})],ee.prototype,"name",void 0),t([o({type:[kr]})],ee.prototype,"networkAttributes",void 0),t([o()],ee.prototype,"networkSources",void 0),t([o({type:String})],ee.prototype,"state",void 0),ee=t([B("esri.rest.support.NetworkDataset")],ee);const Fr=ee;let D=class extends _{constructor(r){super(r),this.accumulateAttributeNames=null,this.attributeParameterValues=null,this.currentVersion=null,this.defaultTravelMode=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsSupportedLanguages=null,this.directionsTimeAttribute=null,this.hasZ=null,this.impedance=null,this.networkDataset=null,this.supportedTravelModes=null}readAccumulateAttributes(r){return r==null?null:r.map(i=>ae.fromJSON(i))}writeAccumulateAttributes(r,i,s){r!=null&&r.length&&(i[s]=r.map(n=>ae.toJSON(n)))}get capabilities(){return{supportsNow:(this.currentVersion??10)>=10.81}}readDefaultTravelMode(r,i){var n,a;const s=((n=i.supportedTravelModes)==null?void 0:n.find(({id:l})=>l===i.defaultTravelMode))??((a=i.supportedTravelModes)==null?void 0:a.find(({itemId:l})=>l===i.defaultTravelMode));return s?qe.fromJSON(s):null}};t([o()],D.prototype,"accumulateAttributeNames",void 0),t([O("accumulateAttributeNames")],D.prototype,"readAccumulateAttributes",null),t([Y("accumulateAttributeNames")],D.prototype,"writeAccumulateAttributes",null),t([o()],D.prototype,"attributeParameterValues",void 0),t([o()],D.prototype,"capabilities",null),t([o()],D.prototype,"currentVersion",void 0),t([o()],D.prototype,"defaultTravelMode",void 0),t([O("defaultTravelMode",["defaultTravelMode","supportedTravelModes"])],D.prototype,"readDefaultTravelMode",null),t([o()],D.prototype,"directionsLanguage",void 0),t([R(Nt)],D.prototype,"directionsLengthUnits",void 0),t([o()],D.prototype,"directionsSupportedLanguages",void 0),t([R(Ve,{ignoreUnknown:!1})],D.prototype,"directionsTimeAttribute",void 0),t([o()],D.prototype,"hasZ",void 0),t([R(ae,{ignoreUnknown:!1})],D.prototype,"impedance",void 0),t([o({type:Fr})],D.prototype,"networkDataset",void 0),t([o({type:[qe]})],D.prototype,"supportedTravelModes",void 0),D=t([B("esri.rest.support.NetworkServiceDescription")],D);const Jr=D,Ur=()=>vt.getLogger("esri.rest.networkService");function Pe(e,r,i,s){s[i]=[r.length,r.length+e.length],e.forEach(n=>{r.push(n.geometry)})}function zr(e,r){for(let i=0;i<r.length;i++){const s=e[r[i]];if(s&&s.length)for(const n of s)n.z=void 0}Ur().warnOnce(`The remote Network Analysis service is powered by a network dataset which is not Z-aware.
Z-coordinates of the input geometry are ignored.`)}function Gr(e,r){for(let i=0;i<r.length;i++){const s=e[r[i]];if(s&&s.length){for(const n of s)if(n!=null&&n.hasZ)return!0}}return!1}async function jt(e,r,i){if(!e)throw new F("network-service:missing-url","Url to Network service is missing");const s=xe({f:"json",token:r},i),{data:n}=await pe(e,s),a=n.currentVersion>=10.4?Kr(e,r,i):Wr(e,i),{defaultTravelMode:l,supportedTravelModes:p}=await a;return n.defaultTravelMode=l,n.supportedTravelModes=p,Jr.fromJSON(n)}async function Wr(e,r){var d,c,u;const i=xe({f:"json"},r),{data:s}=await pe(e.replace(/\/rest\/.*$/i,"/info"),i);if(!(s!=null&&s.owningSystemUrl))return{supportedTravelModes:[],defaultTravelMode:null};const{owningSystemUrl:n}=s,a=ze(n)+"/sharing/rest/portals/self",{data:l}=await pe(a,i),p=xt("helperServices.routingUtilities.url",l);if(!p)return{supportedTravelModes:[],defaultTravelMode:null};const h=St(n),b=/\/solve$/i.test(h.path)?"Route":/\/solveclosestfacility$/i.test(h.path)?"ClosestFacility":"ServiceAreas",y=xe({f:"json",serviceName:b},r),N=ze(p)+"/GetTravelModes/execute",w=await pe(N,y),S=[];let m=null;if((c=(d=w==null?void 0:w.data)==null?void 0:d.results)!=null&&c.length){const P=w.data.results;for(const g of P)if(g.paramName==="supportedTravelModes"){if((u=g.value)!=null&&u.features){for(const{attributes:$}of g.value.features)if($){const L=JSON.parse($.TravelMode);S.push(L)}}}else g.paramName==="defaultTravelMode"&&(m=g.value)}return{supportedTravelModes:S,defaultTravelMode:m}}async function Kr(e,r,i){try{const s=xe({f:"json",token:r},i),n=ze(e)+"/retrieveTravelModes",{data:{supportedTravelModes:a,defaultTravelMode:l}}=await pe(n,s);return{supportedTravelModes:a,defaultTravelMode:l}}catch(s){throw new F("network-service:retrieveTravelModes","Could not get to the NAServer's retrieveTravelModes.",{error:s})}}const pt=new we({esriJobMessageTypeInformative:"informative",esriJobMessageTypeProcessDefinition:"process-definition",esriJobMessageTypeProcessStart:"process-start",esriJobMessageTypeProcessStop:"process-stop",esriJobMessageTypeWarning:"warning",esriJobMessageTypeError:"error",esriJobMessageTypeEmpty:"empty",esriJobMessageTypeAbort:"abort"});let ye=class extends _{constructor(r){super(r),this.description=null,this.type=null}};t([o({type:String,json:{write:!0}})],ye.prototype,"description",void 0),t([o({type:String,json:{read:pt.read,write:pt.write}})],ye.prototype,"type",void 0),ye=t([B("esri.rest.support.GPMessage")],ye);const Vr=ye,ut=new we({0:"informative",1:"process-definition",2:"process-start",3:"process-stop",50:"warning",100:"error",101:"empty",200:"abort"});let De=class extends Vr{constructor(r){super(r),this.type=null}};t([o({type:String,json:{read:ut.read,write:ut.write}})],De.prototype,"type",void 0),De=t([B("esri.rest.support.NAMessage")],De);const qr=De;let de=class extends _{constructor(r){super(r)}};t([o({json:{read:{source:"string"}}})],de.prototype,"text",void 0),t([R(pr,{name:"stringType"})],de.prototype,"type",void 0),de=t([B("esri.rest.support.DirectionsString")],de);const $t=de;let Z=class extends _{constructor(r){super(r),this.arriveTime=null,this.arriveTimeOffset=null,this.geometry=null,this.strings=null}readArriveTimeOffset(r,i){return ur(i.ETA,i.arriveTimeUTC)}readGeometry(r,i){return gt.fromJSON(i.point)}};t([o({type:Date,json:{read:{source:"arriveTimeUTC"}}})],Z.prototype,"arriveTime",void 0),t([o()],Z.prototype,"arriveTimeOffset",void 0),t([O("arriveTimeOffset",["arriveTimeUTC","ETA"])],Z.prototype,"readArriveTimeOffset",null),t([o({type:gt})],Z.prototype,"geometry",void 0),t([O("geometry",["point"])],Z.prototype,"readGeometry",null),t([o({type:[$t]})],Z.prototype,"strings",void 0),Z=t([B("esri.rest.support.DirectionsEvent")],Z);const Hr=Z;function Zr(e){if(e==null||e==="")return null;let r=0,i=0,s=0,n=0;const a=[];let l,p,h,b,y,N,w,S,m=0,d=0,c=0;if(y=e.match(/((\+|-)[^+\-|]+|\|)/g),y||(y=[]),parseInt(y[m],32)===0){m=2;const u=parseInt(y[m],32);m++,N=parseInt(y[m],32),m++,1&u&&(d=y.indexOf("|")+1,w=parseInt(y[d],32),d++),2&u&&(c=y.indexOf("|",d)+1,S=parseInt(y[c],32),c++)}else N=parseInt(y[m],32),m++;for(;m<y.length&&y[m]!=="|";){l=parseInt(y[m],32)+r,m++,r=l,p=parseInt(y[m],32)+i,m++,i=p;const u=[l/N,p/N];d&&(b=parseInt(y[d],32)+s,d++,s=b,u.push(b/w)),c&&(h=parseInt(y[c],32)+n,c++,n=h,u.push(h/S)),a.push(u)}return{paths:[a],hasZ:d>0,hasM:c>0}}let se=class extends ne{constructor(r){super(r),this.events=null,this.geometry=null,this.strings=null}readGeometry(r,i){const s=Zr(i.compressedGeometry);return s!=null?Le.fromJSON(s):null}};t([o({type:[Hr]})],se.prototype,"events",void 0),t([o({type:Le})],se.prototype,"geometry",void 0),t([O("geometry",["compressedGeometry"])],se.prototype,"readGeometry",null),t([o({type:[$t]})],se.prototype,"strings",void 0),se=t([B("esri.rest.support.DirectionsFeature")],se);const Yr=se;function Qr(e,r){if(e.length===0)return new Le({spatialReference:r});const i=[];for(const l of e)for(const p of l.paths)i.push(...p);const s=[];i.forEach((l,p)=>{p!==0&&l[0]===i[p-1][0]&&l[1]===i[p-1][1]||s.push(l)});const{hasM:n,hasZ:a}=e[0];return new Le({hasM:n,hasZ:a,paths:[s],spatialReference:r})}let k=class extends K{constructor(r){super(r),this.extent=null,this.features=[],this.geometryType="polyline",this.routeId=null,this.routeName=null,this.totalDriveTime=null,this.totalLength=null,this.totalTime=null}readFeatures(r,i){if(!r)return[];const s=i.summary.envelope.spatialReference??i.spatialReference,n=s&&Q.fromJSON(s);return r.map(a=>{const l=Yr.fromJSON(a);if(l.geometry!=null&&(l.geometry.spatialReference=n),l.events!=null)for(const p of l.events)p.geometry!=null&&(p.geometry.spatialReference=n);return l})}get mergedGeometry(){return this.features?Qr(this.features.map(({geometry:r})=>r),this.extent.spatialReference):null}get strings(){return this.features.flatMap(({strings:r})=>r).filter(bt)}};t([o({type:wt,json:{read:{source:"summary.envelope"}}})],k.prototype,"extent",void 0),t([o({nonNullable:!0})],k.prototype,"features",void 0),t([O("features")],k.prototype,"readFeatures",null),t([o()],k.prototype,"geometryType",void 0),t([o({readOnly:!0})],k.prototype,"mergedGeometry",null),t([o()],k.prototype,"routeId",void 0),t([o()],k.prototype,"routeName",void 0),t([o({value:null,readOnly:!0})],k.prototype,"strings",null),t([o({json:{read:{source:"summary.totalDriveTime"}}})],k.prototype,"totalDriveTime",void 0),t([o({json:{read:{source:"summary.totalLength"}}})],k.prototype,"totalLength",void 0),t([o({json:{read:{source:"summary.totalTime"}}})],k.prototype,"totalTime",void 0),k=t([B("esri.rest.support.DirectionsFeatureSet")],k);const Xr=k;let J=class extends _{constructor(e){super(e),this.directionLines=null,this.directionPoints=null,this.directions=null,this.route=null,this.routeName=null,this.stops=null,this.traversedEdges=null,this.traversedJunctions=null,this.traversedTurns=null}};t([o({type:K,json:{write:!0}})],J.prototype,"directionLines",void 0),t([o({type:K,json:{write:!0}})],J.prototype,"directionPoints",void 0),t([o({type:Xr,json:{write:!0}})],J.prototype,"directions",void 0),t([o({type:ne,json:{write:!0}})],J.prototype,"route",void 0),t([o({type:String,json:{write:!0}})],J.prototype,"routeName",void 0),t([o({type:[ne],json:{write:!0}})],J.prototype,"stops",void 0),t([o({type:K,json:{write:!0}})],J.prototype,"traversedEdges",void 0),t([o({type:K,json:{write:!0}})],J.prototype,"traversedJunctions",void 0),t([o({type:K,json:{write:!0}})],J.prototype,"traversedTurns",void 0),J=t([B("esri.rest.support.RouteResult")],J);const eo=J;function Fe(e){return e?K.fromJSON(e).features.filter(bt):[]}let z=class extends _{constructor(r){super(r),this.messages=null,this.pointBarriers=null,this.polylineBarriers=null,this.polygonBarriers=null,this.routeResults=null}readPointBarriers(r,i){return Fe(i.barriers)}readPolylineBarriers(r){return Fe(r)}readPolygonBarriers(r){return Fe(r)}};t([o({type:[qr]})],z.prototype,"messages",void 0),t([o({type:[ne]})],z.prototype,"pointBarriers",void 0),t([O("pointBarriers",["barriers"])],z.prototype,"readPointBarriers",null),t([o({type:[ne]})],z.prototype,"polylineBarriers",void 0),t([O("polylineBarriers")],z.prototype,"readPolylineBarriers",null),t([o({type:[ne]})],z.prototype,"polygonBarriers",void 0),t([O("polygonBarriers")],z.prototype,"readPolygonBarriers",null),t([o({type:[eo]})],z.prototype,"routeResults",void 0),z=t([B("esri.rest.support.RouteSolveResult")],z);const to=z;function Te(e){return e instanceof K}async function ro(e,r,i){const s=[],n=[],a={},l={},p=St(e),{path:h}=p;Te(r.stops)&&Pe(r.stops.features,n,"stops.features",a),Te(r.pointBarriers)&&Pe(r.pointBarriers.features,n,"pointBarriers.features",a),Te(r.polylineBarriers)&&Pe(r.polylineBarriers.features,n,"polylineBarriers.features",a),Te(r.polygonBarriers)&&Pe(r.polygonBarriers.features,n,"polygonBarriers.features",a);const b=await br(n);for(const S in a){const m=a[S];s.push(S),l[S]=b.slice(m[0],m[1])}if(Gr(l,s)){let S=null;try{S=await jt(h,r.apiKey,i)}catch{}S&&!S.hasZ&&zr(l,s)}for(const S in l)l[S].forEach((m,d)=>{At(r,S)[d].geometry=m});const y={...i,query:{...p.query,...cr(r),f:"json"}},N=h.endsWith("/solve")?h:`${h}/solve`,{data:w}=await pe(N,y);return oo(w)}function oo(e){const{barriers:r,directionLines:i,directionPoints:s,directions:n,messages:a,polygonBarriers:l,polylineBarriers:p,routes:h,stops:b,traversedEdges:y,traversedJunctions:N,traversedTurns:w}=e,S=u=>{const P=d.find($=>$.routeName===u);if(P!=null)return P;const g={routeId:d.length+1,routeName:u};return d.push(g),g},m=u=>{const P=d.find($=>$.routeId===u);if(P!=null)return P;const g={routeId:u,routeName:null};return d.push(g),g},d=[];h==null||h.features.forEach((u,P)=>{u.geometry.spatialReference=h.spatialReference??void 0;const g=u.attributes.Name,$=P+1;d.push({routeId:$,routeName:g,route:u})}),n==null||n.forEach(u=>{const{routeName:P}=u;S(P).directions=u});const c=((b==null?void 0:b.features.every(u=>u.attributes.RouteName==null))??!1)&&d.length>0?d[0].routeName:null;return b==null||b.features.forEach(u=>{var $;u.geometry&&(($=u.geometry).spatialReference??($.spatialReference=b.spatialReference??void 0));const P=c??u.attributes.RouteName,g=S(P);g.stops??(g.stops=[]),g.stops.push(u)}),i==null||i.features.forEach(u=>{const P=u.attributes.RouteID,g=m(P),{geometryType:$,spatialReference:L}=i;g.directionLines??(g.directionLines={features:[],geometryType:$,spatialReference:L}),g.directionLines.features.push(u)}),s==null||s.features.forEach(u=>{const P=u.attributes.RouteID,g=m(P),{geometryType:$,spatialReference:L}=s;g.directionPoints??(g.directionPoints={features:[],geometryType:$,spatialReference:L}),g.directionPoints.features.push(u)}),y==null||y.features.forEach(u=>{const P=u.attributes.RouteID,g=m(P),{geometryType:$,spatialReference:L}=y;g.traversedEdges??(g.traversedEdges={features:[],geometryType:$,spatialReference:L}),g.traversedEdges.features.push(u)}),N==null||N.features.forEach(u=>{const P=u.attributes.RouteID,g=m(P),{geometryType:$,spatialReference:L}=N;g.traversedJunctions??(g.traversedJunctions={features:[],geometryType:$,spatialReference:L}),g.traversedJunctions.features.push(u)}),w==null||w.features.forEach(u=>{const P=u.attributes.RouteID,g=m(P);g.traversedTurns??(g.traversedTurns={features:[]}),g.traversedTurns.features.push(u)}),to.fromJSON({routeResults:d,barriers:r,polygonBarriers:l,polylineBarriers:p,messages:a})}let W=class extends X(_){constructor(e){super(e),this.doNotLocateOnRestrictedElements=null,this.geometry=null,this.geometryType=null,this.name=null,this.spatialRelationship=null,this.type="layer",this.where=null}};t([o({type:Boolean,json:{write:!0}})],W.prototype,"doNotLocateOnRestrictedElements",void 0),t([o({types:Ct,json:{read:Mt,write:!0}})],W.prototype,"geometry",void 0),t([R(yr)],W.prototype,"geometryType",void 0),t([o({type:String,json:{name:"layerName",write:!0}})],W.prototype,"name",void 0),t([R(dr,{name:"spatialRel"})],W.prototype,"spatialRelationship",void 0),t([o({type:String,json:{write:!0}})],W.prototype,"type",void 0),t([o({type:String,json:{write:!0}})],W.prototype,"where",void 0),W=t([B("esri.rest.support.DataLayer")],W);const io=W;var Ge;let Re=Ge=class extends K{constructor(e){super(e),this.doNotLocateOnRestrictedElements=null}clone(){return new Ge({doNotLocateOnRestrictedElements:this.doNotLocateOnRestrictedElements,...this.cloneProperties()})}};t([o({type:Boolean,json:{write:!0}})],Re.prototype,"doNotLocateOnRestrictedElements",void 0),Re=Ge=t([B("esri.rest.support.NetworkFeatureSet")],Re);const so=Re;let me=class extends X(_){constructor(e){super(e),this.doNotLocateOnRestrictedElements=null,this.url=null}};t([o({type:Boolean,json:{write:!0}})],me.prototype,"doNotLocateOnRestrictedElements",void 0),t([o({type:String,json:{write:!0}})],me.prototype,"url",void 0),me=t([B("esri.rest.support.NetworkUrl")],me);const no=me;var We;let f=We=class extends X(_){constructor(e){super(e),this.accumulateAttributes=null,this.apiKey=null,this.attributeParameterValues=null,this.directionsLanguage=null,this.directionsLengthUnits=null,this.directionsOutputType=null,this.directionsStyleName=null,this.directionsTimeAttribute=null,this.findBestSequence=null,this.geometryPrecision=null,this.geometryPrecisionM=null,this.geometryPrecisionZ=null,this.ignoreInvalidLocations=null,this.impedanceAttribute=null,this.outputGeometryPrecision=null,this.outputGeometryPrecisionUnits=null,this.outputLines="true-shape",this.outSpatialReference=null,this.overrides=null,this.pointBarriers=null,this.polygonBarriers=null,this.polylineBarriers=null,this.preserveFirstStop=null,this.preserveLastStop=null,this.preserveObjectID=null,this.restrictionAttributes=null,this.restrictUTurns=null,this.returnBarriers=!1,this.returnDirections=!1,this.returnPolygonBarriers=!1,this.returnPolylineBarriers=!1,this.returnRoutes=!0,this.returnStops=!1,this.returnTraversedEdges=null,this.returnTraversedJunctions=null,this.returnTraversedTurns=null,this.returnZ=!0,this.startTime=null,this.startTimeIsUTC=!0,this.stops=null,this.timeWindowsAreUTC=null,this.travelMode=null,this.useHierarchy=null,this.useTimeWindows=null}static from(e){return _t(We,e)}readAccumulateAttributes(e){return e==null?null:e.map(r=>ae.fromJSON(r))}writeAccumulateAttributes(e,r,i){e!=null&&e.length&&(r[i]=e.map(s=>ae.toJSON(s)))}writePointBarriers(e,r,i){je(e,r,i)}writePolygonBarrier(e,r,i){je(e,r,i)}writePolylineBarrier(e,r,i){je(e,r,i)}readRestrictionAttributes(e){return e==null?null:e.map(r=>at.fromJSON(r))}writeRestrictionAttributes(e,r,i){e!=null&&e.length&&(r[i]=e.map(s=>at.toJSON(s)))}readStartTime(e,r){const{startTime:i}=r;return i==null?null:i==="now"?"now":new Date(i)}writeStartTime(e,r){e!=null&&(r.startTime=e==="now"?"now":e.getTime())}readStops(e,r){return yo(r.stops)}writeStops(e,r,i){je(e,r,i)}};t([o({type:[String],json:{name:"accumulateAttributeNames",write:!0}})],f.prototype,"accumulateAttributes",void 0),t([O("accumulateAttributes")],f.prototype,"readAccumulateAttributes",null),t([Y("accumulateAttributes")],f.prototype,"writeAccumulateAttributes",null),t([o(Sr)],f.prototype,"apiKey",void 0),t([o({json:{write:!0}})],f.prototype,"attributeParameterValues",void 0),t([o({type:String,json:{write:!0}})],f.prototype,"directionsLanguage",void 0),t([R(Nt)],f.prototype,"directionsLengthUnits",void 0),t([R(mr)],f.prototype,"directionsOutputType",void 0),t([R(fr)],f.prototype,"directionsStyleName",void 0),t([R(Ve,{name:"directionsTimeAttributeName",ignoreUnknown:!1})],f.prototype,"directionsTimeAttribute",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"findBestSequence",void 0),t([o({type:Number,json:{write:!0}})],f.prototype,"geometryPrecision",void 0),t([o({type:Number,json:{write:!0}})],f.prototype,"geometryPrecisionM",void 0),t([o({type:Number,json:{write:!0}})],f.prototype,"geometryPrecisionZ",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"ignoreInvalidLocations",void 0),t([R(ae,{name:"impedanceAttributeName",ignoreUnknown:!1})],f.prototype,"impedanceAttribute",void 0),t([o({type:Number,json:{write:!0}})],f.prototype,"outputGeometryPrecision",void 0),t([R(hr)],f.prototype,"outputGeometryPrecisionUnits",void 0),t([R(vr)],f.prototype,"outputLines",void 0),t([o({type:Q,json:{name:"outSR",write:!0}})],f.prototype,"outSpatialReference",void 0),t([o({json:{write:!0}})],f.prototype,"overrides",void 0),t([o({json:{name:"barriers",write:!0}})],f.prototype,"pointBarriers",void 0),t([Y("pointBarriers")],f.prototype,"writePointBarriers",null),t([o({json:{write:!0}})],f.prototype,"polygonBarriers",void 0),t([Y("polygonBarriers")],f.prototype,"writePolygonBarrier",null),t([o({json:{write:!0}})],f.prototype,"polylineBarriers",void 0),t([Y("polylineBarriers")],f.prototype,"writePolylineBarrier",null),t([o({type:Boolean,json:{write:!0}})],f.prototype,"preserveFirstStop",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"preserveLastStop",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"preserveObjectID",void 0),t([o({type:[String],json:{name:"restrictionAttributeNames",write:!0}})],f.prototype,"restrictionAttributes",void 0),t([O("restrictionAttributes")],f.prototype,"readRestrictionAttributes",null),t([Y("restrictionAttributes")],f.prototype,"writeRestrictionAttributes",null),t([R(gr)],f.prototype,"restrictUTurns",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnBarriers",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnDirections",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnPolygonBarriers",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnPolylineBarriers",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnRoutes",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnStops",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnTraversedEdges",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnTraversedJunctions",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnTraversedTurns",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"returnZ",void 0),t([o({json:{write:!0}})],f.prototype,"startTime",void 0),t([O("startTime")],f.prototype,"readStartTime",null),t([Y("startTime")],f.prototype,"writeStartTime",null),t([o({type:Boolean,json:{write:!0}})],f.prototype,"startTimeIsUTC",void 0),t([o({json:{write:!0}})],f.prototype,"stops",void 0),t([O("stops")],f.prototype,"readStops",null),t([Y("stops")],f.prototype,"writeStops",null),t([o({type:Boolean,json:{write:!0}})],f.prototype,"timeWindowsAreUTC",void 0),t([o({type:qe,json:{write:!0}})],f.prototype,"travelMode",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"useHierarchy",void 0),t([o({type:Boolean,json:{write:!0}})],f.prototype,"useTimeWindows",void 0),f=We=t([B("esri.rest.support.RouteParameters")],f);const ao=f;function lo(e){return e&&"type"in e}function po(e){return e&&"features"in e&&"doNotLocateOnRestrictedElements"in e}function uo(e){return e&&"url"in e}function co(e){return e&&"features"in e}function yo(e){return lo(e)?io.fromJSON(e):uo(e)?no.fromJSON(e):po(e)?so.fromJSON(e):co(e)?K.fromJSON(e):null}function je(e,r,i){e!=null&&(r[i]=x.isCollection(e)?{features:e.toArray().map(s=>s.toJSON())}:e.toJSON())}function Je(e){return e.length?e:null}function Ke(e){switch(e){case"esriGeometryPoint":return{type:"esriSMS",style:"esriSMSCircle",size:12,color:[0,0,0,0],outline:Ke("esriGeometryPolyline")};case"esriGeometryPolyline":return{type:"esriSLS",style:"esriSLSSolid",width:1,color:[0,0,0,0]};case"esriGeometryPolygon":return{type:"esriSFS",style:"esriSFSNull",outline:Ke("esriGeometryPolyline")}}}function $e(e){return"layers"in e}function mo(e){return e.declaredClass==="esri.rest.support.FeatureSet"}function fo(e){return e.declaredClass==="esri.rest.support.NetworkFeatureSet"}function ho(e,r,i){var Ze,Ye,Qe,Xe,et,tt;const s=(Ze=r.networkDataset)==null?void 0:Ze.networkAttributes,n=(s==null?void 0:s.filter(({usageType:v})=>v==="cost"))??[],a=i.travelMode??r.defaultTravelMode;if(a==null)return void It().warn("route-layer:missing-travel-mode","The routing service must have a default travel mode or one must be specified in the route parameter.");const{timeAttributeName:l,distanceAttributeName:p}=a,h=n.find(({name:v})=>v===l),b=n.find(({name:v})=>v===p),y=((Ye=i.travelMode)==null?void 0:Ye.impedanceAttributeName)??i.impedanceAttribute??r.impedance,N=h==null?void 0:h.units,w=b==null?void 0:b.units;if(!N||!w)throw new F("routelayer:unknown-impedance-units","the units of either the distance or time impedance are unknown");const S=i.directionsLanguage??r.directionsLanguage,m=i.accumulateAttributes??r.accumulateAttributeNames??[],d=new Set(n.filter(({name:v})=>v===l||v===p||v===y||v!=null&&m.includes(v)).map(({name:v})=>v)),c=v=>{for(const rt in v)d.has(rt)||delete v[rt]};for(const v of e.pointBarriers)v.costs!=null&&(v.addedCost=v.costs[y]??0,c(v.costs));for(const v of e.polygonBarriers)v.costs!=null&&(v.scaleFactor=v.costs[y]??1,c(v.costs));for(const v of e.polylineBarriers)v.costs!=null&&(v.scaleFactor=v.costs[y]??1,c(v.costs));const{routeInfo:u}=e,{findBestSequence:P,preserveFirstStop:g,preserveLastStop:$,startTimeIsUTC:L,timeWindowsAreUTC:oe}=i;u.analysisSettings=new wr({accumulateAttributes:m,directionsLanguage:S,findBestSequence:P,preserveFirstStop:g,preserveLastStop:$,startTimeIsUTC:L,timeWindowsAreUTC:oe,travelMode:a}),u.totalDuration=ie(((Qe=u.totalCosts)==null?void 0:Qe[l])??0,N),u.totalDistance=Ue(((Xe=u.totalCosts)==null?void 0:Xe[p])??0,w),u.totalLateDuration=ie(((et=u.totalViolations)==null?void 0:et[l])??0,N),u.totalWaitDuration=ie(((tt=u.totalWait)==null?void 0:tt[l])??0,N),u.totalCosts!=null&&c(u.totalCosts),u.totalViolations!=null&&c(u.totalViolations),u.totalWait!=null&&c(u.totalWait);for(const v of e.stops)v.serviceCosts!=null&&(v.serviceDuration=ie(v.serviceCosts[l]??0,N),v.serviceDistance=Ue(v.serviceCosts[p]??0,w),c(v.serviceCosts)),v.cumulativeCosts!=null&&(v.cumulativeDuration=ie(v.cumulativeCosts[l]??0,N),v.cumulativeDistance=Ue(v.cumulativeCosts[p]??0,w),c(v.cumulativeCosts)),v.violations!=null&&(v.lateDuration=ie(v.violations[l]??0,N),c(v.violations)),v.wait!=null&&(v.waitDuration=ie(v.wait[l]??0,N),c(v.wait))}async function ct(e){const r=Q.WGS84;return await Qt(e.spatialReference,r),Xt(e,r)}function ie(e,r){switch(r){case"seconds":return e/60;case"hours":return 60*e;case"days":return 60*e*24;default:return e}}function Ue(e,r){return r==="decimal-degrees"||r==="points"||r==="unknown"?e:Wt(e,r,"meters")}function vo(e){const{attributes:r,geometry:i,popupTemplate:s,symbol:n}=e.toGraphic().toJSON();return{attributes:r,geometry:i,popupInfo:s,symbol:n}}const go=x.ofType(Be),wo=x.ofType(Ie),yt=x.ofType(fe),dt=x.ofType(he),mt=x.ofType(ve),ft=x.ofType(ge),Bt="esri.layers.RouteLayer",It=()=>vt.getLogger(Bt);let T=class extends tr(ir(rr(or(Zt(er))))){constructor(e){super(e),this._cachedServiceDescription=null,this._featureCollection=null,this._type="Feature Collection",this.defaultSymbols=new Tt,this.directionLines=null,this.directionPoints=null,this.featureCollectionType="route",this.legendEnabled=!1,this.maxScale=0,this.minScale=0,this.pointBarriers=new yt,this.polygonBarriers=new dt,this.polylineBarriers=new mt,this.routeInfo=null,this.spatialReference=Q.WGS84,this.stops=new ft,this.type="route";const r=()=>{this._setStopSymbol(this.stops)};this.addHandles(Et(()=>this.stops,"change",r,{sync:!0,onListenerAdd:r}))}writeFeatureCollectionWebmap(e,r,i,s){const n=[this._writePolygonBarriers(),this._writePolylineBarriers(),this._writePointBarriers(),this._writeRouteInfo(),this._writeDirectionLines(),this._writeDirectionPoints(),this._writeStops()].filter(p=>!!p),a=n.map((p,h)=>h),l=s.origin==="web-map"?"featureCollection.layers":"layers";ht(l,n,r),r.opacity=this.opacity,r.visibility=this.visible,r.visibleLayers=a}readDirectionLines(e,r){return this._getNetworkFeatures(r,"DirectionLines",i=>Be.fromGraphic(i))}readDirectionPoints(e,r){return this._getNetworkFeatures(r,"DirectionPoints",i=>Ie.fromGraphic(i))}get fullExtent(){var n;const e=new wt({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:Q.WGS84});if(((n=this.routeInfo)==null?void 0:n.geometry)!=null)return this.routeInfo.geometry.extent??e;if(this.stops==null)return e;const r=this.stops.filter(a=>a.geometry!=null);if(r.length<2)return e;const{spatialReference:i}=r.at(0).geometry;if(i==null)return e;const s=r.toArray().map(a=>{const l=a.geometry;return[l.x,l.y]});return new kt({points:s,spatialReference:i}).extent}readMaxScale(e,r){var n;const i=$e(r)?r.layers:(n=r.featureCollection)==null?void 0:n.layers,s=i==null?void 0:i.find(a=>a.layerDefinition.maxScale!=null);return(s==null?void 0:s.layerDefinition.maxScale)??0}readMinScale(e,r){var n;const i=$e(r)?r.layers:(n=r.featureCollection)==null?void 0:n.layers,s=i==null?void 0:i.find(a=>a.layerDefinition.minScale!=null);return(s==null?void 0:s.layerDefinition.minScale)??0}readPointBarriers(e,r){return this._getNetworkFeatures(r,"Barriers",i=>fe.fromGraphic(i))}readPolygonBarriers(e,r){return this._getNetworkFeatures(r,"PolygonBarriers",i=>he.fromGraphic(i))}readPolylineBarriers(e,r){return this._getNetworkFeatures(r,"PolylineBarriers",i=>ve.fromGraphic(i))}readRouteInfo(e,r){return this._getNetworkFeatures(r,"RouteInfo",i=>Ee.fromGraphic(i)).at(0)??null}readSpatialReference(e,r){var p,h;const i=$e(r)?r.layers:(p=r.featureCollection)==null?void 0:p.layers;if(!(i!=null&&i.length))return Q.WGS84;const{layerDefinition:s,featureSet:n}=i[0],a=n.features[0],l=((h=a==null?void 0:a.geometry)==null?void 0:h.spatialReference)??n.spatialReference??s.spatialReference??s.extent.spatialReference??it;return Q.fromJSON(l)}readStops(e,r){return this._getNetworkFeatures(r,"Stops",i=>ge.fromGraphic(i),i=>this._setStopSymbol(i))}get title(){var e;return((e=this.routeInfo)==null?void 0:e.name)??"Route"}set title(e){this._overrideIfSome("title",e)}get url(){return st.routeServiceUrl}set url(e){e!=null?this._set("url",sr(e,It())):this._set("url",st.routeServiceUrl)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}removeAll(){this.removeResult(),this.pointBarriers.removeAll(),this.polygonBarriers.removeAll(),this.polylineBarriers.removeAll(),this.stops.removeAll()}removeResult(){this.directionLines!=null&&(this.directionLines.removeAll(),this._set("directionLines",null)),this.directionPoints!=null&&(this.directionPoints.removeAll(),this._set("directionPoints",null)),this.routeInfo!=null&&this._set("routeInfo",null)}async save(){await this.load();const{fullExtent:e,portalItem:r}=this;if(!r)throw new F("routelayer:portal-item-not-set","save() requires to the layer to have a portal item");if(!r.id)throw new F("routelayer:portal-item-not-saved","Please use saveAs() first to save the routelayer");if(r.type!=="Feature Collection")throw new F("routelayer:portal-item-wrong-type",'Portal item needs to have type "Feature Collection"');if(this.routeInfo==null)throw new F("routelayer:route-unsolved","save() requires a solved route");const{portal:i}=r;await i.signIn(),i.user||await r.reload();const{itemUrl:s,itemControl:n}=r;if(n!=="admin"&&n!=="update")throw new F("routelayer:insufficient-permissions","To save this layer, you need to be the owner or an administrator of your organization");const a={messages:[],origin:"portal-item",portal:i,url:s?Ft(s):void 0,writtenProperties:[]},l=this.write(void 0,a);return r.extent=await ct(e),r.title=this.title,await r.update({data:l}),r}async saveAs(e,r={}){var p;if(await this.load(),this.routeInfo==null)throw new F("routelayer:route-unsolved","saveAs() requires a solved route");const i=Jt.from(e).clone();i.extent??(i.extent=await ct(this.fullExtent)),i.id=null,i.portal??(i.portal=Ut.getDefault()),i.title??(i.title=this.title),i.type="Feature Collection",i.typeKeywords=["Data","Feature Collection",nr.MULTI_LAYER,"Route Layer"];const{portal:s}=i,n={messages:[],origin:"portal-item",portal:s,url:null,writtenProperties:[]};await s.signIn();const a=r==null?void 0:r.folder,l=this.write(void 0,n);return await((p=s.user)==null?void 0:p.addItem({item:i,folder:a,data:l})),this.portalItem=i,Yt(n),n.portalItem=i,i}async solve(e,r){const i=(e==null?void 0:e.stops)??this.stops,s=(e==null?void 0:e.pointBarriers)??Je(this.pointBarriers),n=(e==null?void 0:e.polylineBarriers)??Je(this.polylineBarriers),a=(e==null?void 0:e.polygonBarriers)??Je(this.polygonBarriers);if(i==null)throw new F("routelayer:undefined-stops","the route layer must have stops defined in the route parameters.");if((mo(i)||fo(i))&&i.features.length<2||x.isCollection(i)&&i.length<2)throw new F("routelayer:insufficent-stops","the route layer must have two or more stops to solve a route.");if(x.isCollection(i))for(const d of i)d.routeName=null;const l=e==null?void 0:e.apiKey,p=this.url,h=await this._getServiceDescription(p,l,r),b=(e==null?void 0:e.travelMode)??h.defaultTravelMode,y=(e==null?void 0:e.accumulateAttributes)??[];b!=null&&(y.push(b.distanceAttributeName),b.timeAttributeName&&y.push(b.timeAttributeName));const N={accumulateAttributes:y,directionsOutputType:"featuresets",ignoreInvalidLocations:!0,pointBarriers:s,polylineBarriers:n,polygonBarriers:a,preserveFirstStop:!0,preserveLastStop:!0,returnBarriers:!!s,returnDirections:!0,returnPolygonBarriers:!!a,returnPolylineBarriers:!!n,returnRoutes:!0,returnStops:!0,stops:i},w=ao.from(e??{});let S;w.set(N);try{S=await ro(p,w,r)}catch(d){throw zt(d)?d:new F("routelayer:failed-route-request","the routing request failed",{error:d})}const m=this._toRouteLayerSolution(S);return this._isOverridden("title")||(this.title=m.routeInfo.name??"Route"),ho(m,h,w),m}update(e){const{stops:r,directionLines:i,directionPoints:s,pointBarriers:n,polylineBarriers:a,polygonBarriers:l,routeInfo:p}=e;this.set({stops:r,pointBarriers:n,polylineBarriers:a,polygonBarriers:l}),this._set("directionLines",i),this._set("directionPoints",s),this._set("routeInfo",p),p.geometry!=null&&(this.spatialReference=p.geometry.spatialReference)}_getNetworkFeatures(e,r,i,s){var d;const n=$e(e)?e.layers:(d=e.featureCollection)==null?void 0:d.layers,a=n==null?void 0:n.find(c=>c.layerDefinition.name===r);if(a==null)return new x;const{layerDefinition:l,popupInfo:p,featureSet:h}=a,b=l.drawingInfo.renderer,{features:y}=h,N=h.spatialReference??l.spatialReference??l.extent.spatialReference??it,w=b&&Ht(b),S=Q.fromJSON(N),m=y.map(c=>{const u=ne.fromJSON(c);u.geometry!=null&&c.geometry!=null&&c.geometry.spatialReference==null&&(u.geometry.spatialReference=S);const P=i(u);return P.symbol??(P.symbol=(w==null?void 0:w.getSymbol(u))??this._getNetworkSymbol(r)),P.popupTemplate??(P.popupTemplate=p&&Gt.fromJSON(p)),P});return s&&m.some(({symbol:c})=>!c)&&s(m),new x(m)}_getNetworkSymbol(e){switch(e){case"Barriers":return this.defaultSymbols.pointBarriers;case"DirectionPoints":return this.defaultSymbols.directionPoints;case"DirectionLines":return this.defaultSymbols.directionLines;case"PolylineBarriers":return this.defaultSymbols.polylineBarriers;case"PolygonBarriers":return this.defaultSymbols.polygonBarriers;case"RouteInfo":return this.defaultSymbols.routeInfo;case"Stops":return null}}async _getServiceDescription(e,r,i){if(this._cachedServiceDescription!=null&&this._cachedServiceDescription.url===e)return this._cachedServiceDescription.serviceDescription;const s=await jt(e,r,i);return this._cachedServiceDescription={serviceDescription:s,url:e},s}_setStopSymbol(e){if(!e||e.length===0||this.defaultSymbols.stops==null||e.every(({symbol:y})=>y!=null))return;const{first:r,last:i,middle:s,unlocated:n,waypoint:a,break:l}=this.defaultSymbols.stops;if(this.routeInfo==null||e.length===1)return void e.forEach((y,N)=>{switch(N){case 0:y.symbol=r;break;case e.length-1:y.symbol=i;break;default:y.symbol=s}});const p=e.map(({sequence:y})=>y).filter(y=>y!=null),h=Math.min(...p),b=Math.max(...p);for(const y of e)y.sequence!==h?y.sequence!==b?y.status==="ok"||y.status==="not-located-on-closest"?y.locationType!=="waypoint"?y.locationType!=="break"?y.symbol=s:y.symbol=l:y.symbol=a:y.symbol=n:y.symbol=i:y.symbol=r}_toRouteLayerSolution(e){var b,y,N,w,S,m,d;const r=(b=e.routeResults[0].stops)==null?void 0:b.map(c=>ge.fromJSON(c.toJSON()));this._setStopSymbol(r);const i=new ft(r),s=new dt((y=e.polygonBarriers)==null?void 0:y.map(c=>{const u=he.fromJSON(c.toJSON());return u.symbol=this.defaultSymbols.polygonBarriers,u})),n=new mt((N=e.polylineBarriers)==null?void 0:N.map(c=>{const u=ve.fromJSON(c.toJSON());return u.symbol=this.defaultSymbols.polylineBarriers,u})),a=new yt((w=e.pointBarriers)==null?void 0:w.map(c=>{const u=fe.fromJSON(c.toJSON());return u.symbol=this.defaultSymbols.pointBarriers,u})),l=(S=e.routeResults[0].route)==null?void 0:S.toJSON(),p=Ee.fromJSON(l);p.symbol=this.defaultSymbols.routeInfo;const h=new wo((m=e.routeResults[0].directionPoints)==null?void 0:m.features.map(c=>{const u=Ie.fromJSON(c.toJSON());return u.symbol=this.defaultSymbols.directionPoints,u}));return{directionLines:new go((d=e.routeResults[0].directionLines)==null?void 0:d.features.map(c=>{const u=Be.fromJSON(c.toJSON());return u.symbol=this.defaultSymbols.directionLines,u})),directionPoints:h,pointBarriers:a,polygonBarriers:s,polylineBarriers:n,routeInfo:p,stops:i}}_writeDirectionLines(){return this._writeNetworkFeatures(this.directionLines,this.defaultSymbols.directionLines,"esriGeometryPolyline",Be.fields,"DirectionLines","Direction Lines")}_writeDirectionPoints(){return this._writeNetworkFeatures(this.directionPoints,this.defaultSymbols.directionPoints,"esriGeometryPoint",Ie.fields,"DirectionPoints","Direction Points")}_writeNetworkFeatures(e,r,i,s,n,a){if(!(e!=null&&e.length))return null;const l=this.spatialReference.toJSON(),{fullExtent:p,maxScale:h,minScale:b}=this;return{featureSet:{features:e.toArray().map(y=>vo(y)),geometryType:i,spatialReference:l},layerDefinition:{capabilities:"Query,Update,Editing",drawingInfo:{renderer:{type:"simple",symbol:r!=null?r.toJSON():Ke(i)}},extent:p.toJSON(),fields:s,geometryType:i,hasM:!1,hasZ:!1,maxScale:h,minScale:b,name:n,objectIdField:"ObjectID",spatialReference:l,title:a,type:"Feature Layer",typeIdField:""}}}_writePointBarriers(){return this._writeNetworkFeatures(this.pointBarriers,this.defaultSymbols.pointBarriers,"esriGeometryPoint",fe.fields,"Barriers","Point Barriers")}_writePolygonBarriers(){return this._writeNetworkFeatures(this.polygonBarriers,this.defaultSymbols.polygonBarriers,"esriGeometryPolygon",he.fields,"PolygonBarriers","Polygon Barriers")}_writePolylineBarriers(){return this._writeNetworkFeatures(this.polylineBarriers,this.defaultSymbols.polylineBarriers,"esriGeometryPolyline",ve.fields,"PolylineBarriers","Line Barriers")}_writeRouteInfo(){return this._writeNetworkFeatures(this.routeInfo!=null?new x([this.routeInfo]):null,this.defaultSymbols.routeInfo,"esriGeometryPolyline",Ee.fields,"RouteInfo","Route Details")}_writeStops(){var a,l,p;const e=this._writeNetworkFeatures(this.stops,null,"esriGeometryPoint",ge.fields,"Stops","Stops");if(e==null)return null;const{stops:r}=this.defaultSymbols,i=(a=r==null?void 0:r.first)==null?void 0:a.toJSON(),s=(l=r==null?void 0:r.middle)==null?void 0:l.toJSON(),n=(p=r==null?void 0:r.last)==null?void 0:p.toJSON();return e.layerDefinition.drawingInfo.renderer={type:"uniqueValue",field1:"Sequence",defaultSymbol:s,uniqueValueInfos:[{value:"1",symbol:i,label:"First Stop"},{value:`${this.stops.length}`,symbol:n,label:"Last Stop"}]},e}};t([o({readOnly:!0,json:{read:!1,origins:{"portal-item":{write:{allowNull:!0,ignoreOrigin:!0}},"web-map":{write:{overridePolicy(){return{allowNull:!0,ignoreOrigin:this.portalItem==null}}}}}}})],T.prototype,"_featureCollection",void 0),t([Y(["web-map","portal-item"],"_featureCollection")],T.prototype,"writeFeatureCollectionWebmap",null),t([o({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{target:"type",overridePolicy(){return{ignoreOrigin:this.portalItem!=null}}}}}}})],T.prototype,"_type",void 0),t([o({nonNullable:!0,type:Tt})],T.prototype,"defaultSymbols",void 0),t([o({readOnly:!0})],T.prototype,"directionLines",void 0),t([O(["web-map","portal-item"],"directionLines",["layers","featureCollection.layers"])],T.prototype,"readDirectionLines",null),t([o({readOnly:!0})],T.prototype,"directionPoints",void 0),t([O(["web-map","portal-item"],"directionPoints",["layers","featureCollection.layers"])],T.prototype,"readDirectionPoints",null),t([o({readOnly:!0,json:{read:!1,origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],T.prototype,"featureCollectionType",void 0),t([o({readOnly:!0})],T.prototype,"fullExtent",null),t([o({json:{origins:{"web-map":{name:"featureCollection.showLegend"}},write:!0}})],T.prototype,"legendEnabled",void 0),t([o({type:["show","hide"]})],T.prototype,"listMode",void 0),t([o({type:Number,nonNullable:!0,json:{write:!1}})],T.prototype,"maxScale",void 0),t([O(["web-map","portal-item"],"maxScale",["layers","featureCollection.layers"])],T.prototype,"readMaxScale",null),t([o({type:Number,nonNullable:!0,json:{write:!1}})],T.prototype,"minScale",void 0),t([O(["web-map","portal-item"],"minScale",["layers","featureCollection.layers"])],T.prototype,"readMinScale",null),t([o({type:["ArcGISFeatureLayer"],value:"ArcGISFeatureLayer"})],T.prototype,"operationalLayerType",void 0),t([o({nonNullable:!0,type:x.ofType(fe)})],T.prototype,"pointBarriers",void 0),t([O(["web-map","portal-item"],"pointBarriers",["layers","featureCollection.layers"])],T.prototype,"readPointBarriers",null),t([o({nonNullable:!0,type:x.ofType(he)})],T.prototype,"polygonBarriers",void 0),t([O(["web-map","portal-item"],"polygonBarriers",["layers","featureCollection.layers"])],T.prototype,"readPolygonBarriers",null),t([o({nonNullable:!0,type:x.ofType(ve)})],T.prototype,"polylineBarriers",void 0),t([O(["web-map","portal-item"],"polylineBarriers",["layers","featureCollection.layers"])],T.prototype,"readPolylineBarriers",null),t([o({readOnly:!0})],T.prototype,"routeInfo",void 0),t([O(["web-map","portal-item"],"routeInfo",["layers","featureCollection.layers"])],T.prototype,"readRouteInfo",null),t([o({type:Q})],T.prototype,"spatialReference",void 0),t([O(["web-map","portal-item"],"spatialReference",["layers","featureCollection.layers"])],T.prototype,"readSpatialReference",null),t([o({nonNullable:!0,type:x.ofType(ge)})],T.prototype,"stops",void 0),t([O(["web-map","portal-item"],"stops",["layers","featureCollection.layers"])],T.prototype,"readStops",null),t([o()],T.prototype,"title",null),t([o({readOnly:!0,json:{read:!1}})],T.prototype,"type",void 0),t([o()],T.prototype,"url",null),T=t([B(Bt)],T);const bo=T,pi=Object.freeze(Object.defineProperty({__proto__:null,default:bo},Symbol.toStringTag,{value:"Module"}));export{Zo as O,pi as R};

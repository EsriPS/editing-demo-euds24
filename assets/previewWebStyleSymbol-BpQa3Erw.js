import{aR as a,bp as s}from"./index-C1aGfQcb.js";import{t as l}from"./symbolUtils-BmmDXP-E.js";import{N as u}from"./utils-C2gvZghy.js";import"./colorUtils-BWiljOUv.js";import"./vec42-BHDxGccW.js";import"./vec4f64-o2zAXfmz.js";import"./mat2df32-BR-p9z6z.js";import"./webStyleSymbolUtils-kO7zmqzd.js";import"./jsonUtils-BWWcP_yB.js";import"./defaults-Dbnhuv3C.js";import"./defaultsJSON-GKolV7NZ.js";import"./styleUtils-CEgUrR2a.js";import"./jsonUtils-n3e_wlfQ.js";import"./parser-C4Qiz3JH.js";import"./utils-sqJe3zMg.js";import"./utils-D7agaEG-.js";import"./enums-CmIX1y88.js";import"./LRUCache-DbPTy7LA.js";function j(i,t,o){var r;const p=(r=i.thumbnail)==null?void 0:r.url;return p?a(p,{responseType:"image"}).then(m=>{const e=d(m.data,o);return o!=null&&o.node?(o.node.appendChild(e),o.node):e}):u(i).then(m=>m?t(m,o):null)}function d(i,t){const o=!/\\.svg$/i.test(i.src)&&(t==null?void 0:t.disableUpsampling),p=Math.max(i.width,i.height);let r=(t==null?void 0:t.maxSize)!=null?s(t.maxSize):l.maxSize;o&&(r=Math.min(p,r));const m=typeof(t==null?void 0:t.size)=="number"?t==null?void 0:t.size:null,e=Math.min(r,m!=null?s(m):p);if(e!==p){const h=i.width!==0&&i.height!==0?i.width/i.height:1;h>=1?(i.width=e,i.height=e/h):(i.width=e*h,i.height=e)}return i}export{j as previewWebStyleSymbol};

import{iA as m,aF as B,iB as _,aR as b,aQ as g,aH as S,aO as h,dr as $,iC as w,iD as I,iE as j,dN as A}from"./index-C1aGfQcb.js";import{l as R,i as O}from"./Indices-NXfq_dEG.js";import{E as l}from"./enums-Dk3osxpS.js";let V=class{constructor(t){this._streamDataRequester=t}async loadJSON(t,a){return this._load("json",t,a)}async loadBinary(t,a){return m(t)?(B(a),_(t)):this._load("binary",t,a)}async loadImage(t,a){return this._load("image",t,a)}async _load(t,a,o){if(this._streamDataRequester==null)return(await b(a,{responseType:T[t]})).data;const n=await g(this._streamDataRequester.request(a,t,o));if(n.ok===!0)return n.value;throw S(n.error),new h("glt-loader-request-error",`Request for resource failed: ${n.error}`)}};const T={image:"image",binary:"array-buffer",json:"json","image+type":void 0};function q(e,t){d(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function d(e,t,a=3,o=a){const n=t.length/o;let r=0,f=0;for(let u=0;u<n;++u)e[r]=t[f],e[r+1]=t[f+1],e[r+2]=t[f+2],r+=a,f+=o}function x(e,t,a,o,n){const r=e.typedBuffer,f=e.typedBufferStride,u=(n==null?void 0:n.count)??e.count;let i=((n==null?void 0:n.dstIndex)??0)*f;for(let s=0;s<u;++s)r[i]=t,r[i+1]=a,r[i+2]=o,i+=f}Object.freeze(Object.defineProperty({__proto__:null,copy:d,copyView:q,fill:x},Symbol.toStringTag,{value:"Module"}));function N(e,t){y(e.typedBuffer,t.typedBuffer,e.typedBufferStride,t.typedBufferStride)}function y(e,t,a=2,o=a){const n=t.length/2;let r=0,f=0;if($(t)||w(t)){for(let i=0;i<n;++i)e[r]=t[f],e[r+1]=t[f+1],r+=a,f+=o;return}const u=I(t);if(j(t))for(let i=0;i<n;++i)e[r]=Math.max(t[f]/u,-1),e[r+1]=Math.max(t[f+1]/u,-1),r+=a,f+=o;else for(let i=0;i<n;++i)e[r]=t[f]/u,e[r+1]=t[f+1]/u,r+=a,f+=o}function v(e,t,a,o){const n=e.typedBuffer,r=e.typedBufferStride,f=(o==null?void 0:o.count)??e.count;let u=((o==null?void 0:o.dstIndex)??0)*r;for(let i=0;i<f;++i)n[u]=t,n[u+1]=a,u+=r}Object.freeze(Object.defineProperty({__proto__:null,fill:v,normalizeIntegerBuffer:y,normalizeIntegerBufferView:N},Symbol.toStringTag,{value:"Module"}));function z(e,t){p(e.typedBuffer,t,e.typedBufferStride)}function p(e,t,a=4){const o=t.typedBuffer,n=t.typedBufferStride,r=t.count;let f=0,u=0;for(let i=0;i<r;++i)e[f]=o[u],e[f+1]=o[u+1],e[f+2]=o[u+2],e[f+3]=o[u+3],f+=a,u+=n}function E(e,t,a,o,n,r){const f=e.typedBuffer,u=e.typedBufferStride,i=(r==null?void 0:r.count)??e.count;let s=((r==null?void 0:r.dstIndex)??0)*u;for(let c=0;c<i;++c)f[s]=t,f[s+1]=a,f[s+2]=o,f[s+3]=n,s+=u}Object.freeze(Object.defineProperty({__proto__:null,copy:p,copyView:z,fill:E},Symbol.toStringTag,{value:"Module"}));function k(e,t){switch(t){case l.TRIANGLES:return M(e);case l.TRIANGLE_STRIP:return U(e);case l.TRIANGLE_FAN:return D(e)}}function M(e){return typeof e=="number"?R(e):A(e)?new Uint16Array(e):e}function U(e){const t=typeof e=="number"?e:e.length;if(t<3)return[];const a=t-2,o=O(3*a);if(typeof e=="number"){let n=0;for(let r=0;r<a;r+=1)r%2==0?(o[n++]=r,o[n++]=r+1,o[n++]=r+2):(o[n++]=r+1,o[n++]=r,o[n++]=r+2)}else{let n=0;for(let r=0;r<a;r+=1)r%2==0?(o[n++]=e[r],o[n++]=e[r+1],o[n++]=e[r+2]):(o[n++]=e[r+1],o[n++]=e[r],o[n++]=e[r+2])}return o}function D(e){const t=typeof e=="number"?e:e.length;if(t<3)return new Uint16Array(0);const a=t-2,o=a<=65536?new Uint16Array(3*a):new Uint32Array(3*a);if(typeof e=="number"){let u=0;for(let i=0;i<a;++i)o[u++]=0,o[u++]=i+1,o[u++]=i+2;return o}const n=e[0];let r=e[1],f=0;for(let u=0;u<a;++u){const i=e[u+2];o[f++]=n,o[f++]=r,o[f++]=i,r=i}return o}const C=2.1;export{k as a,y as b,d as c,E as d,N as e,x as f,z as g,q as h,v as l,V as n,C as o,p as t};
